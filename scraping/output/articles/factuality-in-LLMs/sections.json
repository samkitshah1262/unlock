[
  {
    "id": "ai-factuality-in-LLMs-short-form-factuality-1",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Taxonomy of Factuality",
    "title": "Short-Form Factuality",
    "order": 1,
    "orderInChapter": 1,
    "contentHtml": "<ul>\n  <li>\n    <p>Short-form factuality concerns the correctness of concise, atomic responses—typically to single factual questions. It is among the easiest to verify because only one core fact is asserted.</p>\n  </li>\n  <li><strong>Definition</strong>:\n    <ul>\n      <li>Let <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-6-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-32\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-33\"><span class=\"mi\" id=\"MathJax-Span-34\" style=\"font-family: STIXGeneral-Italic;\">x<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>x</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-6\">x</script> be a prompt (e.g. a fact-seeking question) and <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-7-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-35\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-36\"><span class=\"mi\" id=\"MathJax-Span-37\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-7\">y</script> be the model’s output, containing exactly one factual claim. Then</li>\n    </ul>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\" style=\"text-align: center;\"><span class=\"MathJax\" id=\"MathJax-Element-8-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>short</mtext></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow><mo>{</mo><mtable columnalign=&quot;left left&quot; rowspacing=&quot;.2em&quot; columnspacing=&quot;1em&quot; displaystyle=&quot;false&quot;><mtr><mtd><mn>1</mn><mo>,</mo></mtd><mtd><mtext>if&amp;#xA0;</mtext><mi>y</mi><mtext>&amp;#xA0;exactly matches the correct, verifiable answer</mtext><mo>,</mo></mtd></mtr><mtr><mtd><mn>0</mn><mo>,</mo></mtd><mtd><mtext>otherwise</mtext></mtd></mtr></mtable><mo fence=&quot;true&quot; stretchy=&quot;true&quot; symmetric=&quot;true&quot;></mo></mrow></math>\" role=\"presentation\" style=\"text-align: center; position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-38\" style=\"width: 34.273em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 28.544em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(2.294em, 1028.54em, 4.846em, -999.997em); top: -3.799em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-39\"><span class=\"msubsup\" id=\"MathJax-Span-40\"><span style=\"display: inline-block; position: relative; width: 2.086em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-41\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-42\"><span class=\"mrow\" id=\"MathJax-Span-43\"><span class=\"mtext\" id=\"MathJax-Span-44\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">short</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-45\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-46\" style=\"font-family: STIXGeneral-Italic;\">x<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-47\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mi\" id=\"MathJax-Span-48\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.211em;\">y</span><span class=\"mo\" id=\"MathJax-Span-49\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-50\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mrow\" id=\"MathJax-Span-51\" style=\"padding-left: 0.315em;\"><span class=\"mo\" id=\"MathJax-Span-52\" style=\"vertical-align: -0.466em;\"><span><span style=\"font-size: 111%; font-family: STIXSizeTwoSym;\">{</span></span></span><span class=\"mtable\" id=\"MathJax-Span-53\" style=\"padding-right: 0.159em; padding-left: 0.159em;\"><span style=\"display: inline-block; position: relative; width: 22.034em; height: 0px;\"><span style=\"position: absolute; clip: rect(2.607em, 1000.68em, 5.003em, -999.997em); top: -4.008em; left: 0em;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.68em, 4.326em, -999.997em); top: -4.581em; left: 0em;\"><span class=\"mtd\" id=\"MathJax-Span-54\"><span class=\"mrow\" id=\"MathJax-Span-55\"><span class=\"mn\" id=\"MathJax-Span-56\" style=\"font-family: STIXGeneral-Regular;\">1</span><span class=\"mo\" id=\"MathJax-Span-57\" style=\"font-family: STIXGeneral-Regular;\">,</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1000.68em, 4.326em, -999.997em); top: -3.331em; left: 0em;\"><span class=\"mtd\" id=\"MathJax-Span-64\"><span class=\"mrow\" id=\"MathJax-Span-65\"><span class=\"mn\" id=\"MathJax-Span-66\" style=\"font-family: STIXGeneral-Regular;\">0</span><span class=\"mo\" id=\"MathJax-Span-67\" style=\"font-family: STIXGeneral-Regular;\">,</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(2.607em, 1020.05em, 4.846em, -999.997em); top: -4.008em; left: 1.878em;\"><span style=\"display: inline-block; position: relative; width: 20.159em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1020.05em, 4.378em, -999.997em); top: -4.581em; left: 0em;\"><span class=\"mtd\" id=\"MathJax-Span-58\"><span class=\"mrow\" id=\"MathJax-Span-59\"><span class=\"mtext\" id=\"MathJax-Span-60\" style=\"font-family: STIXGeneral-Regular;\">if&nbsp;</span><span class=\"mi\" id=\"MathJax-Span-61\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mtext\" id=\"MathJax-Span-62\" style=\"font-family: STIXGeneral-Regular;\">&nbsp;exactly matches the correct, verifiable answer</span><span class=\"mo\" id=\"MathJax-Span-63\" style=\"font-family: STIXGeneral-Regular;\">,</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1003.86em, 4.169em, -999.997em); top: -3.331em; left: 0em;\"><span class=\"mtd\" id=\"MathJax-Span-68\"><span class=\"mrow\" id=\"MathJax-Span-69\"><span class=\"mtext\" id=\"MathJax-Span-70\" style=\"font-family: STIXGeneral-Regular;\">otherwise</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-71\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 3.805em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -1.122em; border-left: 0px solid; width: 0px; height: 2.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>short</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>x</mi><mo>,</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mrow><mo>{</mo><mtable columnalign=\"left left\" rowspacing=\".2em\" columnspacing=\"1em\" displaystyle=\"false\"><mtr><mtd><mn>1</mn><mo>,</mo></mtd><mtd><mtext>if&nbsp;</mtext><mi>y</mi><mtext>&nbsp;exactly matches the correct, verifiable answer</mtext><mo>,</mo></mtd></mtr><mtr><mtd><mn>0</mn><mo>,</mo></mtd><mtd><mtext>otherwise</mtext></mtd></mtr></mtable><mo fence=\"true\" stretchy=\"true\" symmetric=\"true\"></mo></mrow></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-8\">F_{\\text{short}}(x, y) =\n\\begin{cases}\n1, & \\text{if } y \\text{ exactly matches the correct, verifiable answer}, \\\\\n0, & \\text{otherwise}\n\\end{cases}</script>\n\n    <ul>\n      <li>Because only one atomic fact is in <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-9-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-72\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-73\"><span class=\"mi\" id=\"MathJax-Span-74\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-9\">y</script>, no further decomposition is needed.</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Key Properties &amp; Challenges</strong>:</p>\n\n    <ul>\n      <li><strong>Single-answer scope:</strong> The question is designed so that there is exactly one indisputable correct answer, reducing ambiguity or alternate valid phrasings.</li>\n      <li><strong>Objective verification:</strong> The answer can (in principle) be matched against authoritative sources (e.g. Wikipedia, knowledge graphs, academic references).</li>\n      <li><strong>Automatable grading:</strong> Because there is only one fact per output, correctness can be adjudicated via exact match or normalized matching heuristics.</li>\n      <li><strong>Calibration &amp; abstention:</strong> A desirable model should not only answer when confident but also abstain when uncertain. Short-form setups allow one to test whether a model “knows what it knows.”</li>\n      <li>Domain shift and compositional limitations: Success in short-form factuality does not automatically generalize to more complex or multi-step tasks.</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Representative Benchmarks &amp; Methods</strong>:</p>\n\n    <ul>\n      <li><em>SimpleQA</em> by <a href=\"https://arxiv.org/abs/2411.04368\">Wei et al. (2024)</a> introduces a benchmark of 4,326 short, fact-seeking questions. Each question has exactly one indisputable answer, and responses are graded as correct, incorrect, or not attempted.</li>\n      <li><em>TruthfulQA</em> by <a href=\"https://arxiv.org/abs/2109.07958\">Lin et al. (2021)</a> tests whether LLMs reproduce human misconceptions or common falsehoods rather than factual truth.</li>\n      <li><em>HaluEval</em> by <a href=\"https://aclanthology.org/2023.emnlp-main.397/\">Li et al. (2023)</a> is a large-scale benchmark of hallucination detection and factual errors in short outputs.</li>\n      <li><em>FreshQA</em> by <a href=\"https://arxiv.org/abs/2310.03214\">Vu et al., (2023)</a> evaluates models’ ability to answer time-sensitive factual questions, probing whether models keep up with changing world knowledge.</li>\n      <li><em>Chinese SimpleQA</em> by <a href=\"https://aclanthology.org/2025.acl-long.941.pdf\">He et al. (2025)</a> adapts the short-form factuality paradigm to Chinese, following the SimpleQA design.</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Evaluation Metrics</strong>:</p>\n\n    <ul>\n      <li>\n        <p><strong>Correct / Incorrect / Not Attempted:</strong> Each question receives one of these labels. The “not attempted” label allows models to abstain.</p>\n      </li>\n      <li>\n        <p><strong>Overall factual score:</strong></p>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\" style=\"text-align: center;\"><span class=\"MathJax\" id=\"MathJax-Element-10-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>F</mi><mo>=</mo><mfrac><mtext># correct answers</mtext><mtext># total answers</mtext></mfrac></math>\" role=\"presentation\" style=\"text-align: center; position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-75\" style=\"width: 11.044em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 9.169em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(0.68em, 1009.17em, 3.023em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-76\"><span class=\"mi\" id=\"MathJax-Span-77\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-78\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-79\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 7.138em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.18em, 1006.98em, 4.169em, -999.997em); top: -4.685em; left: 50%; margin-left: -3.487em;\"><span class=\"mtext\" id=\"MathJax-Span-80\" style=\"font-family: STIXGeneral-Regular;\"># correct answers</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1005.94em, 4.169em, -999.997em); top: -3.331em; left: 50%; margin-left: -3.018em;\"><span class=\"mtext\" id=\"MathJax-Span-81\" style=\"font-family: STIXGeneral-Regular;\"># total answers</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1007.14em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 7.138em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.872em; border-left: 0px solid; width: 0px; height: 2.566em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mi>F</mi><mo>=</mo><mfrac><mtext># correct answers</mtext><mtext># total answers</mtext></mfrac></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-10\">F = \\frac{\\text{# correct answers}}{\\text{# total answers}}</script>\n      </li>\n      <li><strong>Precision / Recall / F-score on attempted answers:</strong>\n        <ul>\n          <li>Let <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-11-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>P</mi><mo>=</mo><mfrac><mtext># correct answers</mtext><mtext># attempted answers</mtext></mfrac></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-82\" style=\"width: 9.482em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 7.867em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.148em, 1007.87em, 2.867em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-83\"><span class=\"mi\" id=\"MathJax-Span-84\" style=\"font-family: STIXGeneral-Italic;\">P</span><span class=\"mo\" id=\"MathJax-Span-85\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-86\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 5.888em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1004.9em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -2.445em;\"><span class=\"mtext\" id=\"MathJax-Span-87\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\"># correct answers</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1005.73em, 4.326em, -999.997em); top: -3.643em; left: 50%; margin-left: -2.862em;\"><span class=\"mtext\" id=\"MathJax-Span-88\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\"># attempted answers</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1005.89em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 5.888em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.684em; border-left: 0px solid; width: 0px; height: 1.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>P</mi><mo>=</mo><mfrac><mtext># correct answers</mtext><mtext># attempted answers</mtext></mfrac></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-11\">P = \\frac{\\text{# correct answers}}{\\text{# attempted answers}}</script> and <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-12-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi><mo>=</mo><mfrac><mtext># correct answers</mtext><mtext># total answers</mtext></mfrac></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-89\" style=\"width: 8.596em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 7.138em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.148em, 1007.14em, 2.763em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-90\"><span class=\"mi\" id=\"MathJax-Span-91\" style=\"font-family: STIXGeneral-Italic;\">R</span><span class=\"mo\" id=\"MathJax-Span-92\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-93\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 5.055em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1004.9em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -2.445em;\"><span class=\"mtext\" id=\"MathJax-Span-94\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\"># correct answers</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1004.22em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -2.133em;\"><span class=\"mtext\" id=\"MathJax-Span-95\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\"># total answers</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1005.05em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 5.055em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.559em; border-left: 0px solid; width: 0px; height: 1.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>R</mi><mo>=</mo><mfrac><mtext># correct answers</mtext><mtext># total answers</mtext></mfrac></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-12\">R = \\frac{\\text{# correct answers}}{\\text{# total answers}}</script>. Then:</li>\n        </ul>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\" style=\"text-align: center;\"><span class=\"MathJax\" id=\"MathJax-Element-13-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>score</mtext></mrow></msub><mo>=</mo><mfrac><mrow><mn>2</mn><mi>P</mi><mi>R</mi></mrow><mrow><mi>P</mi><mo>+</mo><mi>R</mi></mrow></mfrac></math>\" role=\"presentation\" style=\"text-align: center; position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-96\" style=\"width: 7.398em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 6.148em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(0.68em, 1006.15em, 3.076em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-97\"><span class=\"msubsup\" id=\"MathJax-Span-98\"><span style=\"display: inline-block; position: relative; width: 2.19em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-99\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-100\"><span class=\"mrow\" id=\"MathJax-Span-101\"><span class=\"mtext\" id=\"MathJax-Span-102\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">score</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-103\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-104\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 2.555em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.18em, 1001.72em, 4.169em, -999.997em); top: -4.685em; left: 50%; margin-left: -0.883em;\"><span class=\"mrow\" id=\"MathJax-Span-105\"><span class=\"mn\" id=\"MathJax-Span-106\" style=\"font-family: STIXGeneral-Regular;\">2</span><span class=\"mi\" id=\"MathJax-Span-107\" style=\"font-family: STIXGeneral-Italic;\">P</span><span class=\"mi\" id=\"MathJax-Span-108\" style=\"font-family: STIXGeneral-Italic;\">R</span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1002.4em, 4.221em, -999.997em); top: -3.331em; left: 50%; margin-left: -1.195em;\"><span class=\"mrow\" id=\"MathJax-Span-109\"><span class=\"mi\" id=\"MathJax-Span-110\" style=\"font-family: STIXGeneral-Italic;\">P</span><span class=\"mo\" id=\"MathJax-Span-111\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"mi\" id=\"MathJax-Span-112\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.263em;\">R</span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1002.55em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 2.555em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.934em; border-left: 0px solid; width: 0px; height: 2.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>score</mtext></mrow></msub><mo>=</mo><mfrac><mrow><mn>2</mn><mi>P</mi><mi>R</mi></mrow><mrow><mi>P</mi><mo>+</mo><mi>R</mi></mrow></mfrac></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-13\">F_{\\text{score}} = \\frac{2 P R}{P + R}</script>\n\n        <ul>\n          <li>This balances correctness when attempting with abstention behavior.</li>\n        </ul>\n      </li>\n      <li><strong>Calibration / Expected Calibration Error (ECE) / Reliability curves:</strong> We assess whether the model’s confidence estimates correlate with actual correctness, which is vital for decision-making and abstention strategies.</li>\n    </ul>\n  </li>\n</ul>\n<p>Short-form factuality concerns the correctness of concise, atomic responses—typically to single factual questions. It is among the easiest to verify because only one core fact is asserted.</p>\n<ul>\n      <li>Let <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-6-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-32\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-33\"><span class=\"mi\" id=\"MathJax-Span-34\" style=\"font-family: STIXGeneral-Italic;\">x<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>x</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-6\">x</script> be a prompt (e.g. a fact-seeking question) and <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-7-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-35\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-36\"><span class=\"mi\" id=\"MathJax-Span-37\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-7\">y</script> be the model’s output, containing exactly one factual claim. Then</li>\n    </ul>\n<ul>\n      <li>Because only one atomic fact is in <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-9-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-72\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-73\"><span class=\"mi\" id=\"MathJax-Span-74\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-9\">y</script>, no further decomposition is needed.</li>\n    </ul>\n<p><strong>Key Properties &amp; Challenges</strong>:</p>\n<ul>\n      <li><strong>Single-answer scope:</strong> The question is designed so that there is exactly one indisputable correct answer, reducing ambiguity or alternate valid phrasings.</li>\n      <li><strong>Objective verification:</strong> The answer can (in principle) be matched against authoritative sources (e.g. Wikipedia, knowledge graphs, academic references).</li>\n      <li><strong>Automatable grading:</strong> Because there is only one fact per output, correctness can be adjudicated via exact match or normalized matching heuristics.</li>\n      <li><strong>Calibration &amp; abstention:</strong> A desirable model should not only answer when confident but also abstain when uncertain. Short-form setups allow one to test whether a model “knows what it knows.”</li>\n      <li>Domain shift and compositional limitations: Success in short-form factuality does not automatically generalize to more complex or multi-step tasks.</li>\n    </ul>\n<p><strong>Representative Benchmarks &amp; Methods</strong>:</p>\n<ul>\n      <li><em>SimpleQA</em> by <a href=\"https://arxiv.org/abs/2411.04368\">Wei et al. (2024)</a> introduces a benchmark of 4,326 short, fact-seeking questions. Each question has exactly one indisputable answer, and responses are graded as correct, incorrect, or not attempted.</li>\n      <li><em>TruthfulQA</em> by <a href=\"https://arxiv.org/abs/2109.07958\">Lin et al. (2021)</a> tests whether LLMs reproduce human misconceptions or common falsehoods rather than factual truth.</li>\n      <li><em>HaluEval</em> by <a href=\"https://aclanthology.org/2023.emnlp-main.397/\">Li et al. (2023)</a> is a large-scale benchmark of hallucination detection and factual errors in short outputs.</li>\n      <li><em>FreshQA</em> by <a href=\"https://arxiv.org/abs/2310.03214\">Vu et al., (2023)</a> evaluates models’ ability to answer time-sensitive factual questions, probing whether models keep up with changing world knowledge.</li>\n      <li><em>Chinese SimpleQA</em> by <a href=\"https://aclanthology.org/2025.acl-long.941.pdf\">He et al. (2025)</a> adapts the short-form factuality paradigm to Chinese, following the SimpleQA design.</li>\n    </ul>\n<p><strong>Evaluation Metrics</strong>:</p>\n<ul>\n      <li>\n        <p><strong>Correct / Incorrect / Not Attempted:</strong> Each question receives one of these labels. The “not attempted” label allows models to abstain.</p>\n      </li>\n      <li>\n        <p><strong>Overall factual score:</strong></p>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\" style=\"text-align: center;\"><span class=\"MathJax\" id=\"MathJax-Element-10-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>F</mi><mo>=</mo><mfrac><mtext># correct answers</mtext><mtext># total answers</mtext></mfrac></math>\" role=\"presentation\" style=\"text-align: center; position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-75\" style=\"width: 11.044em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 9.169em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(0.68em, 1009.17em, 3.023em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-76\"><span class=\"mi\" id=\"MathJax-Span-77\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-78\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-79\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 7.138em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.18em, 1006.98em, 4.169em, -999.997em); top: -4.685em; left: 50%; margin-left: -3.487em;\"><span class=\"mtext\" id=\"MathJax-Span-80\" style=\"font-family: STIXGeneral-Regular;\"># correct answers</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1005.94em, 4.169em, -999.997em); top: -3.331em; left: 50%; margin-left: -3.018em;\"><span class=\"mtext\" id=\"MathJax-Span-81\" style=\"font-family: STIXGeneral-Regular;\"># total answers</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1007.14em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 7.138em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.872em; border-left: 0px solid; width: 0px; height: 2.566em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mi>F</mi><mo>=</mo><mfrac><mtext># correct answers</mtext><mtext># total answers</mtext></mfrac></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-10\">F = \\frac{\\text{# correct answers}}{\\text{# total answers}}</script>\n      </li>\n      <li><strong>Precision / Recall / F-score on attempted answers:</strong>\n        <ul>\n          <li>Let <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-11-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>P</mi><mo>=</mo><mfrac><mtext># correct answers</mtext><mtext># attempted answers</mtext></mfrac></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-82\" style=\"width: 9.482em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 7.867em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.148em, 1007.87em, 2.867em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-83\"><span class=\"mi\" id=\"MathJax-Span-84\" style=\"font-family: STIXGeneral-Italic;\">P</span><span class=\"mo\" id=\"MathJax-Span-85\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-86\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 5.888em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1004.9em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -2.445em;\"><span class=\"mtext\" id=\"MathJax-Span-87\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\"># correct answers</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1005.73em, 4.326em, -999.997em); top: -3.643em; left: 50%; margin-left: -2.862em;\"><span class=\"mtext\" id=\"MathJax-Span-88\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\"># attempted answers</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1005.89em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 5.888em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.684em; border-left: 0px solid; width: 0px; height: 1.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>P</mi><mo>=</mo><mfrac><mtext># correct answers</mtext><mtext># attempted answers</mtext></mfrac></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-11\">P = \\frac{\\text{# correct answers}}{\\text{# attempted answers}}</script> and <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-12-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi><mo>=</mo><mfrac><mtext># correct answers</mtext><mtext># total answers</mtext></mfrac></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-89\" style=\"width: 8.596em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 7.138em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.148em, 1007.14em, 2.763em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-90\"><span class=\"mi\" id=\"MathJax-Span-91\" style=\"font-family: STIXGeneral-Italic;\">R</span><span class=\"mo\" id=\"MathJax-Span-92\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-93\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 5.055em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1004.9em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -2.445em;\"><span class=\"mtext\" id=\"MathJax-Span-94\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\"># correct answers</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1004.22em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -2.133em;\"><span class=\"mtext\" id=\"MathJax-Span-95\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\"># total answers</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1005.05em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 5.055em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.559em; border-left: 0px solid; width: 0px; height: 1.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>R</mi><mo>=</mo><mfrac><mtext># correct answers</mtext><mtext># total answers</mtext></mfrac></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-12\">R = \\frac{\\text{# correct answers}}{\\text{# total answers}}</script>. Then:</li>\n        </ul>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\" style=\"text-align: center;\"><span class=\"MathJax\" id=\"MathJax-Element-13-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>score</mtext></mrow></msub><mo>=</mo><mfrac><mrow><mn>2</mn><mi>P</mi><mi>R</mi></mrow><mrow><mi>P</mi><mo>+</mo><mi>R</mi></mrow></mfrac></math>\" role=\"presentation\" style=\"text-align: center; position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-96\" style=\"width: 7.398em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 6.148em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(0.68em, 1006.15em, 3.076em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-97\"><span class=\"msubsup\" id=\"MathJax-Span-98\"><span style=\"display: inline-block; position: relative; width: 2.19em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-99\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-100\"><span class=\"mrow\" id=\"MathJax-Span-101\"><span class=\"mtext\" id=\"MathJax-Span-102\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">score</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-103\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-104\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 2.555em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.18em, 1001.72em, 4.169em, -999.997em); top: -4.685em; left: 50%; margin-left: -0.883em;\"><span class=\"mrow\" id=\"MathJax-Span-105\"><span class=\"mn\" id=\"MathJax-Span-106\" style=\"font-family: STIXGeneral-Regular;\">2</span><span class=\"mi\" id=\"MathJax-Span-107\" style=\"font-family: STIXGeneral-Italic;\">P</span><span class=\"mi\" id=\"MathJax-Span-108\" style=\"font-family: STIXGeneral-Italic;\">R</span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1002.4em, 4.221em, -999.997em); top: -3.331em; left: 50%; margin-left: -1.195em;\"><span class=\"mrow\" id=\"MathJax-Span-109\"><span class=\"mi\" id=\"MathJax-Span-110\" style=\"font-family: STIXGeneral-Italic;\">P</span><span class=\"mo\" id=\"MathJax-Span-111\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"mi\" id=\"MathJax-Span-112\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.263em;\">R</span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1002.55em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 2.555em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.934em; border-left: 0px solid; width: 0px; height: 2.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>score</mtext></mrow></msub><mo>=</mo><mfrac><mrow><mn>2</mn><mi>P</mi><mi>R</mi></mrow><mrow><mi>P</mi><mo>+</mo><mi>R</mi></mrow></mfrac></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-13\">F_{\\text{score}} = \\frac{2 P R}{P + R}</script>\n\n        <ul>\n          <li>This balances correctness when attempting with abstention behavior.</li>\n        </ul>\n      </li>\n      <li><strong>Calibration / Expected Calibration Error (ECE) / Reliability curves:</strong> We assess whether the model’s confidence estimates correlate with actual correctness, which is vital for decision-making and abstention strategies.</li>\n    </ul>\n<p><strong>Correct / Incorrect / Not Attempted:</strong> Each question receives one of these labels. The “not attempted” label allows models to abstain.</p>\n<p><strong>Overall factual score:</strong></p>\n<ul>\n          <li>Let <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-11-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>P</mi><mo>=</mo><mfrac><mtext># correct answers</mtext><mtext># attempted answers</mtext></mfrac></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-82\" style=\"width: 9.482em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 7.867em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.148em, 1007.87em, 2.867em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-83\"><span class=\"mi\" id=\"MathJax-Span-84\" style=\"font-family: STIXGeneral-Italic;\">P</span><span class=\"mo\" id=\"MathJax-Span-85\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-86\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 5.888em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1004.9em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -2.445em;\"><span class=\"mtext\" id=\"MathJax-Span-87\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\"># correct answers</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1005.73em, 4.326em, -999.997em); top: -3.643em; left: 50%; margin-left: -2.862em;\"><span class=\"mtext\" id=\"MathJax-Span-88\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\"># attempted answers</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1005.89em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 5.888em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.684em; border-left: 0px solid; width: 0px; height: 1.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>P</mi><mo>=</mo><mfrac><mtext># correct answers</mtext><mtext># attempted answers</mtext></mfrac></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-11\">P = \\frac{\\text{# correct answers}}{\\text{# attempted answers}}</script> and <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-12-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi><mo>=</mo><mfrac><mtext># correct answers</mtext><mtext># total answers</mtext></mfrac></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-89\" style=\"width: 8.596em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 7.138em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.148em, 1007.14em, 2.763em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-90\"><span class=\"mi\" id=\"MathJax-Span-91\" style=\"font-family: STIXGeneral-Italic;\">R</span><span class=\"mo\" id=\"MathJax-Span-92\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-93\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 5.055em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1004.9em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -2.445em;\"><span class=\"mtext\" id=\"MathJax-Span-94\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\"># correct answers</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1004.22em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -2.133em;\"><span class=\"mtext\" id=\"MathJax-Span-95\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\"># total answers</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1005.05em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 5.055em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.559em; border-left: 0px solid; width: 0px; height: 1.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>R</mi><mo>=</mo><mfrac><mtext># correct answers</mtext><mtext># total answers</mtext></mfrac></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-12\">R = \\frac{\\text{# correct answers}}{\\text{# total answers}}</script>. Then:</li>\n        </ul>\n<ul>\n          <li>This balances correctness when attempting with abstention behavior.</li>\n        </ul>",
    "contentMarkdown": "*   Short-form factuality concerns the correctness of concise, atomic responses—typically to single factual questions. It is among the easiest to verify because only one core fact is asserted.\n    \n*   **Definition**:\n    \n    *   Let xxx be a prompt (e.g. a fact-seeking question) and yyy be the model’s output, containing exactly one factual claim. Then\n    \n    Fshort(x,y)\\={1,0,if y exactly matches the correct, verifiable answer,otherwiseFshort(x,y)\\={1,if y exactly matches the correct, verifiable answer,0,otherwise\n    \n    F\\_{\\\\text{short}}(x, y) = \\\\begin{cases} 1, & \\\\text{if } y \\\\text{ exactly matches the correct, verifiable answer}, \\\\\\\\ 0, & \\\\text{otherwise} \\\\end{cases}\n    *   Because only one atomic fact is in yyy, no further decomposition is needed.\n*   **Key Properties & Challenges**:\n    \n    *   **Single-answer scope:** The question is designed so that there is exactly one indisputable correct answer, reducing ambiguity or alternate valid phrasings.\n    *   **Objective verification:** The answer can (in principle) be matched against authoritative sources (e.g. Wikipedia, knowledge graphs, academic references).\n    *   **Automatable grading:** Because there is only one fact per output, correctness can be adjudicated via exact match or normalized matching heuristics.\n    *   **Calibration & abstention:** A desirable model should not only answer when confident but also abstain when uncertain. Short-form setups allow one to test whether a model “knows what it knows.”\n    *   Domain shift and compositional limitations: Success in short-form factuality does not automatically generalize to more complex or multi-step tasks.\n*   **Representative Benchmarks & Methods**:\n    \n    *   _SimpleQA_ by [Wei et al. (2024)](https://arxiv.org/abs/2411.04368) introduces a benchmark of 4,326 short, fact-seeking questions. Each question has exactly one indisputable answer, and responses are graded as correct, incorrect, or not attempted.\n    *   _TruthfulQA_ by [Lin et al. (2021)](https://arxiv.org/abs/2109.07958) tests whether LLMs reproduce human misconceptions or common falsehoods rather than factual truth.\n    *   _HaluEval_ by [Li et al. (2023)](https://aclanthology.org/2023.emnlp-main.397/) is a large-scale benchmark of hallucination detection and factual errors in short outputs.\n    *   _FreshQA_ by [Vu et al., (2023)](https://arxiv.org/abs/2310.03214) evaluates models’ ability to answer time-sensitive factual questions, probing whether models keep up with changing world knowledge.\n    *   _Chinese SimpleQA_ by [He et al. (2025)](https://aclanthology.org/2025.acl-long.941.pdf) adapts the short-form factuality paradigm to Chinese, following the SimpleQA design.\n*   **Evaluation Metrics**:\n    \n    *   **Correct / Incorrect / Not Attempted:** Each question receives one of these labels. The “not attempted” label allows models to abstain.\n        \n    *   **Overall factual score:**\n        \n        F\\=\\# correct answers\\# total answersF\\=\\# correct answers\\# total answers\n        \n        F = \\\\frac{\\\\text{# correct answers}}{\\\\text{# total answers}}\n    *   **Precision / Recall / F-score on attempted answers:**\n        \n        *   Let P\\=\\# correct answers\\# attempted answersP\\=\\# correct answers\\# attempted answersP = \\\\frac{\\\\text{# correct answers}}{\\\\text{# attempted answers}} and R\\=\\# correct answers\\# total answersR\\=\\# correct answers\\# total answersR = \\\\frac{\\\\text{# correct answers}}{\\\\text{# total answers}}. Then:\n        \n        Fscore\\=2PRP+RFscore\\=2PRP+R\n        \n        F\\_{\\\\text{score}} = \\\\frac{2 P R}{P + R}\n        *   This balances correctness when attempting with abstention behavior.\n    *   **Calibration / Expected Calibration Error (ECE) / Reliability curves:** We assess whether the model’s confidence estimates correlate with actual correctness, which is vital for decision-making and abstention strategies.\n\nShort-form factuality concerns the correctness of concise, atomic responses—typically to single factual questions. It is among the easiest to verify because only one core fact is asserted.\n\n*   Let xxx be a prompt (e.g. a fact-seeking question) and yyy be the model’s output, containing exactly one factual claim. Then\n\n*   Because only one atomic fact is in yyy, no further decomposition is needed.\n\n**Key Properties & Challenges**:\n\n*   **Single-answer scope:** The question is designed so that there is exactly one indisputable correct answer, reducing ambiguity or alternate valid phrasings.\n*   **Objective verification:** The answer can (in principle) be matched against authoritative sources (e.g. Wikipedia, knowledge graphs, academic references).\n*   **Automatable grading:** Because there is only one fact per output, correctness can be adjudicated via exact match or normalized matching heuristics.\n*   **Calibration & abstention:** A desirable model should not only answer when confident but also abstain when uncertain. Short-form setups allow one to test whether a model “knows what it knows.”\n*   Domain shift and compositional limitations: Success in short-form factuality does not automatically generalize to more complex or multi-step tasks.\n\n**Representative Benchmarks & Methods**:\n\n*   _SimpleQA_ by [Wei et al. (2024)](https://arxiv.org/abs/2411.04368) introduces a benchmark of 4,326 short, fact-seeking questions. Each question has exactly one indisputable answer, and responses are graded as correct, incorrect, or not attempted.\n*   _TruthfulQA_ by [Lin et al. (2021)](https://arxiv.org/abs/2109.07958) tests whether LLMs reproduce human misconceptions or common falsehoods rather than factual truth.\n*   _HaluEval_ by [Li et al. (2023)](https://aclanthology.org/2023.emnlp-main.397/) is a large-scale benchmark of hallucination detection and factual errors in short outputs.\n*   _FreshQA_ by [Vu et al., (2023)](https://arxiv.org/abs/2310.03214) evaluates models’ ability to answer time-sensitive factual questions, probing whether models keep up with changing world knowledge.\n*   _Chinese SimpleQA_ by [He et al. (2025)](https://aclanthology.org/2025.acl-long.941.pdf) adapts the short-form factuality paradigm to Chinese, following the SimpleQA design.\n\n**Evaluation Metrics**:\n\n*   **Correct / Incorrect / Not Attempted:** Each question receives one of these labels. The “not attempted” label allows models to abstain.\n    \n*   **Overall factual score:**\n    \n    F\\=\\# correct answers\\# total answersF\\=\\# correct answers\\# total answers\n    \n    F = \\\\frac{\\\\text{# correct answers}}{\\\\text{# total answers}}\n*   **Precision / Recall / F-score on attempted answers:**\n    \n    *   Let P\\=\\# correct answers\\# attempted answersP\\=\\# correct answers\\# attempted answersP = \\\\frac{\\\\text{# correct answers}}{\\\\text{# attempted answers}} and R\\=\\# correct answers\\# total answersR\\=\\# correct answers\\# total answersR = \\\\frac{\\\\text{# correct answers}}{\\\\text{# total answers}}. Then:\n    \n    Fscore\\=2PRP+RFscore\\=2PRP+R\n    \n    F\\_{\\\\text{score}} = \\\\frac{2 P R}{P + R}\n    *   This balances correctness when attempting with abstention behavior.\n*   **Calibration / Expected Calibration Error (ECE) / Reliability curves:** We assess whether the model’s confidence estimates correlate with actual correctness, which is vital for decision-making and abstention strategies.\n\n**Correct / Incorrect / Not Attempted:** Each question receives one of these labels. The “not attempted” label allows models to abstain.\n\n**Overall factual score:**\n\n*   Let P\\=\\# correct answers\\# attempted answersP\\=\\# correct answers\\# attempted answersP = \\\\frac{\\\\text{# correct answers}}{\\\\text{# attempted answers}} and R\\=\\# correct answers\\# total answersR\\=\\# correct answers\\# total answersR = \\\\frac{\\\\text{# correct answers}}{\\\\text{# total answers}}. Then:\n\n*   This balances correctness when attempting with abstention behavior.",
    "contentLength": 53064,
    "wordCount": 975,
    "hasCode": false,
    "hasMath": true,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#short-form-factuality"
  },
  {
    "id": "ai-factuality-in-LLMs-truthfulness-intrinsic-factuality-2",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Taxonomy of Factuality",
    "title": "Truthfulness / Intrinsic Factuality",
    "order": 2,
    "orderInChapter": 2,
    "contentHtml": "<ul>\n  <li>\n    <p>Truthfulness (often called intrinsic factuality) is the property that a model’s outputs align with real-world facts, independent of any contextual input document. It is “simpler” (in the sense of lower verification complexity) than long-form or grounded checks because there is no need to reconcile with an external context, only to compare with known truth sources, and it further implies that the model’s internal parameters or weights have encoded the correct factual knowledge during training and can reliably surface it during generation without relying on external retrieval or context.</p>\n  </li>\n  <li>\n    <p><strong>Definition</strong>:</p>\n\n    <ul>\n      <li>Given a prompt <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-14-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-113\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-114\"><span class=\"mi\" id=\"MathJax-Span-115\" style=\"font-family: STIXGeneral-Italic;\">x<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>x</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-14\">x</script> (e.g. a factual question or request) and model output <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-15-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-116\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-117\"><span class=\"mi\" id=\"MathJax-Span-118\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-15\">y</script>, truthfulness means that the factual claims in <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-16-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-119\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-120\"><span class=\"mi\" id=\"MathJax-Span-121\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-16\">y</script> correspond to actual, verifiable facts in the real world. Formally, for each atomic claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-17-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub><mo>&amp;#x2208;</mo><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-122\" style=\"width: 4.482em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 3.701em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.409em, 1003.65em, 2.607em, -999.997em); top: -2.237em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-123\"><span class=\"msubsup\" id=\"MathJax-Span-124\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-125\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-126\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-127\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∈</span><span class=\"mi\" id=\"MathJax-Span-128\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">ϕ</span><span class=\"mo\" id=\"MathJax-Span-129\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-130\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-131\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.242em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub><mo>∈</mo><mi>ϕ</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-17\">a_i \\in \\phi(y)</script>:</li>\n    </ul>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\" style=\"text-align: center;\"><span class=\"MathJax\" id=\"MathJax-Element-18-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>f</mi><mi>i</mi></msub><mo>=</mo><mn>1</mn><mspace width=&quot;1em&quot; /><mtext>if&amp;#xA0;</mtext><msub><mi>a</mi><mi>i</mi></msub><mtext>&amp;#xA0;is true in the real world</mtext><mo>,</mo><mtext>&amp;#xA0;else&amp;#xA0;</mtext><msub><mi>f</mi><mi>i</mi></msub><mo>=</mo><mn>0</mn></math>\" role=\"presentation\" style=\"text-align: center; position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-132\" style=\"width: 23.336em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 19.43em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1019.43em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-133\"><span class=\"msubsup\" id=\"MathJax-Span-134\"><span style=\"display: inline-block; position: relative; width: 0.576em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.42em, 4.378em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-135\" style=\"font-family: STIXGeneral-Italic;\">f<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.159em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.263em;\"><span class=\"mi\" id=\"MathJax-Span-136\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-137\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mn\" id=\"MathJax-Span-138\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">1</span><span class=\"mspace\" id=\"MathJax-Span-139\" style=\"height: 0em; vertical-align: 0em; width: 1.148em; display: inline-block; overflow: hidden;\"></span><span class=\"mtext\" id=\"MathJax-Span-140\" style=\"font-family: STIXGeneral-Regular;\">if&nbsp;</span><span class=\"msubsup\" id=\"MathJax-Span-141\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-142\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-143\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mtext\" id=\"MathJax-Span-144\" style=\"font-family: STIXGeneral-Regular;\">&nbsp;is true in the real world</span><span class=\"mo\" id=\"MathJax-Span-145\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mtext\" id=\"MathJax-Span-146\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">&nbsp;else&nbsp;</span><span class=\"msubsup\" id=\"MathJax-Span-147\"><span style=\"display: inline-block; position: relative; width: 0.576em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.42em, 4.378em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-148\" style=\"font-family: STIXGeneral-Italic;\">f<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.159em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.263em;\"><span class=\"mi\" id=\"MathJax-Span-149\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-150\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mn\" id=\"MathJax-Span-151\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">0</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>f</mi><mi>i</mi></msub><mo>=</mo><mn>1</mn><mspace width=\"1em\"></mspace><mtext>if&nbsp;</mtext><msub><mi>a</mi><mi>i</mi></msub><mtext>&nbsp;is true in the real world</mtext><mo>,</mo><mtext>&nbsp;else&nbsp;</mtext><msub><mi>f</mi><mi>i</mi></msub><mo>=</mo><mn>0</mn></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-18\">f_i = 1 \\quad \\text{if } a_i \\text{ is true in the real world}, \\text{ else } f_i = 0</script>\n\n    <ul>\n      <li>Then an overall truthfulness score is:</li>\n    </ul>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\" style=\"text-align: center;\"><span class=\"MathJax\" id=\"MathJax-Element-19-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>truth</mtext></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow></mrow></mfrac><munder><mo>&amp;#x2211;</mo><mi>i</mi></munder><msub><mi>f</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"text-align: center; position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-152\" style=\"width: 11.357em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 9.43em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(0.68em, 1009.43em, 3.596em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-153\"><span class=\"msubsup\" id=\"MathJax-Span-154\"><span style=\"display: inline-block; position: relative; width: 2.034em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-155\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-156\"><span class=\"mrow\" id=\"MathJax-Span-157\"><span class=\"mtext\" id=\"MathJax-Span-158\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">truth</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-159\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-160\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-161\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-162\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-163\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 2.503em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.42em, 4.169em, -999.997em); top: -4.685em; left: 50%; margin-left: -0.258em;\"><span class=\"mn\" id=\"MathJax-Span-164\" style=\"font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1002.24em, 4.378em, -999.997em); top: -3.331em; left: 50%; margin-left: -1.195em;\"><span class=\"mrow\" id=\"MathJax-Span-165\"><span class=\"texatom\" id=\"MathJax-Span-166\"><span class=\"mrow\" id=\"MathJax-Span-167\"><span class=\"mo\" id=\"MathJax-Span-168\" style=\"font-family: STIXVariants;\">|</span></span></span><span class=\"mi\" id=\"MathJax-Span-169\" style=\"font-family: STIXGeneral-Italic;\">ϕ</span><span class=\"mo\" id=\"MathJax-Span-170\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-171\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-172\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"texatom\" id=\"MathJax-Span-173\"><span class=\"mrow\" id=\"MathJax-Span-174\"><span class=\"mo\" id=\"MathJax-Span-175\" style=\"font-family: STIXVariants;\">|</span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1002.5em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 2.503em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"munderover\" id=\"MathJax-Span-176\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.305em; height: 0px;\"><span style=\"position: absolute; clip: rect(2.867em, 1001.2em, 4.638em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-177\" style=\"font-family: STIXSizeOneSym; vertical-align: -0.518em;\">∑</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.21em, 4.273em, -999.997em); top: -2.862em; left: 0.576em;\"><span class=\"mi\" id=\"MathJax-Span-178\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"msubsup\" id=\"MathJax-Span-179\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.576em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.42em, 4.378em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-180\" style=\"font-family: STIXGeneral-Italic;\">f<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.159em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.263em;\"><span class=\"mi\" id=\"MathJax-Span-181\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -1.559em; border-left: 0px solid; width: 0px; height: 3.253em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>truth</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mrow class=\"MJX-TeXAtom-ORD\"><mo stretchy=\"false\">|</mo></mrow><mi>ϕ</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mrow class=\"MJX-TeXAtom-ORD\"><mo stretchy=\"false\">|</mo></mrow></mrow></mfrac><munder><mo>∑</mo><mi>i</mi></munder><msub><mi>f</mi><mi>i</mi></msub></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-19\">F_{\\text{truth}}(y) = \\frac{1}{|\\phi(y)|} \\sum_i f_i</script>\n\n    <ul>\n      <li>In many short-form settings, there is just one <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-20-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-182\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-183\"><span class=\"msubsup\" id=\"MathJax-Span-184\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-185\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-186\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-20\">a_i</script>, making this equivalent to the short-form definition. But truthfulness extends to multi-claim outputs even without a source document.</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Key Properties &amp; Challenges</strong>:</p>\n\n    <ul>\n      <li><strong>Knowledge dependency / training-time memorization</strong>: The model must internalize correct facts during pretraining or fine-tuning.</li>\n      <li><strong>Outdated or shifting facts</strong>: As the world changes (e.g. population, political office, recent events), the model’s static memory may become stale.</li>\n      <li><strong>Ambiguity and nuance</strong>: Some “facts” are disputable or depend on interpretation, requiring careful definition of ground truth.</li>\n      <li><strong>Plausibility bias</strong>: Models may prefer generating plausible but incorrect statements because those are more common in training data.</li>\n      <li><strong>Internal signal vs. output mismatch</strong>: A model may internally “know” a true fact but still output a false variant due to decoding or prompt dynamics. For example, <a href=\"https://openreview.net/forum?id=KRnsX5Em3W\">LLMs Know More Than They Show: On the Intrinsic Representation of LLM Hallucinations</a> by Orgad et al. (2025) finds that internal states encode truthfulness even when the output is incorrect.</li>\n      <li><strong>Predicting truthfulness from activations</strong>: Some work uses internal activations (e.g. local intrinsic dimension) to detect whether a generation is likely to be true (cf. <a href=\"https://arxiv.org/abs/2402.18048\">Yin et al. (2024)</a>).</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Representative Benchmarks &amp; Methods</strong>:</p>\n\n    <ul>\n      <li><em>TruthfulQA</em> (<a href=\"https://arxiv.org/abs/2109.07958\">Lin et al. (2021)</a>) is perhaps the canonical truthfulness benchmark; it probes whether models repeat common falsehoods vs. actual facts.</li>\n      <li><em>SimpleQA</em> (<a href=\"https://arxiv.org/abs/2411.04368\">Ye et al. (2024)</a>) measures correctness + calibration in short-form factoid settings.</li>\n      <li>Using internal probes or representation-based detectors, e.g. <a href=\"https://openreview.net/forum?id=KRnsX5Em3W\">LLMs Know More Than They Show: On the Intrinsic Representation of LLM Hallucinations</a> by Orgad et al. (2025).</li>\n      <li>Methods that estimate truthfulness based on internal activation statistics, such as local intrinsic dimension (LID) in <a href=\"https://arxiv.org/abs/2402.18048\">Characterizing Truthfulness in Large Language Model Generations with Local Intrinsic Dimension</a> by Yin et al. (2024).</li>\n      <li>Decoding-based improvements to factuality, such as <a href=\"https://arxiv.org/abs/2309.03883\">DOLA: Decoding by Contrasting Layers Improves Factuality in Large Language Models</a> by Chuang et al. (2024), which enhances factual accuracy by leveraging layer-wise differences in transformer representations to surface factual knowledge without fine-tuning or external retrieval.</li>\n      <li>Approaches to self-alignment / self-evaluation where the model judges its own correctness, e.g., <a href=\"https://arxiv.org/abs/2402.09267\">Self-Alignment for Factuality: Mitigating Hallucinations in LLMs via Self-Evaluation</a> by Zhang et al. (2024).</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Evaluation Metrics &amp; Strategies</strong>:</p>\n\n    <ul>\n      <li><strong>Atomic correctness rate</strong>: Fraction of atomic claims judged true (as above).</li>\n      <li><strong>Binary true / false / unknown labels</strong> on outputs or claims.</li>\n      <li><strong>Calibration of predicted confidence vs. actual correctness</strong>: checking whether the model’s confidence aligns with truth.</li>\n      <li><strong>Representation-based scoring or detection</strong>: measuring metrics like activation-based truth scores or LID to predict whether output is true or false.</li>\n      <li><strong>Self-evaluation consistency</strong>: having the model re-assess its output and compare with ground truth, using disagreement as a signal.</li>\n    </ul>\n  </li>\n</ul>\n<p>Truthfulness (often called intrinsic factuality) is the property that a model’s outputs align with real-world facts, independent of any contextual input document. It is “simpler” (in the sense of lower verification complexity) than long-form or grounded checks because there is no need to reconcile with an external context, only to compare with known truth sources, and it further implies that the model’s internal parameters or weights have encoded the correct factual knowledge during training and can reliably surface it during generation without relying on external retrieval or context.</p>\n<p><strong>Definition</strong>:</p>\n<ul>\n      <li>Given a prompt <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-14-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-113\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-114\"><span class=\"mi\" id=\"MathJax-Span-115\" style=\"font-family: STIXGeneral-Italic;\">x<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>x</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-14\">x</script> (e.g. a factual question or request) and model output <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-15-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-116\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-117\"><span class=\"mi\" id=\"MathJax-Span-118\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-15\">y</script>, truthfulness means that the factual claims in <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-16-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-119\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-120\"><span class=\"mi\" id=\"MathJax-Span-121\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-16\">y</script> correspond to actual, verifiable facts in the real world. Formally, for each atomic claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-17-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub><mo>&amp;#x2208;</mo><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-122\" style=\"width: 4.482em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 3.701em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.409em, 1003.65em, 2.607em, -999.997em); top: -2.237em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-123\"><span class=\"msubsup\" id=\"MathJax-Span-124\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-125\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-126\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-127\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∈</span><span class=\"mi\" id=\"MathJax-Span-128\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">ϕ</span><span class=\"mo\" id=\"MathJax-Span-129\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-130\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-131\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.242em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub><mo>∈</mo><mi>ϕ</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-17\">a_i \\in \\phi(y)</script>:</li>\n    </ul>\n<ul>\n      <li>Then an overall truthfulness score is:</li>\n    </ul>\n<ul>\n      <li>In many short-form settings, there is just one <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-20-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-182\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-183\"><span class=\"msubsup\" id=\"MathJax-Span-184\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-185\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-186\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-20\">a_i</script>, making this equivalent to the short-form definition. But truthfulness extends to multi-claim outputs even without a source document.</li>\n    </ul>\n<p><strong>Key Properties &amp; Challenges</strong>:</p>\n<ul>\n      <li><strong>Knowledge dependency / training-time memorization</strong>: The model must internalize correct facts during pretraining or fine-tuning.</li>\n      <li><strong>Outdated or shifting facts</strong>: As the world changes (e.g. population, political office, recent events), the model’s static memory may become stale.</li>\n      <li><strong>Ambiguity and nuance</strong>: Some “facts” are disputable or depend on interpretation, requiring careful definition of ground truth.</li>\n      <li><strong>Plausibility bias</strong>: Models may prefer generating plausible but incorrect statements because those are more common in training data.</li>\n      <li><strong>Internal signal vs. output mismatch</strong>: A model may internally “know” a true fact but still output a false variant due to decoding or prompt dynamics. For example, <a href=\"https://openreview.net/forum?id=KRnsX5Em3W\">LLMs Know More Than They Show: On the Intrinsic Representation of LLM Hallucinations</a> by Orgad et al. (2025) finds that internal states encode truthfulness even when the output is incorrect.</li>\n      <li><strong>Predicting truthfulness from activations</strong>: Some work uses internal activations (e.g. local intrinsic dimension) to detect whether a generation is likely to be true (cf. <a href=\"https://arxiv.org/abs/2402.18048\">Yin et al. (2024)</a>).</li>\n    </ul>\n<p><strong>Representative Benchmarks &amp; Methods</strong>:</p>\n<ul>\n      <li><em>TruthfulQA</em> (<a href=\"https://arxiv.org/abs/2109.07958\">Lin et al. (2021)</a>) is perhaps the canonical truthfulness benchmark; it probes whether models repeat common falsehoods vs. actual facts.</li>\n      <li><em>SimpleQA</em> (<a href=\"https://arxiv.org/abs/2411.04368\">Ye et al. (2024)</a>) measures correctness + calibration in short-form factoid settings.</li>\n      <li>Using internal probes or representation-based detectors, e.g. <a href=\"https://openreview.net/forum?id=KRnsX5Em3W\">LLMs Know More Than They Show: On the Intrinsic Representation of LLM Hallucinations</a> by Orgad et al. (2025).</li>\n      <li>Methods that estimate truthfulness based on internal activation statistics, such as local intrinsic dimension (LID) in <a href=\"https://arxiv.org/abs/2402.18048\">Characterizing Truthfulness in Large Language Model Generations with Local Intrinsic Dimension</a> by Yin et al. (2024).</li>\n      <li>Decoding-based improvements to factuality, such as <a href=\"https://arxiv.org/abs/2309.03883\">DOLA: Decoding by Contrasting Layers Improves Factuality in Large Language Models</a> by Chuang et al. (2024), which enhances factual accuracy by leveraging layer-wise differences in transformer representations to surface factual knowledge without fine-tuning or external retrieval.</li>\n      <li>Approaches to self-alignment / self-evaluation where the model judges its own correctness, e.g., <a href=\"https://arxiv.org/abs/2402.09267\">Self-Alignment for Factuality: Mitigating Hallucinations in LLMs via Self-Evaluation</a> by Zhang et al. (2024).</li>\n    </ul>\n<p><strong>Evaluation Metrics &amp; Strategies</strong>:</p>\n<ul>\n      <li><strong>Atomic correctness rate</strong>: Fraction of atomic claims judged true (as above).</li>\n      <li><strong>Binary true / false / unknown labels</strong> on outputs or claims.</li>\n      <li><strong>Calibration of predicted confidence vs. actual correctness</strong>: checking whether the model’s confidence aligns with truth.</li>\n      <li><strong>Representation-based scoring or detection</strong>: measuring metrics like activation-based truth scores or LID to predict whether output is true or false.</li>\n      <li><strong>Self-evaluation consistency</strong>: having the model re-assess its output and compare with ground truth, using disagreement as a signal.</li>\n    </ul>",
    "contentMarkdown": "*   Truthfulness (often called intrinsic factuality) is the property that a model’s outputs align with real-world facts, independent of any contextual input document. It is “simpler” (in the sense of lower verification complexity) than long-form or grounded checks because there is no need to reconcile with an external context, only to compare with known truth sources, and it further implies that the model’s internal parameters or weights have encoded the correct factual knowledge during training and can reliably surface it during generation without relying on external retrieval or context.\n    \n*   **Definition**:\n    \n    *   Given a prompt xxx (e.g. a factual question or request) and model output yyy, truthfulness means that the factual claims in yyy correspond to actual, verifiable facts in the real world. Formally, for each atomic claim ai∈ϕ(y)ai∈ϕ(y)a\\_i \\\\in \\\\phi(y):\n    \n    fi\\=1if ai is true in the real world, else fi\\=0fi\\=1if ai is true in the real world, else fi\\=0\n    \n    f\\_i = 1 \\\\quad \\\\text{if } a\\_i \\\\text{ is true in the real world}, \\\\text{ else } f\\_i = 0\n    \n    *   Then an overall truthfulness score is:\n    \n    Ftruth(y)\\=1|ϕ(y)|∑ifiFtruth(y)\\=1|ϕ(y)|∑ifi\n    \n    F\\_{\\\\text{truth}}(y) = \\\\frac{1}{|\\\\phi(y)|} \\\\sum\\_i f\\_i\n    *   In many short-form settings, there is just one aiaia\\_i, making this equivalent to the short-form definition. But truthfulness extends to multi-claim outputs even without a source document.\n*   **Key Properties & Challenges**:\n    \n    *   **Knowledge dependency / training-time memorization**: The model must internalize correct facts during pretraining or fine-tuning.\n    *   **Outdated or shifting facts**: As the world changes (e.g. population, political office, recent events), the model’s static memory may become stale.\n    *   **Ambiguity and nuance**: Some “facts” are disputable or depend on interpretation, requiring careful definition of ground truth.\n    *   **Plausibility bias**: Models may prefer generating plausible but incorrect statements because those are more common in training data.\n    *   **Internal signal vs. output mismatch**: A model may internally “know” a true fact but still output a false variant due to decoding or prompt dynamics. For example, [LLMs Know More Than They Show: On the Intrinsic Representation of LLM Hallucinations](https://openreview.net/forum?id=KRnsX5Em3W) by Orgad et al. (2025) finds that internal states encode truthfulness even when the output is incorrect.\n    *   **Predicting truthfulness from activations**: Some work uses internal activations (e.g. local intrinsic dimension) to detect whether a generation is likely to be true (cf. [Yin et al. (2024)](https://arxiv.org/abs/2402.18048)).\n*   **Representative Benchmarks & Methods**:\n    \n    *   _TruthfulQA_ ([Lin et al. (2021)](https://arxiv.org/abs/2109.07958)) is perhaps the canonical truthfulness benchmark; it probes whether models repeat common falsehoods vs. actual facts.\n    *   _SimpleQA_ ([Ye et al. (2024)](https://arxiv.org/abs/2411.04368)) measures correctness + calibration in short-form factoid settings.\n    *   Using internal probes or representation-based detectors, e.g. [LLMs Know More Than They Show: On the Intrinsic Representation of LLM Hallucinations](https://openreview.net/forum?id=KRnsX5Em3W) by Orgad et al. (2025).\n    *   Methods that estimate truthfulness based on internal activation statistics, such as local intrinsic dimension (LID) in [Characterizing Truthfulness in Large Language Model Generations with Local Intrinsic Dimension](https://arxiv.org/abs/2402.18048) by Yin et al. (2024).\n    *   Decoding-based improvements to factuality, such as [DOLA: Decoding by Contrasting Layers Improves Factuality in Large Language Models](https://arxiv.org/abs/2309.03883) by Chuang et al. (2024), which enhances factual accuracy by leveraging layer-wise differences in transformer representations to surface factual knowledge without fine-tuning or external retrieval.\n    *   Approaches to self-alignment / self-evaluation where the model judges its own correctness, e.g., [Self-Alignment for Factuality: Mitigating Hallucinations in LLMs via Self-Evaluation](https://arxiv.org/abs/2402.09267) by Zhang et al. (2024).\n*   **Evaluation Metrics & Strategies**:\n    \n    *   **Atomic correctness rate**: Fraction of atomic claims judged true (as above).\n    *   **Binary true / false / unknown labels** on outputs or claims.\n    *   **Calibration of predicted confidence vs. actual correctness**: checking whether the model’s confidence aligns with truth.\n    *   **Representation-based scoring or detection**: measuring metrics like activation-based truth scores or LID to predict whether output is true or false.\n    *   **Self-evaluation consistency**: having the model re-assess its output and compare with ground truth, using disagreement as a signal.\n\nTruthfulness (often called intrinsic factuality) is the property that a model’s outputs align with real-world facts, independent of any contextual input document. It is “simpler” (in the sense of lower verification complexity) than long-form or grounded checks because there is no need to reconcile with an external context, only to compare with known truth sources, and it further implies that the model’s internal parameters or weights have encoded the correct factual knowledge during training and can reliably surface it during generation without relying on external retrieval or context.\n\n**Definition**:\n\n*   Given a prompt xxx (e.g. a factual question or request) and model output yyy, truthfulness means that the factual claims in yyy correspond to actual, verifiable facts in the real world. Formally, for each atomic claim ai∈ϕ(y)ai∈ϕ(y)a\\_i \\\\in \\\\phi(y):\n\n*   Then an overall truthfulness score is:\n\n*   In many short-form settings, there is just one aiaia\\_i, making this equivalent to the short-form definition. But truthfulness extends to multi-claim outputs even without a source document.\n\n**Key Properties & Challenges**:\n\n*   **Knowledge dependency / training-time memorization**: The model must internalize correct facts during pretraining or fine-tuning.\n*   **Outdated or shifting facts**: As the world changes (e.g. population, political office, recent events), the model’s static memory may become stale.\n*   **Ambiguity and nuance**: Some “facts” are disputable or depend on interpretation, requiring careful definition of ground truth.\n*   **Plausibility bias**: Models may prefer generating plausible but incorrect statements because those are more common in training data.\n*   **Internal signal vs. output mismatch**: A model may internally “know” a true fact but still output a false variant due to decoding or prompt dynamics. For example, [LLMs Know More Than They Show: On the Intrinsic Representation of LLM Hallucinations](https://openreview.net/forum?id=KRnsX5Em3W) by Orgad et al. (2025) finds that internal states encode truthfulness even when the output is incorrect.\n*   **Predicting truthfulness from activations**: Some work uses internal activations (e.g. local intrinsic dimension) to detect whether a generation is likely to be true (cf. [Yin et al. (2024)](https://arxiv.org/abs/2402.18048)).\n\n**Representative Benchmarks & Methods**:\n\n*   _TruthfulQA_ ([Lin et al. (2021)](https://arxiv.org/abs/2109.07958)) is perhaps the canonical truthfulness benchmark; it probes whether models repeat common falsehoods vs. actual facts.\n*   _SimpleQA_ ([Ye et al. (2024)](https://arxiv.org/abs/2411.04368)) measures correctness + calibration in short-form factoid settings.\n*   Using internal probes or representation-based detectors, e.g. [LLMs Know More Than They Show: On the Intrinsic Representation of LLM Hallucinations](https://openreview.net/forum?id=KRnsX5Em3W) by Orgad et al. (2025).\n*   Methods that estimate truthfulness based on internal activation statistics, such as local intrinsic dimension (LID) in [Characterizing Truthfulness in Large Language Model Generations with Local Intrinsic Dimension](https://arxiv.org/abs/2402.18048) by Yin et al. (2024).\n*   Decoding-based improvements to factuality, such as [DOLA: Decoding by Contrasting Layers Improves Factuality in Large Language Models](https://arxiv.org/abs/2309.03883) by Chuang et al. (2024), which enhances factual accuracy by leveraging layer-wise differences in transformer representations to surface factual knowledge without fine-tuning or external retrieval.\n*   Approaches to self-alignment / self-evaluation where the model judges its own correctness, e.g., [Self-Alignment for Factuality: Mitigating Hallucinations in LLMs via Self-Evaluation](https://arxiv.org/abs/2402.09267) by Zhang et al. (2024).\n\n**Evaluation Metrics & Strategies**:\n\n*   **Atomic correctness rate**: Fraction of atomic claims judged true (as above).\n*   **Binary true / false / unknown labels** on outputs or claims.\n*   **Calibration of predicted confidence vs. actual correctness**: checking whether the model’s confidence aligns with truth.\n*   **Representation-based scoring or detection**: measuring metrics like activation-based truth scores or LID to predict whether output is true or false.\n*   **Self-evaluation consistency**: having the model re-assess its output and compare with ground truth, using disagreement as a signal.",
    "contentLength": 38245,
    "wordCount": 1218,
    "hasCode": false,
    "hasMath": true,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#truthfulness-/-intrinsic-factuality"
  },
  {
    "id": "ai-factuality-in-LLMs-faithfulness-extrinsic-factuality-3",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Taxonomy of Factuality",
    "title": "Faithfulness / Extrinsic Factuality",
    "order": 3,
    "orderInChapter": 3,
    "contentHtml": "<ul>\n  <li>\n    <p>Faithfulness (often called extrinsic factuality) measures whether a model’s output is consistent with the provided evidence <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-21-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-187\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-188\"><span class=\"mi\" id=\"MathJax-Span-189\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-21\">D</script> (for example, a source article, retrieved passages, a database, or a table). Unlike truthfulness, which compares to the external world directly, faithfulness constrains correctness relative to the conditioning context: a faithful output does not contradict <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-22-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-190\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-191\"><span class=\"mi\" id=\"MathJax-Span-192\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-22\">D</script>, does not invent unsupported facts, and accurately preserves relationships present in <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-23-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-193\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-194\"><span class=\"mi\" id=\"MathJax-Span-195\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-23\">D</script>. In other words, a faithful output entails the information contained within the evidence <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-24-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-196\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-197\"><span class=\"mi\" id=\"MathJax-Span-198\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-24\">D</script>, without introducing distortions, omissions, or fabrications beyond what that evidence supports.</p>\n  </li>\n  <li>\n    <p><strong>Definition</strong>:</p>\n\n    <ul>\n      <li>\n        <p>Given a source document <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-25-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-199\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-200\"><span class=\"mi\" id=\"MathJax-Span-201\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-25\">D</script>, a prompt <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-26-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-202\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-203\"><span class=\"mi\" id=\"MathJax-Span-204\" style=\"font-family: STIXGeneral-Italic;\">x<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>x</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-26\">x</script>, and an output <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-27-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-205\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-206\"><span class=\"mi\" id=\"MathJax-Span-207\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-27\">y</script>, let <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-28-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><mo>&amp;#x2026;</mo><mo>,</mo><msub><mi>a</mi><mi>N</mi></msub></mrow></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-208\" style=\"width: 8.544em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 7.086em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1007.09em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-209\"><span class=\"mi\" id=\"MathJax-Span-210\" style=\"font-family: STIXGeneral-Italic;\">ϕ</span><span class=\"mo\" id=\"MathJax-Span-211\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-212\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-213\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-214\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"texatom\" id=\"MathJax-Span-215\" style=\"padding-left: 0.315em;\"><span class=\"mrow\" id=\"MathJax-Span-216\"><span class=\"msubsup\" id=\"MathJax-Span-217\"><span style=\"display: inline-block; position: relative; width: 0.94em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-218\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mn\" id=\"MathJax-Span-219\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-220\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mo\" id=\"MathJax-Span-221\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">…</span><span class=\"mo\" id=\"MathJax-Span-222\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-223\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.096em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-224\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-225\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>ϕ</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mrow class=\"MJX-TeXAtom-ORD\"><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>a</mi><mi>N</mi></msub></mrow></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-28\">\\phi(y)={a_1,\\dots,a_N}</script> be atomic claims extracted from <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-29-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-226\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-227\"><span class=\"mi\" id=\"MathJax-Span-228\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-29\">y</script>. A claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-30-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-229\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-230\"><span class=\"msubsup\" id=\"MathJax-Span-231\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-232\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-233\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-30\">a_i</script> is faithful if it is entailed by <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-31-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-234\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-235\"><span class=\"mi\" id=\"MathJax-Span-236\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-31\">D</script> and unfaithful if it is contradicted by <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-32-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-237\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-238\"><span class=\"mi\" id=\"MathJax-Span-239\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-32\">D</script> or not supported. A simple faithfulness score is:</p>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\" style=\"text-align: center;\"><span class=\"MathJax\" id=\"MathJax-Element-33-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>faith</mtext></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo>&amp;#x2223;</mo><mi>D</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi></mrow></munderover><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn mathvariant=&quot;bold&quot;>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo maxsize=&quot;1.2em&quot; minsize=&quot;1.2em&quot;>[</mo></mrow><mtext>Entail</mtext><mo stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo maxsize=&quot;1.2em&quot; minsize=&quot;1.2em&quot;>]</mo></mrow></math>\" role=\"presentation\" style=\"text-align: center; position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-240\" style=\"width: 18.128em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 15.107em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.253em, 1014.9em, 4.586em, -999.997em); top: -3.174em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-241\"><span class=\"msubsup\" id=\"MathJax-Span-242\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-243\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-244\"><span class=\"mrow\" id=\"MathJax-Span-245\"><span class=\"mtext\" id=\"MathJax-Span-246\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">faith</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-247\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-248\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-249\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∣</span><span class=\"mi\" id=\"MathJax-Span-250\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span><span class=\"mo\" id=\"MathJax-Span-251\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-252\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-253\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.42em, 4.169em, -999.997em); top: -4.685em; left: 50%; margin-left: -0.258em;\"><span class=\"mn\" id=\"MathJax-Span-254\" style=\"font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1000.73em, 4.169em, -999.997em); top: -3.331em; left: 50%; margin-left: -0.362em;\"><span class=\"mi\" id=\"MathJax-Span-255\" style=\"font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.84em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.836em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"munderover\" id=\"MathJax-Span-256\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.305em; height: 0px;\"><span style=\"position: absolute; clip: rect(2.867em, 1001.2em, 4.638em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-257\" style=\"font-family: STIXSizeOneSym; vertical-align: -0.518em;\">∑</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.94em, 4.273em, -999.997em); top: -2.862em; left: 0.107em;\"><span class=\"texatom\" id=\"MathJax-Span-258\"><span class=\"mrow\" id=\"MathJax-Span-259\"><span class=\"mi\" id=\"MathJax-Span-260\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mo\" id=\"MathJax-Span-261\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">=</span><span class=\"mn\" id=\"MathJax-Span-262\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.284em, 1000.52em, 4.169em, -999.997em); top: -5.206em; left: 0.367em;\"><span class=\"texatom\" id=\"MathJax-Span-263\"><span class=\"mrow\" id=\"MathJax-Span-264\"><span class=\"mi\" id=\"MathJax-Span-265\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-266\" style=\"padding-left: 0.211em;\"><span class=\"mrow\" id=\"MathJax-Span-267\"><span class=\"mn\" id=\"MathJax-Span-268\" style=\"font-family: STIXGeneral; font-weight: bold;\">1</span></span></span><span class=\"texatom\" id=\"MathJax-Span-269\" style=\"\"><span class=\"mrow\" id=\"MathJax-Span-270\"><span class=\"mo\" id=\"MathJax-Span-271\" style=\"vertical-align: -0.258em;\"><span><span style=\"font-size: 110%; font-family: STIXSizeOneSym;\">[</span></span></span></span></span><span class=\"mtext\" id=\"MathJax-Span-272\" style=\"font-family: STIXGeneral-Regular;\">Entail</span><span class=\"mo\" id=\"MathJax-Span-273\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-274\" style=\"font-family: STIXGeneral-Italic;\">D</span><span class=\"mo\" id=\"MathJax-Span-275\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-276\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-277\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-278\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-279\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"texatom\" id=\"MathJax-Span-280\" style=\"\"><span class=\"mrow\" id=\"MathJax-Span-281\"><span class=\"mo\" id=\"MathJax-Span-282\" style=\"vertical-align: -0.258em;\"><span><span style=\"font-size: 110%; font-family: STIXSizeOneSym;\">]</span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 3.18em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -1.559em; border-left: 0px solid; width: 0px; height: 3.753em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>faith</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>y</mi><mo>∣</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mi>N</mi></mrow></munderover><mrow class=\"MJX-TeXAtom-ORD\"><mn mathvariant=\"bold\">1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mo maxsize=\"1.2em\" minsize=\"1.2em\">[</mo></mrow><mtext>Entail</mtext><mo stretchy=\"false\">(</mo><mi>D</mi><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mrow class=\"MJX-TeXAtom-ORD\"><mo maxsize=\"1.2em\" minsize=\"1.2em\">]</mo></mrow></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-33\">F_{\\text{faith}}(y \\mid D) = \\frac{1}{N}\\sum_{i=1}^{N}\\mathbf{1}\\big[\\text{Entail}(D, a_i)\\big]</script>\n\n        <ul>\n          <li>with task-specific choices for the entailment relation (e.g., NLI, QA-agreement). This focuses evaluation on alignment with <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-34-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-283\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-284\"><span class=\"mi\" id=\"MathJax-Span-285\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-34\">D</script> rather than open-world truth.</li>\n        </ul>\n      </li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Key properties and challenges</strong>:</p>\n\n    <ul>\n      <li>\n        <p><strong>Evidence dependence</strong>: Faithfulness is conditioned on the given context <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-35-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-286\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-287\"><span class=\"mi\" id=\"MathJax-Span-288\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-35\">D</script>. The same answer may be truthful globally yet unfaithful if <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-36-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-289\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-290\"><span class=\"mi\" id=\"MathJax-Span-291\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-36\">D</script> does not support it (or directly contradicts it). This makes corpus selection and evidence coverage critical. FEVER explicitly couples claim verification with evidence retrieval from Wikipedia (cf. <a href=\"https://arxiv.org/abs/1803.05355\">Thorne et al. (2018)</a>; <a href=\"https://arxiv.org/abs/1811.10971\">Thorne et al. (2018b)</a>).</p>\n      </li>\n      <li>\n        <p><strong>Granularity mismatch</strong>: Summaries and long responses mix many claims; entailment models trained at sentence level can miss document-level inconsistencies. SummaC revisits NLI for document-level consistency via sentence segmentation and score aggregation (cf. <a href=\"https://arxiv.org/abs/2111.09525\">Laban et al. (2021)</a>; <a href=\"https://direct.mit.edu/tacl/article/doi/10.1162/tacl_a_00453/109470/SummaC-Re-Visiting-NLI-based-Models-for\">Laban et al. (2022)</a>).</p>\n      </li>\n      <li>\n        <p><strong>Hallucination vs. contradiction</strong>: Unfaithfulness includes fabricated details not in <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-37-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-292\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-293\"><span class=\"mi\" id=\"MathJax-Span-294\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-37\">D</script> (hallucinations) and outright contradictions. FactCC trains a classifier to detect contradictions and unsupported content relative to the source (cf. <a href=\"https://arxiv.org/abs/1910.12840\">Kryściński et al. (2019)</a>).</p>\n      </li>\n      <li>\n        <p><strong>Question-centric checking</strong>: QAGS converts faithfulness into question-answer agreement: if asking aligned questions of the source and the summary yields the same answers, the summary is more likely faithful (cf. <a href=\"https://aclanthology.org/2020.acl-main.450/\">Wang et al. (2020)</a>).</p>\n      </li>\n      <li>\n        <p><strong>Domain and style transfer</strong>: Methods tuned for news summarization can degrade on narratives or specialized domains; ongoing work explores faithfulness in new genres (e.g., StorySumm) (cf. <a href=\"https://arxiv.org/abs/2407.06501\">StorySumm, Jin et al. (2024)</a>).</p>\n      </li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Representative benchmarks and methods</strong>:</p>\n\n    <ul>\n      <li>\n        <p>FEVER: claim verification with evidence retrieval from Wikipedia (cf. <a href=\"https://arxiv.org/abs/1803.05355\">Thorne et al. (2018)</a>; <a href=\"https://arxiv.org/abs/1811.10971\">Thorne et al. (2018b)</a>).</p>\n      </li>\n      <li>\n        <p>FactCC: NLI-style model for detecting contradictions/unsupported content in summaries (cf. <a href=\"https://arxiv.org/abs/1910.12840\">Kryściński et al. (2019)</a>; code: <a href=\"https://github.com/salesforce/factCC\">GitHub</a>).</p>\n      </li>\n      <li>\n        <p>QAGS: QA-based agreement between source and summary as a proxy for faithfulness (cf. <a href=\"https://arxiv.org/abs/2004.04228\">Wang et al. (2020)</a>; ACL version: <a href=\"https://aclanthology.org/2020.acl-main.450/\">link</a>).</p>\n      </li>\n      <li>\n        <p>SummaC: document-level inconsistency detection via NLI aggregation (cf. <a href=\"https://arxiv.org/abs/2111.09525\">Laban et al. (2021)</a>; TACL version: <a href=\"https://direct.mit.edu/tacl/article/doi/10.1162/tacl_a_00453/109470/SummaC-Re-Visiting-NLI-based-Models-for\">Laban et al. (2022)</a>).</p>\n      </li>\n      <li>\n        <p>Faithful reasoning methods: techniques to encourage intermediate steps that are entailed by inputs, e.g., “Faithful Reasoning Using Large Language Models” (cf. <a href=\"https://arxiv.org/abs/2208.14271\">Creswell &amp; Shanahan (2022)</a>).</p>\n      </li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Evaluation metrics and strategies</strong>:</p>\n\n    <ul>\n      <li>\n        <p><strong>Entailment-based scoring</strong>: Compute <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-38-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;normal&quot;>E</mi><mi mathvariant=&quot;normal&quot;>n</mi><mi mathvariant=&quot;normal&quot;>t</mi><mi mathvariant=&quot;normal&quot;>a</mi><mi mathvariant=&quot;normal&quot;>i</mi><mi mathvariant=&quot;normal&quot;>l</mi></mrow><mo stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-295\" style=\"width: 6.096em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 5.055em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1005em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-296\"><span class=\"texatom\" id=\"MathJax-Span-297\"><span class=\"mrow\" id=\"MathJax-Span-298\"><span class=\"mi\" id=\"MathJax-Span-299\" style=\"font-family: STIXGeneral-Regular;\">E</span><span class=\"mi\" id=\"MathJax-Span-300\" style=\"font-family: STIXGeneral-Regular;\">n</span><span class=\"mi\" id=\"MathJax-Span-301\" style=\"font-family: STIXGeneral-Regular;\">t<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span class=\"mi\" id=\"MathJax-Span-302\" style=\"font-family: STIXGeneral-Regular;\">a</span><span class=\"mi\" id=\"MathJax-Span-303\" style=\"font-family: STIXGeneral-Regular;\">i</span><span class=\"mi\" id=\"MathJax-Span-304\" style=\"font-family: STIXGeneral-Regular;\">l</span></span></span><span class=\"mo\" id=\"MathJax-Span-305\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-306\" style=\"font-family: STIXGeneral-Italic;\">D</span><span class=\"mo\" id=\"MathJax-Span-307\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-308\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-309\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-310\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-311\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mrow class=\"MJX-TeXAtom-ORD\"><mi mathvariant=\"normal\">E</mi><mi mathvariant=\"normal\">n</mi><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">a</mi><mi mathvariant=\"normal\">i</mi><mi mathvariant=\"normal\">l</mi></mrow><mo stretchy=\"false\">(</mo><mi>D</mi><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-38\">\\mathrm{Entail}(D,a_i)</script> using an NLI model; aggregate to obtain <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-39-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>faith</mtext></mrow></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-312\" style=\"width: 2.398em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.305em, 1001.98em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-313\"><span class=\"msubsup\" id=\"MathJax-Span-314\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-315\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-316\"><span class=\"mrow\" id=\"MathJax-Span-317\"><span class=\"mtext\" id=\"MathJax-Span-318\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">faith</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>faith</mtext></mrow></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-39\">F_{\\text{faith}}</script>. SummaC shows improvements by aligning NLI granularity to document-level comparisons (cf. <a href=\"https://arxiv.org/abs/2111.09525\">Laban et al. (2021)</a>).</p>\n      </li>\n      <li>\n        <p><strong>QA-agreement</strong>: Generate questions from <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-40-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-319\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-320\"><span class=\"mi\" id=\"MathJax-Span-321\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-40\">y</script>, answer them against <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-41-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-322\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-323\"><span class=\"mi\" id=\"MathJax-Span-324\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-41\">D</script> and <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-42-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-325\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-326\"><span class=\"mi\" id=\"MathJax-Span-327\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-42\">y</script>; measure agreement as a faithfulness proxy (QAGS) (cf. <a href=\"https://arxiv.org/abs/2004.04228\">Wang et al. (2020)</a>).</p>\n      </li>\n      <li>\n        <p><strong>Claim-level precision/recall</strong>: Label each <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-43-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-328\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-329\"><span class=\"msubsup\" id=\"MathJax-Span-330\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-331\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-332\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-43\">a_i</script> as supported, contradicted, or not-enough-info; report supported-claim precision and contradiction rates (FEVER/FactCC-style) (cf. <a href=\"https://arxiv.org/abs/1803.05355\">Thorne et al. (2018)</a>; <a href=\"https://arxiv.org/abs/1910.12840\">Kryściński et al. (2019)</a>).</p>\n      </li>\n      <li>\n        <p><strong>Error localization and aggregation</strong>: * Highlight spans responsible for contradictions or unsupported claims; aggregate by sentences, entities, or relations to guide remediation (SummaC, FactCC) (cf. <a href=\"https://arxiv.org/abs/2111.09525\">Laban et al. (2021)</a>; <a href=\"https://arxiv.org/abs/1910.12840\">Kryściński et al. (2019)</a>).</p>\n      </li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Relation to groundedness and RAG</strong>:</p>\n\n    <ul>\n      <li>Faithfulness evaluates consistency of the model’s output with the given <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-44-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-333\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-334\"><span class=\"mi\" id=\"MathJax-Span-335\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-44\">D</script>; groundedness in RAG additionally requires that <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-45-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-336\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-337\"><span class=\"mi\" id=\"MathJax-Span-338\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-45\">D</script> itself be relevant and sufficient. Frameworks such as RAGAS explicitly score faithfulness alongside context relevance and answer self-containment in retrieval-augmented setups. See <a href=\"https://arxiv.org/abs/2309.15217\">Es et al. (2023)</a> and their <a href=\"https://aclanthology.org/2024.eacl-demo.16/\">EACL demo write-up</a>.</li>\n    </ul>\n  </li>\n</ul>\n<p>Faithfulness (often called extrinsic factuality) measures whether a model’s output is consistent with the provided evidence <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-21-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-187\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-188\"><span class=\"mi\" id=\"MathJax-Span-189\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-21\">D</script> (for example, a source article, retrieved passages, a database, or a table). Unlike truthfulness, which compares to the external world directly, faithfulness constrains correctness relative to the conditioning context: a faithful output does not contradict <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-22-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-190\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-191\"><span class=\"mi\" id=\"MathJax-Span-192\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-22\">D</script>, does not invent unsupported facts, and accurately preserves relationships present in <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-23-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-193\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-194\"><span class=\"mi\" id=\"MathJax-Span-195\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-23\">D</script>. In other words, a faithful output entails the information contained within the evidence <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-24-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-196\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-197\"><span class=\"mi\" id=\"MathJax-Span-198\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-24\">D</script>, without introducing distortions, omissions, or fabrications beyond what that evidence supports.</p>\n<p><strong>Definition</strong>:</p>\n<ul>\n      <li>\n        <p>Given a source document <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-25-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-199\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-200\"><span class=\"mi\" id=\"MathJax-Span-201\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-25\">D</script>, a prompt <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-26-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-202\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-203\"><span class=\"mi\" id=\"MathJax-Span-204\" style=\"font-family: STIXGeneral-Italic;\">x<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>x</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-26\">x</script>, and an output <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-27-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-205\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-206\"><span class=\"mi\" id=\"MathJax-Span-207\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-27\">y</script>, let <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-28-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><mo>&amp;#x2026;</mo><mo>,</mo><msub><mi>a</mi><mi>N</mi></msub></mrow></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-208\" style=\"width: 8.544em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 7.086em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1007.09em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-209\"><span class=\"mi\" id=\"MathJax-Span-210\" style=\"font-family: STIXGeneral-Italic;\">ϕ</span><span class=\"mo\" id=\"MathJax-Span-211\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-212\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-213\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-214\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"texatom\" id=\"MathJax-Span-215\" style=\"padding-left: 0.315em;\"><span class=\"mrow\" id=\"MathJax-Span-216\"><span class=\"msubsup\" id=\"MathJax-Span-217\"><span style=\"display: inline-block; position: relative; width: 0.94em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-218\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mn\" id=\"MathJax-Span-219\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-220\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mo\" id=\"MathJax-Span-221\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">…</span><span class=\"mo\" id=\"MathJax-Span-222\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-223\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.096em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-224\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-225\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>ϕ</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mrow class=\"MJX-TeXAtom-ORD\"><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>a</mi><mi>N</mi></msub></mrow></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-28\">\\phi(y)={a_1,\\dots,a_N}</script> be atomic claims extracted from <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-29-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-226\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-227\"><span class=\"mi\" id=\"MathJax-Span-228\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-29\">y</script>. A claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-30-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-229\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-230\"><span class=\"msubsup\" id=\"MathJax-Span-231\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-232\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-233\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-30\">a_i</script> is faithful if it is entailed by <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-31-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-234\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-235\"><span class=\"mi\" id=\"MathJax-Span-236\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-31\">D</script> and unfaithful if it is contradicted by <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-32-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-237\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-238\"><span class=\"mi\" id=\"MathJax-Span-239\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-32\">D</script> or not supported. A simple faithfulness score is:</p>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\" style=\"text-align: center;\"><span class=\"MathJax\" id=\"MathJax-Element-33-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>faith</mtext></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo>&amp;#x2223;</mo><mi>D</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi></mrow></munderover><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn mathvariant=&quot;bold&quot;>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo maxsize=&quot;1.2em&quot; minsize=&quot;1.2em&quot;>[</mo></mrow><mtext>Entail</mtext><mo stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo maxsize=&quot;1.2em&quot; minsize=&quot;1.2em&quot;>]</mo></mrow></math>\" role=\"presentation\" style=\"text-align: center; position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-240\" style=\"width: 18.128em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 15.107em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.253em, 1014.9em, 4.586em, -999.997em); top: -3.174em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-241\"><span class=\"msubsup\" id=\"MathJax-Span-242\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-243\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-244\"><span class=\"mrow\" id=\"MathJax-Span-245\"><span class=\"mtext\" id=\"MathJax-Span-246\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">faith</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-247\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-248\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-249\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∣</span><span class=\"mi\" id=\"MathJax-Span-250\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span><span class=\"mo\" id=\"MathJax-Span-251\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-252\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-253\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.42em, 4.169em, -999.997em); top: -4.685em; left: 50%; margin-left: -0.258em;\"><span class=\"mn\" id=\"MathJax-Span-254\" style=\"font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1000.73em, 4.169em, -999.997em); top: -3.331em; left: 50%; margin-left: -0.362em;\"><span class=\"mi\" id=\"MathJax-Span-255\" style=\"font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.84em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.836em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"munderover\" id=\"MathJax-Span-256\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.305em; height: 0px;\"><span style=\"position: absolute; clip: rect(2.867em, 1001.2em, 4.638em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-257\" style=\"font-family: STIXSizeOneSym; vertical-align: -0.518em;\">∑</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.94em, 4.273em, -999.997em); top: -2.862em; left: 0.107em;\"><span class=\"texatom\" id=\"MathJax-Span-258\"><span class=\"mrow\" id=\"MathJax-Span-259\"><span class=\"mi\" id=\"MathJax-Span-260\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mo\" id=\"MathJax-Span-261\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">=</span><span class=\"mn\" id=\"MathJax-Span-262\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.284em, 1000.52em, 4.169em, -999.997em); top: -5.206em; left: 0.367em;\"><span class=\"texatom\" id=\"MathJax-Span-263\"><span class=\"mrow\" id=\"MathJax-Span-264\"><span class=\"mi\" id=\"MathJax-Span-265\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-266\" style=\"padding-left: 0.211em;\"><span class=\"mrow\" id=\"MathJax-Span-267\"><span class=\"mn\" id=\"MathJax-Span-268\" style=\"font-family: STIXGeneral; font-weight: bold;\">1</span></span></span><span class=\"texatom\" id=\"MathJax-Span-269\" style=\"\"><span class=\"mrow\" id=\"MathJax-Span-270\"><span class=\"mo\" id=\"MathJax-Span-271\" style=\"vertical-align: -0.258em;\"><span><span style=\"font-size: 110%; font-family: STIXSizeOneSym;\">[</span></span></span></span></span><span class=\"mtext\" id=\"MathJax-Span-272\" style=\"font-family: STIXGeneral-Regular;\">Entail</span><span class=\"mo\" id=\"MathJax-Span-273\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-274\" style=\"font-family: STIXGeneral-Italic;\">D</span><span class=\"mo\" id=\"MathJax-Span-275\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-276\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-277\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-278\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-279\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"texatom\" id=\"MathJax-Span-280\" style=\"\"><span class=\"mrow\" id=\"MathJax-Span-281\"><span class=\"mo\" id=\"MathJax-Span-282\" style=\"vertical-align: -0.258em;\"><span><span style=\"font-size: 110%; font-family: STIXSizeOneSym;\">]</span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 3.18em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -1.559em; border-left: 0px solid; width: 0px; height: 3.753em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>faith</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>y</mi><mo>∣</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mi>N</mi></mrow></munderover><mrow class=\"MJX-TeXAtom-ORD\"><mn mathvariant=\"bold\">1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mo maxsize=\"1.2em\" minsize=\"1.2em\">[</mo></mrow><mtext>Entail</mtext><mo stretchy=\"false\">(</mo><mi>D</mi><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mrow class=\"MJX-TeXAtom-ORD\"><mo maxsize=\"1.2em\" minsize=\"1.2em\">]</mo></mrow></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-33\">F_{\\text{faith}}(y \\mid D) = \\frac{1}{N}\\sum_{i=1}^{N}\\mathbf{1}\\big[\\text{Entail}(D, a_i)\\big]</script>\n\n        <ul>\n          <li>with task-specific choices for the entailment relation (e.g., NLI, QA-agreement). This focuses evaluation on alignment with <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-34-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-283\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-284\"><span class=\"mi\" id=\"MathJax-Span-285\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-34\">D</script> rather than open-world truth.</li>\n        </ul>\n      </li>\n    </ul>\n<p>Given a source document <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-25-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-199\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-200\"><span class=\"mi\" id=\"MathJax-Span-201\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-25\">D</script>, a prompt <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-26-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-202\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-203\"><span class=\"mi\" id=\"MathJax-Span-204\" style=\"font-family: STIXGeneral-Italic;\">x<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>x</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-26\">x</script>, and an output <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-27-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-205\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-206\"><span class=\"mi\" id=\"MathJax-Span-207\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-27\">y</script>, let <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-28-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><mo>&amp;#x2026;</mo><mo>,</mo><msub><mi>a</mi><mi>N</mi></msub></mrow></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-208\" style=\"width: 8.544em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 7.086em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1007.09em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-209\"><span class=\"mi\" id=\"MathJax-Span-210\" style=\"font-family: STIXGeneral-Italic;\">ϕ</span><span class=\"mo\" id=\"MathJax-Span-211\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-212\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-213\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-214\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"texatom\" id=\"MathJax-Span-215\" style=\"padding-left: 0.315em;\"><span class=\"mrow\" id=\"MathJax-Span-216\"><span class=\"msubsup\" id=\"MathJax-Span-217\"><span style=\"display: inline-block; position: relative; width: 0.94em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-218\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mn\" id=\"MathJax-Span-219\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-220\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mo\" id=\"MathJax-Span-221\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">…</span><span class=\"mo\" id=\"MathJax-Span-222\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-223\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.096em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-224\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-225\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>ϕ</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mrow class=\"MJX-TeXAtom-ORD\"><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>a</mi><mi>N</mi></msub></mrow></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-28\">\\phi(y)={a_1,\\dots,a_N}</script> be atomic claims extracted from <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-29-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-226\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-227\"><span class=\"mi\" id=\"MathJax-Span-228\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-29\">y</script>. A claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-30-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-229\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-230\"><span class=\"msubsup\" id=\"MathJax-Span-231\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-232\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-233\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-30\">a_i</script> is faithful if it is entailed by <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-31-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-234\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-235\"><span class=\"mi\" id=\"MathJax-Span-236\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-31\">D</script> and unfaithful if it is contradicted by <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-32-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-237\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-238\"><span class=\"mi\" id=\"MathJax-Span-239\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-32\">D</script> or not supported. A simple faithfulness score is:</p>\n<ul>\n          <li>with task-specific choices for the entailment relation (e.g., NLI, QA-agreement). This focuses evaluation on alignment with <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-34-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-283\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-284\"><span class=\"mi\" id=\"MathJax-Span-285\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-34\">D</script> rather than open-world truth.</li>\n        </ul>\n<p><strong>Key properties and challenges</strong>:</p>\n<ul>\n      <li>\n        <p><strong>Evidence dependence</strong>: Faithfulness is conditioned on the given context <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-35-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-286\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-287\"><span class=\"mi\" id=\"MathJax-Span-288\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-35\">D</script>. The same answer may be truthful globally yet unfaithful if <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-36-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-289\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-290\"><span class=\"mi\" id=\"MathJax-Span-291\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-36\">D</script> does not support it (or directly contradicts it). This makes corpus selection and evidence coverage critical. FEVER explicitly couples claim verification with evidence retrieval from Wikipedia (cf. <a href=\"https://arxiv.org/abs/1803.05355\">Thorne et al. (2018)</a>; <a href=\"https://arxiv.org/abs/1811.10971\">Thorne et al. (2018b)</a>).</p>\n      </li>\n      <li>\n        <p><strong>Granularity mismatch</strong>: Summaries and long responses mix many claims; entailment models trained at sentence level can miss document-level inconsistencies. SummaC revisits NLI for document-level consistency via sentence segmentation and score aggregation (cf. <a href=\"https://arxiv.org/abs/2111.09525\">Laban et al. (2021)</a>; <a href=\"https://direct.mit.edu/tacl/article/doi/10.1162/tacl_a_00453/109470/SummaC-Re-Visiting-NLI-based-Models-for\">Laban et al. (2022)</a>).</p>\n      </li>\n      <li>\n        <p><strong>Hallucination vs. contradiction</strong>: Unfaithfulness includes fabricated details not in <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-37-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-292\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-293\"><span class=\"mi\" id=\"MathJax-Span-294\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-37\">D</script> (hallucinations) and outright contradictions. FactCC trains a classifier to detect contradictions and unsupported content relative to the source (cf. <a href=\"https://arxiv.org/abs/1910.12840\">Kryściński et al. (2019)</a>).</p>\n      </li>\n      <li>\n        <p><strong>Question-centric checking</strong>: QAGS converts faithfulness into question-answer agreement: if asking aligned questions of the source and the summary yields the same answers, the summary is more likely faithful (cf. <a href=\"https://aclanthology.org/2020.acl-main.450/\">Wang et al. (2020)</a>).</p>\n      </li>\n      <li>\n        <p><strong>Domain and style transfer</strong>: Methods tuned for news summarization can degrade on narratives or specialized domains; ongoing work explores faithfulness in new genres (e.g., StorySumm) (cf. <a href=\"https://arxiv.org/abs/2407.06501\">StorySumm, Jin et al. (2024)</a>).</p>\n      </li>\n    </ul>\n<p><strong>Evidence dependence</strong>: Faithfulness is conditioned on the given context <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-35-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-286\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-287\"><span class=\"mi\" id=\"MathJax-Span-288\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-35\">D</script>. The same answer may be truthful globally yet unfaithful if <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-36-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-289\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-290\"><span class=\"mi\" id=\"MathJax-Span-291\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-36\">D</script> does not support it (or directly contradicts it). This makes corpus selection and evidence coverage critical. FEVER explicitly couples claim verification with evidence retrieval from Wikipedia (cf. <a href=\"https://arxiv.org/abs/1803.05355\">Thorne et al. (2018)</a>; <a href=\"https://arxiv.org/abs/1811.10971\">Thorne et al. (2018b)</a>).</p>\n<p><strong>Granularity mismatch</strong>: Summaries and long responses mix many claims; entailment models trained at sentence level can miss document-level inconsistencies. SummaC revisits NLI for document-level consistency via sentence segmentation and score aggregation (cf. <a href=\"https://arxiv.org/abs/2111.09525\">Laban et al. (2021)</a>; <a href=\"https://direct.mit.edu/tacl/article/doi/10.1162/tacl_a_00453/109470/SummaC-Re-Visiting-NLI-based-Models-for\">Laban et al. (2022)</a>).</p>\n<p><strong>Hallucination vs. contradiction</strong>: Unfaithfulness includes fabricated details not in <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-37-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-292\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-293\"><span class=\"mi\" id=\"MathJax-Span-294\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-37\">D</script> (hallucinations) and outright contradictions. FactCC trains a classifier to detect contradictions and unsupported content relative to the source (cf. <a href=\"https://arxiv.org/abs/1910.12840\">Kryściński et al. (2019)</a>).</p>\n<p><strong>Question-centric checking</strong>: QAGS converts faithfulness into question-answer agreement: if asking aligned questions of the source and the summary yields the same answers, the summary is more likely faithful (cf. <a href=\"https://aclanthology.org/2020.acl-main.450/\">Wang et al. (2020)</a>).</p>\n<p><strong>Domain and style transfer</strong>: Methods tuned for news summarization can degrade on narratives or specialized domains; ongoing work explores faithfulness in new genres (e.g., StorySumm) (cf. <a href=\"https://arxiv.org/abs/2407.06501\">StorySumm, Jin et al. (2024)</a>).</p>\n<p><strong>Representative benchmarks and methods</strong>:</p>\n<ul>\n      <li>\n        <p>FEVER: claim verification with evidence retrieval from Wikipedia (cf. <a href=\"https://arxiv.org/abs/1803.05355\">Thorne et al. (2018)</a>; <a href=\"https://arxiv.org/abs/1811.10971\">Thorne et al. (2018b)</a>).</p>\n      </li>\n      <li>\n        <p>FactCC: NLI-style model for detecting contradictions/unsupported content in summaries (cf. <a href=\"https://arxiv.org/abs/1910.12840\">Kryściński et al. (2019)</a>; code: <a href=\"https://github.com/salesforce/factCC\">GitHub</a>).</p>\n      </li>\n      <li>\n        <p>QAGS: QA-based agreement between source and summary as a proxy for faithfulness (cf. <a href=\"https://arxiv.org/abs/2004.04228\">Wang et al. (2020)</a>; ACL version: <a href=\"https://aclanthology.org/2020.acl-main.450/\">link</a>).</p>\n      </li>\n      <li>\n        <p>SummaC: document-level inconsistency detection via NLI aggregation (cf. <a href=\"https://arxiv.org/abs/2111.09525\">Laban et al. (2021)</a>; TACL version: <a href=\"https://direct.mit.edu/tacl/article/doi/10.1162/tacl_a_00453/109470/SummaC-Re-Visiting-NLI-based-Models-for\">Laban et al. (2022)</a>).</p>\n      </li>\n      <li>\n        <p>Faithful reasoning methods: techniques to encourage intermediate steps that are entailed by inputs, e.g., “Faithful Reasoning Using Large Language Models” (cf. <a href=\"https://arxiv.org/abs/2208.14271\">Creswell &amp; Shanahan (2022)</a>).</p>\n      </li>\n    </ul>\n<p>FEVER: claim verification with evidence retrieval from Wikipedia (cf. <a href=\"https://arxiv.org/abs/1803.05355\">Thorne et al. (2018)</a>; <a href=\"https://arxiv.org/abs/1811.10971\">Thorne et al. (2018b)</a>).</p>\n<p>FactCC: NLI-style model for detecting contradictions/unsupported content in summaries (cf. <a href=\"https://arxiv.org/abs/1910.12840\">Kryściński et al. (2019)</a>; code: <a href=\"https://github.com/salesforce/factCC\">GitHub</a>).</p>\n<p>QAGS: QA-based agreement between source and summary as a proxy for faithfulness (cf. <a href=\"https://arxiv.org/abs/2004.04228\">Wang et al. (2020)</a>; ACL version: <a href=\"https://aclanthology.org/2020.acl-main.450/\">link</a>).</p>\n<p>SummaC: document-level inconsistency detection via NLI aggregation (cf. <a href=\"https://arxiv.org/abs/2111.09525\">Laban et al. (2021)</a>; TACL version: <a href=\"https://direct.mit.edu/tacl/article/doi/10.1162/tacl_a_00453/109470/SummaC-Re-Visiting-NLI-based-Models-for\">Laban et al. (2022)</a>).</p>\n<p>Faithful reasoning methods: techniques to encourage intermediate steps that are entailed by inputs, e.g., “Faithful Reasoning Using Large Language Models” (cf. <a href=\"https://arxiv.org/abs/2208.14271\">Creswell &amp; Shanahan (2022)</a>).</p>\n<p><strong>Evaluation metrics and strategies</strong>:</p>\n<ul>\n      <li>\n        <p><strong>Entailment-based scoring</strong>: Compute <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-38-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;normal&quot;>E</mi><mi mathvariant=&quot;normal&quot;>n</mi><mi mathvariant=&quot;normal&quot;>t</mi><mi mathvariant=&quot;normal&quot;>a</mi><mi mathvariant=&quot;normal&quot;>i</mi><mi mathvariant=&quot;normal&quot;>l</mi></mrow><mo stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-295\" style=\"width: 6.096em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 5.055em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1005em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-296\"><span class=\"texatom\" id=\"MathJax-Span-297\"><span class=\"mrow\" id=\"MathJax-Span-298\"><span class=\"mi\" id=\"MathJax-Span-299\" style=\"font-family: STIXGeneral-Regular;\">E</span><span class=\"mi\" id=\"MathJax-Span-300\" style=\"font-family: STIXGeneral-Regular;\">n</span><span class=\"mi\" id=\"MathJax-Span-301\" style=\"font-family: STIXGeneral-Regular;\">t<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span class=\"mi\" id=\"MathJax-Span-302\" style=\"font-family: STIXGeneral-Regular;\">a</span><span class=\"mi\" id=\"MathJax-Span-303\" style=\"font-family: STIXGeneral-Regular;\">i</span><span class=\"mi\" id=\"MathJax-Span-304\" style=\"font-family: STIXGeneral-Regular;\">l</span></span></span><span class=\"mo\" id=\"MathJax-Span-305\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-306\" style=\"font-family: STIXGeneral-Italic;\">D</span><span class=\"mo\" id=\"MathJax-Span-307\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-308\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-309\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-310\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-311\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mrow class=\"MJX-TeXAtom-ORD\"><mi mathvariant=\"normal\">E</mi><mi mathvariant=\"normal\">n</mi><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">a</mi><mi mathvariant=\"normal\">i</mi><mi mathvariant=\"normal\">l</mi></mrow><mo stretchy=\"false\">(</mo><mi>D</mi><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-38\">\\mathrm{Entail}(D,a_i)</script> using an NLI model; aggregate to obtain <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-39-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>faith</mtext></mrow></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-312\" style=\"width: 2.398em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.305em, 1001.98em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-313\"><span class=\"msubsup\" id=\"MathJax-Span-314\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-315\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-316\"><span class=\"mrow\" id=\"MathJax-Span-317\"><span class=\"mtext\" id=\"MathJax-Span-318\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">faith</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>faith</mtext></mrow></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-39\">F_{\\text{faith}}</script>. SummaC shows improvements by aligning NLI granularity to document-level comparisons (cf. <a href=\"https://arxiv.org/abs/2111.09525\">Laban et al. (2021)</a>).</p>\n      </li>\n      <li>\n        <p><strong>QA-agreement</strong>: Generate questions from <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-40-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-319\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-320\"><span class=\"mi\" id=\"MathJax-Span-321\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-40\">y</script>, answer them against <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-41-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-322\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-323\"><span class=\"mi\" id=\"MathJax-Span-324\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-41\">D</script> and <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-42-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-325\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-326\"><span class=\"mi\" id=\"MathJax-Span-327\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-42\">y</script>; measure agreement as a faithfulness proxy (QAGS) (cf. <a href=\"https://arxiv.org/abs/2004.04228\">Wang et al. (2020)</a>).</p>\n      </li>\n      <li>\n        <p><strong>Claim-level precision/recall</strong>: Label each <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-43-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-328\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-329\"><span class=\"msubsup\" id=\"MathJax-Span-330\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-331\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-332\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-43\">a_i</script> as supported, contradicted, or not-enough-info; report supported-claim precision and contradiction rates (FEVER/FactCC-style) (cf. <a href=\"https://arxiv.org/abs/1803.05355\">Thorne et al. (2018)</a>; <a href=\"https://arxiv.org/abs/1910.12840\">Kryściński et al. (2019)</a>).</p>\n      </li>\n      <li>\n        <p><strong>Error localization and aggregation</strong>: * Highlight spans responsible for contradictions or unsupported claims; aggregate by sentences, entities, or relations to guide remediation (SummaC, FactCC) (cf. <a href=\"https://arxiv.org/abs/2111.09525\">Laban et al. (2021)</a>; <a href=\"https://arxiv.org/abs/1910.12840\">Kryściński et al. (2019)</a>).</p>\n      </li>\n    </ul>\n<p><strong>Entailment-based scoring</strong>: Compute <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-38-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi mathvariant=&quot;normal&quot;>E</mi><mi mathvariant=&quot;normal&quot;>n</mi><mi mathvariant=&quot;normal&quot;>t</mi><mi mathvariant=&quot;normal&quot;>a</mi><mi mathvariant=&quot;normal&quot;>i</mi><mi mathvariant=&quot;normal&quot;>l</mi></mrow><mo stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-295\" style=\"width: 6.096em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 5.055em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1005em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-296\"><span class=\"texatom\" id=\"MathJax-Span-297\"><span class=\"mrow\" id=\"MathJax-Span-298\"><span class=\"mi\" id=\"MathJax-Span-299\" style=\"font-family: STIXGeneral-Regular;\">E</span><span class=\"mi\" id=\"MathJax-Span-300\" style=\"font-family: STIXGeneral-Regular;\">n</span><span class=\"mi\" id=\"MathJax-Span-301\" style=\"font-family: STIXGeneral-Regular;\">t<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span class=\"mi\" id=\"MathJax-Span-302\" style=\"font-family: STIXGeneral-Regular;\">a</span><span class=\"mi\" id=\"MathJax-Span-303\" style=\"font-family: STIXGeneral-Regular;\">i</span><span class=\"mi\" id=\"MathJax-Span-304\" style=\"font-family: STIXGeneral-Regular;\">l</span></span></span><span class=\"mo\" id=\"MathJax-Span-305\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-306\" style=\"font-family: STIXGeneral-Italic;\">D</span><span class=\"mo\" id=\"MathJax-Span-307\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-308\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-309\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-310\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-311\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mrow class=\"MJX-TeXAtom-ORD\"><mi mathvariant=\"normal\">E</mi><mi mathvariant=\"normal\">n</mi><mi mathvariant=\"normal\">t</mi><mi mathvariant=\"normal\">a</mi><mi mathvariant=\"normal\">i</mi><mi mathvariant=\"normal\">l</mi></mrow><mo stretchy=\"false\">(</mo><mi>D</mi><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-38\">\\mathrm{Entail}(D,a_i)</script> using an NLI model; aggregate to obtain <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-39-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>faith</mtext></mrow></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-312\" style=\"width: 2.398em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.305em, 1001.98em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-313\"><span class=\"msubsup\" id=\"MathJax-Span-314\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-315\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-316\"><span class=\"mrow\" id=\"MathJax-Span-317\"><span class=\"mtext\" id=\"MathJax-Span-318\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">faith</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>faith</mtext></mrow></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-39\">F_{\\text{faith}}</script>. SummaC shows improvements by aligning NLI granularity to document-level comparisons (cf. <a href=\"https://arxiv.org/abs/2111.09525\">Laban et al. (2021)</a>).</p>\n<p><strong>QA-agreement</strong>: Generate questions from <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-40-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-319\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-320\"><span class=\"mi\" id=\"MathJax-Span-321\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-40\">y</script>, answer them against <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-41-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-322\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-323\"><span class=\"mi\" id=\"MathJax-Span-324\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-41\">D</script> and <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-42-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-325\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-326\"><span class=\"mi\" id=\"MathJax-Span-327\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-42\">y</script>; measure agreement as a faithfulness proxy (QAGS) (cf. <a href=\"https://arxiv.org/abs/2004.04228\">Wang et al. (2020)</a>).</p>\n<p><strong>Claim-level precision/recall</strong>: Label each <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-43-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-328\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-329\"><span class=\"msubsup\" id=\"MathJax-Span-330\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-331\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-332\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-43\">a_i</script> as supported, contradicted, or not-enough-info; report supported-claim precision and contradiction rates (FEVER/FactCC-style) (cf. <a href=\"https://arxiv.org/abs/1803.05355\">Thorne et al. (2018)</a>; <a href=\"https://arxiv.org/abs/1910.12840\">Kryściński et al. (2019)</a>).</p>\n<p><strong>Error localization and aggregation</strong>: * Highlight spans responsible for contradictions or unsupported claims; aggregate by sentences, entities, or relations to guide remediation (SummaC, FactCC) (cf. <a href=\"https://arxiv.org/abs/2111.09525\">Laban et al. (2021)</a>; <a href=\"https://arxiv.org/abs/1910.12840\">Kryściński et al. (2019)</a>).</p>\n<p><strong>Relation to groundedness and RAG</strong>:</p>\n<ul>\n      <li>Faithfulness evaluates consistency of the model’s output with the given <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-44-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-333\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-334\"><span class=\"mi\" id=\"MathJax-Span-335\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-44\">D</script>; groundedness in RAG additionally requires that <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-45-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-336\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-337\"><span class=\"mi\" id=\"MathJax-Span-338\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-45\">D</script> itself be relevant and sufficient. Frameworks such as RAGAS explicitly score faithfulness alongside context relevance and answer self-containment in retrieval-augmented setups. See <a href=\"https://arxiv.org/abs/2309.15217\">Es et al. (2023)</a> and their <a href=\"https://aclanthology.org/2024.eacl-demo.16/\">EACL demo write-up</a>.</li>\n    </ul>",
    "contentMarkdown": "*   Faithfulness (often called extrinsic factuality) measures whether a model’s output is consistent with the provided evidence DDD (for example, a source article, retrieved passages, a database, or a table). Unlike truthfulness, which compares to the external world directly, faithfulness constrains correctness relative to the conditioning context: a faithful output does not contradict DDD, does not invent unsupported facts, and accurately preserves relationships present in DDD. In other words, a faithful output entails the information contained within the evidence DDD, without introducing distortions, omissions, or fabrications beyond what that evidence supports.\n    \n*   **Definition**:\n    \n    *   Given a source document DDD, a prompt xxx, and an output yyy, let ϕ(y)\\=a1,…,aNϕ(y)\\=a1,…,aN\\\\phi(y)={a\\_1,\\\\dots,a\\_N} be atomic claims extracted from yyy. A claim aiaia\\_i is faithful if it is entailed by DDD and unfaithful if it is contradicted by DDD or not supported. A simple faithfulness score is:\n        \n        Ffaith(y∣D)\\=1N∑i\\=1N1\\[Entail(D,ai)\\]Ffaith(y∣D)\\=1N∑i\\=1N1\\[Entail(D,ai)\\]\n        \n        F\\_{\\\\text{faith}}(y \\\\mid D) = \\\\frac{1}{N}\\\\sum\\_{i=1}^{N}\\\\mathbf{1}\\\\big\\[\\\\text{Entail}(D, a\\_i)\\\\big\\]\n        *   with task-specific choices for the entailment relation (e.g., NLI, QA-agreement). This focuses evaluation on alignment with DDD rather than open-world truth.\n*   **Key properties and challenges**:\n    \n    *   **Evidence dependence**: Faithfulness is conditioned on the given context DDD. The same answer may be truthful globally yet unfaithful if DDD does not support it (or directly contradicts it). This makes corpus selection and evidence coverage critical. FEVER explicitly couples claim verification with evidence retrieval from Wikipedia (cf. [Thorne et al. (2018)](https://arxiv.org/abs/1803.05355); [Thorne et al. (2018b)](https://arxiv.org/abs/1811.10971)).\n        \n    *   **Granularity mismatch**: Summaries and long responses mix many claims; entailment models trained at sentence level can miss document-level inconsistencies. SummaC revisits NLI for document-level consistency via sentence segmentation and score aggregation (cf. [Laban et al. (2021)](https://arxiv.org/abs/2111.09525); [Laban et al. (2022)](https://direct.mit.edu/tacl/article/doi/10.1162/tacl_a_00453/109470/SummaC-Re-Visiting-NLI-based-Models-for)).\n        \n    *   **Hallucination vs. contradiction**: Unfaithfulness includes fabricated details not in DDD (hallucinations) and outright contradictions. FactCC trains a classifier to detect contradictions and unsupported content relative to the source (cf. [Kryściński et al. (2019)](https://arxiv.org/abs/1910.12840)).\n        \n    *   **Question-centric checking**: QAGS converts faithfulness into question-answer agreement: if asking aligned questions of the source and the summary yields the same answers, the summary is more likely faithful (cf. [Wang et al. (2020)](https://aclanthology.org/2020.acl-main.450/)).\n        \n    *   **Domain and style transfer**: Methods tuned for news summarization can degrade on narratives or specialized domains; ongoing work explores faithfulness in new genres (e.g., StorySumm) (cf. [StorySumm, Jin et al. (2024)](https://arxiv.org/abs/2407.06501)).\n        \n*   **Representative benchmarks and methods**:\n    \n    *   FEVER: claim verification with evidence retrieval from Wikipedia (cf. [Thorne et al. (2018)](https://arxiv.org/abs/1803.05355); [Thorne et al. (2018b)](https://arxiv.org/abs/1811.10971)).\n        \n    *   FactCC: NLI-style model for detecting contradictions/unsupported content in summaries (cf. [Kryściński et al. (2019)](https://arxiv.org/abs/1910.12840); code: [GitHub](https://github.com/salesforce/factCC)).\n        \n    *   QAGS: QA-based agreement between source and summary as a proxy for faithfulness (cf. [Wang et al. (2020)](https://arxiv.org/abs/2004.04228); ACL version: [link](https://aclanthology.org/2020.acl-main.450/)).\n        \n    *   SummaC: document-level inconsistency detection via NLI aggregation (cf. [Laban et al. (2021)](https://arxiv.org/abs/2111.09525); TACL version: [Laban et al. (2022)](https://direct.mit.edu/tacl/article/doi/10.1162/tacl_a_00453/109470/SummaC-Re-Visiting-NLI-based-Models-for)).\n        \n    *   Faithful reasoning methods: techniques to encourage intermediate steps that are entailed by inputs, e.g., “Faithful Reasoning Using Large Language Models” (cf. [Creswell & Shanahan (2022)](https://arxiv.org/abs/2208.14271)).\n        \n*   **Evaluation metrics and strategies**:\n    \n    *   **Entailment-based scoring**: Compute Entail(D,ai)Entail(D,ai)\\\\mathrm{Entail}(D,a\\_i) using an NLI model; aggregate to obtain FfaithFfaithF\\_{\\\\text{faith}}. SummaC shows improvements by aligning NLI granularity to document-level comparisons (cf. [Laban et al. (2021)](https://arxiv.org/abs/2111.09525)).\n        \n    *   **QA-agreement**: Generate questions from yyy, answer them against DDD and yyy; measure agreement as a faithfulness proxy (QAGS) (cf. [Wang et al. (2020)](https://arxiv.org/abs/2004.04228)).\n        \n    *   **Claim-level precision/recall**: Label each aiaia\\_i as supported, contradicted, or not-enough-info; report supported-claim precision and contradiction rates (FEVER/FactCC-style) (cf. [Thorne et al. (2018)](https://arxiv.org/abs/1803.05355); [Kryściński et al. (2019)](https://arxiv.org/abs/1910.12840)).\n        \n    *   **Error localization and aggregation**: \\* Highlight spans responsible for contradictions or unsupported claims; aggregate by sentences, entities, or relations to guide remediation (SummaC, FactCC) (cf. [Laban et al. (2021)](https://arxiv.org/abs/2111.09525); [Kryściński et al. (2019)](https://arxiv.org/abs/1910.12840)).\n        \n*   **Relation to groundedness and RAG**:\n    \n    *   Faithfulness evaluates consistency of the model’s output with the given DDD; groundedness in RAG additionally requires that DDD itself be relevant and sufficient. Frameworks such as RAGAS explicitly score faithfulness alongside context relevance and answer self-containment in retrieval-augmented setups. See [Es et al. (2023)](https://arxiv.org/abs/2309.15217) and their [EACL demo write-up](https://aclanthology.org/2024.eacl-demo.16/).\n\nFaithfulness (often called extrinsic factuality) measures whether a model’s output is consistent with the provided evidence DDD (for example, a source article, retrieved passages, a database, or a table). Unlike truthfulness, which compares to the external world directly, faithfulness constrains correctness relative to the conditioning context: a faithful output does not contradict DDD, does not invent unsupported facts, and accurately preserves relationships present in DDD. In other words, a faithful output entails the information contained within the evidence DDD, without introducing distortions, omissions, or fabrications beyond what that evidence supports.\n\n**Definition**:\n\n*   Given a source document DDD, a prompt xxx, and an output yyy, let ϕ(y)\\=a1,…,aNϕ(y)\\=a1,…,aN\\\\phi(y)={a\\_1,\\\\dots,a\\_N} be atomic claims extracted from yyy. A claim aiaia\\_i is faithful if it is entailed by DDD and unfaithful if it is contradicted by DDD or not supported. A simple faithfulness score is:\n    \n    Ffaith(y∣D)\\=1N∑i\\=1N1\\[Entail(D,ai)\\]Ffaith(y∣D)\\=1N∑i\\=1N1\\[Entail(D,ai)\\]\n    \n    F\\_{\\\\text{faith}}(y \\\\mid D) = \\\\frac{1}{N}\\\\sum\\_{i=1}^{N}\\\\mathbf{1}\\\\big\\[\\\\text{Entail}(D, a\\_i)\\\\big\\]\n    *   with task-specific choices for the entailment relation (e.g., NLI, QA-agreement). This focuses evaluation on alignment with DDD rather than open-world truth.\n\nGiven a source document DDD, a prompt xxx, and an output yyy, let ϕ(y)\\=a1,…,aNϕ(y)\\=a1,…,aN\\\\phi(y)={a\\_1,\\\\dots,a\\_N} be atomic claims extracted from yyy. A claim aiaia\\_i is faithful if it is entailed by DDD and unfaithful if it is contradicted by DDD or not supported. A simple faithfulness score is:\n\n*   with task-specific choices for the entailment relation (e.g., NLI, QA-agreement). This focuses evaluation on alignment with DDD rather than open-world truth.\n\n**Key properties and challenges**:\n\n*   **Evidence dependence**: Faithfulness is conditioned on the given context DDD. The same answer may be truthful globally yet unfaithful if DDD does not support it (or directly contradicts it). This makes corpus selection and evidence coverage critical. FEVER explicitly couples claim verification with evidence retrieval from Wikipedia (cf. [Thorne et al. (2018)](https://arxiv.org/abs/1803.05355); [Thorne et al. (2018b)](https://arxiv.org/abs/1811.10971)).\n    \n*   **Granularity mismatch**: Summaries and long responses mix many claims; entailment models trained at sentence level can miss document-level inconsistencies. SummaC revisits NLI for document-level consistency via sentence segmentation and score aggregation (cf. [Laban et al. (2021)](https://arxiv.org/abs/2111.09525); [Laban et al. (2022)](https://direct.mit.edu/tacl/article/doi/10.1162/tacl_a_00453/109470/SummaC-Re-Visiting-NLI-based-Models-for)).\n    \n*   **Hallucination vs. contradiction**: Unfaithfulness includes fabricated details not in DDD (hallucinations) and outright contradictions. FactCC trains a classifier to detect contradictions and unsupported content relative to the source (cf. [Kryściński et al. (2019)](https://arxiv.org/abs/1910.12840)).\n    \n*   **Question-centric checking**: QAGS converts faithfulness into question-answer agreement: if asking aligned questions of the source and the summary yields the same answers, the summary is more likely faithful (cf. [Wang et al. (2020)](https://aclanthology.org/2020.acl-main.450/)).\n    \n*   **Domain and style transfer**: Methods tuned for news summarization can degrade on narratives or specialized domains; ongoing work explores faithfulness in new genres (e.g., StorySumm) (cf. [StorySumm, Jin et al. (2024)](https://arxiv.org/abs/2407.06501)).\n    \n\n**Evidence dependence**: Faithfulness is conditioned on the given context DDD. The same answer may be truthful globally yet unfaithful if DDD does not support it (or directly contradicts it). This makes corpus selection and evidence coverage critical. FEVER explicitly couples claim verification with evidence retrieval from Wikipedia (cf. [Thorne et al. (2018)](https://arxiv.org/abs/1803.05355); [Thorne et al. (2018b)](https://arxiv.org/abs/1811.10971)).\n\n**Granularity mismatch**: Summaries and long responses mix many claims; entailment models trained at sentence level can miss document-level inconsistencies. SummaC revisits NLI for document-level consistency via sentence segmentation and score aggregation (cf. [Laban et al. (2021)](https://arxiv.org/abs/2111.09525); [Laban et al. (2022)](https://direct.mit.edu/tacl/article/doi/10.1162/tacl_a_00453/109470/SummaC-Re-Visiting-NLI-based-Models-for)).\n\n**Hallucination vs. contradiction**: Unfaithfulness includes fabricated details not in DDD (hallucinations) and outright contradictions. FactCC trains a classifier to detect contradictions and unsupported content relative to the source (cf. [Kryściński et al. (2019)](https://arxiv.org/abs/1910.12840)).\n\n**Question-centric checking**: QAGS converts faithfulness into question-answer agreement: if asking aligned questions of the source and the summary yields the same answers, the summary is more likely faithful (cf. [Wang et al. (2020)](https://aclanthology.org/2020.acl-main.450/)).\n\n**Domain and style transfer**: Methods tuned for news summarization can degrade on narratives or specialized domains; ongoing work explores faithfulness in new genres (e.g., StorySumm) (cf. [StorySumm, Jin et al. (2024)](https://arxiv.org/abs/2407.06501)).\n\n**Representative benchmarks and methods**:\n\n*   FEVER: claim verification with evidence retrieval from Wikipedia (cf. [Thorne et al. (2018)](https://arxiv.org/abs/1803.05355); [Thorne et al. (2018b)](https://arxiv.org/abs/1811.10971)).\n    \n*   FactCC: NLI-style model for detecting contradictions/unsupported content in summaries (cf. [Kryściński et al. (2019)](https://arxiv.org/abs/1910.12840); code: [GitHub](https://github.com/salesforce/factCC)).\n    \n*   QAGS: QA-based agreement between source and summary as a proxy for faithfulness (cf. [Wang et al. (2020)](https://arxiv.org/abs/2004.04228); ACL version: [link](https://aclanthology.org/2020.acl-main.450/)).\n    \n*   SummaC: document-level inconsistency detection via NLI aggregation (cf. [Laban et al. (2021)](https://arxiv.org/abs/2111.09525); TACL version: [Laban et al. (2022)](https://direct.mit.edu/tacl/article/doi/10.1162/tacl_a_00453/109470/SummaC-Re-Visiting-NLI-based-Models-for)).\n    \n*   Faithful reasoning methods: techniques to encourage intermediate steps that are entailed by inputs, e.g., “Faithful Reasoning Using Large Language Models” (cf. [Creswell & Shanahan (2022)](https://arxiv.org/abs/2208.14271)).\n    \n\nFEVER: claim verification with evidence retrieval from Wikipedia (cf. [Thorne et al. (2018)](https://arxiv.org/abs/1803.05355); [Thorne et al. (2018b)](https://arxiv.org/abs/1811.10971)).\n\nFactCC: NLI-style model for detecting contradictions/unsupported content in summaries (cf. [Kryściński et al. (2019)](https://arxiv.org/abs/1910.12840); code: [GitHub](https://github.com/salesforce/factCC)).\n\nQAGS: QA-based agreement between source and summary as a proxy for faithfulness (cf. [Wang et al. (2020)](https://arxiv.org/abs/2004.04228); ACL version: [link](https://aclanthology.org/2020.acl-main.450/)).\n\nSummaC: document-level inconsistency detection via NLI aggregation (cf. [Laban et al. (2021)](https://arxiv.org/abs/2111.09525); TACL version: [Laban et al. (2022)](https://direct.mit.edu/tacl/article/doi/10.1162/tacl_a_00453/109470/SummaC-Re-Visiting-NLI-based-Models-for)).\n\nFaithful reasoning methods: techniques to encourage intermediate steps that are entailed by inputs, e.g., “Faithful Reasoning Using Large Language Models” (cf. [Creswell & Shanahan (2022)](https://arxiv.org/abs/2208.14271)).\n\n**Evaluation metrics and strategies**:\n\n*   **Entailment-based scoring**: Compute Entail(D,ai)Entail(D,ai)\\\\mathrm{Entail}(D,a\\_i) using an NLI model; aggregate to obtain FfaithFfaithF\\_{\\\\text{faith}}. SummaC shows improvements by aligning NLI granularity to document-level comparisons (cf. [Laban et al. (2021)](https://arxiv.org/abs/2111.09525)).\n    \n*   **QA-agreement**: Generate questions from yyy, answer them against DDD and yyy; measure agreement as a faithfulness proxy (QAGS) (cf. [Wang et al. (2020)](https://arxiv.org/abs/2004.04228)).\n    \n*   **Claim-level precision/recall**: Label each aiaia\\_i as supported, contradicted, or not-enough-info; report supported-claim precision and contradiction rates (FEVER/FactCC-style) (cf. [Thorne et al. (2018)](https://arxiv.org/abs/1803.05355); [Kryściński et al. (2019)](https://arxiv.org/abs/1910.12840)).\n    \n*   **Error localization and aggregation**: \\* Highlight spans responsible for contradictions or unsupported claims; aggregate by sentences, entities, or relations to guide remediation (SummaC, FactCC) (cf. [Laban et al. (2021)](https://arxiv.org/abs/2111.09525); [Kryściński et al. (2019)](https://arxiv.org/abs/1910.12840)).\n    \n\n**Entailment-based scoring**: Compute Entail(D,ai)Entail(D,ai)\\\\mathrm{Entail}(D,a\\_i) using an NLI model; aggregate to obtain FfaithFfaithF\\_{\\\\text{faith}}. SummaC shows improvements by aligning NLI granularity to document-level comparisons (cf. [Laban et al. (2021)](https://arxiv.org/abs/2111.09525)).\n\n**QA-agreement**: Generate questions from yyy, answer them against DDD and yyy; measure agreement as a faithfulness proxy (QAGS) (cf. [Wang et al. (2020)](https://arxiv.org/abs/2004.04228)).\n\n**Claim-level precision/recall**: Label each aiaia\\_i as supported, contradicted, or not-enough-info; report supported-claim precision and contradiction rates (FEVER/FactCC-style) (cf. [Thorne et al. (2018)](https://arxiv.org/abs/1803.05355); [Kryściński et al. (2019)](https://arxiv.org/abs/1910.12840)).\n\n**Error localization and aggregation**: \\* Highlight spans responsible for contradictions or unsupported claims; aggregate by sentences, entities, or relations to guide remediation (SummaC, FactCC) (cf. [Laban et al. (2021)](https://arxiv.org/abs/2111.09525); [Kryściński et al. (2019)](https://arxiv.org/abs/1910.12840)).\n\n**Relation to groundedness and RAG**:\n\n*   Faithfulness evaluates consistency of the model’s output with the given DDD; groundedness in RAG additionally requires that DDD itself be relevant and sufficient. Frameworks such as RAGAS explicitly score faithfulness alongside context relevance and answer self-containment in retrieval-augmented setups. See [Es et al. (2023)](https://arxiv.org/abs/2309.15217) and their [EACL demo write-up](https://aclanthology.org/2024.eacl-demo.16/).",
    "contentLength": 137080,
    "wordCount": 1767,
    "hasCode": false,
    "hasMath": true,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#faithfulness-/-extrinsic-factuality"
  },
  {
    "id": "ai-factuality-in-LLMs-groundedness-retrieval-augmented-factuality-4",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Taxonomy of Factuality",
    "title": "Groundedness (Retrieval-Augmented Factuality)",
    "order": 4,
    "orderInChapter": 4,
    "contentHtml": "<ul>\n  <li>\n    <p>Groundedness is the property that every factual statement produced by a model is <strong>supported by explicitly retrieved or provided evidence</strong>. It extends <strong>extrinsic factuality</strong> to retrieval-augmented generation (RAG), where correctness depends both on the <strong>faithfulness of the output to the evidence</strong> and on the <strong>quality of the evidence itself</strong>. While faithfulness requires that the generated claims are entailed by and fully supported by the fixed input <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-46-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-339\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-340\"><span class=\"mi\" id=\"MathJax-Span-341\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-46\">D</script>, groundedness additionally requires that <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-47-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-342\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-343\"><span class=\"mi\" id=\"MathJax-Span-344\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-47\">D</script> is relevant and sufficient to justify the answer.</p>\n  </li>\n  <li>\n    <p><strong>Definition</strong>:</p>\n\n    <ul>\n      <li>Given retrieved evidence <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-48-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>d</mi><mn>1</mn></msub><mo>,</mo><mo>&amp;#x2026;</mo><mo>,</mo><msub><mi>d</mi><mi>M</mi></msub></mrow></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-345\" style=\"width: 7.451em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 6.201em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1006.2em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-346\"><span class=\"mi\" id=\"MathJax-Span-347\" style=\"font-family: STIXGeneral-Italic;\">D</span><span class=\"mo\" id=\"MathJax-Span-348\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"texatom\" id=\"MathJax-Span-349\" style=\"padding-left: 0.315em;\"><span class=\"mrow\" id=\"MathJax-Span-350\"><span class=\"msubsup\" id=\"MathJax-Span-351\"><span style=\"display: inline-block; position: relative; width: 0.94em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-352\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mn\" id=\"MathJax-Span-353\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-354\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mo\" id=\"MathJax-Span-355\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">…</span><span class=\"mo\" id=\"MathJax-Span-356\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-357\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.201em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-358\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-359\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">M<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi><mo>=</mo><mrow class=\"MJX-TeXAtom-ORD\"><msub><mi>d</mi><mn>1</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>d</mi><mi>M</mi></msub></mrow></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-48\">D = {d_1, \\dots, d_M}</script>, a prompt <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-49-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-360\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-361\"><span class=\"mi\" id=\"MathJax-Span-362\" style=\"font-family: STIXGeneral-Italic;\">x<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>x</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-49\">x</script>, and an output <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-50-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-363\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-364\"><span class=\"mi\" id=\"MathJax-Span-365\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-50\">y</script>, let <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-51-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><mo>&amp;#x2026;</mo><mo>,</mo><msub><mi>a</mi><mi>N</mi></msub></mrow></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-366\" style=\"width: 8.544em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 7.086em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1007.09em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-367\"><span class=\"mi\" id=\"MathJax-Span-368\" style=\"font-family: STIXGeneral-Italic;\">ϕ</span><span class=\"mo\" id=\"MathJax-Span-369\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-370\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-371\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-372\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"texatom\" id=\"MathJax-Span-373\" style=\"padding-left: 0.315em;\"><span class=\"mrow\" id=\"MathJax-Span-374\"><span class=\"msubsup\" id=\"MathJax-Span-375\"><span style=\"display: inline-block; position: relative; width: 0.94em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-376\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mn\" id=\"MathJax-Span-377\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-378\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mo\" id=\"MathJax-Span-379\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">…</span><span class=\"mo\" id=\"MathJax-Span-380\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-381\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.096em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-382\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-383\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>ϕ</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mrow class=\"MJX-TeXAtom-ORD\"><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>a</mi><mi>N</mi></msub></mrow></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-51\">\\phi(y) = {a_1, \\dots, a_N}</script> be atomic claims extracted from <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-52-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-384\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-385\"><span class=\"mi\" id=\"MathJax-Span-386\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-52\">y</script>.\n        <ul>\n          <li>A claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-53-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-387\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-388\"><span class=\"msubsup\" id=\"MathJax-Span-389\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-390\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-391\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-53\">a_i</script> is <strong>grounded</strong> if it is (i) entailed by at least one <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-54-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>d</mi><mi>j</mi></msub><mo>&amp;#x2208;</mo><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-392\" style=\"width: 3.284em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 2.711em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.409em, 1002.71em, 2.711em, -999.997em); top: -2.237em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-393\"><span class=\"msubsup\" id=\"MathJax-Span-394\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-395\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-396\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-397\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∈</span><span class=\"mi\" id=\"MathJax-Span-398\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.242em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>d</mi><mi>j</mi></msub><mo>∈</mo><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-54\">d_j \\in D</script> and (ii) <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-55-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-399\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-400\"><span class=\"mi\" id=\"MathJax-Span-401\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-55\">D</script> collectively provides sufficient coverage for <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-56-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-402\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-403\"><span class=\"mi\" id=\"MathJax-Span-404\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-56\">y</script>.</li>\n          <li>A simple groundedness score can be written as:</li>\n        </ul>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\" style=\"text-align: center;\"><span class=\"MathJax\" id=\"MathJax-Element-57-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ground</mtext></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo>&amp;#x2223;</mo><mi>D</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi></mrow></munderover><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn mathvariant=&quot;bold&quot;>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo maxsize=&quot;1.2em&quot; minsize=&quot;1.2em&quot;>[</mo></mrow><mi mathvariant=&quot;normal&quot;>&amp;#x2203;</mi><mo>,</mo><msub><mi>d</mi><mi>j</mi></msub><mo>&amp;#x2208;</mo><mi>D</mi><mo>:</mo><mo>,</mo><mtext>Entail</mtext><mo stretchy=&quot;false&quot;>(</mo><msub><mi>d</mi><mi>j</mi></msub><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo maxsize=&quot;1.2em&quot; minsize=&quot;1.2em&quot;>]</mo></mrow><mo>&amp;#x22C5;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn mathvariant=&quot;bold&quot;>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo maxsize=&quot;1.2em&quot; minsize=&quot;1.2em&quot;>[</mo></mrow><mtext>Suff</mtext><mo stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo maxsize=&quot;1.2em&quot; minsize=&quot;1.2em&quot;>]</mo></mrow></math>\" role=\"presentation\" style=\"text-align: center; position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-405\" style=\"width: 32.398em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 26.982em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.253em, 1026.77em, 4.586em, -999.997em); top: -3.174em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-406\"><span class=\"msubsup\" id=\"MathJax-Span-407\"><span style=\"display: inline-block; position: relative; width: 2.711em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-408\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-409\"><span class=\"mrow\" id=\"MathJax-Span-410\"><span class=\"mtext\" id=\"MathJax-Span-411\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ground</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-412\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-413\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-414\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∣</span><span class=\"mi\" id=\"MathJax-Span-415\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span><span class=\"mo\" id=\"MathJax-Span-416\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-417\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-418\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.42em, 4.169em, -999.997em); top: -4.685em; left: 50%; margin-left: -0.258em;\"><span class=\"mn\" id=\"MathJax-Span-419\" style=\"font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1000.73em, 4.169em, -999.997em); top: -3.331em; left: 50%; margin-left: -0.362em;\"><span class=\"mi\" id=\"MathJax-Span-420\" style=\"font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.84em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.836em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"munderover\" id=\"MathJax-Span-421\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.305em; height: 0px;\"><span style=\"position: absolute; clip: rect(2.867em, 1001.2em, 4.638em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-422\" style=\"font-family: STIXSizeOneSym; vertical-align: -0.518em;\">∑</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.94em, 4.273em, -999.997em); top: -2.862em; left: 0.107em;\"><span class=\"texatom\" id=\"MathJax-Span-423\"><span class=\"mrow\" id=\"MathJax-Span-424\"><span class=\"mi\" id=\"MathJax-Span-425\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mo\" id=\"MathJax-Span-426\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">=</span><span class=\"mn\" id=\"MathJax-Span-427\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.284em, 1000.52em, 4.169em, -999.997em); top: -5.206em; left: 0.367em;\"><span class=\"texatom\" id=\"MathJax-Span-428\"><span class=\"mrow\" id=\"MathJax-Span-429\"><span class=\"mi\" id=\"MathJax-Span-430\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-431\" style=\"padding-left: 0.211em;\"><span class=\"mrow\" id=\"MathJax-Span-432\"><span class=\"mn\" id=\"MathJax-Span-433\" style=\"font-family: STIXGeneral; font-weight: bold;\">1</span></span></span><span class=\"texatom\" id=\"MathJax-Span-434\" style=\"\"><span class=\"mrow\" id=\"MathJax-Span-435\"><span class=\"mo\" id=\"MathJax-Span-436\" style=\"vertical-align: -0.258em;\"><span><span style=\"font-size: 110%; font-family: STIXSizeOneSym;\">[</span></span></span></span></span><span class=\"mi\" id=\"MathJax-Span-437\" style=\"font-family: STIXGeneral-Regular;\">∃</span><span class=\"mo\" id=\"MathJax-Span-438\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-439\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-440\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-441\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-442\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∈</span><span class=\"mi\" id=\"MathJax-Span-443\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span><span class=\"mo\" id=\"MathJax-Span-444\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">:</span><span class=\"mo\" id=\"MathJax-Span-445\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mtext\" id=\"MathJax-Span-446\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">Entail</span><span class=\"mo\" id=\"MathJax-Span-447\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"msubsup\" id=\"MathJax-Span-448\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-449\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-450\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-451\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-452\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-453\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-454\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-455\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"texatom\" id=\"MathJax-Span-456\" style=\"\"><span class=\"mrow\" id=\"MathJax-Span-457\"><span class=\"mo\" id=\"MathJax-Span-458\" style=\"vertical-align: -0.258em;\"><span><span style=\"font-size: 110%; font-family: STIXSizeOneSym;\">]</span></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-459\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">⋅</span><span class=\"texatom\" id=\"MathJax-Span-460\" style=\"padding-left: 0.263em;\"><span class=\"mrow\" id=\"MathJax-Span-461\"><span class=\"mn\" id=\"MathJax-Span-462\" style=\"font-family: STIXGeneral; font-weight: bold;\">1</span></span></span><span class=\"texatom\" id=\"MathJax-Span-463\" style=\"\"><span class=\"mrow\" id=\"MathJax-Span-464\"><span class=\"mo\" id=\"MathJax-Span-465\" style=\"vertical-align: -0.258em;\"><span><span style=\"font-size: 110%; font-family: STIXSizeOneSym;\">[</span></span></span></span></span><span class=\"mtext\" id=\"MathJax-Span-466\" style=\"font-family: STIXGeneral-Regular;\">Suff</span><span class=\"mo\" id=\"MathJax-Span-467\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-468\" style=\"font-family: STIXGeneral-Italic;\">D</span><span class=\"mo\" id=\"MathJax-Span-469\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mi\" id=\"MathJax-Span-470\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.211em;\">y</span><span class=\"mo\" id=\"MathJax-Span-471\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"texatom\" id=\"MathJax-Span-472\" style=\"\"><span class=\"mrow\" id=\"MathJax-Span-473\"><span class=\"mo\" id=\"MathJax-Span-474\" style=\"vertical-align: -0.258em;\"><span><span style=\"font-size: 110%; font-family: STIXSizeOneSym;\">]</span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 3.18em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -1.559em; border-left: 0px solid; width: 0px; height: 3.753em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ground</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>y</mi><mo>∣</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mi>N</mi></mrow></munderover><mrow class=\"MJX-TeXAtom-ORD\"><mn mathvariant=\"bold\">1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mo maxsize=\"1.2em\" minsize=\"1.2em\">[</mo></mrow><mi mathvariant=\"normal\">∃</mi><mo>,</mo><msub><mi>d</mi><mi>j</mi></msub><mo>∈</mo><mi>D</mi><mo>:</mo><mo>,</mo><mtext>Entail</mtext><mo stretchy=\"false\">(</mo><msub><mi>d</mi><mi>j</mi></msub><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mrow class=\"MJX-TeXAtom-ORD\"><mo maxsize=\"1.2em\" minsize=\"1.2em\">]</mo></mrow><mo>⋅</mo><mrow class=\"MJX-TeXAtom-ORD\"><mn mathvariant=\"bold\">1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mo maxsize=\"1.2em\" minsize=\"1.2em\">[</mo></mrow><mtext>Suff</mtext><mo stretchy=\"false\">(</mo><mi>D</mi><mo>,</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mrow class=\"MJX-TeXAtom-ORD\"><mo maxsize=\"1.2em\" minsize=\"1.2em\">]</mo></mrow></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-57\">F_{\\text{ground}}(y \\mid D) = \\frac{1}{N}\\sum_{i=1}^{N}\\mathbf{1}\\big[\\exists, d_j \\in D:,\\text{Entail}(d_j, a_i)\\big] \\cdot \\mathbf{1}\\big[\\text{Suff}(D, y)\\big]</script>\n\n        <ul>\n          <li>where <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-58-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>Entail</mtext><mo stretchy=&quot;false&quot;>(</mo><msub><mi>d</mi><mi>j</mi></msub><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-475\" style=\"width: 6.148em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 5.107em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1005.05em, 2.659em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-476\"><span class=\"mtext\" id=\"MathJax-Span-477\" style=\"font-family: STIXGeneral-Regular;\">Entail</span><span class=\"mo\" id=\"MathJax-Span-478\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"msubsup\" id=\"MathJax-Span-479\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-480\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-481\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-482\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-483\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-484\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-485\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-486\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mtext>Entail</mtext><mo stretchy=\"false\">(</mo><msub><mi>d</mi><mi>j</mi></msub><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-58\">\\text{Entail}(d_j, a_i)</script> checks whether claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-59-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-487\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-488\"><span class=\"msubsup\" id=\"MathJax-Span-489\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-490\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-491\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-59\">a_i</script> is supported by a retrieved passage <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-60-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>d</mi><mi>j</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-492\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.305em, 1000.78em, 2.607em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-493\"><span class=\"msubsup\" id=\"MathJax-Span-494\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-495\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-496\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>d</mi><mi>j</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-60\">d_j</script>, and <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-61-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>Suff</mtext><mo stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-497\" style=\"width: 4.898em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 4.065em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1004.01em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-498\"><span class=\"mtext\" id=\"MathJax-Span-499\" style=\"font-family: STIXGeneral-Regular;\">Suff</span><span class=\"mo\" id=\"MathJax-Span-500\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-501\" style=\"font-family: STIXGeneral-Italic;\">D</span><span class=\"mo\" id=\"MathJax-Span-502\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mi\" id=\"MathJax-Span-503\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.211em;\">y</span><span class=\"mo\" id=\"MathJax-Span-504\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mtext>Suff</mtext><mo stretchy=\"false\">(</mo><mi>D</mi><mo>,</mo><mi>y</mi><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-61\">\\text{Suff}(D, y)</script> measures whether the evidence set <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-62-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-505\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-506\"><span class=\"mi\" id=\"MathJax-Span-507\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-62\">D</script> is collectively sufficient to ground all claims in <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-63-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-508\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-509\"><span class=\"mi\" id=\"MathJax-Span-510\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-63\">y</script>.</li>\n        </ul>\n      </li>\n    </ul>\n  </li>\n  <li>\n    <p>This distinguishes groundedness from truthfulness (which compares to global world knowledge) and from faithfulness (which assumes a given context without testing retrieval quality).</p>\n  </li>\n</ul>\n<p>Groundedness is the property that every factual statement produced by a model is <strong>supported by explicitly retrieved or provided evidence</strong>. It extends <strong>extrinsic factuality</strong> to retrieval-augmented generation (RAG), where correctness depends both on the <strong>faithfulness of the output to the evidence</strong> and on the <strong>quality of the evidence itself</strong>. While faithfulness requires that the generated claims are entailed by and fully supported by the fixed input <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-46-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-339\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-340\"><span class=\"mi\" id=\"MathJax-Span-341\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-46\">D</script>, groundedness additionally requires that <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-47-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-342\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-343\"><span class=\"mi\" id=\"MathJax-Span-344\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-47\">D</script> is relevant and sufficient to justify the answer.</p>\n<p><strong>Definition</strong>:</p>\n<ul>\n      <li>Given retrieved evidence <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-48-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>d</mi><mn>1</mn></msub><mo>,</mo><mo>&amp;#x2026;</mo><mo>,</mo><msub><mi>d</mi><mi>M</mi></msub></mrow></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-345\" style=\"width: 7.451em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 6.201em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1006.2em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-346\"><span class=\"mi\" id=\"MathJax-Span-347\" style=\"font-family: STIXGeneral-Italic;\">D</span><span class=\"mo\" id=\"MathJax-Span-348\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"texatom\" id=\"MathJax-Span-349\" style=\"padding-left: 0.315em;\"><span class=\"mrow\" id=\"MathJax-Span-350\"><span class=\"msubsup\" id=\"MathJax-Span-351\"><span style=\"display: inline-block; position: relative; width: 0.94em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-352\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mn\" id=\"MathJax-Span-353\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-354\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mo\" id=\"MathJax-Span-355\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">…</span><span class=\"mo\" id=\"MathJax-Span-356\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-357\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.201em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-358\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-359\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">M<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi><mo>=</mo><mrow class=\"MJX-TeXAtom-ORD\"><msub><mi>d</mi><mn>1</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>d</mi><mi>M</mi></msub></mrow></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-48\">D = {d_1, \\dots, d_M}</script>, a prompt <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-49-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-360\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-361\"><span class=\"mi\" id=\"MathJax-Span-362\" style=\"font-family: STIXGeneral-Italic;\">x<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>x</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-49\">x</script>, and an output <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-50-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-363\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-364\"><span class=\"mi\" id=\"MathJax-Span-365\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-50\">y</script>, let <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-51-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><mo>&amp;#x2026;</mo><mo>,</mo><msub><mi>a</mi><mi>N</mi></msub></mrow></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-366\" style=\"width: 8.544em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 7.086em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1007.09em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-367\"><span class=\"mi\" id=\"MathJax-Span-368\" style=\"font-family: STIXGeneral-Italic;\">ϕ</span><span class=\"mo\" id=\"MathJax-Span-369\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-370\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-371\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-372\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"texatom\" id=\"MathJax-Span-373\" style=\"padding-left: 0.315em;\"><span class=\"mrow\" id=\"MathJax-Span-374\"><span class=\"msubsup\" id=\"MathJax-Span-375\"><span style=\"display: inline-block; position: relative; width: 0.94em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-376\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mn\" id=\"MathJax-Span-377\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-378\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mo\" id=\"MathJax-Span-379\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">…</span><span class=\"mo\" id=\"MathJax-Span-380\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-381\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.096em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-382\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-383\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>ϕ</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mrow class=\"MJX-TeXAtom-ORD\"><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>a</mi><mi>N</mi></msub></mrow></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-51\">\\phi(y) = {a_1, \\dots, a_N}</script> be atomic claims extracted from <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-52-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-384\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-385\"><span class=\"mi\" id=\"MathJax-Span-386\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-52\">y</script>.\n        <ul>\n          <li>A claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-53-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-387\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-388\"><span class=\"msubsup\" id=\"MathJax-Span-389\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-390\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-391\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-53\">a_i</script> is <strong>grounded</strong> if it is (i) entailed by at least one <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-54-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>d</mi><mi>j</mi></msub><mo>&amp;#x2208;</mo><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-392\" style=\"width: 3.284em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 2.711em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.409em, 1002.71em, 2.711em, -999.997em); top: -2.237em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-393\"><span class=\"msubsup\" id=\"MathJax-Span-394\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-395\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-396\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-397\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∈</span><span class=\"mi\" id=\"MathJax-Span-398\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.242em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>d</mi><mi>j</mi></msub><mo>∈</mo><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-54\">d_j \\in D</script> and (ii) <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-55-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-399\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-400\"><span class=\"mi\" id=\"MathJax-Span-401\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-55\">D</script> collectively provides sufficient coverage for <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-56-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-402\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-403\"><span class=\"mi\" id=\"MathJax-Span-404\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-56\">y</script>.</li>\n          <li>A simple groundedness score can be written as:</li>\n        </ul>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\" style=\"text-align: center;\"><span class=\"MathJax\" id=\"MathJax-Element-57-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ground</mtext></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo>&amp;#x2223;</mo><mi>D</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi></mrow></munderover><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn mathvariant=&quot;bold&quot;>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo maxsize=&quot;1.2em&quot; minsize=&quot;1.2em&quot;>[</mo></mrow><mi mathvariant=&quot;normal&quot;>&amp;#x2203;</mi><mo>,</mo><msub><mi>d</mi><mi>j</mi></msub><mo>&amp;#x2208;</mo><mi>D</mi><mo>:</mo><mo>,</mo><mtext>Entail</mtext><mo stretchy=&quot;false&quot;>(</mo><msub><mi>d</mi><mi>j</mi></msub><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo maxsize=&quot;1.2em&quot; minsize=&quot;1.2em&quot;>]</mo></mrow><mo>&amp;#x22C5;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn mathvariant=&quot;bold&quot;>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo maxsize=&quot;1.2em&quot; minsize=&quot;1.2em&quot;>[</mo></mrow><mtext>Suff</mtext><mo stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo maxsize=&quot;1.2em&quot; minsize=&quot;1.2em&quot;>]</mo></mrow></math>\" role=\"presentation\" style=\"text-align: center; position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-405\" style=\"width: 32.398em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 26.982em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.253em, 1026.77em, 4.586em, -999.997em); top: -3.174em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-406\"><span class=\"msubsup\" id=\"MathJax-Span-407\"><span style=\"display: inline-block; position: relative; width: 2.711em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-408\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-409\"><span class=\"mrow\" id=\"MathJax-Span-410\"><span class=\"mtext\" id=\"MathJax-Span-411\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ground</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-412\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-413\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-414\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∣</span><span class=\"mi\" id=\"MathJax-Span-415\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span><span class=\"mo\" id=\"MathJax-Span-416\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-417\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-418\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.42em, 4.169em, -999.997em); top: -4.685em; left: 50%; margin-left: -0.258em;\"><span class=\"mn\" id=\"MathJax-Span-419\" style=\"font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1000.73em, 4.169em, -999.997em); top: -3.331em; left: 50%; margin-left: -0.362em;\"><span class=\"mi\" id=\"MathJax-Span-420\" style=\"font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.84em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.836em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"munderover\" id=\"MathJax-Span-421\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.305em; height: 0px;\"><span style=\"position: absolute; clip: rect(2.867em, 1001.2em, 4.638em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-422\" style=\"font-family: STIXSizeOneSym; vertical-align: -0.518em;\">∑</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.94em, 4.273em, -999.997em); top: -2.862em; left: 0.107em;\"><span class=\"texatom\" id=\"MathJax-Span-423\"><span class=\"mrow\" id=\"MathJax-Span-424\"><span class=\"mi\" id=\"MathJax-Span-425\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mo\" id=\"MathJax-Span-426\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">=</span><span class=\"mn\" id=\"MathJax-Span-427\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.284em, 1000.52em, 4.169em, -999.997em); top: -5.206em; left: 0.367em;\"><span class=\"texatom\" id=\"MathJax-Span-428\"><span class=\"mrow\" id=\"MathJax-Span-429\"><span class=\"mi\" id=\"MathJax-Span-430\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-431\" style=\"padding-left: 0.211em;\"><span class=\"mrow\" id=\"MathJax-Span-432\"><span class=\"mn\" id=\"MathJax-Span-433\" style=\"font-family: STIXGeneral; font-weight: bold;\">1</span></span></span><span class=\"texatom\" id=\"MathJax-Span-434\" style=\"\"><span class=\"mrow\" id=\"MathJax-Span-435\"><span class=\"mo\" id=\"MathJax-Span-436\" style=\"vertical-align: -0.258em;\"><span><span style=\"font-size: 110%; font-family: STIXSizeOneSym;\">[</span></span></span></span></span><span class=\"mi\" id=\"MathJax-Span-437\" style=\"font-family: STIXGeneral-Regular;\">∃</span><span class=\"mo\" id=\"MathJax-Span-438\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-439\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-440\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-441\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-442\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∈</span><span class=\"mi\" id=\"MathJax-Span-443\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span><span class=\"mo\" id=\"MathJax-Span-444\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">:</span><span class=\"mo\" id=\"MathJax-Span-445\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mtext\" id=\"MathJax-Span-446\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">Entail</span><span class=\"mo\" id=\"MathJax-Span-447\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"msubsup\" id=\"MathJax-Span-448\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-449\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-450\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-451\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-452\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-453\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-454\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-455\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"texatom\" id=\"MathJax-Span-456\" style=\"\"><span class=\"mrow\" id=\"MathJax-Span-457\"><span class=\"mo\" id=\"MathJax-Span-458\" style=\"vertical-align: -0.258em;\"><span><span style=\"font-size: 110%; font-family: STIXSizeOneSym;\">]</span></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-459\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">⋅</span><span class=\"texatom\" id=\"MathJax-Span-460\" style=\"padding-left: 0.263em;\"><span class=\"mrow\" id=\"MathJax-Span-461\"><span class=\"mn\" id=\"MathJax-Span-462\" style=\"font-family: STIXGeneral; font-weight: bold;\">1</span></span></span><span class=\"texatom\" id=\"MathJax-Span-463\" style=\"\"><span class=\"mrow\" id=\"MathJax-Span-464\"><span class=\"mo\" id=\"MathJax-Span-465\" style=\"vertical-align: -0.258em;\"><span><span style=\"font-size: 110%; font-family: STIXSizeOneSym;\">[</span></span></span></span></span><span class=\"mtext\" id=\"MathJax-Span-466\" style=\"font-family: STIXGeneral-Regular;\">Suff</span><span class=\"mo\" id=\"MathJax-Span-467\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-468\" style=\"font-family: STIXGeneral-Italic;\">D</span><span class=\"mo\" id=\"MathJax-Span-469\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mi\" id=\"MathJax-Span-470\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.211em;\">y</span><span class=\"mo\" id=\"MathJax-Span-471\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"texatom\" id=\"MathJax-Span-472\" style=\"\"><span class=\"mrow\" id=\"MathJax-Span-473\"><span class=\"mo\" id=\"MathJax-Span-474\" style=\"vertical-align: -0.258em;\"><span><span style=\"font-size: 110%; font-family: STIXSizeOneSym;\">]</span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 3.18em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -1.559em; border-left: 0px solid; width: 0px; height: 3.753em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ground</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>y</mi><mo>∣</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mi>N</mi></mrow></munderover><mrow class=\"MJX-TeXAtom-ORD\"><mn mathvariant=\"bold\">1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mo maxsize=\"1.2em\" minsize=\"1.2em\">[</mo></mrow><mi mathvariant=\"normal\">∃</mi><mo>,</mo><msub><mi>d</mi><mi>j</mi></msub><mo>∈</mo><mi>D</mi><mo>:</mo><mo>,</mo><mtext>Entail</mtext><mo stretchy=\"false\">(</mo><msub><mi>d</mi><mi>j</mi></msub><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mrow class=\"MJX-TeXAtom-ORD\"><mo maxsize=\"1.2em\" minsize=\"1.2em\">]</mo></mrow><mo>⋅</mo><mrow class=\"MJX-TeXAtom-ORD\"><mn mathvariant=\"bold\">1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mo maxsize=\"1.2em\" minsize=\"1.2em\">[</mo></mrow><mtext>Suff</mtext><mo stretchy=\"false\">(</mo><mi>D</mi><mo>,</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mrow class=\"MJX-TeXAtom-ORD\"><mo maxsize=\"1.2em\" minsize=\"1.2em\">]</mo></mrow></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-57\">F_{\\text{ground}}(y \\mid D) = \\frac{1}{N}\\sum_{i=1}^{N}\\mathbf{1}\\big[\\exists, d_j \\in D:,\\text{Entail}(d_j, a_i)\\big] \\cdot \\mathbf{1}\\big[\\text{Suff}(D, y)\\big]</script>\n\n        <ul>\n          <li>where <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-58-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>Entail</mtext><mo stretchy=&quot;false&quot;>(</mo><msub><mi>d</mi><mi>j</mi></msub><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-475\" style=\"width: 6.148em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 5.107em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1005.05em, 2.659em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-476\"><span class=\"mtext\" id=\"MathJax-Span-477\" style=\"font-family: STIXGeneral-Regular;\">Entail</span><span class=\"mo\" id=\"MathJax-Span-478\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"msubsup\" id=\"MathJax-Span-479\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-480\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-481\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-482\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-483\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-484\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-485\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-486\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mtext>Entail</mtext><mo stretchy=\"false\">(</mo><msub><mi>d</mi><mi>j</mi></msub><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-58\">\\text{Entail}(d_j, a_i)</script> checks whether claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-59-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-487\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-488\"><span class=\"msubsup\" id=\"MathJax-Span-489\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-490\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-491\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-59\">a_i</script> is supported by a retrieved passage <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-60-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>d</mi><mi>j</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-492\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.305em, 1000.78em, 2.607em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-493\"><span class=\"msubsup\" id=\"MathJax-Span-494\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-495\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-496\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>d</mi><mi>j</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-60\">d_j</script>, and <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-61-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>Suff</mtext><mo stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-497\" style=\"width: 4.898em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 4.065em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1004.01em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-498\"><span class=\"mtext\" id=\"MathJax-Span-499\" style=\"font-family: STIXGeneral-Regular;\">Suff</span><span class=\"mo\" id=\"MathJax-Span-500\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-501\" style=\"font-family: STIXGeneral-Italic;\">D</span><span class=\"mo\" id=\"MathJax-Span-502\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mi\" id=\"MathJax-Span-503\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.211em;\">y</span><span class=\"mo\" id=\"MathJax-Span-504\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mtext>Suff</mtext><mo stretchy=\"false\">(</mo><mi>D</mi><mo>,</mo><mi>y</mi><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-61\">\\text{Suff}(D, y)</script> measures whether the evidence set <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-62-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-505\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-506\"><span class=\"mi\" id=\"MathJax-Span-507\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-62\">D</script> is collectively sufficient to ground all claims in <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-63-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-508\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-509\"><span class=\"mi\" id=\"MathJax-Span-510\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-63\">y</script>.</li>\n        </ul>\n      </li>\n    </ul>\n<ul>\n          <li>A claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-53-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-387\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-388\"><span class=\"msubsup\" id=\"MathJax-Span-389\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-390\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-391\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-53\">a_i</script> is <strong>grounded</strong> if it is (i) entailed by at least one <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-54-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>d</mi><mi>j</mi></msub><mo>&amp;#x2208;</mo><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-392\" style=\"width: 3.284em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 2.711em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.409em, 1002.71em, 2.711em, -999.997em); top: -2.237em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-393\"><span class=\"msubsup\" id=\"MathJax-Span-394\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-395\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-396\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-397\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∈</span><span class=\"mi\" id=\"MathJax-Span-398\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.242em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>d</mi><mi>j</mi></msub><mo>∈</mo><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-54\">d_j \\in D</script> and (ii) <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-55-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-399\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-400\"><span class=\"mi\" id=\"MathJax-Span-401\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-55\">D</script> collectively provides sufficient coverage for <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-56-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-402\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-403\"><span class=\"mi\" id=\"MathJax-Span-404\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-56\">y</script>.</li>\n          <li>A simple groundedness score can be written as:</li>\n        </ul>\n<ul>\n          <li>where <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-58-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>Entail</mtext><mo stretchy=&quot;false&quot;>(</mo><msub><mi>d</mi><mi>j</mi></msub><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-475\" style=\"width: 6.148em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 5.107em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1005.05em, 2.659em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-476\"><span class=\"mtext\" id=\"MathJax-Span-477\" style=\"font-family: STIXGeneral-Regular;\">Entail</span><span class=\"mo\" id=\"MathJax-Span-478\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"msubsup\" id=\"MathJax-Span-479\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-480\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-481\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-482\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-483\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-484\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-485\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-486\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mtext>Entail</mtext><mo stretchy=\"false\">(</mo><msub><mi>d</mi><mi>j</mi></msub><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-58\">\\text{Entail}(d_j, a_i)</script> checks whether claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-59-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-487\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-488\"><span class=\"msubsup\" id=\"MathJax-Span-489\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-490\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-491\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-59\">a_i</script> is supported by a retrieved passage <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-60-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>d</mi><mi>j</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-492\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.305em, 1000.78em, 2.607em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-493\"><span class=\"msubsup\" id=\"MathJax-Span-494\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-495\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-496\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>d</mi><mi>j</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-60\">d_j</script>, and <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-61-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>Suff</mtext><mo stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-497\" style=\"width: 4.898em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 4.065em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1004.01em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-498\"><span class=\"mtext\" id=\"MathJax-Span-499\" style=\"font-family: STIXGeneral-Regular;\">Suff</span><span class=\"mo\" id=\"MathJax-Span-500\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-501\" style=\"font-family: STIXGeneral-Italic;\">D</span><span class=\"mo\" id=\"MathJax-Span-502\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mi\" id=\"MathJax-Span-503\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.211em;\">y</span><span class=\"mo\" id=\"MathJax-Span-504\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mtext>Suff</mtext><mo stretchy=\"false\">(</mo><mi>D</mi><mo>,</mo><mi>y</mi><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-61\">\\text{Suff}(D, y)</script> measures whether the evidence set <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-62-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-505\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-506\"><span class=\"mi\" id=\"MathJax-Span-507\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-62\">D</script> is collectively sufficient to ground all claims in <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-63-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-508\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-509\"><span class=\"mi\" id=\"MathJax-Span-510\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-63\">y</script>.</li>\n        </ul>\n<p>This distinguishes groundedness from truthfulness (which compares to global world knowledge) and from faithfulness (which assumes a given context without testing retrieval quality).</p>\n<blockquote>\n  <p>Groundedness differs from faithfulness in that it also tests for retrieval quality—specifically whether the retrieved evidence set is both <strong>relevant</strong> (directly pertains to the query or prompt) and <strong>sufficient</strong> (collectively provides complete support for all factual claims)—beyond the <strong>faithfulness requirement</strong> that the model’s output logically entails or is fully supported by the provided evidence.</p>\n</blockquote>\n<p>Groundedness differs from faithfulness in that it also tests for retrieval quality—specifically whether the retrieved evidence set is both <strong>relevant</strong> (directly pertains to the query or prompt) and <strong>sufficient</strong> (collectively provides complete support for all factual claims)—beyond the <strong>faithfulness requirement</strong> that the model’s output logically entails or is fully supported by the provided evidence.</p>\n<ul>\n  <li>\n    <p>In RAG or web-search settings, <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-64-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-511\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-512\"><span class=\"mi\" id=\"MathJax-Span-513\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-64\">D</script> may represent a dynamic retrieval set; thus, faithfulness depends on whether the retrieved evidence sufficiently supports each <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-65-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-514\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-515\"><span class=\"msubsup\" id=\"MathJax-Span-516\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-517\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-518\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-65\">a_i</script> and whether claims remain grounded within the retrieved context. Similar evaluation frameworks have been proposed in <a href=\"https://aclanthology.org/N18-1074\">FEVER</a>, <a href=\"https://aclanthology.org/2020.emnlp-main.750/\">FactCC</a>, <a href=\"https://aclanthology.org/2020.acl-main.450.pdf\">QAGS</a>, and <a href=\"https://direct.mit.edu/tacl/article/doi/10.1162/tacl_a_00453/109470/SummaC-Re-Visiting-NLI-based-Models-for\">SummaC</a>.</p>\n  </li>\n  <li>\n    <p><strong>Key Properties &amp; Challenges</strong>:</p>\n\n    <ul>\n      <li>\n        <p><strong>Joint dependency on retrieval and generation:</strong> Groundedness depends on both (1) whether the retriever returns evidence relevant to the user query and (2) whether the generator limits itself to that evidence. See <em>Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks</em> by <a href=\"https://arxiv.org/abs/2005.11401\">Lewis et al. (2020)</a>.</p>\n      </li>\n      <li>\n        <p><strong>Dynamic evidence selection:</strong> RAG systems can update retrieval at inference time. Factuality must therefore be recomputed per query since retrieved corpora may change (cf. <a href=\"https://arxiv.org/abs/2004.04906\">Karpukhin et al., (2020)</a>).</p>\n      </li>\n      <li>\n        <p><strong>Faithfulness vs. sufficiency:</strong> An answer can be <strong>faithful</strong> to retrieved text yet <strong>ungrounded</strong> if retrieval was incomplete. For instance, a model quoting an irrelevant passage verbatim is faithful but not grounded.</p>\n      </li>\n      <li>\n        <p><strong>Error propagation:</strong> Errors in retrieval (e.g., missing or noisy documents) directly reduce groundedness, even if the model itself performs perfect reasoning.</p>\n      </li>\n      <li>\n        <p><strong>Citation verification:</strong> Proper groundedness can be verified by requiring the model to cite or link supporting evidence snippets. This forms the basis of <strong>AttributionEval</strong> by <a href=\"https://arxiv.org/abs/2112.07828\">Rashkin et al. (2021)</a>.</p>\n      </li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Representative Benchmarks &amp; Methods</strong>:</p>\n\n    <ul>\n      <li>\n        <p><strong>RAGAS</strong>: <a href=\"https://arxiv.org/abs/2309.15217\">Reference-Free Evaluation for Retrieval-Augmented Generation</a> by Es et al. (2023) provides four key metrics: <strong>Faithfulness</strong>, <strong>Context Precision</strong>, <strong>Context Recall</strong>, and <strong>Answer Relevance</strong>, all computed without gold references. An updated EACL demo is available in <a href=\"https://aclanthology.org/2024.eacl-demo.16/\">Es et al. (2024)</a>.</p>\n      </li>\n      <li>\n        <p><strong>AttributionEval</strong>: Evaluates whether model outputs cite supporting documents and whether those citations entail the generated claims (cf. <a href=\"https://arxiv.org/abs/2112.07828\">Rashkin et al. (2021)</a>).</p>\n      </li>\n      <li>\n        <p><strong>FACT-RAG</strong>: A dataset for factuality evaluation in retrieval-augmented QA (cf. <a href=\"https://arxiv.org/abs/2402.13179\">Li et al. (2024)</a>).</p>\n      </li>\n      <li>\n        <p><strong>Faithful RAG</strong>: Improved retriever-generator coordination for factual consistency (cf. <a href=\"https://arxiv.org/abs/2406.01050\">Menon et al. (2024)</a>).</p>\n      </li>\n      <li>\n        <p><strong>LongFact / SAFE</strong> (<a href=\"https://arxiv.org/abs/2403.18802\">Wei et al. (2024)</a>): While focused on long-form generation, these use search-augmented pipelines similar to RAG to check each atomic claim.</p>\n      </li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Evaluation Metrics &amp; Strategies</strong>:</p>\n\n    <ul>\n      <li>\n        <p><strong>Context precision and recall</strong> (RAGAS): Precision measures how much retrieved context is actually used by the model; recall measures whether all necessary evidence is retrieved.</p>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\"><span class=\"MathJax MathJax_FullWidth\" id=\"MathJax-Element-66-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>Context Precision</mtext><mo>=</mo><mfrac><mtext># relevant evidence used</mtext><mtext># total evidence used</mtext></mfrac><mo>,</mo><mspace width=&quot;2em&quot; /><mtext>Context Recall</mtext><mo>=</mo><mfrac><mtext># relevant evidence used</mtext><mtext># relevant evidence available</mtext></mfrac></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-519\" style=\"width: 100%; display: inline-block; min-width: 26.096em;\"><span style=\"display: inline-block; position: relative; width: 100%; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(4.117em, 1021.72em, 9.013em, -999.997em); top: -5.622em; left: 0em; width: 100%;\"><span class=\"mrow\" id=\"MathJax-Span-520\"><span style=\"display: inline-block; position: relative; width: 100%; height: 0px;\"><span style=\"position: absolute; clip: rect(2.503em, 1018.86em, 4.846em, -999.997em); top: -4.008em; left: 50%; margin-left: -9.477em;\"><span class=\"mtext\" id=\"MathJax-Span-521\" style=\"font-family: STIXGeneral-Regular;\">Context Precision</span><span class=\"mo\" id=\"MathJax-Span-522\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-523\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 10.003em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.18em, 1009.85em, 4.169em, -999.997em); top: -4.685em; left: 50%; margin-left: -4.945em;\"><span class=\"mtext\" id=\"MathJax-Span-524\" style=\"font-family: STIXGeneral-Regular;\"># relevant evidence used</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1008.39em, 4.169em, -999.997em); top: -3.331em; left: 50%; margin-left: -4.216em;\"><span class=\"mtext\" id=\"MathJax-Span-525\" style=\"font-family: STIXGeneral-Regular;\"># total evidence used</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1010em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 10.003em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-526\" style=\"font-family: STIXGeneral-Regular;\">,</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(2.503em, 1021.72em, 4.846em, -999.997em); top: -1.456em; left: 50%; margin-left: -10.883em;\"><span class=\"mspace\" id=\"MathJax-Span-527\" style=\"height: 0em; vertical-align: 0em; width: 2.242em; display: inline-block; overflow: hidden;\"></span><span class=\"mtext\" id=\"MathJax-Span-528\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">Context Recall</span><span class=\"mo\" id=\"MathJax-Span-529\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-530\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 11.773em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.18em, 1009.85em, 4.169em, -999.997em); top: -4.685em; left: 50%; margin-left: -4.945em;\"><span class=\"mtext\" id=\"MathJax-Span-531\" style=\"font-family: STIXGeneral-Regular;\"># relevant evidence used</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1011.62em, 4.169em, -999.997em); top: -3.331em; left: 50%; margin-left: -5.831em;\"><span class=\"mtext\" id=\"MathJax-Span-532\" style=\"font-family: STIXGeneral-Regular;\"># relevant evidence available</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1011.77em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 11.773em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 5.628em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -3.934em; border-left: 0px solid; width: 0px; height: 5.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mtext>Context Precision</mtext><mo>=</mo><mfrac><mtext># relevant evidence used</mtext><mtext># total evidence used</mtext></mfrac><mo>,</mo><mspace width=\"2em\"></mspace><mtext>Context Recall</mtext><mo>=</mo><mfrac><mtext># relevant evidence used</mtext><mtext># relevant evidence available</mtext></mfrac></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-66\">\\text{Context Precision} = \\frac{\\text{# relevant evidence used}}{\\text{# total evidence used}}, \\qquad\n\\text{Context Recall} = \\frac{\\text{# relevant evidence used}}{\\text{# relevant evidence available}}</script>\n      </li>\n      <li>\n        <p><strong>Faithfulness (RAGAS / AttributionEval):</strong> Checks whether the model’s generated claims are supported by retrieved evidence.</p>\n      </li>\n      <li>\n        <p><strong>Answer relevance:</strong> Measures semantic alignment between the model’s response and the user query; low relevance can indicate factual drift.</p>\n      </li>\n      <li>\n        <p><strong>Citation entailment accuracy:</strong> Proportion of cited snippets that entail the corresponding claims (<a href=\"https://arxiv.org/abs/2112.07828\">AttributionEval</a>).</p>\n      </li>\n      <li>\n        <p><strong>Overall groundedness score:</strong> Weighted aggregation of faithfulness, evidence precision/recall, and attribution correctness.</p>\n      </li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Relation to Other Factuality Types</strong>:</p>\n\n    <ul>\n      <li>\n        <p><strong>Faithfulness</strong> focuses on <em>alignment given fixed evidence</em>:</p>\n\n        <ul>\n          <li>The evidence <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-67-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-533\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-534\"><span class=\"mi\" id=\"MathJax-Span-535\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-67\">D</script> is assumed to be <strong>fixed and authoritative</strong> (for instance, a source article, table, or gold reference).</li>\n          <li>\n            <p>The evaluation measures whether the model <strong>uses <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-68-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-536\" style=\"width: 0.881em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.726em; height: 0px; font-size: 121%;\"><span style=\"position: absolute; clip: rect(1.346em, 1000.73em, 2.327em, -999.997em); top: -2.167em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-537\"><span class=\"mi\" id=\"MathJax-Span-538\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.172em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-68\">D</script> correctly</strong>:</p>\n\n            <ul>\n              <li>Each atomic claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-69-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-539\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-540\"><span class=\"msubsup\" id=\"MathJax-Span-541\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-542\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-543\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-69\">a_i</script> should be <em>entailed by</em> <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-70-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-544\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-545\"><span class=\"mi\" id=\"MathJax-Span-546\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-70\">D</script>.</li>\n              <li>The output should include <strong>no contradictions or hallucinated information</strong>—it must not invent or distort facts beyond what <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-71-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-547\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-548\"><span class=\"mi\" id=\"MathJax-Span-549\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-71\">D</script> supports.</li>\n            </ul>\n          </li>\n          <li>In this setting, <strong>sufficiency is assumed by construction</strong>—the dataset or task setup guarantees that <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-72-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-550\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-551\"><span class=\"mi\" id=\"MathJax-Span-552\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-72\">D</script> contains all information needed to answer. Thus, faithfulness focuses purely on <em>correctness relative to <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-73-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-553\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-554\"><span class=\"mi\" id=\"MathJax-Span-555\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-73\">D</script></em> rather than the quality of <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-74-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-556\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-557\"><span class=\"mi\" id=\"MathJax-Span-558\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-74\">D</script> itself.</li>\n          <li>Formally, this can be expressed as\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-75-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>faith</mtext></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo>&amp;#x2223;</mo><mi>D</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi></mrow></munderover><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn mathvariant=&quot;bold&quot;>1</mn></mrow><mo stretchy=&quot;false&quot;>[</mo><mtext>Entail</mtext><mo stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>]</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-559\" style=\"width: 18.544em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 15.419em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.409em, 1015.32em, 3.023em, -999.997em); top: -2.497em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-560\"><span class=\"msubsup\" id=\"MathJax-Span-561\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-562\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-563\"><span class=\"mrow\" id=\"MathJax-Span-564\"><span class=\"mtext\" id=\"MathJax-Span-565\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">faith</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-566\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-567\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-568\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∣</span><span class=\"mi\" id=\"MathJax-Span-569\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span><span class=\"mo\" id=\"MathJax-Span-570\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-571\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-572\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.628em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-573\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.52em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -0.258em;\"><span class=\"mi\" id=\"MathJax-Span-574\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.63em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.628em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"munderover\" id=\"MathJax-Span-575\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 2.034em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.076em, 1000.84em, 4.43em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-576\" style=\"font-family: STIXGeneral-Regular; vertical-align: 0.003em;\">∑</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.58em, 4.169em, -999.997em); top: -4.477em; left: 0.94em;\"><span class=\"texatom\" id=\"MathJax-Span-577\"><span class=\"mrow\" id=\"MathJax-Span-578\"><span class=\"mi\" id=\"MathJax-Span-579\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1001.1em, 4.169em, -999.997em); top: -3.695em; left: 0.94em;\"><span class=\"texatom\" id=\"MathJax-Span-580\"><span class=\"mrow\" id=\"MathJax-Span-581\"><span class=\"mi\" id=\"MathJax-Span-582\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mo\" id=\"MathJax-Span-583\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">=</span><span class=\"mn\" id=\"MathJax-Span-584\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-585\" style=\"padding-left: 0.211em;\"><span class=\"mrow\" id=\"MathJax-Span-586\"><span class=\"mn\" id=\"MathJax-Span-587\" style=\"font-family: STIXGeneral; font-weight: bold;\">1</span></span></span><span class=\"mo\" id=\"MathJax-Span-588\" style=\"font-family: STIXGeneral-Regular;\">[</span><span class=\"mtext\" id=\"MathJax-Span-589\" style=\"font-family: STIXGeneral-Regular;\">Entail</span><span class=\"mo\" id=\"MathJax-Span-590\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-591\" style=\"font-family: STIXGeneral-Italic;\">D</span><span class=\"mo\" id=\"MathJax-Span-592\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-593\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-594\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-595\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-596\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-597\" style=\"font-family: STIXGeneral-Regular;\">]</span></span><span style=\"display: inline-block; width: 0px; height: 2.503em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.497em; border-left: 0px solid; width: 0px; height: 1.753em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>faith</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>y</mi><mo>∣</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mi>N</mi></mrow></munderover><mrow class=\"MJX-TeXAtom-ORD\"><mn mathvariant=\"bold\">1</mn></mrow><mo stretchy=\"false\">[</mo><mtext>Entail</mtext><mo stretchy=\"false\">(</mo><mi>D</mi><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">]</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-75\">F_{\\text{faith}}(y \\mid D) = \\frac{1}{N}\\sum_{i=1}^{N}\\mathbf{1}[\\text{Entail}(D, a_i)]</script>,\nunder the assumption that <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-76-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-598\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-599\"><span class=\"mi\" id=\"MathJax-Span-600\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-76\">D</script> is sufficient.</li>\n        </ul>\n      </li>\n      <li>\n        <p><strong>Groundedness</strong> extends <em>faithfulness</em> by explicitly accounting for <strong>retrieval quality and sufficiency</strong>:</p>\n\n        <ul>\n          <li>In retrieval-augmented systems, <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-77-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-601\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-602\"><span class=\"mi\" id=\"MathJax-Span-603\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-77\">D</script> is <em>dynamically retrieved</em> rather than fixed, and therefore may be incomplete or irrelevant.</li>\n          <li>\n            <p>Groundedness thus expands the requirement:</p>\n\n            <ul>\n              <li>Each claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-78-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-604\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-605\"><span class=\"msubsup\" id=\"MathJax-Span-606\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-607\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-608\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-78\">a_i</script> must still be <em>entailed by</em> some <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-79-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>d</mi><mi>j</mi></msub><mo>&amp;#x2208;</mo><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-609\" style=\"width: 3.284em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 2.711em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.409em, 1002.71em, 2.711em, -999.997em); top: -2.237em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-610\"><span class=\"msubsup\" id=\"MathJax-Span-611\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-612\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-613\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-614\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∈</span><span class=\"mi\" id=\"MathJax-Span-615\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.242em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>d</mi><mi>j</mi></msub><mo>∈</mo><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-79\">d_j \\in D</script>.</li>\n              <li>\n                <p>The retrieved set <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-80-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-616\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-617\"><span class=\"mi\" id=\"MathJax-Span-618\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-80\">D</script> as a whole must be <strong>relevant and sufficient</strong> to justify the answer:</p>\n\n                <ul>\n                  <li><em>Relevance</em> ensures that the retrieved evidence directly pertains to the query or prompt <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-81-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-619\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-620\"><span class=\"mi\" id=\"MathJax-Span-621\" style=\"font-family: STIXGeneral-Italic;\">x<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>x</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-81\">x</script>.</li>\n                  <li><em>Sufficiency</em> ensures that the retrieved evidence collectively provides enough information to support all factual claims in the output <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-82-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-622\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-623\"><span class=\"mi\" id=\"MathJax-Span-624\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-82\">y</script>.</li>\n                  <li>Together, these properties guarantee that the retrieval process provides a complete and contextually appropriate grounding base.</li>\n                </ul>\n              </li>\n            </ul>\n          </li>\n          <li>This means groundedness evaluates both the <em>faithful use of evidence</em> and the <em>adequacy of evidence selection</em>—linking reasoning and retrieval.</li>\n          <li>\n            <p>A typical formulation incorporates both entailment and sufficiency, for example:</p>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\" style=\"text-align: center;\"><span class=\"MathJax\" id=\"MathJax-Element-83-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ground</mtext></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo>&amp;#x2223;</mo><mi>D</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi></mrow></munderover><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn mathvariant=&quot;bold&quot;>1</mn></mrow><mo stretchy=&quot;false&quot;>[</mo><mi mathvariant=&quot;normal&quot;>&amp;#x2203;</mi><mo>,</mo><msub><mi>d</mi><mi>j</mi></msub><mo>&amp;#x2208;</mo><mi>D</mi><mo>:</mo><mtext>Entail</mtext><mo stretchy=&quot;false&quot;>(</mo><msub><mi>d</mi><mi>j</mi></msub><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>]</mo><mo>&amp;#x22C5;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn mathvariant=&quot;bold&quot;>1</mn></mrow><mo stretchy=&quot;false&quot;>[</mo><mtext>Suff</mtext><mo stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>]</mo></math>\" role=\"presentation\" style=\"text-align: center; position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-625\" style=\"width: 31.826em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 26.513em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(0.576em, 1026.41em, 3.909em, -999.997em); top: -2.497em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-626\"><span class=\"msubsup\" id=\"MathJax-Span-627\"><span style=\"display: inline-block; position: relative; width: 2.711em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-628\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-629\"><span class=\"mrow\" id=\"MathJax-Span-630\"><span class=\"mtext\" id=\"MathJax-Span-631\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ground</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-632\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-633\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-634\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∣</span><span class=\"mi\" id=\"MathJax-Span-635\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span><span class=\"mo\" id=\"MathJax-Span-636\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-637\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-638\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.42em, 4.169em, -999.997em); top: -4.685em; left: 50%; margin-left: -0.258em;\"><span class=\"mn\" id=\"MathJax-Span-639\" style=\"font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1000.73em, 4.169em, -999.997em); top: -3.331em; left: 50%; margin-left: -0.362em;\"><span class=\"mi\" id=\"MathJax-Span-640\" style=\"font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.84em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.836em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"munderover\" id=\"MathJax-Span-641\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.305em; height: 0px;\"><span style=\"position: absolute; clip: rect(2.867em, 1001.2em, 4.638em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-642\" style=\"font-family: STIXSizeOneSym; vertical-align: -0.518em;\">∑</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.94em, 4.273em, -999.997em); top: -2.862em; left: 0.107em;\"><span class=\"texatom\" id=\"MathJax-Span-643\"><span class=\"mrow\" id=\"MathJax-Span-644\"><span class=\"mi\" id=\"MathJax-Span-645\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mo\" id=\"MathJax-Span-646\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">=</span><span class=\"mn\" id=\"MathJax-Span-647\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.284em, 1000.52em, 4.169em, -999.997em); top: -5.206em; left: 0.367em;\"><span class=\"texatom\" id=\"MathJax-Span-648\"><span class=\"mrow\" id=\"MathJax-Span-649\"><span class=\"mi\" id=\"MathJax-Span-650\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-651\" style=\"padding-left: 0.211em;\"><span class=\"mrow\" id=\"MathJax-Span-652\"><span class=\"mn\" id=\"MathJax-Span-653\" style=\"font-family: STIXGeneral; font-weight: bold;\">1</span></span></span><span class=\"mo\" id=\"MathJax-Span-654\" style=\"font-family: STIXGeneral-Regular;\">[</span><span class=\"mi\" id=\"MathJax-Span-655\" style=\"font-family: STIXGeneral-Regular;\">∃</span><span class=\"mo\" id=\"MathJax-Span-656\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-657\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-658\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-659\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-660\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∈</span><span class=\"mi\" id=\"MathJax-Span-661\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span><span class=\"mo\" id=\"MathJax-Span-662\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">:</span><span class=\"mtext\" id=\"MathJax-Span-663\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">Entail</span><span class=\"mo\" id=\"MathJax-Span-664\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"msubsup\" id=\"MathJax-Span-665\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-666\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-667\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-668\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-669\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-670\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-671\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-672\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-673\" style=\"font-family: STIXGeneral-Regular;\">]</span><span class=\"mo\" id=\"MathJax-Span-674\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">⋅</span><span class=\"texatom\" id=\"MathJax-Span-675\" style=\"padding-left: 0.263em;\"><span class=\"mrow\" id=\"MathJax-Span-676\"><span class=\"mn\" id=\"MathJax-Span-677\" style=\"font-family: STIXGeneral; font-weight: bold;\">1</span></span></span><span class=\"mo\" id=\"MathJax-Span-678\" style=\"font-family: STIXGeneral-Regular;\">[</span><span class=\"mtext\" id=\"MathJax-Span-679\" style=\"font-family: STIXGeneral-Regular;\">Suff</span><span class=\"mo\" id=\"MathJax-Span-680\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-681\" style=\"font-family: STIXGeneral-Italic;\">D</span><span class=\"mo\" id=\"MathJax-Span-682\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mi\" id=\"MathJax-Span-683\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.211em;\">y</span><span class=\"mo\" id=\"MathJax-Span-684\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-685\" style=\"font-family: STIXGeneral-Regular;\">]</span></span><span style=\"display: inline-block; width: 0px; height: 2.503em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -1.559em; border-left: 0px solid; width: 0px; height: 3.753em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ground</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>y</mi><mo>∣</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mi>N</mi></mrow></munderover><mrow class=\"MJX-TeXAtom-ORD\"><mn mathvariant=\"bold\">1</mn></mrow><mo stretchy=\"false\">[</mo><mi mathvariant=\"normal\">∃</mi><mo>,</mo><msub><mi>d</mi><mi>j</mi></msub><mo>∈</mo><mi>D</mi><mo>:</mo><mtext>Entail</mtext><mo stretchy=\"false\">(</mo><msub><mi>d</mi><mi>j</mi></msub><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">]</mo><mo>⋅</mo><mrow class=\"MJX-TeXAtom-ORD\"><mn mathvariant=\"bold\">1</mn></mrow><mo stretchy=\"false\">[</mo><mtext>Suff</mtext><mo stretchy=\"false\">(</mo><mi>D</mi><mo>,</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">]</mo></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-83\">F_{\\text{ground}}(y \\mid D) = \\frac{1}{N}\\sum_{i=1}^{N}\\mathbf{1}[\\exists, d_j \\in D:\\text{Entail}(d_j, a_i)] \\cdot \\mathbf{1}[\\text{Suff}(D, y)]</script>\n          </li>\n        </ul>\n      </li>\n      <li>\n        <p><strong>Relationship and Implications</strong>:</p>\n\n        <ul>\n          <li>Groundedness <strong>subsumes faithfulness</strong> but adds the retrieval dimension.</li>\n          <li>A model can be <strong>faithful yet ungrounded</strong> if its input context <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-84-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-686\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-687\"><span class=\"mi\" id=\"MathJax-Span-688\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-84\">D</script> omits relevant evidence (i.e., its claims are consistent with what it has seen, but what it has seen is incomplete).</li>\n          <li>In contrast, a <strong>grounded</strong> model’s responses are both <em>supported</em> and <em>sourced</em>—they are faithful to <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-85-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-689\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-690\"><span class=\"mi\" id=\"MathJax-Span-691\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-85\">D</script> and <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-86-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-692\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-693\"><span class=\"mi\" id=\"MathJax-Span-694\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-86\">D</script> itself is well-chosen and sufficient.</li>\n          <li>As retrieval-augmented architectures proliferate, groundedness evaluation—particularly through metrics such as <strong>RAGAS</strong> and related sufficiency-aware measures—has become a <strong>standard criterion for open-domain factual reliability</strong>.</li>\n        </ul>\n      </li>\n    </ul>\n  </li>\n</ul>\n<p>In RAG or web-search settings, <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-64-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-511\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-512\"><span class=\"mi\" id=\"MathJax-Span-513\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-64\">D</script> may represent a dynamic retrieval set; thus, faithfulness depends on whether the retrieved evidence sufficiently supports each <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-65-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-514\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-515\"><span class=\"msubsup\" id=\"MathJax-Span-516\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-517\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-518\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-65\">a_i</script> and whether claims remain grounded within the retrieved context. Similar evaluation frameworks have been proposed in <a href=\"https://aclanthology.org/N18-1074\">FEVER</a>, <a href=\"https://aclanthology.org/2020.emnlp-main.750/\">FactCC</a>, <a href=\"https://aclanthology.org/2020.acl-main.450.pdf\">QAGS</a>, and <a href=\"https://direct.mit.edu/tacl/article/doi/10.1162/tacl_a_00453/109470/SummaC-Re-Visiting-NLI-based-Models-for\">SummaC</a>.</p>\n<p><strong>Key Properties &amp; Challenges</strong>:</p>\n<ul>\n      <li>\n        <p><strong>Joint dependency on retrieval and generation:</strong> Groundedness depends on both (1) whether the retriever returns evidence relevant to the user query and (2) whether the generator limits itself to that evidence. See <em>Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks</em> by <a href=\"https://arxiv.org/abs/2005.11401\">Lewis et al. (2020)</a>.</p>\n      </li>\n      <li>\n        <p><strong>Dynamic evidence selection:</strong> RAG systems can update retrieval at inference time. Factuality must therefore be recomputed per query since retrieved corpora may change (cf. <a href=\"https://arxiv.org/abs/2004.04906\">Karpukhin et al., (2020)</a>).</p>\n      </li>\n      <li>\n        <p><strong>Faithfulness vs. sufficiency:</strong> An answer can be <strong>faithful</strong> to retrieved text yet <strong>ungrounded</strong> if retrieval was incomplete. For instance, a model quoting an irrelevant passage verbatim is faithful but not grounded.</p>\n      </li>\n      <li>\n        <p><strong>Error propagation:</strong> Errors in retrieval (e.g., missing or noisy documents) directly reduce groundedness, even if the model itself performs perfect reasoning.</p>\n      </li>\n      <li>\n        <p><strong>Citation verification:</strong> Proper groundedness can be verified by requiring the model to cite or link supporting evidence snippets. This forms the basis of <strong>AttributionEval</strong> by <a href=\"https://arxiv.org/abs/2112.07828\">Rashkin et al. (2021)</a>.</p>\n      </li>\n    </ul>\n<p><strong>Joint dependency on retrieval and generation:</strong> Groundedness depends on both (1) whether the retriever returns evidence relevant to the user query and (2) whether the generator limits itself to that evidence. See <em>Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks</em> by <a href=\"https://arxiv.org/abs/2005.11401\">Lewis et al. (2020)</a>.</p>\n<p><strong>Dynamic evidence selection:</strong> RAG systems can update retrieval at inference time. Factuality must therefore be recomputed per query since retrieved corpora may change (cf. <a href=\"https://arxiv.org/abs/2004.04906\">Karpukhin et al., (2020)</a>).</p>\n<p><strong>Faithfulness vs. sufficiency:</strong> An answer can be <strong>faithful</strong> to retrieved text yet <strong>ungrounded</strong> if retrieval was incomplete. For instance, a model quoting an irrelevant passage verbatim is faithful but not grounded.</p>\n<p><strong>Error propagation:</strong> Errors in retrieval (e.g., missing or noisy documents) directly reduce groundedness, even if the model itself performs perfect reasoning.</p>\n<p><strong>Citation verification:</strong> Proper groundedness can be verified by requiring the model to cite or link supporting evidence snippets. This forms the basis of <strong>AttributionEval</strong> by <a href=\"https://arxiv.org/abs/2112.07828\">Rashkin et al. (2021)</a>.</p>\n<p><strong>Representative Benchmarks &amp; Methods</strong>:</p>\n<ul>\n      <li>\n        <p><strong>RAGAS</strong>: <a href=\"https://arxiv.org/abs/2309.15217\">Reference-Free Evaluation for Retrieval-Augmented Generation</a> by Es et al. (2023) provides four key metrics: <strong>Faithfulness</strong>, <strong>Context Precision</strong>, <strong>Context Recall</strong>, and <strong>Answer Relevance</strong>, all computed without gold references. An updated EACL demo is available in <a href=\"https://aclanthology.org/2024.eacl-demo.16/\">Es et al. (2024)</a>.</p>\n      </li>\n      <li>\n        <p><strong>AttributionEval</strong>: Evaluates whether model outputs cite supporting documents and whether those citations entail the generated claims (cf. <a href=\"https://arxiv.org/abs/2112.07828\">Rashkin et al. (2021)</a>).</p>\n      </li>\n      <li>\n        <p><strong>FACT-RAG</strong>: A dataset for factuality evaluation in retrieval-augmented QA (cf. <a href=\"https://arxiv.org/abs/2402.13179\">Li et al. (2024)</a>).</p>\n      </li>\n      <li>\n        <p><strong>Faithful RAG</strong>: Improved retriever-generator coordination for factual consistency (cf. <a href=\"https://arxiv.org/abs/2406.01050\">Menon et al. (2024)</a>).</p>\n      </li>\n      <li>\n        <p><strong>LongFact / SAFE</strong> (<a href=\"https://arxiv.org/abs/2403.18802\">Wei et al. (2024)</a>): While focused on long-form generation, these use search-augmented pipelines similar to RAG to check each atomic claim.</p>\n      </li>\n    </ul>\n<p><strong>RAGAS</strong>: <a href=\"https://arxiv.org/abs/2309.15217\">Reference-Free Evaluation for Retrieval-Augmented Generation</a> by Es et al. (2023) provides four key metrics: <strong>Faithfulness</strong>, <strong>Context Precision</strong>, <strong>Context Recall</strong>, and <strong>Answer Relevance</strong>, all computed without gold references. An updated EACL demo is available in <a href=\"https://aclanthology.org/2024.eacl-demo.16/\">Es et al. (2024)</a>.</p>\n<p><strong>AttributionEval</strong>: Evaluates whether model outputs cite supporting documents and whether those citations entail the generated claims (cf. <a href=\"https://arxiv.org/abs/2112.07828\">Rashkin et al. (2021)</a>).</p>\n<p><strong>FACT-RAG</strong>: A dataset for factuality evaluation in retrieval-augmented QA (cf. <a href=\"https://arxiv.org/abs/2402.13179\">Li et al. (2024)</a>).</p>\n<p><strong>Faithful RAG</strong>: Improved retriever-generator coordination for factual consistency (cf. <a href=\"https://arxiv.org/abs/2406.01050\">Menon et al. (2024)</a>).</p>\n<p><strong>LongFact / SAFE</strong> (<a href=\"https://arxiv.org/abs/2403.18802\">Wei et al. (2024)</a>): While focused on long-form generation, these use search-augmented pipelines similar to RAG to check each atomic claim.</p>\n<p><strong>Evaluation Metrics &amp; Strategies</strong>:</p>\n<ul>\n      <li>\n        <p><strong>Context precision and recall</strong> (RAGAS): Precision measures how much retrieved context is actually used by the model; recall measures whether all necessary evidence is retrieved.</p>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\"><span class=\"MathJax MathJax_FullWidth\" id=\"MathJax-Element-66-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>Context Precision</mtext><mo>=</mo><mfrac><mtext># relevant evidence used</mtext><mtext># total evidence used</mtext></mfrac><mo>,</mo><mspace width=&quot;2em&quot; /><mtext>Context Recall</mtext><mo>=</mo><mfrac><mtext># relevant evidence used</mtext><mtext># relevant evidence available</mtext></mfrac></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-519\" style=\"width: 100%; display: inline-block; min-width: 26.096em;\"><span style=\"display: inline-block; position: relative; width: 100%; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(4.117em, 1021.72em, 9.013em, -999.997em); top: -5.622em; left: 0em; width: 100%;\"><span class=\"mrow\" id=\"MathJax-Span-520\"><span style=\"display: inline-block; position: relative; width: 100%; height: 0px;\"><span style=\"position: absolute; clip: rect(2.503em, 1018.86em, 4.846em, -999.997em); top: -4.008em; left: 50%; margin-left: -9.477em;\"><span class=\"mtext\" id=\"MathJax-Span-521\" style=\"font-family: STIXGeneral-Regular;\">Context Precision</span><span class=\"mo\" id=\"MathJax-Span-522\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-523\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 10.003em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.18em, 1009.85em, 4.169em, -999.997em); top: -4.685em; left: 50%; margin-left: -4.945em;\"><span class=\"mtext\" id=\"MathJax-Span-524\" style=\"font-family: STIXGeneral-Regular;\"># relevant evidence used</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1008.39em, 4.169em, -999.997em); top: -3.331em; left: 50%; margin-left: -4.216em;\"><span class=\"mtext\" id=\"MathJax-Span-525\" style=\"font-family: STIXGeneral-Regular;\"># total evidence used</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1010em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 10.003em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-526\" style=\"font-family: STIXGeneral-Regular;\">,</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(2.503em, 1021.72em, 4.846em, -999.997em); top: -1.456em; left: 50%; margin-left: -10.883em;\"><span class=\"mspace\" id=\"MathJax-Span-527\" style=\"height: 0em; vertical-align: 0em; width: 2.242em; display: inline-block; overflow: hidden;\"></span><span class=\"mtext\" id=\"MathJax-Span-528\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">Context Recall</span><span class=\"mo\" id=\"MathJax-Span-529\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-530\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 11.773em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.18em, 1009.85em, 4.169em, -999.997em); top: -4.685em; left: 50%; margin-left: -4.945em;\"><span class=\"mtext\" id=\"MathJax-Span-531\" style=\"font-family: STIXGeneral-Regular;\"># relevant evidence used</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1011.62em, 4.169em, -999.997em); top: -3.331em; left: 50%; margin-left: -5.831em;\"><span class=\"mtext\" id=\"MathJax-Span-532\" style=\"font-family: STIXGeneral-Regular;\"># relevant evidence available</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1011.77em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 11.773em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 5.628em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -3.934em; border-left: 0px solid; width: 0px; height: 5.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mtext>Context Precision</mtext><mo>=</mo><mfrac><mtext># relevant evidence used</mtext><mtext># total evidence used</mtext></mfrac><mo>,</mo><mspace width=\"2em\"></mspace><mtext>Context Recall</mtext><mo>=</mo><mfrac><mtext># relevant evidence used</mtext><mtext># relevant evidence available</mtext></mfrac></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-66\">\\text{Context Precision} = \\frac{\\text{# relevant evidence used}}{\\text{# total evidence used}}, \\qquad\n\\text{Context Recall} = \\frac{\\text{# relevant evidence used}}{\\text{# relevant evidence available}}</script>\n      </li>\n      <li>\n        <p><strong>Faithfulness (RAGAS / AttributionEval):</strong> Checks whether the model’s generated claims are supported by retrieved evidence.</p>\n      </li>\n      <li>\n        <p><strong>Answer relevance:</strong> Measures semantic alignment between the model’s response and the user query; low relevance can indicate factual drift.</p>\n      </li>\n      <li>\n        <p><strong>Citation entailment accuracy:</strong> Proportion of cited snippets that entail the corresponding claims (<a href=\"https://arxiv.org/abs/2112.07828\">AttributionEval</a>).</p>\n      </li>\n      <li>\n        <p><strong>Overall groundedness score:</strong> Weighted aggregation of faithfulness, evidence precision/recall, and attribution correctness.</p>\n      </li>\n    </ul>\n<p><strong>Context precision and recall</strong> (RAGAS): Precision measures how much retrieved context is actually used by the model; recall measures whether all necessary evidence is retrieved.</p>\n<p><strong>Faithfulness (RAGAS / AttributionEval):</strong> Checks whether the model’s generated claims are supported by retrieved evidence.</p>\n<p><strong>Answer relevance:</strong> Measures semantic alignment between the model’s response and the user query; low relevance can indicate factual drift.</p>\n<p><strong>Citation entailment accuracy:</strong> Proportion of cited snippets that entail the corresponding claims (<a href=\"https://arxiv.org/abs/2112.07828\">AttributionEval</a>).</p>\n<p><strong>Overall groundedness score:</strong> Weighted aggregation of faithfulness, evidence precision/recall, and attribution correctness.</p>\n<p><strong>Relation to Other Factuality Types</strong>:</p>\n<ul>\n      <li>\n        <p><strong>Faithfulness</strong> focuses on <em>alignment given fixed evidence</em>:</p>\n\n        <ul>\n          <li>The evidence <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-67-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-533\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-534\"><span class=\"mi\" id=\"MathJax-Span-535\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-67\">D</script> is assumed to be <strong>fixed and authoritative</strong> (for instance, a source article, table, or gold reference).</li>\n          <li>\n            <p>The evaluation measures whether the model <strong>uses <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-68-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-536\" style=\"width: 0.881em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.726em; height: 0px; font-size: 121%;\"><span style=\"position: absolute; clip: rect(1.346em, 1000.73em, 2.327em, -999.997em); top: -2.167em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-537\"><span class=\"mi\" id=\"MathJax-Span-538\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.172em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-68\">D</script> correctly</strong>:</p>\n\n            <ul>\n              <li>Each atomic claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-69-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-539\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-540\"><span class=\"msubsup\" id=\"MathJax-Span-541\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-542\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-543\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-69\">a_i</script> should be <em>entailed by</em> <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-70-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-544\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-545\"><span class=\"mi\" id=\"MathJax-Span-546\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-70\">D</script>.</li>\n              <li>The output should include <strong>no contradictions or hallucinated information</strong>—it must not invent or distort facts beyond what <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-71-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-547\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-548\"><span class=\"mi\" id=\"MathJax-Span-549\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-71\">D</script> supports.</li>\n            </ul>\n          </li>\n          <li>In this setting, <strong>sufficiency is assumed by construction</strong>—the dataset or task setup guarantees that <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-72-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-550\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-551\"><span class=\"mi\" id=\"MathJax-Span-552\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-72\">D</script> contains all information needed to answer. Thus, faithfulness focuses purely on <em>correctness relative to <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-73-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-553\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-554\"><span class=\"mi\" id=\"MathJax-Span-555\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-73\">D</script></em> rather than the quality of <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-74-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-556\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-557\"><span class=\"mi\" id=\"MathJax-Span-558\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-74\">D</script> itself.</li>\n          <li>Formally, this can be expressed as\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-75-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>faith</mtext></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo>&amp;#x2223;</mo><mi>D</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi></mrow></munderover><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn mathvariant=&quot;bold&quot;>1</mn></mrow><mo stretchy=&quot;false&quot;>[</mo><mtext>Entail</mtext><mo stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>]</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-559\" style=\"width: 18.544em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 15.419em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.409em, 1015.32em, 3.023em, -999.997em); top: -2.497em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-560\"><span class=\"msubsup\" id=\"MathJax-Span-561\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-562\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-563\"><span class=\"mrow\" id=\"MathJax-Span-564\"><span class=\"mtext\" id=\"MathJax-Span-565\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">faith</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-566\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-567\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-568\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∣</span><span class=\"mi\" id=\"MathJax-Span-569\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span><span class=\"mo\" id=\"MathJax-Span-570\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-571\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-572\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.628em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-573\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.52em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -0.258em;\"><span class=\"mi\" id=\"MathJax-Span-574\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.63em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.628em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"munderover\" id=\"MathJax-Span-575\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 2.034em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.076em, 1000.84em, 4.43em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-576\" style=\"font-family: STIXGeneral-Regular; vertical-align: 0.003em;\">∑</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.58em, 4.169em, -999.997em); top: -4.477em; left: 0.94em;\"><span class=\"texatom\" id=\"MathJax-Span-577\"><span class=\"mrow\" id=\"MathJax-Span-578\"><span class=\"mi\" id=\"MathJax-Span-579\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1001.1em, 4.169em, -999.997em); top: -3.695em; left: 0.94em;\"><span class=\"texatom\" id=\"MathJax-Span-580\"><span class=\"mrow\" id=\"MathJax-Span-581\"><span class=\"mi\" id=\"MathJax-Span-582\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mo\" id=\"MathJax-Span-583\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">=</span><span class=\"mn\" id=\"MathJax-Span-584\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-585\" style=\"padding-left: 0.211em;\"><span class=\"mrow\" id=\"MathJax-Span-586\"><span class=\"mn\" id=\"MathJax-Span-587\" style=\"font-family: STIXGeneral; font-weight: bold;\">1</span></span></span><span class=\"mo\" id=\"MathJax-Span-588\" style=\"font-family: STIXGeneral-Regular;\">[</span><span class=\"mtext\" id=\"MathJax-Span-589\" style=\"font-family: STIXGeneral-Regular;\">Entail</span><span class=\"mo\" id=\"MathJax-Span-590\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-591\" style=\"font-family: STIXGeneral-Italic;\">D</span><span class=\"mo\" id=\"MathJax-Span-592\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-593\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-594\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-595\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-596\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-597\" style=\"font-family: STIXGeneral-Regular;\">]</span></span><span style=\"display: inline-block; width: 0px; height: 2.503em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.497em; border-left: 0px solid; width: 0px; height: 1.753em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>faith</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>y</mi><mo>∣</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mi>N</mi></mrow></munderover><mrow class=\"MJX-TeXAtom-ORD\"><mn mathvariant=\"bold\">1</mn></mrow><mo stretchy=\"false\">[</mo><mtext>Entail</mtext><mo stretchy=\"false\">(</mo><mi>D</mi><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">]</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-75\">F_{\\text{faith}}(y \\mid D) = \\frac{1}{N}\\sum_{i=1}^{N}\\mathbf{1}[\\text{Entail}(D, a_i)]</script>,\nunder the assumption that <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-76-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-598\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-599\"><span class=\"mi\" id=\"MathJax-Span-600\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-76\">D</script> is sufficient.</li>\n        </ul>\n      </li>\n      <li>\n        <p><strong>Groundedness</strong> extends <em>faithfulness</em> by explicitly accounting for <strong>retrieval quality and sufficiency</strong>:</p>\n\n        <ul>\n          <li>In retrieval-augmented systems, <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-77-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-601\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-602\"><span class=\"mi\" id=\"MathJax-Span-603\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-77\">D</script> is <em>dynamically retrieved</em> rather than fixed, and therefore may be incomplete or irrelevant.</li>\n          <li>\n            <p>Groundedness thus expands the requirement:</p>\n\n            <ul>\n              <li>Each claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-78-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-604\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-605\"><span class=\"msubsup\" id=\"MathJax-Span-606\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-607\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-608\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-78\">a_i</script> must still be <em>entailed by</em> some <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-79-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>d</mi><mi>j</mi></msub><mo>&amp;#x2208;</mo><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-609\" style=\"width: 3.284em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 2.711em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.409em, 1002.71em, 2.711em, -999.997em); top: -2.237em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-610\"><span class=\"msubsup\" id=\"MathJax-Span-611\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-612\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-613\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-614\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∈</span><span class=\"mi\" id=\"MathJax-Span-615\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.242em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>d</mi><mi>j</mi></msub><mo>∈</mo><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-79\">d_j \\in D</script>.</li>\n              <li>\n                <p>The retrieved set <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-80-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-616\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-617\"><span class=\"mi\" id=\"MathJax-Span-618\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-80\">D</script> as a whole must be <strong>relevant and sufficient</strong> to justify the answer:</p>\n\n                <ul>\n                  <li><em>Relevance</em> ensures that the retrieved evidence directly pertains to the query or prompt <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-81-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-619\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-620\"><span class=\"mi\" id=\"MathJax-Span-621\" style=\"font-family: STIXGeneral-Italic;\">x<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>x</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-81\">x</script>.</li>\n                  <li><em>Sufficiency</em> ensures that the retrieved evidence collectively provides enough information to support all factual claims in the output <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-82-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-622\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-623\"><span class=\"mi\" id=\"MathJax-Span-624\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-82\">y</script>.</li>\n                  <li>Together, these properties guarantee that the retrieval process provides a complete and contextually appropriate grounding base.</li>\n                </ul>\n              </li>\n            </ul>\n          </li>\n          <li>This means groundedness evaluates both the <em>faithful use of evidence</em> and the <em>adequacy of evidence selection</em>—linking reasoning and retrieval.</li>\n          <li>\n            <p>A typical formulation incorporates both entailment and sufficiency, for example:</p>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\" style=\"text-align: center;\"><span class=\"MathJax\" id=\"MathJax-Element-83-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ground</mtext></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo>&amp;#x2223;</mo><mi>D</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi></mrow></munderover><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn mathvariant=&quot;bold&quot;>1</mn></mrow><mo stretchy=&quot;false&quot;>[</mo><mi mathvariant=&quot;normal&quot;>&amp;#x2203;</mi><mo>,</mo><msub><mi>d</mi><mi>j</mi></msub><mo>&amp;#x2208;</mo><mi>D</mi><mo>:</mo><mtext>Entail</mtext><mo stretchy=&quot;false&quot;>(</mo><msub><mi>d</mi><mi>j</mi></msub><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>]</mo><mo>&amp;#x22C5;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn mathvariant=&quot;bold&quot;>1</mn></mrow><mo stretchy=&quot;false&quot;>[</mo><mtext>Suff</mtext><mo stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>]</mo></math>\" role=\"presentation\" style=\"text-align: center; position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-625\" style=\"width: 31.826em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 26.513em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(0.576em, 1026.41em, 3.909em, -999.997em); top: -2.497em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-626\"><span class=\"msubsup\" id=\"MathJax-Span-627\"><span style=\"display: inline-block; position: relative; width: 2.711em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-628\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-629\"><span class=\"mrow\" id=\"MathJax-Span-630\"><span class=\"mtext\" id=\"MathJax-Span-631\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ground</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-632\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-633\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-634\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∣</span><span class=\"mi\" id=\"MathJax-Span-635\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span><span class=\"mo\" id=\"MathJax-Span-636\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-637\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-638\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.42em, 4.169em, -999.997em); top: -4.685em; left: 50%; margin-left: -0.258em;\"><span class=\"mn\" id=\"MathJax-Span-639\" style=\"font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1000.73em, 4.169em, -999.997em); top: -3.331em; left: 50%; margin-left: -0.362em;\"><span class=\"mi\" id=\"MathJax-Span-640\" style=\"font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.84em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.836em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"munderover\" id=\"MathJax-Span-641\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.305em; height: 0px;\"><span style=\"position: absolute; clip: rect(2.867em, 1001.2em, 4.638em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-642\" style=\"font-family: STIXSizeOneSym; vertical-align: -0.518em;\">∑</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.94em, 4.273em, -999.997em); top: -2.862em; left: 0.107em;\"><span class=\"texatom\" id=\"MathJax-Span-643\"><span class=\"mrow\" id=\"MathJax-Span-644\"><span class=\"mi\" id=\"MathJax-Span-645\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mo\" id=\"MathJax-Span-646\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">=</span><span class=\"mn\" id=\"MathJax-Span-647\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.284em, 1000.52em, 4.169em, -999.997em); top: -5.206em; left: 0.367em;\"><span class=\"texatom\" id=\"MathJax-Span-648\"><span class=\"mrow\" id=\"MathJax-Span-649\"><span class=\"mi\" id=\"MathJax-Span-650\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-651\" style=\"padding-left: 0.211em;\"><span class=\"mrow\" id=\"MathJax-Span-652\"><span class=\"mn\" id=\"MathJax-Span-653\" style=\"font-family: STIXGeneral; font-weight: bold;\">1</span></span></span><span class=\"mo\" id=\"MathJax-Span-654\" style=\"font-family: STIXGeneral-Regular;\">[</span><span class=\"mi\" id=\"MathJax-Span-655\" style=\"font-family: STIXGeneral-Regular;\">∃</span><span class=\"mo\" id=\"MathJax-Span-656\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-657\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-658\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-659\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-660\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∈</span><span class=\"mi\" id=\"MathJax-Span-661\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span><span class=\"mo\" id=\"MathJax-Span-662\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">:</span><span class=\"mtext\" id=\"MathJax-Span-663\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">Entail</span><span class=\"mo\" id=\"MathJax-Span-664\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"msubsup\" id=\"MathJax-Span-665\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-666\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-667\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-668\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-669\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-670\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-671\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-672\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-673\" style=\"font-family: STIXGeneral-Regular;\">]</span><span class=\"mo\" id=\"MathJax-Span-674\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">⋅</span><span class=\"texatom\" id=\"MathJax-Span-675\" style=\"padding-left: 0.263em;\"><span class=\"mrow\" id=\"MathJax-Span-676\"><span class=\"mn\" id=\"MathJax-Span-677\" style=\"font-family: STIXGeneral; font-weight: bold;\">1</span></span></span><span class=\"mo\" id=\"MathJax-Span-678\" style=\"font-family: STIXGeneral-Regular;\">[</span><span class=\"mtext\" id=\"MathJax-Span-679\" style=\"font-family: STIXGeneral-Regular;\">Suff</span><span class=\"mo\" id=\"MathJax-Span-680\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-681\" style=\"font-family: STIXGeneral-Italic;\">D</span><span class=\"mo\" id=\"MathJax-Span-682\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mi\" id=\"MathJax-Span-683\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.211em;\">y</span><span class=\"mo\" id=\"MathJax-Span-684\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-685\" style=\"font-family: STIXGeneral-Regular;\">]</span></span><span style=\"display: inline-block; width: 0px; height: 2.503em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -1.559em; border-left: 0px solid; width: 0px; height: 3.753em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ground</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>y</mi><mo>∣</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mi>N</mi></mrow></munderover><mrow class=\"MJX-TeXAtom-ORD\"><mn mathvariant=\"bold\">1</mn></mrow><mo stretchy=\"false\">[</mo><mi mathvariant=\"normal\">∃</mi><mo>,</mo><msub><mi>d</mi><mi>j</mi></msub><mo>∈</mo><mi>D</mi><mo>:</mo><mtext>Entail</mtext><mo stretchy=\"false\">(</mo><msub><mi>d</mi><mi>j</mi></msub><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">]</mo><mo>⋅</mo><mrow class=\"MJX-TeXAtom-ORD\"><mn mathvariant=\"bold\">1</mn></mrow><mo stretchy=\"false\">[</mo><mtext>Suff</mtext><mo stretchy=\"false\">(</mo><mi>D</mi><mo>,</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">]</mo></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-83\">F_{\\text{ground}}(y \\mid D) = \\frac{1}{N}\\sum_{i=1}^{N}\\mathbf{1}[\\exists, d_j \\in D:\\text{Entail}(d_j, a_i)] \\cdot \\mathbf{1}[\\text{Suff}(D, y)]</script>\n          </li>\n        </ul>\n      </li>\n      <li>\n        <p><strong>Relationship and Implications</strong>:</p>\n\n        <ul>\n          <li>Groundedness <strong>subsumes faithfulness</strong> but adds the retrieval dimension.</li>\n          <li>A model can be <strong>faithful yet ungrounded</strong> if its input context <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-84-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-686\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-687\"><span class=\"mi\" id=\"MathJax-Span-688\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-84\">D</script> omits relevant evidence (i.e., its claims are consistent with what it has seen, but what it has seen is incomplete).</li>\n          <li>In contrast, a <strong>grounded</strong> model’s responses are both <em>supported</em> and <em>sourced</em>—they are faithful to <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-85-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-689\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-690\"><span class=\"mi\" id=\"MathJax-Span-691\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-85\">D</script> and <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-86-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-692\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-693\"><span class=\"mi\" id=\"MathJax-Span-694\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-86\">D</script> itself is well-chosen and sufficient.</li>\n          <li>As retrieval-augmented architectures proliferate, groundedness evaluation—particularly through metrics such as <strong>RAGAS</strong> and related sufficiency-aware measures—has become a <strong>standard criterion for open-domain factual reliability</strong>.</li>\n        </ul>\n      </li>\n    </ul>\n<p><strong>Faithfulness</strong> focuses on <em>alignment given fixed evidence</em>:</p>\n<ul>\n          <li>The evidence <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-67-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-533\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-534\"><span class=\"mi\" id=\"MathJax-Span-535\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-67\">D</script> is assumed to be <strong>fixed and authoritative</strong> (for instance, a source article, table, or gold reference).</li>\n          <li>\n            <p>The evaluation measures whether the model <strong>uses <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-68-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-536\" style=\"width: 0.881em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.726em; height: 0px; font-size: 121%;\"><span style=\"position: absolute; clip: rect(1.346em, 1000.73em, 2.327em, -999.997em); top: -2.167em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-537\"><span class=\"mi\" id=\"MathJax-Span-538\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.172em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-68\">D</script> correctly</strong>:</p>\n\n            <ul>\n              <li>Each atomic claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-69-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-539\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-540\"><span class=\"msubsup\" id=\"MathJax-Span-541\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-542\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-543\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-69\">a_i</script> should be <em>entailed by</em> <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-70-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-544\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-545\"><span class=\"mi\" id=\"MathJax-Span-546\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-70\">D</script>.</li>\n              <li>The output should include <strong>no contradictions or hallucinated information</strong>—it must not invent or distort facts beyond what <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-71-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-547\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-548\"><span class=\"mi\" id=\"MathJax-Span-549\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-71\">D</script> supports.</li>\n            </ul>\n          </li>\n          <li>In this setting, <strong>sufficiency is assumed by construction</strong>—the dataset or task setup guarantees that <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-72-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-550\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-551\"><span class=\"mi\" id=\"MathJax-Span-552\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-72\">D</script> contains all information needed to answer. Thus, faithfulness focuses purely on <em>correctness relative to <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-73-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-553\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-554\"><span class=\"mi\" id=\"MathJax-Span-555\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-73\">D</script></em> rather than the quality of <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-74-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-556\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-557\"><span class=\"mi\" id=\"MathJax-Span-558\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-74\">D</script> itself.</li>\n          <li>Formally, this can be expressed as\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-75-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>faith</mtext></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo>&amp;#x2223;</mo><mi>D</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi></mrow></munderover><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn mathvariant=&quot;bold&quot;>1</mn></mrow><mo stretchy=&quot;false&quot;>[</mo><mtext>Entail</mtext><mo stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>]</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-559\" style=\"width: 18.544em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 15.419em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.409em, 1015.32em, 3.023em, -999.997em); top: -2.497em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-560\"><span class=\"msubsup\" id=\"MathJax-Span-561\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-562\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-563\"><span class=\"mrow\" id=\"MathJax-Span-564\"><span class=\"mtext\" id=\"MathJax-Span-565\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">faith</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-566\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-567\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-568\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∣</span><span class=\"mi\" id=\"MathJax-Span-569\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span><span class=\"mo\" id=\"MathJax-Span-570\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-571\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-572\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.628em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-573\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.52em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -0.258em;\"><span class=\"mi\" id=\"MathJax-Span-574\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.63em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.628em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"munderover\" id=\"MathJax-Span-575\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 2.034em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.076em, 1000.84em, 4.43em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-576\" style=\"font-family: STIXGeneral-Regular; vertical-align: 0.003em;\">∑</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.58em, 4.169em, -999.997em); top: -4.477em; left: 0.94em;\"><span class=\"texatom\" id=\"MathJax-Span-577\"><span class=\"mrow\" id=\"MathJax-Span-578\"><span class=\"mi\" id=\"MathJax-Span-579\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1001.1em, 4.169em, -999.997em); top: -3.695em; left: 0.94em;\"><span class=\"texatom\" id=\"MathJax-Span-580\"><span class=\"mrow\" id=\"MathJax-Span-581\"><span class=\"mi\" id=\"MathJax-Span-582\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mo\" id=\"MathJax-Span-583\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">=</span><span class=\"mn\" id=\"MathJax-Span-584\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-585\" style=\"padding-left: 0.211em;\"><span class=\"mrow\" id=\"MathJax-Span-586\"><span class=\"mn\" id=\"MathJax-Span-587\" style=\"font-family: STIXGeneral; font-weight: bold;\">1</span></span></span><span class=\"mo\" id=\"MathJax-Span-588\" style=\"font-family: STIXGeneral-Regular;\">[</span><span class=\"mtext\" id=\"MathJax-Span-589\" style=\"font-family: STIXGeneral-Regular;\">Entail</span><span class=\"mo\" id=\"MathJax-Span-590\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-591\" style=\"font-family: STIXGeneral-Italic;\">D</span><span class=\"mo\" id=\"MathJax-Span-592\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-593\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-594\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-595\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-596\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-597\" style=\"font-family: STIXGeneral-Regular;\">]</span></span><span style=\"display: inline-block; width: 0px; height: 2.503em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.497em; border-left: 0px solid; width: 0px; height: 1.753em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>faith</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>y</mi><mo>∣</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mi>N</mi></mrow></munderover><mrow class=\"MJX-TeXAtom-ORD\"><mn mathvariant=\"bold\">1</mn></mrow><mo stretchy=\"false\">[</mo><mtext>Entail</mtext><mo stretchy=\"false\">(</mo><mi>D</mi><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">]</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-75\">F_{\\text{faith}}(y \\mid D) = \\frac{1}{N}\\sum_{i=1}^{N}\\mathbf{1}[\\text{Entail}(D, a_i)]</script>,\nunder the assumption that <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-76-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-598\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-599\"><span class=\"mi\" id=\"MathJax-Span-600\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-76\">D</script> is sufficient.</li>\n        </ul>\n<p>The evaluation measures whether the model <strong>uses <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-68-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-536\" style=\"width: 0.881em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.726em; height: 0px; font-size: 121%;\"><span style=\"position: absolute; clip: rect(1.346em, 1000.73em, 2.327em, -999.997em); top: -2.167em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-537\"><span class=\"mi\" id=\"MathJax-Span-538\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.172em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-68\">D</script> correctly</strong>:</p>\n<ul>\n              <li>Each atomic claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-69-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-539\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-540\"><span class=\"msubsup\" id=\"MathJax-Span-541\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-542\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-543\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-69\">a_i</script> should be <em>entailed by</em> <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-70-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-544\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-545\"><span class=\"mi\" id=\"MathJax-Span-546\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-70\">D</script>.</li>\n              <li>The output should include <strong>no contradictions or hallucinated information</strong>—it must not invent or distort facts beyond what <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-71-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-547\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-548\"><span class=\"mi\" id=\"MathJax-Span-549\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-71\">D</script> supports.</li>\n            </ul>\n<p><strong>Groundedness</strong> extends <em>faithfulness</em> by explicitly accounting for <strong>retrieval quality and sufficiency</strong>:</p>\n<ul>\n          <li>In retrieval-augmented systems, <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-77-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-601\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-602\"><span class=\"mi\" id=\"MathJax-Span-603\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-77\">D</script> is <em>dynamically retrieved</em> rather than fixed, and therefore may be incomplete or irrelevant.</li>\n          <li>\n            <p>Groundedness thus expands the requirement:</p>\n\n            <ul>\n              <li>Each claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-78-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-604\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-605\"><span class=\"msubsup\" id=\"MathJax-Span-606\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-607\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-608\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-78\">a_i</script> must still be <em>entailed by</em> some <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-79-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>d</mi><mi>j</mi></msub><mo>&amp;#x2208;</mo><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-609\" style=\"width: 3.284em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 2.711em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.409em, 1002.71em, 2.711em, -999.997em); top: -2.237em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-610\"><span class=\"msubsup\" id=\"MathJax-Span-611\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-612\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-613\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-614\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∈</span><span class=\"mi\" id=\"MathJax-Span-615\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.242em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>d</mi><mi>j</mi></msub><mo>∈</mo><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-79\">d_j \\in D</script>.</li>\n              <li>\n                <p>The retrieved set <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-80-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-616\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-617\"><span class=\"mi\" id=\"MathJax-Span-618\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-80\">D</script> as a whole must be <strong>relevant and sufficient</strong> to justify the answer:</p>\n\n                <ul>\n                  <li><em>Relevance</em> ensures that the retrieved evidence directly pertains to the query or prompt <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-81-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-619\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-620\"><span class=\"mi\" id=\"MathJax-Span-621\" style=\"font-family: STIXGeneral-Italic;\">x<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>x</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-81\">x</script>.</li>\n                  <li><em>Sufficiency</em> ensures that the retrieved evidence collectively provides enough information to support all factual claims in the output <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-82-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-622\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-623\"><span class=\"mi\" id=\"MathJax-Span-624\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-82\">y</script>.</li>\n                  <li>Together, these properties guarantee that the retrieval process provides a complete and contextually appropriate grounding base.</li>\n                </ul>\n              </li>\n            </ul>\n          </li>\n          <li>This means groundedness evaluates both the <em>faithful use of evidence</em> and the <em>adequacy of evidence selection</em>—linking reasoning and retrieval.</li>\n          <li>\n            <p>A typical formulation incorporates both entailment and sufficiency, for example:</p>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\" style=\"text-align: center;\"><span class=\"MathJax\" id=\"MathJax-Element-83-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ground</mtext></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo>&amp;#x2223;</mo><mi>D</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi></mrow></munderover><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn mathvariant=&quot;bold&quot;>1</mn></mrow><mo stretchy=&quot;false&quot;>[</mo><mi mathvariant=&quot;normal&quot;>&amp;#x2203;</mi><mo>,</mo><msub><mi>d</mi><mi>j</mi></msub><mo>&amp;#x2208;</mo><mi>D</mi><mo>:</mo><mtext>Entail</mtext><mo stretchy=&quot;false&quot;>(</mo><msub><mi>d</mi><mi>j</mi></msub><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>]</mo><mo>&amp;#x22C5;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn mathvariant=&quot;bold&quot;>1</mn></mrow><mo stretchy=&quot;false&quot;>[</mo><mtext>Suff</mtext><mo stretchy=&quot;false&quot;>(</mo><mi>D</mi><mo>,</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>]</mo></math>\" role=\"presentation\" style=\"text-align: center; position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-625\" style=\"width: 31.826em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 26.513em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(0.576em, 1026.41em, 3.909em, -999.997em); top: -2.497em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-626\"><span class=\"msubsup\" id=\"MathJax-Span-627\"><span style=\"display: inline-block; position: relative; width: 2.711em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-628\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-629\"><span class=\"mrow\" id=\"MathJax-Span-630\"><span class=\"mtext\" id=\"MathJax-Span-631\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ground</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-632\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-633\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-634\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∣</span><span class=\"mi\" id=\"MathJax-Span-635\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span><span class=\"mo\" id=\"MathJax-Span-636\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-637\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-638\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.42em, 4.169em, -999.997em); top: -4.685em; left: 50%; margin-left: -0.258em;\"><span class=\"mn\" id=\"MathJax-Span-639\" style=\"font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1000.73em, 4.169em, -999.997em); top: -3.331em; left: 50%; margin-left: -0.362em;\"><span class=\"mi\" id=\"MathJax-Span-640\" style=\"font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.84em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.836em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"munderover\" id=\"MathJax-Span-641\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.305em; height: 0px;\"><span style=\"position: absolute; clip: rect(2.867em, 1001.2em, 4.638em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-642\" style=\"font-family: STIXSizeOneSym; vertical-align: -0.518em;\">∑</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.94em, 4.273em, -999.997em); top: -2.862em; left: 0.107em;\"><span class=\"texatom\" id=\"MathJax-Span-643\"><span class=\"mrow\" id=\"MathJax-Span-644\"><span class=\"mi\" id=\"MathJax-Span-645\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mo\" id=\"MathJax-Span-646\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">=</span><span class=\"mn\" id=\"MathJax-Span-647\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.284em, 1000.52em, 4.169em, -999.997em); top: -5.206em; left: 0.367em;\"><span class=\"texatom\" id=\"MathJax-Span-648\"><span class=\"mrow\" id=\"MathJax-Span-649\"><span class=\"mi\" id=\"MathJax-Span-650\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-651\" style=\"padding-left: 0.211em;\"><span class=\"mrow\" id=\"MathJax-Span-652\"><span class=\"mn\" id=\"MathJax-Span-653\" style=\"font-family: STIXGeneral; font-weight: bold;\">1</span></span></span><span class=\"mo\" id=\"MathJax-Span-654\" style=\"font-family: STIXGeneral-Regular;\">[</span><span class=\"mi\" id=\"MathJax-Span-655\" style=\"font-family: STIXGeneral-Regular;\">∃</span><span class=\"mo\" id=\"MathJax-Span-656\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-657\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-658\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-659\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-660\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∈</span><span class=\"mi\" id=\"MathJax-Span-661\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span><span class=\"mo\" id=\"MathJax-Span-662\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">:</span><span class=\"mtext\" id=\"MathJax-Span-663\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">Entail</span><span class=\"mo\" id=\"MathJax-Span-664\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"msubsup\" id=\"MathJax-Span-665\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-666\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-667\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-668\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-669\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-670\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-671\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-672\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-673\" style=\"font-family: STIXGeneral-Regular;\">]</span><span class=\"mo\" id=\"MathJax-Span-674\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">⋅</span><span class=\"texatom\" id=\"MathJax-Span-675\" style=\"padding-left: 0.263em;\"><span class=\"mrow\" id=\"MathJax-Span-676\"><span class=\"mn\" id=\"MathJax-Span-677\" style=\"font-family: STIXGeneral; font-weight: bold;\">1</span></span></span><span class=\"mo\" id=\"MathJax-Span-678\" style=\"font-family: STIXGeneral-Regular;\">[</span><span class=\"mtext\" id=\"MathJax-Span-679\" style=\"font-family: STIXGeneral-Regular;\">Suff</span><span class=\"mo\" id=\"MathJax-Span-680\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-681\" style=\"font-family: STIXGeneral-Italic;\">D</span><span class=\"mo\" id=\"MathJax-Span-682\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mi\" id=\"MathJax-Span-683\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.211em;\">y</span><span class=\"mo\" id=\"MathJax-Span-684\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-685\" style=\"font-family: STIXGeneral-Regular;\">]</span></span><span style=\"display: inline-block; width: 0px; height: 2.503em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -1.559em; border-left: 0px solid; width: 0px; height: 3.753em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ground</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>y</mi><mo>∣</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mi>N</mi></mrow></munderover><mrow class=\"MJX-TeXAtom-ORD\"><mn mathvariant=\"bold\">1</mn></mrow><mo stretchy=\"false\">[</mo><mi mathvariant=\"normal\">∃</mi><mo>,</mo><msub><mi>d</mi><mi>j</mi></msub><mo>∈</mo><mi>D</mi><mo>:</mo><mtext>Entail</mtext><mo stretchy=\"false\">(</mo><msub><mi>d</mi><mi>j</mi></msub><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">]</mo><mo>⋅</mo><mrow class=\"MJX-TeXAtom-ORD\"><mn mathvariant=\"bold\">1</mn></mrow><mo stretchy=\"false\">[</mo><mtext>Suff</mtext><mo stretchy=\"false\">(</mo><mi>D</mi><mo>,</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo stretchy=\"false\">]</mo></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-83\">F_{\\text{ground}}(y \\mid D) = \\frac{1}{N}\\sum_{i=1}^{N}\\mathbf{1}[\\exists, d_j \\in D:\\text{Entail}(d_j, a_i)] \\cdot \\mathbf{1}[\\text{Suff}(D, y)]</script>\n          </li>\n        </ul>\n<p>Groundedness thus expands the requirement:</p>\n<ul>\n              <li>Each claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-78-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-604\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-605\"><span class=\"msubsup\" id=\"MathJax-Span-606\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-607\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-608\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-78\">a_i</script> must still be <em>entailed by</em> some <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-79-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>d</mi><mi>j</mi></msub><mo>&amp;#x2208;</mo><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-609\" style=\"width: 3.284em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 2.711em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.409em, 1002.71em, 2.711em, -999.997em); top: -2.237em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-610\"><span class=\"msubsup\" id=\"MathJax-Span-611\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-612\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-613\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-614\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∈</span><span class=\"mi\" id=\"MathJax-Span-615\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.242em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>d</mi><mi>j</mi></msub><mo>∈</mo><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-79\">d_j \\in D</script>.</li>\n              <li>\n                <p>The retrieved set <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-80-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-616\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-617\"><span class=\"mi\" id=\"MathJax-Span-618\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-80\">D</script> as a whole must be <strong>relevant and sufficient</strong> to justify the answer:</p>\n\n                <ul>\n                  <li><em>Relevance</em> ensures that the retrieved evidence directly pertains to the query or prompt <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-81-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-619\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-620\"><span class=\"mi\" id=\"MathJax-Span-621\" style=\"font-family: STIXGeneral-Italic;\">x<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>x</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-81\">x</script>.</li>\n                  <li><em>Sufficiency</em> ensures that the retrieved evidence collectively provides enough information to support all factual claims in the output <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-82-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-622\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-623\"><span class=\"mi\" id=\"MathJax-Span-624\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-82\">y</script>.</li>\n                  <li>Together, these properties guarantee that the retrieval process provides a complete and contextually appropriate grounding base.</li>\n                </ul>\n              </li>\n            </ul>\n<p>The retrieved set <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-80-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-616\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-617\"><span class=\"mi\" id=\"MathJax-Span-618\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-80\">D</script> as a whole must be <strong>relevant and sufficient</strong> to justify the answer:</p>\n<ul>\n                  <li><em>Relevance</em> ensures that the retrieved evidence directly pertains to the query or prompt <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-81-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>x</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-619\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-620\"><span class=\"mi\" id=\"MathJax-Span-621\" style=\"font-family: STIXGeneral-Italic;\">x<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>x</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-81\">x</script>.</li>\n                  <li><em>Sufficiency</em> ensures that the retrieved evidence collectively provides enough information to support all factual claims in the output <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-82-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-622\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-623\"><span class=\"mi\" id=\"MathJax-Span-624\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-82\">y</script>.</li>\n                  <li>Together, these properties guarantee that the retrieval process provides a complete and contextually appropriate grounding base.</li>\n                </ul>\n<p>A typical formulation incorporates both entailment and sufficiency, for example:</p>\n<p><strong>Relationship and Implications</strong>:</p>\n<ul>\n          <li>Groundedness <strong>subsumes faithfulness</strong> but adds the retrieval dimension.</li>\n          <li>A model can be <strong>faithful yet ungrounded</strong> if its input context <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-84-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-686\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-687\"><span class=\"mi\" id=\"MathJax-Span-688\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-84\">D</script> omits relevant evidence (i.e., its claims are consistent with what it has seen, but what it has seen is incomplete).</li>\n          <li>In contrast, a <strong>grounded</strong> model’s responses are both <em>supported</em> and <em>sourced</em>—they are faithful to <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-85-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-689\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-690\"><span class=\"mi\" id=\"MathJax-Span-691\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-85\">D</script> and <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-86-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-692\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-693\"><span class=\"mi\" id=\"MathJax-Span-694\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-86\">D</script> itself is well-chosen and sufficient.</li>\n          <li>As retrieval-augmented architectures proliferate, groundedness evaluation—particularly through metrics such as <strong>RAGAS</strong> and related sufficiency-aware measures—has become a <strong>standard criterion for open-domain factual reliability</strong>.</li>\n        </ul>",
    "contentMarkdown": "*   Groundedness is the property that every factual statement produced by a model is **supported by explicitly retrieved or provided evidence**. It extends **extrinsic factuality** to retrieval-augmented generation (RAG), where correctness depends both on the **faithfulness of the output to the evidence** and on the **quality of the evidence itself**. While faithfulness requires that the generated claims are entailed by and fully supported by the fixed input DDD, groundedness additionally requires that DDD is relevant and sufficient to justify the answer.\n    \n*   **Definition**:\n    \n    *   Given retrieved evidence D\\=d1,…,dMD\\=d1,…,dMD = {d\\_1, \\\\dots, d\\_M}, a prompt xxx, and an output yyy, let ϕ(y)\\=a1,…,aNϕ(y)\\=a1,…,aN\\\\phi(y) = {a\\_1, \\\\dots, a\\_N} be atomic claims extracted from yyy.\n        \n        *   A claim aiaia\\_i is **grounded** if it is (i) entailed by at least one dj∈Ddj∈Dd\\_j \\\\in D and (ii) DDD collectively provides sufficient coverage for yyy.\n        *   A simple groundedness score can be written as:\n        \n        Fground(y∣D)\\=1N∑i\\=1N1\\[∃,dj∈D:,Entail(dj,ai)\\]⋅1\\[Suff(D,y)\\]Fground(y∣D)\\=1N∑i\\=1N1\\[∃,dj∈D:,Entail(dj,ai)\\]⋅1\\[Suff(D,y)\\]\n        \n        F\\_{\\\\text{ground}}(y \\\\mid D) = \\\\frac{1}{N}\\\\sum\\_{i=1}^{N}\\\\mathbf{1}\\\\big\\[\\\\exists, d\\_j \\\\in D:,\\\\text{Entail}(d\\_j, a\\_i)\\\\big\\] \\\\cdot \\\\mathbf{1}\\\\big\\[\\\\text{Suff}(D, y)\\\\big\\]\n        *   where Entail(dj,ai)Entail(dj,ai)\\\\text{Entail}(d\\_j, a\\_i) checks whether claim aiaia\\_i is supported by a retrieved passage djdjd\\_j, and Suff(D,y)Suff(D,y)\\\\text{Suff}(D, y) measures whether the evidence set DDD is collectively sufficient to ground all claims in yyy.\n*   This distinguishes groundedness from truthfulness (which compares to global world knowledge) and from faithfulness (which assumes a given context without testing retrieval quality).\n    \n\nGroundedness is the property that every factual statement produced by a model is **supported by explicitly retrieved or provided evidence**. It extends **extrinsic factuality** to retrieval-augmented generation (RAG), where correctness depends both on the **faithfulness of the output to the evidence** and on the **quality of the evidence itself**. While faithfulness requires that the generated claims are entailed by and fully supported by the fixed input DDD, groundedness additionally requires that DDD is relevant and sufficient to justify the answer.\n\n**Definition**:\n\n*   Given retrieved evidence D\\=d1,…,dMD\\=d1,…,dMD = {d\\_1, \\\\dots, d\\_M}, a prompt xxx, and an output yyy, let ϕ(y)\\=a1,…,aNϕ(y)\\=a1,…,aN\\\\phi(y) = {a\\_1, \\\\dots, a\\_N} be atomic claims extracted from yyy.\n    \n    *   A claim aiaia\\_i is **grounded** if it is (i) entailed by at least one dj∈Ddj∈Dd\\_j \\\\in D and (ii) DDD collectively provides sufficient coverage for yyy.\n    *   A simple groundedness score can be written as:\n    \n    Fground(y∣D)\\=1N∑i\\=1N1\\[∃,dj∈D:,Entail(dj,ai)\\]⋅1\\[Suff(D,y)\\]Fground(y∣D)\\=1N∑i\\=1N1\\[∃,dj∈D:,Entail(dj,ai)\\]⋅1\\[Suff(D,y)\\]\n    \n    F\\_{\\\\text{ground}}(y \\\\mid D) = \\\\frac{1}{N}\\\\sum\\_{i=1}^{N}\\\\mathbf{1}\\\\big\\[\\\\exists, d\\_j \\\\in D:,\\\\text{Entail}(d\\_j, a\\_i)\\\\big\\] \\\\cdot \\\\mathbf{1}\\\\big\\[\\\\text{Suff}(D, y)\\\\big\\]\n    *   where Entail(dj,ai)Entail(dj,ai)\\\\text{Entail}(d\\_j, a\\_i) checks whether claim aiaia\\_i is supported by a retrieved passage djdjd\\_j, and Suff(D,y)Suff(D,y)\\\\text{Suff}(D, y) measures whether the evidence set DDD is collectively sufficient to ground all claims in yyy.\n\n*   A claim aiaia\\_i is **grounded** if it is (i) entailed by at least one dj∈Ddj∈Dd\\_j \\\\in D and (ii) DDD collectively provides sufficient coverage for yyy.\n*   A simple groundedness score can be written as:\n\n*   where Entail(dj,ai)Entail(dj,ai)\\\\text{Entail}(d\\_j, a\\_i) checks whether claim aiaia\\_i is supported by a retrieved passage djdjd\\_j, and Suff(D,y)Suff(D,y)\\\\text{Suff}(D, y) measures whether the evidence set DDD is collectively sufficient to ground all claims in yyy.\n\nThis distinguishes groundedness from truthfulness (which compares to global world knowledge) and from faithfulness (which assumes a given context without testing retrieval quality).\n\n> Groundedness differs from faithfulness in that it also tests for retrieval quality—specifically whether the retrieved evidence set is both **relevant** (directly pertains to the query or prompt) and **sufficient** (collectively provides complete support for all factual claims)—beyond the **faithfulness requirement** that the model’s output logically entails or is fully supported by the provided evidence.\n\nGroundedness differs from faithfulness in that it also tests for retrieval quality—specifically whether the retrieved evidence set is both **relevant** (directly pertains to the query or prompt) and **sufficient** (collectively provides complete support for all factual claims)—beyond the **faithfulness requirement** that the model’s output logically entails or is fully supported by the provided evidence.\n\n*   In RAG or web-search settings, DDD may represent a dynamic retrieval set; thus, faithfulness depends on whether the retrieved evidence sufficiently supports each aiaia\\_i and whether claims remain grounded within the retrieved context. Similar evaluation frameworks have been proposed in [FEVER](https://aclanthology.org/N18-1074), [FactCC](https://aclanthology.org/2020.emnlp-main.750/), [QAGS](https://aclanthology.org/2020.acl-main.450.pdf), and [SummaC](https://direct.mit.edu/tacl/article/doi/10.1162/tacl_a_00453/109470/SummaC-Re-Visiting-NLI-based-Models-for).\n    \n*   **Key Properties & Challenges**:\n    \n    *   **Joint dependency on retrieval and generation:** Groundedness depends on both (1) whether the retriever returns evidence relevant to the user query and (2) whether the generator limits itself to that evidence. See _Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks_ by [Lewis et al. (2020)](https://arxiv.org/abs/2005.11401).\n        \n    *   **Dynamic evidence selection:** RAG systems can update retrieval at inference time. Factuality must therefore be recomputed per query since retrieved corpora may change (cf. [Karpukhin et al., (2020)](https://arxiv.org/abs/2004.04906)).\n        \n    *   **Faithfulness vs. sufficiency:** An answer can be **faithful** to retrieved text yet **ungrounded** if retrieval was incomplete. For instance, a model quoting an irrelevant passage verbatim is faithful but not grounded.\n        \n    *   **Error propagation:** Errors in retrieval (e.g., missing or noisy documents) directly reduce groundedness, even if the model itself performs perfect reasoning.\n        \n    *   **Citation verification:** Proper groundedness can be verified by requiring the model to cite or link supporting evidence snippets. This forms the basis of **AttributionEval** by [Rashkin et al. (2021)](https://arxiv.org/abs/2112.07828).\n        \n*   **Representative Benchmarks & Methods**:\n    \n    *   **RAGAS**: [Reference-Free Evaluation for Retrieval-Augmented Generation](https://arxiv.org/abs/2309.15217) by Es et al. (2023) provides four key metrics: **Faithfulness**, **Context Precision**, **Context Recall**, and **Answer Relevance**, all computed without gold references. An updated EACL demo is available in [Es et al. (2024)](https://aclanthology.org/2024.eacl-demo.16/).\n        \n    *   **AttributionEval**: Evaluates whether model outputs cite supporting documents and whether those citations entail the generated claims (cf. [Rashkin et al. (2021)](https://arxiv.org/abs/2112.07828)).\n        \n    *   **FACT-RAG**: A dataset for factuality evaluation in retrieval-augmented QA (cf. [Li et al. (2024)](https://arxiv.org/abs/2402.13179)).\n        \n    *   **Faithful RAG**: Improved retriever-generator coordination for factual consistency (cf. [Menon et al. (2024)](https://arxiv.org/abs/2406.01050)).\n        \n    *   **LongFact / SAFE** ([Wei et al. (2024)](https://arxiv.org/abs/2403.18802)): While focused on long-form generation, these use search-augmented pipelines similar to RAG to check each atomic claim.\n        \n*   **Evaluation Metrics & Strategies**:\n    \n    *   **Context precision and recall** (RAGAS): Precision measures how much retrieved context is actually used by the model; recall measures whether all necessary evidence is retrieved.\n        \n        Context Precision\\=\\# relevant evidence used\\# total evidence used,Context Recall\\=\\# relevant evidence used\\# relevant evidence availableContext Precision\\=\\# relevant evidence used\\# total evidence used,Context Recall\\=\\# relevant evidence used\\# relevant evidence available\n        \n        \\\\text{Context Precision} = \\\\frac{\\\\text{# relevant evidence used}}{\\\\text{# total evidence used}}, \\\\qquad \\\\text{Context Recall} = \\\\frac{\\\\text{# relevant evidence used}}{\\\\text{# relevant evidence available}}\n    *   **Faithfulness (RAGAS / AttributionEval):** Checks whether the model’s generated claims are supported by retrieved evidence.\n        \n    *   **Answer relevance:** Measures semantic alignment between the model’s response and the user query; low relevance can indicate factual drift.\n        \n    *   **Citation entailment accuracy:** Proportion of cited snippets that entail the corresponding claims ([AttributionEval](https://arxiv.org/abs/2112.07828)).\n        \n    *   **Overall groundedness score:** Weighted aggregation of faithfulness, evidence precision/recall, and attribution correctness.\n        \n*   **Relation to Other Factuality Types**:\n    \n    *   **Faithfulness** focuses on _alignment given fixed evidence_:\n        \n        *   The evidence DDD is assumed to be **fixed and authoritative** (for instance, a source article, table, or gold reference).\n        *   The evaluation measures whether the model **uses DDD correctly**:\n            \n            *   Each atomic claim aiaia\\_i should be _entailed by_ DDD.\n            *   The output should include **no contradictions or hallucinated information**—it must not invent or distort facts beyond what DDD supports.\n        *   In this setting, **sufficiency is assumed by construction**—the dataset or task setup guarantees that DDD contains all information needed to answer. Thus, faithfulness focuses purely on _correctness relative to DDD_ rather than the quality of DDD itself.\n        *   Formally, this can be expressed as Ffaith(y∣D)\\=1N∑Ni\\=11\\[Entail(D,ai)\\]Ffaith(y∣D)\\=1N∑i\\=1N1\\[Entail(D,ai)\\]F\\_{\\\\text{faith}}(y \\\\mid D) = \\\\frac{1}{N}\\\\sum\\_{i=1}^{N}\\\\mathbf{1}\\[\\\\text{Entail}(D, a\\_i)\\], under the assumption that DDD is sufficient.\n    *   **Groundedness** extends _faithfulness_ by explicitly accounting for **retrieval quality and sufficiency**:\n        \n        *   In retrieval-augmented systems, DDD is _dynamically retrieved_ rather than fixed, and therefore may be incomplete or irrelevant.\n        *   Groundedness thus expands the requirement:\n            \n            *   Each claim aiaia\\_i must still be _entailed by_ some dj∈Ddj∈Dd\\_j \\\\in D.\n            *   The retrieved set DDD as a whole must be **relevant and sufficient** to justify the answer:\n                \n                *   _Relevance_ ensures that the retrieved evidence directly pertains to the query or prompt xxx.\n                *   _Sufficiency_ ensures that the retrieved evidence collectively provides enough information to support all factual claims in the output yyy.\n                *   Together, these properties guarantee that the retrieval process provides a complete and contextually appropriate grounding base.\n        *   This means groundedness evaluates both the _faithful use of evidence_ and the _adequacy of evidence selection_—linking reasoning and retrieval.\n        *   A typical formulation incorporates both entailment and sufficiency, for example:\n            \n            Fground(y∣D)\\=1N∑i\\=1N1\\[∃,dj∈D:Entail(dj,ai)\\]⋅1\\[Suff(D,y)\\]Fground(y∣D)\\=1N∑i\\=1N1\\[∃,dj∈D:Entail(dj,ai)\\]⋅1\\[Suff(D,y)\\]\n            \n            F\\_{\\\\text{ground}}(y \\\\mid D) = \\\\frac{1}{N}\\\\sum\\_{i=1}^{N}\\\\mathbf{1}\\[\\\\exists, d\\_j \\\\in D:\\\\text{Entail}(d\\_j, a\\_i)\\] \\\\cdot \\\\mathbf{1}\\[\\\\text{Suff}(D, y)\\]\n    *   **Relationship and Implications**:\n        \n        *   Groundedness **subsumes faithfulness** but adds the retrieval dimension.\n        *   A model can be **faithful yet ungrounded** if its input context DDD omits relevant evidence (i.e., its claims are consistent with what it has seen, but what it has seen is incomplete).\n        *   In contrast, a **grounded** model’s responses are both _supported_ and _sourced_—they are faithful to DDD and DDD itself is well-chosen and sufficient.\n        *   As retrieval-augmented architectures proliferate, groundedness evaluation—particularly through metrics such as **RAGAS** and related sufficiency-aware measures—has become a **standard criterion for open-domain factual reliability**.\n\nIn RAG or web-search settings, DDD may represent a dynamic retrieval set; thus, faithfulness depends on whether the retrieved evidence sufficiently supports each aiaia\\_i and whether claims remain grounded within the retrieved context. Similar evaluation frameworks have been proposed in [FEVER](https://aclanthology.org/N18-1074), [FactCC](https://aclanthology.org/2020.emnlp-main.750/), [QAGS](https://aclanthology.org/2020.acl-main.450.pdf), and [SummaC](https://direct.mit.edu/tacl/article/doi/10.1162/tacl_a_00453/109470/SummaC-Re-Visiting-NLI-based-Models-for).\n\n**Key Properties & Challenges**:\n\n*   **Joint dependency on retrieval and generation:** Groundedness depends on both (1) whether the retriever returns evidence relevant to the user query and (2) whether the generator limits itself to that evidence. See _Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks_ by [Lewis et al. (2020)](https://arxiv.org/abs/2005.11401).\n    \n*   **Dynamic evidence selection:** RAG systems can update retrieval at inference time. Factuality must therefore be recomputed per query since retrieved corpora may change (cf. [Karpukhin et al., (2020)](https://arxiv.org/abs/2004.04906)).\n    \n*   **Faithfulness vs. sufficiency:** An answer can be **faithful** to retrieved text yet **ungrounded** if retrieval was incomplete. For instance, a model quoting an irrelevant passage verbatim is faithful but not grounded.\n    \n*   **Error propagation:** Errors in retrieval (e.g., missing or noisy documents) directly reduce groundedness, even if the model itself performs perfect reasoning.\n    \n*   **Citation verification:** Proper groundedness can be verified by requiring the model to cite or link supporting evidence snippets. This forms the basis of **AttributionEval** by [Rashkin et al. (2021)](https://arxiv.org/abs/2112.07828).\n    \n\n**Joint dependency on retrieval and generation:** Groundedness depends on both (1) whether the retriever returns evidence relevant to the user query and (2) whether the generator limits itself to that evidence. See _Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks_ by [Lewis et al. (2020)](https://arxiv.org/abs/2005.11401).\n\n**Dynamic evidence selection:** RAG systems can update retrieval at inference time. Factuality must therefore be recomputed per query since retrieved corpora may change (cf. [Karpukhin et al., (2020)](https://arxiv.org/abs/2004.04906)).\n\n**Faithfulness vs. sufficiency:** An answer can be **faithful** to retrieved text yet **ungrounded** if retrieval was incomplete. For instance, a model quoting an irrelevant passage verbatim is faithful but not grounded.\n\n**Error propagation:** Errors in retrieval (e.g., missing or noisy documents) directly reduce groundedness, even if the model itself performs perfect reasoning.\n\n**Citation verification:** Proper groundedness can be verified by requiring the model to cite or link supporting evidence snippets. This forms the basis of **AttributionEval** by [Rashkin et al. (2021)](https://arxiv.org/abs/2112.07828).\n\n**Representative Benchmarks & Methods**:\n\n*   **RAGAS**: [Reference-Free Evaluation for Retrieval-Augmented Generation](https://arxiv.org/abs/2309.15217) by Es et al. (2023) provides four key metrics: **Faithfulness**, **Context Precision**, **Context Recall**, and **Answer Relevance**, all computed without gold references. An updated EACL demo is available in [Es et al. (2024)](https://aclanthology.org/2024.eacl-demo.16/).\n    \n*   **AttributionEval**: Evaluates whether model outputs cite supporting documents and whether those citations entail the generated claims (cf. [Rashkin et al. (2021)](https://arxiv.org/abs/2112.07828)).\n    \n*   **FACT-RAG**: A dataset for factuality evaluation in retrieval-augmented QA (cf. [Li et al. (2024)](https://arxiv.org/abs/2402.13179)).\n    \n*   **Faithful RAG**: Improved retriever-generator coordination for factual consistency (cf. [Menon et al. (2024)](https://arxiv.org/abs/2406.01050)).\n    \n*   **LongFact / SAFE** ([Wei et al. (2024)](https://arxiv.org/abs/2403.18802)): While focused on long-form generation, these use search-augmented pipelines similar to RAG to check each atomic claim.\n    \n\n**RAGAS**: [Reference-Free Evaluation for Retrieval-Augmented Generation](https://arxiv.org/abs/2309.15217) by Es et al. (2023) provides four key metrics: **Faithfulness**, **Context Precision**, **Context Recall**, and **Answer Relevance**, all computed without gold references. An updated EACL demo is available in [Es et al. (2024)](https://aclanthology.org/2024.eacl-demo.16/).\n\n**AttributionEval**: Evaluates whether model outputs cite supporting documents and whether those citations entail the generated claims (cf. [Rashkin et al. (2021)](https://arxiv.org/abs/2112.07828)).\n\n**FACT-RAG**: A dataset for factuality evaluation in retrieval-augmented QA (cf. [Li et al. (2024)](https://arxiv.org/abs/2402.13179)).\n\n**Faithful RAG**: Improved retriever-generator coordination for factual consistency (cf. [Menon et al. (2024)](https://arxiv.org/abs/2406.01050)).\n\n**LongFact / SAFE** ([Wei et al. (2024)](https://arxiv.org/abs/2403.18802)): While focused on long-form generation, these use search-augmented pipelines similar to RAG to check each atomic claim.\n\n**Evaluation Metrics & Strategies**:\n\n*   **Context precision and recall** (RAGAS): Precision measures how much retrieved context is actually used by the model; recall measures whether all necessary evidence is retrieved.\n    \n    Context Precision\\=\\# relevant evidence used\\# total evidence used,Context Recall\\=\\# relevant evidence used\\# relevant evidence availableContext Precision\\=\\# relevant evidence used\\# total evidence used,Context Recall\\=\\# relevant evidence used\\# relevant evidence available\n    \n    \\\\text{Context Precision} = \\\\frac{\\\\text{# relevant evidence used}}{\\\\text{# total evidence used}}, \\\\qquad \\\\text{Context Recall} = \\\\frac{\\\\text{# relevant evidence used}}{\\\\text{# relevant evidence available}}\n*   **Faithfulness (RAGAS / AttributionEval):** Checks whether the model’s generated claims are supported by retrieved evidence.\n    \n*   **Answer relevance:** Measures semantic alignment between the model’s response and the user query; low relevance can indicate factual drift.\n    \n*   **Citation entailment accuracy:** Proportion of cited snippets that entail the corresponding claims ([AttributionEval](https://arxiv.org/abs/2112.07828)).\n    \n*   **Overall groundedness score:** Weighted aggregation of faithfulness, evidence precision/recall, and attribution correctness.\n    \n\n**Context precision and recall** (RAGAS): Precision measures how much retrieved context is actually used by the model; recall measures whether all necessary evidence is retrieved.\n\n**Faithfulness (RAGAS / AttributionEval):** Checks whether the model’s generated claims are supported by retrieved evidence.\n\n**Answer relevance:** Measures semantic alignment between the model’s response and the user query; low relevance can indicate factual drift.\n\n**Citation entailment accuracy:** Proportion of cited snippets that entail the corresponding claims ([AttributionEval](https://arxiv.org/abs/2112.07828)).\n\n**Overall groundedness score:** Weighted aggregation of faithfulness, evidence precision/recall, and attribution correctness.\n\n**Relation to Other Factuality Types**:\n\n*   **Faithfulness** focuses on _alignment given fixed evidence_:\n    \n    *   The evidence DDD is assumed to be **fixed and authoritative** (for instance, a source article, table, or gold reference).\n    *   The evaluation measures whether the model **uses DDD correctly**:\n        \n        *   Each atomic claim aiaia\\_i should be _entailed by_ DDD.\n        *   The output should include **no contradictions or hallucinated information**—it must not invent or distort facts beyond what DDD supports.\n    *   In this setting, **sufficiency is assumed by construction**—the dataset or task setup guarantees that DDD contains all information needed to answer. Thus, faithfulness focuses purely on _correctness relative to DDD_ rather than the quality of DDD itself.\n    *   Formally, this can be expressed as Ffaith(y∣D)\\=1N∑Ni\\=11\\[Entail(D,ai)\\]Ffaith(y∣D)\\=1N∑i\\=1N1\\[Entail(D,ai)\\]F\\_{\\\\text{faith}}(y \\\\mid D) = \\\\frac{1}{N}\\\\sum\\_{i=1}^{N}\\\\mathbf{1}\\[\\\\text{Entail}(D, a\\_i)\\], under the assumption that DDD is sufficient.\n*   **Groundedness** extends _faithfulness_ by explicitly accounting for **retrieval quality and sufficiency**:\n    \n    *   In retrieval-augmented systems, DDD is _dynamically retrieved_ rather than fixed, and therefore may be incomplete or irrelevant.\n    *   Groundedness thus expands the requirement:\n        \n        *   Each claim aiaia\\_i must still be _entailed by_ some dj∈Ddj∈Dd\\_j \\\\in D.\n        *   The retrieved set DDD as a whole must be **relevant and sufficient** to justify the answer:\n            \n            *   _Relevance_ ensures that the retrieved evidence directly pertains to the query or prompt xxx.\n            *   _Sufficiency_ ensures that the retrieved evidence collectively provides enough information to support all factual claims in the output yyy.\n            *   Together, these properties guarantee that the retrieval process provides a complete and contextually appropriate grounding base.\n    *   This means groundedness evaluates both the _faithful use of evidence_ and the _adequacy of evidence selection_—linking reasoning and retrieval.\n    *   A typical formulation incorporates both entailment and sufficiency, for example:\n        \n        Fground(y∣D)\\=1N∑i\\=1N1\\[∃,dj∈D:Entail(dj,ai)\\]⋅1\\[Suff(D,y)\\]Fground(y∣D)\\=1N∑i\\=1N1\\[∃,dj∈D:Entail(dj,ai)\\]⋅1\\[Suff(D,y)\\]\n        \n        F\\_{\\\\text{ground}}(y \\\\mid D) = \\\\frac{1}{N}\\\\sum\\_{i=1}^{N}\\\\mathbf{1}\\[\\\\exists, d\\_j \\\\in D:\\\\text{Entail}(d\\_j, a\\_i)\\] \\\\cdot \\\\mathbf{1}\\[\\\\text{Suff}(D, y)\\]\n*   **Relationship and Implications**:\n    \n    *   Groundedness **subsumes faithfulness** but adds the retrieval dimension.\n    *   A model can be **faithful yet ungrounded** if its input context DDD omits relevant evidence (i.e., its claims are consistent with what it has seen, but what it has seen is incomplete).\n    *   In contrast, a **grounded** model’s responses are both _supported_ and _sourced_—they are faithful to DDD and DDD itself is well-chosen and sufficient.\n    *   As retrieval-augmented architectures proliferate, groundedness evaluation—particularly through metrics such as **RAGAS** and related sufficiency-aware measures—has become a **standard criterion for open-domain factual reliability**.\n\n**Faithfulness** focuses on _alignment given fixed evidence_:\n\n*   The evidence DDD is assumed to be **fixed and authoritative** (for instance, a source article, table, or gold reference).\n*   The evaluation measures whether the model **uses DDD correctly**:\n    \n    *   Each atomic claim aiaia\\_i should be _entailed by_ DDD.\n    *   The output should include **no contradictions or hallucinated information**—it must not invent or distort facts beyond what DDD supports.\n*   In this setting, **sufficiency is assumed by construction**—the dataset or task setup guarantees that DDD contains all information needed to answer. Thus, faithfulness focuses purely on _correctness relative to DDD_ rather than the quality of DDD itself.\n*   Formally, this can be expressed as Ffaith(y∣D)\\=1N∑Ni\\=11\\[Entail(D,ai)\\]Ffaith(y∣D)\\=1N∑i\\=1N1\\[Entail(D,ai)\\]F\\_{\\\\text{faith}}(y \\\\mid D) = \\\\frac{1}{N}\\\\sum\\_{i=1}^{N}\\\\mathbf{1}\\[\\\\text{Entail}(D, a\\_i)\\], under the assumption that DDD is sufficient.\n\nThe evaluation measures whether the model **uses DDD correctly**:\n\n*   Each atomic claim aiaia\\_i should be _entailed by_ DDD.\n*   The output should include **no contradictions or hallucinated information**—it must not invent or distort facts beyond what DDD supports.\n\n**Groundedness** extends _faithfulness_ by explicitly accounting for **retrieval quality and sufficiency**:\n\n*   In retrieval-augmented systems, DDD is _dynamically retrieved_ rather than fixed, and therefore may be incomplete or irrelevant.\n*   Groundedness thus expands the requirement:\n    \n    *   Each claim aiaia\\_i must still be _entailed by_ some dj∈Ddj∈Dd\\_j \\\\in D.\n    *   The retrieved set DDD as a whole must be **relevant and sufficient** to justify the answer:\n        \n        *   _Relevance_ ensures that the retrieved evidence directly pertains to the query or prompt xxx.\n        *   _Sufficiency_ ensures that the retrieved evidence collectively provides enough information to support all factual claims in the output yyy.\n        *   Together, these properties guarantee that the retrieval process provides a complete and contextually appropriate grounding base.\n*   This means groundedness evaluates both the _faithful use of evidence_ and the _adequacy of evidence selection_—linking reasoning and retrieval.\n*   A typical formulation incorporates both entailment and sufficiency, for example:\n    \n    Fground(y∣D)\\=1N∑i\\=1N1\\[∃,dj∈D:Entail(dj,ai)\\]⋅1\\[Suff(D,y)\\]Fground(y∣D)\\=1N∑i\\=1N1\\[∃,dj∈D:Entail(dj,ai)\\]⋅1\\[Suff(D,y)\\]\n    \n    F\\_{\\\\text{ground}}(y \\\\mid D) = \\\\frac{1}{N}\\\\sum\\_{i=1}^{N}\\\\mathbf{1}\\[\\\\exists, d\\_j \\\\in D:\\\\text{Entail}(d\\_j, a\\_i)\\] \\\\cdot \\\\mathbf{1}\\[\\\\text{Suff}(D, y)\\]\n\nGroundedness thus expands the requirement:\n\n*   Each claim aiaia\\_i must still be _entailed by_ some dj∈Ddj∈Dd\\_j \\\\in D.\n*   The retrieved set DDD as a whole must be **relevant and sufficient** to justify the answer:\n    \n    *   _Relevance_ ensures that the retrieved evidence directly pertains to the query or prompt xxx.\n    *   _Sufficiency_ ensures that the retrieved evidence collectively provides enough information to support all factual claims in the output yyy.\n    *   Together, these properties guarantee that the retrieval process provides a complete and contextually appropriate grounding base.\n\nThe retrieved set DDD as a whole must be **relevant and sufficient** to justify the answer:\n\n*   _Relevance_ ensures that the retrieved evidence directly pertains to the query or prompt xxx.\n*   _Sufficiency_ ensures that the retrieved evidence collectively provides enough information to support all factual claims in the output yyy.\n*   Together, these properties guarantee that the retrieval process provides a complete and contextually appropriate grounding base.\n\nA typical formulation incorporates both entailment and sufficiency, for example:\n\n**Relationship and Implications**:\n\n*   Groundedness **subsumes faithfulness** but adds the retrieval dimension.\n*   A model can be **faithful yet ungrounded** if its input context DDD omits relevant evidence (i.e., its claims are consistent with what it has seen, but what it has seen is incomplete).\n*   In contrast, a **grounded** model’s responses are both _supported_ and _sourced_—they are faithful to DDD and DDD itself is well-chosen and sufficient.\n*   As retrieval-augmented architectures proliferate, groundedness evaluation—particularly through metrics such as **RAGAS** and related sufficiency-aware measures—has become a **standard criterion for open-domain factual reliability**.",
    "contentLength": 307298,
    "wordCount": 3253,
    "hasCode": false,
    "hasMath": true,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#groundedness-(retrieval-augmented-factuality)"
  },
  {
    "id": "ai-factuality-in-LLMs-long-form-factuality-5",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Taxonomy of Factuality",
    "title": "Long-Form Factuality",
    "order": 5,
    "orderInChapter": 5,
    "contentHtml": "<ul>\n  <li>\n    <p>Long-form factuality assesses factual accuracy across extended, multi-sentence or multi-paragraph outputs such as summaries, reports, explanations, or essays. It is more complex to verify than short-form or grounded factuality because the number of claims grows with length, dependencies emerge among claims, and some claims require multi-hop reasoning or synthesis across sources.</p>\n  </li>\n  <li>\n    <p><strong>Definition</strong>:</p>\n\n    <ul>\n      <li>Let the model’s output <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-87-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi><mo>=</mo><mo stretchy=&quot;false&quot;>[</mo><msub><mi>s</mi><mn>1</mn></msub><mo>,</mo><msub><mi>s</mi><mn>2</mn></msub><mo>,</mo><mo>&amp;#x2026;</mo><mo>,</mo><msub><mi>s</mi><mi>N</mi></msub><mo stretchy=&quot;false&quot;>]</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-695\" style=\"width: 9.169em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 7.607em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1007.5em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-696\"><span class=\"mi\" id=\"MathJax-Span-697\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-698\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mo\" id=\"MathJax-Span-699\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">[</span><span class=\"msubsup\" id=\"MathJax-Span-700\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.37em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-701\" style=\"font-family: STIXGeneral-Italic;\">s</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.367em;\"><span class=\"mn\" id=\"MathJax-Span-702\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-703\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-704\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.37em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-705\" style=\"font-family: STIXGeneral-Italic;\">s</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.367em;\"><span class=\"mn\" id=\"MathJax-Span-706\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">2</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-707\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mo\" id=\"MathJax-Span-708\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">…</span><span class=\"mo\" id=\"MathJax-Span-709\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-710\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.37em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-711\" style=\"font-family: STIXGeneral-Italic;\">s</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.367em;\"><span class=\"mi\" id=\"MathJax-Span-712\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-713\" style=\"font-family: STIXGeneral-Regular;\">]</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi><mo>=</mo><mo stretchy=\"false\">[</mo><msub><mi>s</mi><mn>1</mn></msub><mo>,</mo><msub><mi>s</mi><mn>2</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>s</mi><mi>N</mi></msub><mo stretchy=\"false\">]</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-87\">y = [s_1, s_2, \\dots, s_N]</script> contain <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-88-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>N</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-714\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.78em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-715\"><span class=\"mi\" id=\"MathJax-Span-716\" style=\"font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>N</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-88\">N</script> sentences, each possibly encoding multiple factual statements. Define the set of atomic claims <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-89-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><msub><mi>a</mi><mn>2</mn></msub><mo>,</mo><mo>&amp;#x2026;</mo><mo>,</mo><msub><mi>a</mi><mi>M</mi></msub></mrow></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-717\" style=\"width: 10.263em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 8.544em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1008.54em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-718\"><span class=\"mi\" id=\"MathJax-Span-719\" style=\"font-family: STIXGeneral-Italic;\">ϕ</span><span class=\"mo\" id=\"MathJax-Span-720\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-721\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-722\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-723\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"texatom\" id=\"MathJax-Span-724\" style=\"padding-left: 0.315em;\"><span class=\"mrow\" id=\"MathJax-Span-725\"><span class=\"msubsup\" id=\"MathJax-Span-726\"><span style=\"display: inline-block; position: relative; width: 0.94em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-727\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mn\" id=\"MathJax-Span-728\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-729\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-730\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.94em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-731\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mn\" id=\"MathJax-Span-732\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">2</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-733\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mo\" id=\"MathJax-Span-734\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">…</span><span class=\"mo\" id=\"MathJax-Span-735\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-736\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.201em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-737\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-738\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">M<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>ϕ</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mrow class=\"MJX-TeXAtom-ORD\"><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><msub><mi>a</mi><mn>2</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>a</mi><mi>M</mi></msub></mrow></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-89\">\\phi(y) = {a_1, a_2, \\dots, a_M}</script>. Each claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-90-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-739\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-740\"><span class=\"msubsup\" id=\"MathJax-Span-741\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-742\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-743\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-90\">a_i</script> is evaluated against either ground-truth evidence or open-world truth (if no reference is provided). The long-form factuality score is:</li>\n    </ul>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\" style=\"text-align: center;\"><span class=\"MathJax\" id=\"MathJax-Element-91-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>long</mtext></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mn>1</mn><mi>M</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>M</mi></mrow></munderover><msub><mi>f</mi><mi>i</mi></msub><mo>,</mo><mspace width=&quot;1em&quot; /><msub><mi>f</mi><mi>i</mi></msub><mo>=</mo><mrow><mo>{</mo><mtable columnalign=&quot;left left&quot; rowspacing=&quot;.2em&quot; columnspacing=&quot;1em&quot; displaystyle=&quot;false&quot;><mtr><mtd><mn>1</mn><mo>,</mo></mtd><mtd><mtext>if&amp;#xA0;</mtext><msub><mi>a</mi><mi>i</mi></msub><mtext>&amp;#xA0;is supported by evidence</mtext><mo>,</mo></mtd></mtr><mtr><mtd><mn>0</mn><mo>,</mo></mtd><mtd><mtext>otherwise</mtext></mtd></mtr></mtable><mo fence=&quot;true&quot; stretchy=&quot;true&quot; symmetric=&quot;true&quot;></mo></mrow></math>\" role=\"presentation\" style=\"text-align: center; position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-744\" style=\"width: 31.461em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 26.201em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.878em, 1026.2em, 5.211em, -999.997em); top: -3.799em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-745\"><span class=\"msubsup\" id=\"MathJax-Span-746\"><span style=\"display: inline-block; position: relative; width: 1.93em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-747\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-748\"><span class=\"mrow\" id=\"MathJax-Span-749\"><span class=\"mtext\" id=\"MathJax-Span-750\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">long</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-751\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-752\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-753\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-754\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-755\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.42em, 4.169em, -999.997em); top: -4.685em; left: 50%; margin-left: -0.258em;\"><span class=\"mn\" id=\"MathJax-Span-756\" style=\"font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1000.89em, 4.169em, -999.997em); top: -3.331em; left: 50%; margin-left: -0.414em;\"><span class=\"mi\" id=\"MathJax-Span-757\" style=\"font-family: STIXGeneral-Italic;\">M<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.99em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.992em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"munderover\" id=\"MathJax-Span-758\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.305em; height: 0px;\"><span style=\"position: absolute; clip: rect(2.867em, 1001.2em, 4.638em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-759\" style=\"font-family: STIXSizeOneSym; vertical-align: -0.518em;\">∑</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.94em, 4.273em, -999.997em); top: -2.862em; left: 0.107em;\"><span class=\"texatom\" id=\"MathJax-Span-760\"><span class=\"mrow\" id=\"MathJax-Span-761\"><span class=\"mi\" id=\"MathJax-Span-762\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mo\" id=\"MathJax-Span-763\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">=</span><span class=\"mn\" id=\"MathJax-Span-764\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.284em, 1000.63em, 4.169em, -999.997em); top: -5.206em; left: 0.315em;\"><span class=\"texatom\" id=\"MathJax-Span-765\"><span class=\"mrow\" id=\"MathJax-Span-766\"><span class=\"mi\" id=\"MathJax-Span-767\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">M<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"msubsup\" id=\"MathJax-Span-768\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.576em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.42em, 4.378em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-769\" style=\"font-family: STIXGeneral-Italic;\">f<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.159em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.263em;\"><span class=\"mi\" id=\"MathJax-Span-770\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-771\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mspace\" id=\"MathJax-Span-772\" style=\"height: 0em; vertical-align: 0em; width: 1.148em; display: inline-block; overflow: hidden;\"></span><span class=\"msubsup\" id=\"MathJax-Span-773\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.576em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.42em, 4.378em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-774\" style=\"font-family: STIXGeneral-Italic;\">f<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.159em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.263em;\"><span class=\"mi\" id=\"MathJax-Span-775\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-776\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mrow\" id=\"MathJax-Span-777\" style=\"padding-left: 0.315em;\"><span class=\"mo\" id=\"MathJax-Span-778\" style=\"vertical-align: -0.466em;\"><span><span style=\"font-size: 111%; font-family: STIXSizeTwoSym;\">{</span></span></span><span class=\"mtable\" id=\"MathJax-Span-779\" style=\"padding-right: 0.159em; padding-left: 0.159em;\"><span style=\"display: inline-block; position: relative; width: 13.909em; height: 0px;\"><span style=\"position: absolute; clip: rect(2.607em, 1000.68em, 5.003em, -999.997em); top: -4.008em; left: 0em;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.68em, 4.326em, -999.997em); top: -4.581em; left: 0em;\"><span class=\"mtd\" id=\"MathJax-Span-780\"><span class=\"mrow\" id=\"MathJax-Span-781\"><span class=\"mn\" id=\"MathJax-Span-782\" style=\"font-family: STIXGeneral-Regular;\">1</span><span class=\"mo\" id=\"MathJax-Span-783\" style=\"font-family: STIXGeneral-Regular;\">,</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1000.68em, 4.326em, -999.997em); top: -3.331em; left: 0em;\"><span class=\"mtd\" id=\"MathJax-Span-792\"><span class=\"mrow\" id=\"MathJax-Span-793\"><span class=\"mn\" id=\"MathJax-Span-794\" style=\"font-family: STIXGeneral-Regular;\">0</span><span class=\"mo\" id=\"MathJax-Span-795\" style=\"font-family: STIXGeneral-Regular;\">,</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(2.607em, 1011.98em, 4.846em, -999.997em); top: -4.008em; left: 1.878em;\"><span style=\"display: inline-block; position: relative; width: 12.034em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1011.98em, 4.378em, -999.997em); top: -4.581em; left: 0em;\"><span class=\"mtd\" id=\"MathJax-Span-784\"><span class=\"mrow\" id=\"MathJax-Span-785\"><span class=\"mtext\" id=\"MathJax-Span-786\" style=\"font-family: STIXGeneral-Regular;\">if&nbsp;</span><span class=\"msubsup\" id=\"MathJax-Span-787\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-788\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-789\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mtext\" id=\"MathJax-Span-790\" style=\"font-family: STIXGeneral-Regular;\">&nbsp;is supported by evidence</span><span class=\"mo\" id=\"MathJax-Span-791\" style=\"font-family: STIXGeneral-Regular;\">,</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1003.86em, 4.169em, -999.997em); top: -3.331em; left: 0em;\"><span class=\"mtd\" id=\"MathJax-Span-796\"><span class=\"mrow\" id=\"MathJax-Span-797\"><span class=\"mtext\" id=\"MathJax-Span-798\" style=\"font-family: STIXGeneral-Regular;\">otherwise</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-799\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 3.805em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -1.559em; border-left: 0px solid; width: 0px; height: 3.753em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>long</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>M</mi></mfrac><munderover><mo>∑</mo><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mi>M</mi></mrow></munderover><msub><mi>f</mi><mi>i</mi></msub><mo>,</mo><mspace width=\"1em\"></mspace><msub><mi>f</mi><mi>i</mi></msub><mo>=</mo><mrow><mo>{</mo><mtable columnalign=\"left left\" rowspacing=\".2em\" columnspacing=\"1em\" displaystyle=\"false\"><mtr><mtd><mn>1</mn><mo>,</mo></mtd><mtd><mtext>if&nbsp;</mtext><msub><mi>a</mi><mi>i</mi></msub><mtext>&nbsp;is supported by evidence</mtext><mo>,</mo></mtd></mtr><mtr><mtd><mn>0</mn><mo>,</mo></mtd><mtd><mtext>otherwise</mtext></mtd></mtr></mtable><mo fence=\"true\" stretchy=\"true\" symmetric=\"true\"></mo></mrow></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-91\">F_{\\text{long}}(y) = \\frac{1}{M}\\sum_{i=1}^{M} f_i, \\quad\nf_i =\n\\begin{cases}\n1, & \\text{if } a_i \\text{ is supported by evidence},\\\\\n0, & \\text{otherwise}\n\\end{cases}</script>\n\n    <ul>\n      <li>This “atomic-fact” decomposition was formalized in <strong>FActScore</strong> by <a href=\"https://arxiv.org/abs/2305.14251\">Min et al. (2023)</a>, which remains a central methodology for evaluating factual accuracy in multi-sentence generation.</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Key Properties &amp; Challenges</strong></p>\n\n    <ul>\n      <li>\n        <p><strong>Combinatorial claim growth</strong>: The number of verifiable facts increases roughly linearly with output length, making human annotation expensive and automatic verification challenging. This phenomenon is highlighted in <strong>LongFact</strong> by <a href=\"https://arxiv.org/abs/2403.18802\">Wei et al. (2024)</a>, which showed that even a few-paragraph answer can contain dozens of distinct factual assertions.</p>\n      </li>\n      <li>\n        <p><strong>Cross-sentence dependencies</strong>: Some claims depend on others for context or coreference resolution (“he,” “it,” “the company”), complicating atomic evaluation.</p>\n      </li>\n      <li>\n        <p><strong>Partial correctness</strong>: A claim may be half-true (e.g., correct entity, wrong date). Binary scoring can underestimate nuance; graded or token-level alignment methods like <strong>QAFactEval</strong> by <a href=\"https://arxiv.org/abs/2112.08542\">Fabbri et al. (2022)</a> address this issue.</p>\n      </li>\n      <li>\n        <p><strong>Reasoning and compositionality</strong>: Multi-hop or derived facts (e.g., cause-effect, temporal ordering) require reasoning that may be correct even if intermediate retrieved facts differ in wording.</p>\n      </li>\n      <li>\n        <p><strong>Accumulated factual drift</strong>: When the model generates long outputs autoregressively, small factual deviations early in the text can propagate or compound later.</p>\n      </li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Representative Benchmarks &amp; Methods</strong>:</p>\n\n    <ul>\n      <li>\n        <p><strong>LongFact / SAFE</strong> (<a href=\"https://arxiv.org/abs/2403.18802\">Wei et al., 2024</a>): A unified benchmark and evaluation framework for open-ended, long-form factuality assessment. <strong>LongFact</strong> decomposes model outputs into atomic claims and verifies each via web search, while <strong>SAFE (Search-Augmented Factuality Evaluator)</strong> provides the accompanying automated pipeline that combines large-model reasoning with real-time retrieval to perform multi-step verification and aggregate support scores into a final factuality estimate.</p>\n      </li>\n      <li>\n        <p><strong>FActScore</strong> (<a href=\"https://arxiv.org/abs/2305.14251\">Min et al. (2023)</a>): A dataset-agnostic scoring framework that measures the proportion of atomic facts supported by evidence; it underlies many subsequent metrics.</p>\n      </li>\n      <li>\n        <p><strong>QAFactEval</strong> (<a href=\"https://arxiv.org/abs/2112.08542\">Fabbri et al. (2022)</a>): Generates factual questions from model outputs and verifies answers using QA over source documents, enabling graded correctness.</p>\n      </li>\n      <li>\n        <p><strong>SummaC</strong> (<a href=\"https://arxiv.org/abs/2111.09525\">Laban et al. (2021)</a>): Extends entailment-based faithfulness scoring to long summaries via document-level natural-language-inference aggregation.</p>\n      </li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Evaluation Metrics &amp; Strategies</strong>:</p>\n\n    <ol>\n      <li>\n        <p><strong>Atomic-fact support rate</strong> Fraction of atomic claims supported by evidence (core measure in FActScore, LongFact).</p>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\" style=\"text-align: center;\"><span class=\"MathJax\" id=\"MathJax-Element-92-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>long</mtext></mrow></msub><mo>=</mo><mfrac><mtext># supported facts</mtext><mtext># total facts</mtext></mfrac></math>\" role=\"presentation\" style=\"text-align: center; position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-800\" style=\"width: 12.346em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 10.263em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(0.68em, 1010.26em, 3.023em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-801\"><span class=\"msubsup\" id=\"MathJax-Span-802\"><span style=\"display: inline-block; position: relative; width: 1.93em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-803\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-804\"><span class=\"mrow\" id=\"MathJax-Span-805\"><span class=\"mtext\" id=\"MathJax-Span-806\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">long</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-807\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-808\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 6.93em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.18em, 1006.77em, 4.378em, -999.997em); top: -4.685em; left: 50%; margin-left: -3.435em;\"><span class=\"mtext\" id=\"MathJax-Span-809\" style=\"font-family: STIXGeneral-Regular;\"># supported facts</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1004.64em, 4.169em, -999.997em); top: -3.331em; left: 50%; margin-left: -2.341em;\"><span class=\"mtext\" id=\"MathJax-Span-810\" style=\"font-family: STIXGeneral-Regular;\"># total facts</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1006.93em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 6.93em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.872em; border-left: 0px solid; width: 0px; height: 2.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>long</mtext></mrow></msub><mo>=</mo><mfrac><mtext># supported facts</mtext><mtext># total facts</mtext></mfrac></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-92\">F_{\\text{long}} = \\frac{\\text{# supported facts}}{\\text{# total facts}}</script>\n      </li>\n      <li>\n        <p><strong>Weighted claim confidence</strong> Aggregate support probabilities from retrieval or verifier models to weight each <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-93-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>f</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-811\" style=\"width: 0.732em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.576em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.305em, 1000.58em, 2.503em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-812\"><span class=\"msubsup\" id=\"MathJax-Span-813\"><span style=\"display: inline-block; position: relative; width: 0.576em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.42em, 4.378em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-814\" style=\"font-family: STIXGeneral-Italic;\">f<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.159em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.263em;\"><span class=\"mi\" id=\"MathJax-Span-815\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>f</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-93\">f_i</script> (SAFE).</p>\n      </li>\n      <li>\n        <p><strong>Question-answer alignment</strong> Precision/recall between answers derived from the output vs. evidence (QAFactEval).</p>\n      </li>\n      <li>\n        <p><strong>Sentence-level entailment averaging</strong> Mean NLI confidence across sentences (SummaC).</p>\n      </li>\n      <li>\n        <p><strong>Human verification rate</strong> Human agreement or correction rate on factual claims, often used to validate automatic metrics.</p>\n      </li>\n    </ol>\n  </li>\n  <li>\n    <p><strong>Illustrative Example</strong>:</p>\n\n    <ul>\n      <li>For a biography-style output:</li>\n    </ul>\n\n    <blockquote>\n      <p>“Marie Curie won two Nobel Prizes, in 1903 for Chemistry and in 1911 for Physics.”</p>\n    </blockquote>\n\n    <ul>\n      <li>Atomic decomposition yields:\n        <ul>\n          <li>Marie Curie won two Nobel Prizes — supported;</li>\n          <li>1903 for Chemistry — incorrect (1903 was Physics);</li>\n          <li>1911 for Physics — incorrect (1911 was Chemistry).</li>\n          <li>Thus, <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-94-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>long</mtext></mrow></msub><mo>=</mo><mstyle displaystyle=&quot;false&quot; scriptlevel=&quot;0&quot;><mfrac><mn>1</mn><mn>3</mn></mfrac></mstyle></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-816\" style=\"width: 4.586em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 3.805em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.148em, 1003.8em, 2.763em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-817\"><span class=\"msubsup\" id=\"MathJax-Span-818\"><span style=\"display: inline-block; position: relative; width: 1.93em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-819\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-820\"><span class=\"mrow\" id=\"MathJax-Span-821\"><span class=\"mtext\" id=\"MathJax-Span-822\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">long</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-823\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mstyle\" id=\"MathJax-Span-824\" style=\"padding-left: 0.315em;\"><span class=\"mrow\" id=\"MathJax-Span-825\"><span class=\"mfrac\" id=\"MathJax-Span-826\"><span style=\"display: inline-block; position: relative; width: 0.471em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-827\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.32em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-828\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">3</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.47em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.471em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.559em; border-left: 0px solid; width: 0px; height: 1.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>long</mtext></mrow></msub><mo>=</mo><mstyle displaystyle=\"false\" scriptlevel=\"0\"><mfrac><mn>1</mn><mn>3</mn></mfrac></mstyle></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-94\">F_{\\text{long}} = \\tfrac{1}{3}</script>.</li>\n        </ul>\n      </li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Relation to Other Factuality Types</strong>: Long-form factuality generalizes short-form evaluation to open-ended text and connects closely to groundedness: SAFE uses retrieval to verify long-form claims automatically. It bridges intrinsic truthfulness and extrinsic faithfulness by assessing both factual accuracy and evidence sufficiency across multiple, dependent statements.</p>\n  </li>\n</ul>\n<p>Long-form factuality assesses factual accuracy across extended, multi-sentence or multi-paragraph outputs such as summaries, reports, explanations, or essays. It is more complex to verify than short-form or grounded factuality because the number of claims grows with length, dependencies emerge among claims, and some claims require multi-hop reasoning or synthesis across sources.</p>\n<p><strong>Definition</strong>:</p>\n<ul>\n      <li>Let the model’s output <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-87-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi><mo>=</mo><mo stretchy=&quot;false&quot;>[</mo><msub><mi>s</mi><mn>1</mn></msub><mo>,</mo><msub><mi>s</mi><mn>2</mn></msub><mo>,</mo><mo>&amp;#x2026;</mo><mo>,</mo><msub><mi>s</mi><mi>N</mi></msub><mo stretchy=&quot;false&quot;>]</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-695\" style=\"width: 9.169em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 7.607em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1007.5em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-696\"><span class=\"mi\" id=\"MathJax-Span-697\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-698\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mo\" id=\"MathJax-Span-699\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">[</span><span class=\"msubsup\" id=\"MathJax-Span-700\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.37em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-701\" style=\"font-family: STIXGeneral-Italic;\">s</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.367em;\"><span class=\"mn\" id=\"MathJax-Span-702\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-703\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-704\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.37em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-705\" style=\"font-family: STIXGeneral-Italic;\">s</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.367em;\"><span class=\"mn\" id=\"MathJax-Span-706\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">2</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-707\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mo\" id=\"MathJax-Span-708\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">…</span><span class=\"mo\" id=\"MathJax-Span-709\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-710\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.37em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-711\" style=\"font-family: STIXGeneral-Italic;\">s</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.367em;\"><span class=\"mi\" id=\"MathJax-Span-712\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-713\" style=\"font-family: STIXGeneral-Regular;\">]</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi><mo>=</mo><mo stretchy=\"false\">[</mo><msub><mi>s</mi><mn>1</mn></msub><mo>,</mo><msub><mi>s</mi><mn>2</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>s</mi><mi>N</mi></msub><mo stretchy=\"false\">]</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-87\">y = [s_1, s_2, \\dots, s_N]</script> contain <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-88-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>N</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-714\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.78em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-715\"><span class=\"mi\" id=\"MathJax-Span-716\" style=\"font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>N</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-88\">N</script> sentences, each possibly encoding multiple factual statements. Define the set of atomic claims <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-89-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><msub><mi>a</mi><mn>2</mn></msub><mo>,</mo><mo>&amp;#x2026;</mo><mo>,</mo><msub><mi>a</mi><mi>M</mi></msub></mrow></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-717\" style=\"width: 10.263em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 8.544em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1008.54em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-718\"><span class=\"mi\" id=\"MathJax-Span-719\" style=\"font-family: STIXGeneral-Italic;\">ϕ</span><span class=\"mo\" id=\"MathJax-Span-720\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-721\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-722\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-723\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"texatom\" id=\"MathJax-Span-724\" style=\"padding-left: 0.315em;\"><span class=\"mrow\" id=\"MathJax-Span-725\"><span class=\"msubsup\" id=\"MathJax-Span-726\"><span style=\"display: inline-block; position: relative; width: 0.94em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-727\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mn\" id=\"MathJax-Span-728\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-729\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-730\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.94em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-731\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mn\" id=\"MathJax-Span-732\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">2</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-733\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mo\" id=\"MathJax-Span-734\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">…</span><span class=\"mo\" id=\"MathJax-Span-735\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-736\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.201em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-737\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-738\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">M<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>ϕ</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mrow class=\"MJX-TeXAtom-ORD\"><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><msub><mi>a</mi><mn>2</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>a</mi><mi>M</mi></msub></mrow></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-89\">\\phi(y) = {a_1, a_2, \\dots, a_M}</script>. Each claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-90-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-739\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-740\"><span class=\"msubsup\" id=\"MathJax-Span-741\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-742\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-743\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-90\">a_i</script> is evaluated against either ground-truth evidence or open-world truth (if no reference is provided). The long-form factuality score is:</li>\n    </ul>\n<ul>\n      <li>This “atomic-fact” decomposition was formalized in <strong>FActScore</strong> by <a href=\"https://arxiv.org/abs/2305.14251\">Min et al. (2023)</a>, which remains a central methodology for evaluating factual accuracy in multi-sentence generation.</li>\n    </ul>\n<p><strong>Key Properties &amp; Challenges</strong></p>\n<ul>\n      <li>\n        <p><strong>Combinatorial claim growth</strong>: The number of verifiable facts increases roughly linearly with output length, making human annotation expensive and automatic verification challenging. This phenomenon is highlighted in <strong>LongFact</strong> by <a href=\"https://arxiv.org/abs/2403.18802\">Wei et al. (2024)</a>, which showed that even a few-paragraph answer can contain dozens of distinct factual assertions.</p>\n      </li>\n      <li>\n        <p><strong>Cross-sentence dependencies</strong>: Some claims depend on others for context or coreference resolution (“he,” “it,” “the company”), complicating atomic evaluation.</p>\n      </li>\n      <li>\n        <p><strong>Partial correctness</strong>: A claim may be half-true (e.g., correct entity, wrong date). Binary scoring can underestimate nuance; graded or token-level alignment methods like <strong>QAFactEval</strong> by <a href=\"https://arxiv.org/abs/2112.08542\">Fabbri et al. (2022)</a> address this issue.</p>\n      </li>\n      <li>\n        <p><strong>Reasoning and compositionality</strong>: Multi-hop or derived facts (e.g., cause-effect, temporal ordering) require reasoning that may be correct even if intermediate retrieved facts differ in wording.</p>\n      </li>\n      <li>\n        <p><strong>Accumulated factual drift</strong>: When the model generates long outputs autoregressively, small factual deviations early in the text can propagate or compound later.</p>\n      </li>\n    </ul>\n<p><strong>Combinatorial claim growth</strong>: The number of verifiable facts increases roughly linearly with output length, making human annotation expensive and automatic verification challenging. This phenomenon is highlighted in <strong>LongFact</strong> by <a href=\"https://arxiv.org/abs/2403.18802\">Wei et al. (2024)</a>, which showed that even a few-paragraph answer can contain dozens of distinct factual assertions.</p>\n<p><strong>Cross-sentence dependencies</strong>: Some claims depend on others for context or coreference resolution (“he,” “it,” “the company”), complicating atomic evaluation.</p>\n<p><strong>Partial correctness</strong>: A claim may be half-true (e.g., correct entity, wrong date). Binary scoring can underestimate nuance; graded or token-level alignment methods like <strong>QAFactEval</strong> by <a href=\"https://arxiv.org/abs/2112.08542\">Fabbri et al. (2022)</a> address this issue.</p>\n<p><strong>Reasoning and compositionality</strong>: Multi-hop or derived facts (e.g., cause-effect, temporal ordering) require reasoning that may be correct even if intermediate retrieved facts differ in wording.</p>\n<p><strong>Accumulated factual drift</strong>: When the model generates long outputs autoregressively, small factual deviations early in the text can propagate or compound later.</p>\n<p><strong>Representative Benchmarks &amp; Methods</strong>:</p>\n<ul>\n      <li>\n        <p><strong>LongFact / SAFE</strong> (<a href=\"https://arxiv.org/abs/2403.18802\">Wei et al., 2024</a>): A unified benchmark and evaluation framework for open-ended, long-form factuality assessment. <strong>LongFact</strong> decomposes model outputs into atomic claims and verifies each via web search, while <strong>SAFE (Search-Augmented Factuality Evaluator)</strong> provides the accompanying automated pipeline that combines large-model reasoning with real-time retrieval to perform multi-step verification and aggregate support scores into a final factuality estimate.</p>\n      </li>\n      <li>\n        <p><strong>FActScore</strong> (<a href=\"https://arxiv.org/abs/2305.14251\">Min et al. (2023)</a>): A dataset-agnostic scoring framework that measures the proportion of atomic facts supported by evidence; it underlies many subsequent metrics.</p>\n      </li>\n      <li>\n        <p><strong>QAFactEval</strong> (<a href=\"https://arxiv.org/abs/2112.08542\">Fabbri et al. (2022)</a>): Generates factual questions from model outputs and verifies answers using QA over source documents, enabling graded correctness.</p>\n      </li>\n      <li>\n        <p><strong>SummaC</strong> (<a href=\"https://arxiv.org/abs/2111.09525\">Laban et al. (2021)</a>): Extends entailment-based faithfulness scoring to long summaries via document-level natural-language-inference aggregation.</p>\n      </li>\n    </ul>\n<p><strong>LongFact / SAFE</strong> (<a href=\"https://arxiv.org/abs/2403.18802\">Wei et al., 2024</a>): A unified benchmark and evaluation framework for open-ended, long-form factuality assessment. <strong>LongFact</strong> decomposes model outputs into atomic claims and verifies each via web search, while <strong>SAFE (Search-Augmented Factuality Evaluator)</strong> provides the accompanying automated pipeline that combines large-model reasoning with real-time retrieval to perform multi-step verification and aggregate support scores into a final factuality estimate.</p>\n<p><strong>FActScore</strong> (<a href=\"https://arxiv.org/abs/2305.14251\">Min et al. (2023)</a>): A dataset-agnostic scoring framework that measures the proportion of atomic facts supported by evidence; it underlies many subsequent metrics.</p>\n<p><strong>QAFactEval</strong> (<a href=\"https://arxiv.org/abs/2112.08542\">Fabbri et al. (2022)</a>): Generates factual questions from model outputs and verifies answers using QA over source documents, enabling graded correctness.</p>\n<p><strong>SummaC</strong> (<a href=\"https://arxiv.org/abs/2111.09525\">Laban et al. (2021)</a>): Extends entailment-based faithfulness scoring to long summaries via document-level natural-language-inference aggregation.</p>\n<p><strong>Evaluation Metrics &amp; Strategies</strong>:</p>\n<ol>\n      <li>\n        <p><strong>Atomic-fact support rate</strong> Fraction of atomic claims supported by evidence (core measure in FActScore, LongFact).</p>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\" style=\"text-align: center;\"><span class=\"MathJax\" id=\"MathJax-Element-92-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>long</mtext></mrow></msub><mo>=</mo><mfrac><mtext># supported facts</mtext><mtext># total facts</mtext></mfrac></math>\" role=\"presentation\" style=\"text-align: center; position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-800\" style=\"width: 12.346em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 10.263em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(0.68em, 1010.26em, 3.023em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-801\"><span class=\"msubsup\" id=\"MathJax-Span-802\"><span style=\"display: inline-block; position: relative; width: 1.93em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-803\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-804\"><span class=\"mrow\" id=\"MathJax-Span-805\"><span class=\"mtext\" id=\"MathJax-Span-806\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">long</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-807\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-808\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 6.93em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.18em, 1006.77em, 4.378em, -999.997em); top: -4.685em; left: 50%; margin-left: -3.435em;\"><span class=\"mtext\" id=\"MathJax-Span-809\" style=\"font-family: STIXGeneral-Regular;\"># supported facts</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1004.64em, 4.169em, -999.997em); top: -3.331em; left: 50%; margin-left: -2.341em;\"><span class=\"mtext\" id=\"MathJax-Span-810\" style=\"font-family: STIXGeneral-Regular;\"># total facts</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1006.93em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 6.93em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.872em; border-left: 0px solid; width: 0px; height: 2.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>long</mtext></mrow></msub><mo>=</mo><mfrac><mtext># supported facts</mtext><mtext># total facts</mtext></mfrac></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-92\">F_{\\text{long}} = \\frac{\\text{# supported facts}}{\\text{# total facts}}</script>\n      </li>\n      <li>\n        <p><strong>Weighted claim confidence</strong> Aggregate support probabilities from retrieval or verifier models to weight each <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-93-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>f</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-811\" style=\"width: 0.732em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.576em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.305em, 1000.58em, 2.503em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-812\"><span class=\"msubsup\" id=\"MathJax-Span-813\"><span style=\"display: inline-block; position: relative; width: 0.576em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.42em, 4.378em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-814\" style=\"font-family: STIXGeneral-Italic;\">f<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.159em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.263em;\"><span class=\"mi\" id=\"MathJax-Span-815\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>f</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-93\">f_i</script> (SAFE).</p>\n      </li>\n      <li>\n        <p><strong>Question-answer alignment</strong> Precision/recall between answers derived from the output vs. evidence (QAFactEval).</p>\n      </li>\n      <li>\n        <p><strong>Sentence-level entailment averaging</strong> Mean NLI confidence across sentences (SummaC).</p>\n      </li>\n      <li>\n        <p><strong>Human verification rate</strong> Human agreement or correction rate on factual claims, often used to validate automatic metrics.</p>\n      </li>\n    </ol>\n<p><strong>Atomic-fact support rate</strong> Fraction of atomic claims supported by evidence (core measure in FActScore, LongFact).</p>\n<p><strong>Weighted claim confidence</strong> Aggregate support probabilities from retrieval or verifier models to weight each <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-93-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>f</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-811\" style=\"width: 0.732em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.576em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.305em, 1000.58em, 2.503em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-812\"><span class=\"msubsup\" id=\"MathJax-Span-813\"><span style=\"display: inline-block; position: relative; width: 0.576em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.42em, 4.378em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-814\" style=\"font-family: STIXGeneral-Italic;\">f<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.159em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.263em;\"><span class=\"mi\" id=\"MathJax-Span-815\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>f</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-93\">f_i</script> (SAFE).</p>\n<p><strong>Question-answer alignment</strong> Precision/recall between answers derived from the output vs. evidence (QAFactEval).</p>\n<p><strong>Sentence-level entailment averaging</strong> Mean NLI confidence across sentences (SummaC).</p>\n<p><strong>Human verification rate</strong> Human agreement or correction rate on factual claims, often used to validate automatic metrics.</p>\n<p><strong>Illustrative Example</strong>:</p>\n<ul>\n      <li>For a biography-style output:</li>\n    </ul>\n<blockquote>\n      <p>“Marie Curie won two Nobel Prizes, in 1903 for Chemistry and in 1911 for Physics.”</p>\n    </blockquote>\n<p>“Marie Curie won two Nobel Prizes, in 1903 for Chemistry and in 1911 for Physics.”</p>\n<ul>\n      <li>Atomic decomposition yields:\n        <ul>\n          <li>Marie Curie won two Nobel Prizes — supported;</li>\n          <li>1903 for Chemistry — incorrect (1903 was Physics);</li>\n          <li>1911 for Physics — incorrect (1911 was Chemistry).</li>\n          <li>Thus, <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-94-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>long</mtext></mrow></msub><mo>=</mo><mstyle displaystyle=&quot;false&quot; scriptlevel=&quot;0&quot;><mfrac><mn>1</mn><mn>3</mn></mfrac></mstyle></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-816\" style=\"width: 4.586em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 3.805em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.148em, 1003.8em, 2.763em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-817\"><span class=\"msubsup\" id=\"MathJax-Span-818\"><span style=\"display: inline-block; position: relative; width: 1.93em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-819\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-820\"><span class=\"mrow\" id=\"MathJax-Span-821\"><span class=\"mtext\" id=\"MathJax-Span-822\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">long</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-823\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mstyle\" id=\"MathJax-Span-824\" style=\"padding-left: 0.315em;\"><span class=\"mrow\" id=\"MathJax-Span-825\"><span class=\"mfrac\" id=\"MathJax-Span-826\"><span style=\"display: inline-block; position: relative; width: 0.471em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-827\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.32em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-828\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">3</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.47em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.471em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.559em; border-left: 0px solid; width: 0px; height: 1.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>long</mtext></mrow></msub><mo>=</mo><mstyle displaystyle=\"false\" scriptlevel=\"0\"><mfrac><mn>1</mn><mn>3</mn></mfrac></mstyle></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-94\">F_{\\text{long}} = \\tfrac{1}{3}</script>.</li>\n        </ul>\n      </li>\n    </ul>\n<ul>\n          <li>Marie Curie won two Nobel Prizes — supported;</li>\n          <li>1903 for Chemistry — incorrect (1903 was Physics);</li>\n          <li>1911 for Physics — incorrect (1911 was Chemistry).</li>\n          <li>Thus, <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-94-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>long</mtext></mrow></msub><mo>=</mo><mstyle displaystyle=&quot;false&quot; scriptlevel=&quot;0&quot;><mfrac><mn>1</mn><mn>3</mn></mfrac></mstyle></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-816\" style=\"width: 4.586em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 3.805em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.148em, 1003.8em, 2.763em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-817\"><span class=\"msubsup\" id=\"MathJax-Span-818\"><span style=\"display: inline-block; position: relative; width: 1.93em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-819\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-820\"><span class=\"mrow\" id=\"MathJax-Span-821\"><span class=\"mtext\" id=\"MathJax-Span-822\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">long</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-823\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mstyle\" id=\"MathJax-Span-824\" style=\"padding-left: 0.315em;\"><span class=\"mrow\" id=\"MathJax-Span-825\"><span class=\"mfrac\" id=\"MathJax-Span-826\"><span style=\"display: inline-block; position: relative; width: 0.471em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-827\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.32em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-828\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">3</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.47em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.471em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.559em; border-left: 0px solid; width: 0px; height: 1.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>long</mtext></mrow></msub><mo>=</mo><mstyle displaystyle=\"false\" scriptlevel=\"0\"><mfrac><mn>1</mn><mn>3</mn></mfrac></mstyle></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-94\">F_{\\text{long}} = \\tfrac{1}{3}</script>.</li>\n        </ul>\n<p><strong>Relation to Other Factuality Types</strong>: Long-form factuality generalizes short-form evaluation to open-ended text and connects closely to groundedness: SAFE uses retrieval to verify long-form claims automatically. It bridges intrinsic truthfulness and extrinsic faithfulness by assessing both factual accuracy and evidence sufficiency across multiple, dependent statements.</p>",
    "contentMarkdown": "*   Long-form factuality assesses factual accuracy across extended, multi-sentence or multi-paragraph outputs such as summaries, reports, explanations, or essays. It is more complex to verify than short-form or grounded factuality because the number of claims grows with length, dependencies emerge among claims, and some claims require multi-hop reasoning or synthesis across sources.\n    \n*   **Definition**:\n    \n    *   Let the model’s output y\\=\\[s1,s2,…,sN\\]y\\=\\[s1,s2,…,sN\\]y = \\[s\\_1, s\\_2, \\\\dots, s\\_N\\] contain NNN sentences, each possibly encoding multiple factual statements. Define the set of atomic claims ϕ(y)\\=a1,a2,…,aMϕ(y)\\=a1,a2,…,aM\\\\phi(y) = {a\\_1, a\\_2, \\\\dots, a\\_M}. Each claim aiaia\\_i is evaluated against either ground-truth evidence or open-world truth (if no reference is provided). The long-form factuality score is:\n    \n    Flong(y)\\=1M∑i\\=1Mfi,fi\\={1,0,if ai is supported by evidence,otherwiseFlong(y)\\=1M∑i\\=1Mfi,fi\\={1,if ai is supported by evidence,0,otherwise\n    \n    F\\_{\\\\text{long}}(y) = \\\\frac{1}{M}\\\\sum\\_{i=1}^{M} f\\_i, \\\\quad f\\_i = \\\\begin{cases} 1, & \\\\text{if } a\\_i \\\\text{ is supported by evidence},\\\\\\\\ 0, & \\\\text{otherwise} \\\\end{cases}\n    *   This “atomic-fact” decomposition was formalized in **FActScore** by [Min et al. (2023)](https://arxiv.org/abs/2305.14251), which remains a central methodology for evaluating factual accuracy in multi-sentence generation.\n*   **Key Properties & Challenges**\n    \n    *   **Combinatorial claim growth**: The number of verifiable facts increases roughly linearly with output length, making human annotation expensive and automatic verification challenging. This phenomenon is highlighted in **LongFact** by [Wei et al. (2024)](https://arxiv.org/abs/2403.18802), which showed that even a few-paragraph answer can contain dozens of distinct factual assertions.\n        \n    *   **Cross-sentence dependencies**: Some claims depend on others for context or coreference resolution (“he,” “it,” “the company”), complicating atomic evaluation.\n        \n    *   **Partial correctness**: A claim may be half-true (e.g., correct entity, wrong date). Binary scoring can underestimate nuance; graded or token-level alignment methods like **QAFactEval** by [Fabbri et al. (2022)](https://arxiv.org/abs/2112.08542) address this issue.\n        \n    *   **Reasoning and compositionality**: Multi-hop or derived facts (e.g., cause-effect, temporal ordering) require reasoning that may be correct even if intermediate retrieved facts differ in wording.\n        \n    *   **Accumulated factual drift**: When the model generates long outputs autoregressively, small factual deviations early in the text can propagate or compound later.\n        \n*   **Representative Benchmarks & Methods**:\n    \n    *   **LongFact / SAFE** ([Wei et al., 2024](https://arxiv.org/abs/2403.18802)): A unified benchmark and evaluation framework for open-ended, long-form factuality assessment. **LongFact** decomposes model outputs into atomic claims and verifies each via web search, while **SAFE (Search-Augmented Factuality Evaluator)** provides the accompanying automated pipeline that combines large-model reasoning with real-time retrieval to perform multi-step verification and aggregate support scores into a final factuality estimate.\n        \n    *   **FActScore** ([Min et al. (2023)](https://arxiv.org/abs/2305.14251)): A dataset-agnostic scoring framework that measures the proportion of atomic facts supported by evidence; it underlies many subsequent metrics.\n        \n    *   **QAFactEval** ([Fabbri et al. (2022)](https://arxiv.org/abs/2112.08542)): Generates factual questions from model outputs and verifies answers using QA over source documents, enabling graded correctness.\n        \n    *   **SummaC** ([Laban et al. (2021)](https://arxiv.org/abs/2111.09525)): Extends entailment-based faithfulness scoring to long summaries via document-level natural-language-inference aggregation.\n        \n*   **Evaluation Metrics & Strategies**:\n    \n    1.  **Atomic-fact support rate** Fraction of atomic claims supported by evidence (core measure in FActScore, LongFact).\n        \n        Flong\\=\\# supported facts\\# total factsFlong\\=\\# supported facts\\# total facts\n        \n        F\\_{\\\\text{long}} = \\\\frac{\\\\text{# supported facts}}{\\\\text{# total facts}}\n    2.  **Weighted claim confidence** Aggregate support probabilities from retrieval or verifier models to weight each fifif\\_i (SAFE).\n        \n    3.  **Question-answer alignment** Precision/recall between answers derived from the output vs. evidence (QAFactEval).\n        \n    4.  **Sentence-level entailment averaging** Mean NLI confidence across sentences (SummaC).\n        \n    5.  **Human verification rate** Human agreement or correction rate on factual claims, often used to validate automatic metrics.\n        \n*   **Illustrative Example**:\n    \n    *   For a biography-style output:\n    \n    > “Marie Curie won two Nobel Prizes, in 1903 for Chemistry and in 1911 for Physics.”\n    \n    *   Atomic decomposition yields:\n        *   Marie Curie won two Nobel Prizes — supported;\n        *   1903 for Chemistry — incorrect (1903 was Physics);\n        *   1911 for Physics — incorrect (1911 was Chemistry).\n        *   Thus, Flong\\=13Flong\\=13F\\_{\\\\text{long}} = \\\\tfrac{1}{3}.\n*   **Relation to Other Factuality Types**: Long-form factuality generalizes short-form evaluation to open-ended text and connects closely to groundedness: SAFE uses retrieval to verify long-form claims automatically. It bridges intrinsic truthfulness and extrinsic faithfulness by assessing both factual accuracy and evidence sufficiency across multiple, dependent statements.\n    \n\nLong-form factuality assesses factual accuracy across extended, multi-sentence or multi-paragraph outputs such as summaries, reports, explanations, or essays. It is more complex to verify than short-form or grounded factuality because the number of claims grows with length, dependencies emerge among claims, and some claims require multi-hop reasoning or synthesis across sources.\n\n**Definition**:\n\n*   Let the model’s output y\\=\\[s1,s2,…,sN\\]y\\=\\[s1,s2,…,sN\\]y = \\[s\\_1, s\\_2, \\\\dots, s\\_N\\] contain NNN sentences, each possibly encoding multiple factual statements. Define the set of atomic claims ϕ(y)\\=a1,a2,…,aMϕ(y)\\=a1,a2,…,aM\\\\phi(y) = {a\\_1, a\\_2, \\\\dots, a\\_M}. Each claim aiaia\\_i is evaluated against either ground-truth evidence or open-world truth (if no reference is provided). The long-form factuality score is:\n\n*   This “atomic-fact” decomposition was formalized in **FActScore** by [Min et al. (2023)](https://arxiv.org/abs/2305.14251), which remains a central methodology for evaluating factual accuracy in multi-sentence generation.\n\n**Key Properties & Challenges**\n\n*   **Combinatorial claim growth**: The number of verifiable facts increases roughly linearly with output length, making human annotation expensive and automatic verification challenging. This phenomenon is highlighted in **LongFact** by [Wei et al. (2024)](https://arxiv.org/abs/2403.18802), which showed that even a few-paragraph answer can contain dozens of distinct factual assertions.\n    \n*   **Cross-sentence dependencies**: Some claims depend on others for context or coreference resolution (“he,” “it,” “the company”), complicating atomic evaluation.\n    \n*   **Partial correctness**: A claim may be half-true (e.g., correct entity, wrong date). Binary scoring can underestimate nuance; graded or token-level alignment methods like **QAFactEval** by [Fabbri et al. (2022)](https://arxiv.org/abs/2112.08542) address this issue.\n    \n*   **Reasoning and compositionality**: Multi-hop or derived facts (e.g., cause-effect, temporal ordering) require reasoning that may be correct even if intermediate retrieved facts differ in wording.\n    \n*   **Accumulated factual drift**: When the model generates long outputs autoregressively, small factual deviations early in the text can propagate or compound later.\n    \n\n**Combinatorial claim growth**: The number of verifiable facts increases roughly linearly with output length, making human annotation expensive and automatic verification challenging. This phenomenon is highlighted in **LongFact** by [Wei et al. (2024)](https://arxiv.org/abs/2403.18802), which showed that even a few-paragraph answer can contain dozens of distinct factual assertions.\n\n**Cross-sentence dependencies**: Some claims depend on others for context or coreference resolution (“he,” “it,” “the company”), complicating atomic evaluation.\n\n**Partial correctness**: A claim may be half-true (e.g., correct entity, wrong date). Binary scoring can underestimate nuance; graded or token-level alignment methods like **QAFactEval** by [Fabbri et al. (2022)](https://arxiv.org/abs/2112.08542) address this issue.\n\n**Reasoning and compositionality**: Multi-hop or derived facts (e.g., cause-effect, temporal ordering) require reasoning that may be correct even if intermediate retrieved facts differ in wording.\n\n**Accumulated factual drift**: When the model generates long outputs autoregressively, small factual deviations early in the text can propagate or compound later.\n\n**Representative Benchmarks & Methods**:\n\n*   **LongFact / SAFE** ([Wei et al., 2024](https://arxiv.org/abs/2403.18802)): A unified benchmark and evaluation framework for open-ended, long-form factuality assessment. **LongFact** decomposes model outputs into atomic claims and verifies each via web search, while **SAFE (Search-Augmented Factuality Evaluator)** provides the accompanying automated pipeline that combines large-model reasoning with real-time retrieval to perform multi-step verification and aggregate support scores into a final factuality estimate.\n    \n*   **FActScore** ([Min et al. (2023)](https://arxiv.org/abs/2305.14251)): A dataset-agnostic scoring framework that measures the proportion of atomic facts supported by evidence; it underlies many subsequent metrics.\n    \n*   **QAFactEval** ([Fabbri et al. (2022)](https://arxiv.org/abs/2112.08542)): Generates factual questions from model outputs and verifies answers using QA over source documents, enabling graded correctness.\n    \n*   **SummaC** ([Laban et al. (2021)](https://arxiv.org/abs/2111.09525)): Extends entailment-based faithfulness scoring to long summaries via document-level natural-language-inference aggregation.\n    \n\n**LongFact / SAFE** ([Wei et al., 2024](https://arxiv.org/abs/2403.18802)): A unified benchmark and evaluation framework for open-ended, long-form factuality assessment. **LongFact** decomposes model outputs into atomic claims and verifies each via web search, while **SAFE (Search-Augmented Factuality Evaluator)** provides the accompanying automated pipeline that combines large-model reasoning with real-time retrieval to perform multi-step verification and aggregate support scores into a final factuality estimate.\n\n**FActScore** ([Min et al. (2023)](https://arxiv.org/abs/2305.14251)): A dataset-agnostic scoring framework that measures the proportion of atomic facts supported by evidence; it underlies many subsequent metrics.\n\n**QAFactEval** ([Fabbri et al. (2022)](https://arxiv.org/abs/2112.08542)): Generates factual questions from model outputs and verifies answers using QA over source documents, enabling graded correctness.\n\n**SummaC** ([Laban et al. (2021)](https://arxiv.org/abs/2111.09525)): Extends entailment-based faithfulness scoring to long summaries via document-level natural-language-inference aggregation.\n\n**Evaluation Metrics & Strategies**:\n\n1.  **Atomic-fact support rate** Fraction of atomic claims supported by evidence (core measure in FActScore, LongFact).\n    \n    Flong\\=\\# supported facts\\# total factsFlong\\=\\# supported facts\\# total facts\n    \n    F\\_{\\\\text{long}} = \\\\frac{\\\\text{# supported facts}}{\\\\text{# total facts}}\n2.  **Weighted claim confidence** Aggregate support probabilities from retrieval or verifier models to weight each fifif\\_i (SAFE).\n    \n3.  **Question-answer alignment** Precision/recall between answers derived from the output vs. evidence (QAFactEval).\n    \n4.  **Sentence-level entailment averaging** Mean NLI confidence across sentences (SummaC).\n    \n5.  **Human verification rate** Human agreement or correction rate on factual claims, often used to validate automatic metrics.\n    \n\n**Atomic-fact support rate** Fraction of atomic claims supported by evidence (core measure in FActScore, LongFact).\n\n**Weighted claim confidence** Aggregate support probabilities from retrieval or verifier models to weight each fifif\\_i (SAFE).\n\n**Question-answer alignment** Precision/recall between answers derived from the output vs. evidence (QAFactEval).\n\n**Sentence-level entailment averaging** Mean NLI confidence across sentences (SummaC).\n\n**Human verification rate** Human agreement or correction rate on factual claims, often used to validate automatic metrics.\n\n**Illustrative Example**:\n\n*   For a biography-style output:\n\n> “Marie Curie won two Nobel Prizes, in 1903 for Chemistry and in 1911 for Physics.”\n\n“Marie Curie won two Nobel Prizes, in 1903 for Chemistry and in 1911 for Physics.”\n\n*   Atomic decomposition yields:\n    *   Marie Curie won two Nobel Prizes — supported;\n    *   1903 for Chemistry — incorrect (1903 was Physics);\n    *   1911 for Physics — incorrect (1911 was Chemistry).\n    *   Thus, Flong\\=13Flong\\=13F\\_{\\\\text{long}} = \\\\tfrac{1}{3}.\n\n*   Marie Curie won two Nobel Prizes — supported;\n*   1903 for Chemistry — incorrect (1903 was Physics);\n*   1911 for Physics — incorrect (1911 was Chemistry).\n*   Thus, Flong\\=13Flong\\=13F\\_{\\\\text{long}} = \\\\tfrac{1}{3}.\n\n**Relation to Other Factuality Types**: Long-form factuality generalizes short-form evaluation to open-ended text and connects closely to groundedness: SAFE uses retrieval to verify long-form claims automatically. It bridges intrinsic truthfulness and extrinsic faithfulness by assessing both factual accuracy and evidence sufficiency across multiple, dependent statements.",
    "contentLength": 78075,
    "wordCount": 1652,
    "hasCode": false,
    "hasMath": true,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#long-form-factuality"
  },
  {
    "id": "ai-factuality-in-LLMs-hallucination-and-factual-errors-6",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Taxonomy of Factuality",
    "title": "Hallucination and Factual Errors",
    "order": 6,
    "orderInChapter": 6,
    "contentHtml": "<ul>\n  <li>\n    <p>Hallucination-level factuality focuses on <strong>errors and deviations from truth</strong> within model outputs rather than correctness itself. It provides a complementary taxonomy of <strong>how and why</strong> large language models produce factually inaccurate statements. Evaluating hallucinations requires analyzing both the <strong>type</strong> (intrinsic vs. extrinsic) and <strong>severity</strong> (minor distortion vs. full fabrication) of factual error.</p>\n  </li>\n  <li>\n    <p><strong>Definition</strong>:</p>\n\n    <ul>\n      <li>\n        <p>A hallucination is a generated statement <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-95-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-829\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-830\"><span class=\"msubsup\" id=\"MathJax-Span-831\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-832\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-833\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-95\">a_i</script> such that:</p>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\"><span class=\"MathJax MathJax_FullWidth\" id=\"MathJax-Element-96-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>Hallucination</mtext><mo stretchy=&quot;false&quot;>(</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow><mo>{</mo><mtable columnalign=&quot;left left&quot; rowspacing=&quot;.2em&quot; columnspacing=&quot;1em&quot; displaystyle=&quot;false&quot;><mtr><mtd><mn>1</mn><mo>,</mo></mtd><mtd><mtext>if&amp;#xA0;</mtext><msub><mi>a</mi><mi>i</mi></msub><mtext>&amp;#xA0;is not entailed by any source and is false w.r.t. the real world</mtext></mtd></mtr><mtr><mtd><mn>0</mn><mo>,</mo></mtd><mtd><mtext>otherwise</mtext></mtd></mtr></mtable><mo fence=&quot;true&quot; stretchy=&quot;true&quot; symmetric=&quot;true&quot;></mo></mrow></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-834\" style=\"width: 100%; display: inline-block; min-width: 36.201em;\"><span style=\"display: inline-block; position: relative; width: 100%; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(3.753em, 1030.16em, 7.659em, -999.997em); top: -4.581em; left: 0em; width: 100%;\"><span class=\"mrow\" id=\"MathJax-Span-835\"><span style=\"display: inline-block; position: relative; width: 100%; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1006.83em, 4.326em, -999.997em); top: -4.008em; left: 50%; margin-left: -3.435em;\"><span class=\"mtext\" id=\"MathJax-Span-836\" style=\"font-family: STIXGeneral-Regular;\">Hallucination</span><span class=\"mo\" id=\"MathJax-Span-837\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"msubsup\" id=\"MathJax-Span-838\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-839\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-840\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-841\" style=\"font-family: STIXGeneral-Regular;\">)</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(2.503em, 1030.16em, 5.055em, -999.997em); top: -1.977em; left: 50%; margin-left: -15.102em;\"><span class=\"mo\" id=\"MathJax-Span-842\" style=\"font-family: STIXGeneral-Regular;\">=</span><span class=\"mrow\" id=\"MathJax-Span-843\" style=\"padding-left: 0.315em;\"><span class=\"mo\" id=\"MathJax-Span-844\" style=\"vertical-align: -0.466em;\"><span><span style=\"font-size: 111%; font-family: STIXSizeTwoSym;\">{</span></span></span><span class=\"mtable\" id=\"MathJax-Span-845\" style=\"padding-right: 0.159em; padding-left: 0.159em;\"><span style=\"display: inline-block; position: relative; width: 28.076em; height: 0px;\"><span style=\"position: absolute; clip: rect(2.607em, 1000.68em, 5.003em, -999.997em); top: -4.008em; left: 0em;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.68em, 4.326em, -999.997em); top: -4.581em; left: 0em;\"><span class=\"mtd\" id=\"MathJax-Span-846\"><span class=\"mrow\" id=\"MathJax-Span-847\"><span class=\"mn\" id=\"MathJax-Span-848\" style=\"font-family: STIXGeneral-Regular;\">1</span><span class=\"mo\" id=\"MathJax-Span-849\" style=\"font-family: STIXGeneral-Regular;\">,</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1000.68em, 4.326em, -999.997em); top: -3.331em; left: 0em;\"><span class=\"mtd\" id=\"MathJax-Span-857\"><span class=\"mrow\" id=\"MathJax-Span-858\"><span class=\"mn\" id=\"MathJax-Span-859\" style=\"font-family: STIXGeneral-Regular;\">0</span><span class=\"mo\" id=\"MathJax-Span-860\" style=\"font-family: STIXGeneral-Regular;\">,</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(2.607em, 1026.2em, 4.846em, -999.997em); top: -4.008em; left: 1.878em;\"><span style=\"display: inline-block; position: relative; width: 26.201em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1026.2em, 4.378em, -999.997em); top: -4.581em; left: 0em;\"><span class=\"mtd\" id=\"MathJax-Span-850\"><span class=\"mrow\" id=\"MathJax-Span-851\"><span class=\"mtext\" id=\"MathJax-Span-852\" style=\"font-family: STIXGeneral-Regular;\">if&nbsp;</span><span class=\"msubsup\" id=\"MathJax-Span-853\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-854\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-855\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mtext\" id=\"MathJax-Span-856\" style=\"font-family: STIXGeneral-Regular;\">&nbsp;is not entailed by any source and is false w.r.t. the real world</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1003.86em, 4.169em, -999.997em); top: -3.331em; left: 0em;\"><span class=\"mtd\" id=\"MathJax-Span-861\"><span class=\"mrow\" id=\"MathJax-Span-862\"><span class=\"mtext\" id=\"MathJax-Span-863\" style=\"font-family: STIXGeneral-Regular;\">otherwise</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-864\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.586em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -3.559em; border-left: 0px solid; width: 0px; height: 4.441em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mtext>Hallucination</mtext><mo stretchy=\"false\">(</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mrow><mo>{</mo><mtable columnalign=\"left left\" rowspacing=\".2em\" columnspacing=\"1em\" displaystyle=\"false\"><mtr><mtd><mn>1</mn><mo>,</mo></mtd><mtd><mtext>if&nbsp;</mtext><msub><mi>a</mi><mi>i</mi></msub><mtext>&nbsp;is not entailed by any source and is false w.r.t. the real world</mtext></mtd></mtr><mtr><mtd><mn>0</mn><mo>,</mo></mtd><mtd><mtext>otherwise</mtext></mtd></mtr></mtable><mo fence=\"true\" stretchy=\"true\" symmetric=\"true\"></mo></mrow></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-96\">\\text{Hallucination}(a_i) =\n\\begin{cases}\n1, & \\text{if } a_i \\text{ is not entailed by any source and is false w.r.t. the real world} \\\\\n0, & \\text{otherwise}\n\\end{cases}</script>\n      </li>\n      <li>\n        <p>Let <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-97-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><mo>&amp;#x2026;</mo><mo>,</mo><msub><mi>a</mi><mi>M</mi></msub></mrow></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-865\" style=\"width: 8.648em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 7.19em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1007.19em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-866\"><span class=\"mi\" id=\"MathJax-Span-867\" style=\"font-family: STIXGeneral-Italic;\">ϕ</span><span class=\"mo\" id=\"MathJax-Span-868\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-869\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-870\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-871\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"texatom\" id=\"MathJax-Span-872\" style=\"padding-left: 0.315em;\"><span class=\"mrow\" id=\"MathJax-Span-873\"><span class=\"msubsup\" id=\"MathJax-Span-874\"><span style=\"display: inline-block; position: relative; width: 0.94em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-875\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mn\" id=\"MathJax-Span-876\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-877\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mo\" id=\"MathJax-Span-878\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">…</span><span class=\"mo\" id=\"MathJax-Span-879\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-880\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.201em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-881\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-882\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">M<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>ϕ</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mrow class=\"MJX-TeXAtom-ORD\"><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>a</mi><mi>M</mi></msub></mrow></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-97\">\\phi(y) = {a_1, \\dots, a_M}</script> be the set of atomic claims from a model output <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-98-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-883\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-884\"><span class=\"mi\" id=\"MathJax-Span-885\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-98\">y</script>. Then the hallucination rate is defined as <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-99-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>H</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mn>1</mn><mi>M</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mtext>Hallucination</mtext><mo stretchy=&quot;false&quot;>(</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-886\" style=\"width: 16.148em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 13.44em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.096em, 1013.39em, 2.711em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-887\"><span class=\"mi\" id=\"MathJax-Span-888\" style=\"font-family: STIXGeneral-Italic;\">H<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-889\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-890\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-891\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-892\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-893\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-894\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.63em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -0.31em;\"><span class=\"mi\" id=\"MathJax-Span-895\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">M<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.73em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.732em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"munderover\" id=\"MathJax-Span-896\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 2.034em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.076em, 1000.84em, 4.43em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-897\" style=\"font-family: STIXGeneral-Regular; vertical-align: 0.003em;\">∑</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.68em, 4.169em, -999.997em); top: -4.477em; left: 0.94em;\"><span class=\"mi\" id=\"MathJax-Span-898\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">M<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1001.1em, 4.169em, -999.997em); top: -3.695em; left: 0.94em;\"><span class=\"texatom\" id=\"MathJax-Span-899\"><span class=\"mrow\" id=\"MathJax-Span-900\"><span class=\"mi\" id=\"MathJax-Span-901\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mo\" id=\"MathJax-Span-902\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">=</span><span class=\"mn\" id=\"MathJax-Span-903\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mtext\" id=\"MathJax-Span-904\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">Hallucination</span><span class=\"mo\" id=\"MathJax-Span-905\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"msubsup\" id=\"MathJax-Span-906\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-907\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-908\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-909\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.497em; border-left: 0px solid; width: 0px; height: 1.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>H</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>M</mi></mfrac><munderover><mo>∑</mo><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mtext>Hallucination</mtext><mo stretchy=\"false\">(</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-99\">H(y) = \\frac{1}{M} \\sum_{i=1}^M \\text{Hallucination}(a_i)</script>, and factuality is inversely related to hallucination frequency <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-100-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mn>1</mn><mo>&amp;#x2212;</mo><mi>H</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-910\" style=\"width: 7.815em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 6.513em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1006.46em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-911\"><span class=\"mi\" id=\"MathJax-Span-912\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-913\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-914\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-915\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-916\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mn\" id=\"MathJax-Span-917\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">1</span><span class=\"mo\" id=\"MathJax-Span-918\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">−</span><span class=\"mi\" id=\"MathJax-Span-919\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.263em;\">H<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-920\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-921\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-922\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>F</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mn>1</mn><mo>−</mo><mi>H</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-100\">F(y) = 1 - H(y)</script>.</p>\n      </li>\n      <li>\n        <p>This error-centric formulation appears in recent hallucination taxonomies such as <a href=\"https://arxiv.org/abs/2411.04368\">Beyond Hallucinations: A Taxonomy of Factual Errors in LLMs</a> by Ye et al. (2024).</p>\n      </li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Key Properties and Subtypes</strong>:</p>\n\n    <ul>\n      <li>\n        <p>Following <a href=\"https://arxiv.org/abs/2411.04368\">Ye et al. (2024)</a> and extended taxonomies from <a href=\"https://arxiv.org/abs/2302.11382\">Ji et al. (2023)</a> and <a href=\"https://arxiv.org/abs/2309.05152\">Zhou et al. (2023)</a>, hallucinations can be divided into several key forms:</p>\n\n        <ol>\n          <li>\n            <p><strong>Intrinsic vs. Extrinsic Hallucinations</strong>:</p>\n\n            <ul>\n              <li><em>Intrinsic hallucination</em>: internally inconsistent with the model’s own output or prompt context.\n                <ul>\n                  <li>Example: contradicting earlier statements in a multi-paragraph answer.</li>\n                </ul>\n              </li>\n              <li><em>Extrinsic hallucination</em>: inconsistent with external reality or reference evidence.\n                <ul>\n                  <li>Example: inventing a nonexistent paper or misquoting a data value.</li>\n                </ul>\n              </li>\n            </ul>\n          </li>\n          <li><strong>Entity-level errors</strong>:\n            <ul>\n              <li>Errors in names, dates, numbers, or categorical attributes.</li>\n              <li>Example: claiming <em>“The Eiffel Tower is in Berlin.”</em></li>\n            </ul>\n          </li>\n          <li><strong>Relational errors</strong>:\n            <ul>\n              <li>Misrepresenting relationships between correct entities.</li>\n              <li>Example: <em>“Einstein was a student of Niels Bohr.”</em></li>\n            </ul>\n          </li>\n          <li><strong>Compositional or inferential errors</strong>:\n            <ul>\n              <li>Incorrectly combining true facts into a false conclusion.</li>\n              <li>Example: <em>“Because Newton invented calculus, he won a Nobel Prize.”</em></li>\n            </ul>\n          </li>\n          <li><strong>Unsupported synthesis</strong>:\n            <ul>\n              <li>The model extrapolates beyond the given evidence—particularly common in summarization or RAG pipelines.</li>\n            </ul>\n          </li>\n          <li><strong>Omission-induced misrepresentation</strong>:\n            <ul>\n              <li>Leaving out context that makes an otherwise true statement misleading.</li>\n            </ul>\n          </li>\n          <li><strong>Fabricated references and citations</strong>:\n            <ul>\n              <li>A modern failure mode in retrieval-augmented or citation-heavy models—see <a href=\"https://arxiv.org/abs/2401.17849\">Faithful or Fake? Synthesizing and Detecting Hallucinated Citations in LLMs</a> by Feng et al. (2024).</li>\n            </ul>\n          </li>\n        </ol>\n      </li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Representative Benchmarks and Methods</strong>:</p>\n\n    <ul>\n      <li>\n        <p><strong>HaluEval</strong> (<a href=\"https://aclanthology.org/2023.emnlp-main.397/\">Li et al. (2023)</a>): A large-scale benchmark for hallucination detection, distinguishing factual vs. nonfactual short-form outputs.</p>\n      </li>\n      <li>\n        <p><strong>TruthfulQA</strong> (<a href=\"https://arxiv.org/abs/2109.07958\">Lin et al. (2021)</a>): Evaluates whether models generate human-like falsehoods rather than true answers.</p>\n      </li>\n      <li>\n        <p><strong>FActScore</strong> (<a href=\"https://arxiv.org/abs/2305.14251\">Min et al. (2023)</a>): Decomposes outputs into atomic claims and checks which ones are hallucinated (unsupported).</p>\n      </li>\n      <li>\n        <p><strong>Beyond Hallucinations</strong> (<a href=\"https://arxiv.org/abs/2411.04368\">Ye et al. (2024)</a>): Proposes a multi-level factual error taxonomy, distinguishing atomic-level inaccuracies from complex distortions, and evaluates models’ ability to abstain from uncertain responses.</p>\n      </li>\n      <li>\n        <p><strong>Hallucination Taxonomy for LLMs</strong> (<a href=\"https://arxiv.org/abs/2302.11382\">Ji et al. (2023)</a>): Provides a structured overview distinguishing factual, linguistic, and reasoning hallucinations across tasks.</p>\n      </li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Evaluation Metrics</strong>:</p>\n\n    <ul>\n      <li>\n        <p><strong>Hallucination rate</strong>: <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-101-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>H</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mrow><mi mathvariant=&quot;normal&quot;>&amp;#x0023;</mi><mtext>hallucinated claims</mtext></mrow><mrow><mi mathvariant=&quot;normal&quot;>&amp;#x0023;</mi><mtext>total claims</mtext></mrow></mfrac></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-923\" style=\"width: 11.148em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 9.273em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.148em, 1009.27em, 2.763em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-924\"><span class=\"mi\" id=\"MathJax-Span-925\" style=\"font-family: STIXGeneral-Italic;\">H<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-926\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-927\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-928\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-929\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-930\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 5.94em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1005.78em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -2.914em;\"><span class=\"mrow\" id=\"MathJax-Span-931\"><span class=\"mi\" id=\"MathJax-Span-932\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">#</span><span class=\"mtext\" id=\"MathJax-Span-933\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">hallucinated claims</span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1003.6em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -1.82em;\"><span class=\"mrow\" id=\"MathJax-Span-934\"><span class=\"mi\" id=\"MathJax-Span-935\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">#</span><span class=\"mtext\" id=\"MathJax-Span-936\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">total claims</span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1005.94em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 5.94em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.559em; border-left: 0px solid; width: 0px; height: 1.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>H</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mrow><mi mathvariant=\"normal\">#</mi><mtext>hallucinated claims</mtext></mrow><mrow><mi mathvariant=\"normal\">#</mi><mtext>total claims</mtext></mrow></mfrac></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-101\">H(y) = \\frac{\\# \\text{hallucinated claims}}{\\# \\text{total claims}}</script>.</p>\n      </li>\n      <li>\n        <p><strong>Fact precision and recall</strong>: Precision = fraction of generated facts that are true; recall = fraction of reference facts correctly reproduced.</p>\n      </li>\n      <li>\n        <p><strong>Severity-weighted hallucination score</strong> (<a href=\"https://arxiv.org/abs/2411.04368\">Ye et al. (2024)</a>):\nEach error type can be weighted by severity (minor, moderate, major) to reflect impact on downstream usability.</p>\n      </li>\n      <li>\n        <p><strong>Detection accuracy</strong>: Accuracy of automatic hallucination classifiers (binary or multi-label) relative to human annotations.</p>\n      </li>\n      <li>\n        <p><strong>Confidence calibration correlation</strong>: Measures whether hallucinations correspond to low model confidence—a strong indicator of model self-awareness.</p>\n      </li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Relation to Other Factuality Types</strong>:</p>\n\n    <ul>\n      <li>\n        <p>Hallucination analysis operates as a <em>negative mirror</em> to all other factuality types:</p>\n\n        <ul>\n          <li><strong>Short-form factuality</strong>: Single-claim hallucinations (binary true/false).</li>\n          <li><strong>Truthfulness</strong>: Extrinsic hallucinations relative to world knowledge.</li>\n          <li><strong>Faithfulness / Groundedness</strong>: Extrinsic hallucinations relative to the provided source.</li>\n          <li><strong>Long-form factuality</strong>: Compound hallucinations that accumulate across sentences or discourse.</li>\n        </ul>\n      </li>\n      <li>\n        <p>Thus, hallucination-level factuality acts as a unifying diagnostic lens that exposes where factual degradation originates: retrieval, reasoning, or generation.</p>\n      </li>\n    </ul>\n  </li>\n</ul>\n<p>Hallucination-level factuality focuses on <strong>errors and deviations from truth</strong> within model outputs rather than correctness itself. It provides a complementary taxonomy of <strong>how and why</strong> large language models produce factually inaccurate statements. Evaluating hallucinations requires analyzing both the <strong>type</strong> (intrinsic vs. extrinsic) and <strong>severity</strong> (minor distortion vs. full fabrication) of factual error.</p>\n<p><strong>Definition</strong>:</p>\n<ul>\n      <li>\n        <p>A hallucination is a generated statement <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-95-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-829\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-830\"><span class=\"msubsup\" id=\"MathJax-Span-831\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-832\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-833\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-95\">a_i</script> such that:</p>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\"><span class=\"MathJax MathJax_FullWidth\" id=\"MathJax-Element-96-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>Hallucination</mtext><mo stretchy=&quot;false&quot;>(</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow><mo>{</mo><mtable columnalign=&quot;left left&quot; rowspacing=&quot;.2em&quot; columnspacing=&quot;1em&quot; displaystyle=&quot;false&quot;><mtr><mtd><mn>1</mn><mo>,</mo></mtd><mtd><mtext>if&amp;#xA0;</mtext><msub><mi>a</mi><mi>i</mi></msub><mtext>&amp;#xA0;is not entailed by any source and is false w.r.t. the real world</mtext></mtd></mtr><mtr><mtd><mn>0</mn><mo>,</mo></mtd><mtd><mtext>otherwise</mtext></mtd></mtr></mtable><mo fence=&quot;true&quot; stretchy=&quot;true&quot; symmetric=&quot;true&quot;></mo></mrow></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-834\" style=\"width: 100%; display: inline-block; min-width: 36.201em;\"><span style=\"display: inline-block; position: relative; width: 100%; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(3.753em, 1030.16em, 7.659em, -999.997em); top: -4.581em; left: 0em; width: 100%;\"><span class=\"mrow\" id=\"MathJax-Span-835\"><span style=\"display: inline-block; position: relative; width: 100%; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1006.83em, 4.326em, -999.997em); top: -4.008em; left: 50%; margin-left: -3.435em;\"><span class=\"mtext\" id=\"MathJax-Span-836\" style=\"font-family: STIXGeneral-Regular;\">Hallucination</span><span class=\"mo\" id=\"MathJax-Span-837\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"msubsup\" id=\"MathJax-Span-838\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-839\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-840\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-841\" style=\"font-family: STIXGeneral-Regular;\">)</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(2.503em, 1030.16em, 5.055em, -999.997em); top: -1.977em; left: 50%; margin-left: -15.102em;\"><span class=\"mo\" id=\"MathJax-Span-842\" style=\"font-family: STIXGeneral-Regular;\">=</span><span class=\"mrow\" id=\"MathJax-Span-843\" style=\"padding-left: 0.315em;\"><span class=\"mo\" id=\"MathJax-Span-844\" style=\"vertical-align: -0.466em;\"><span><span style=\"font-size: 111%; font-family: STIXSizeTwoSym;\">{</span></span></span><span class=\"mtable\" id=\"MathJax-Span-845\" style=\"padding-right: 0.159em; padding-left: 0.159em;\"><span style=\"display: inline-block; position: relative; width: 28.076em; height: 0px;\"><span style=\"position: absolute; clip: rect(2.607em, 1000.68em, 5.003em, -999.997em); top: -4.008em; left: 0em;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.68em, 4.326em, -999.997em); top: -4.581em; left: 0em;\"><span class=\"mtd\" id=\"MathJax-Span-846\"><span class=\"mrow\" id=\"MathJax-Span-847\"><span class=\"mn\" id=\"MathJax-Span-848\" style=\"font-family: STIXGeneral-Regular;\">1</span><span class=\"mo\" id=\"MathJax-Span-849\" style=\"font-family: STIXGeneral-Regular;\">,</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1000.68em, 4.326em, -999.997em); top: -3.331em; left: 0em;\"><span class=\"mtd\" id=\"MathJax-Span-857\"><span class=\"mrow\" id=\"MathJax-Span-858\"><span class=\"mn\" id=\"MathJax-Span-859\" style=\"font-family: STIXGeneral-Regular;\">0</span><span class=\"mo\" id=\"MathJax-Span-860\" style=\"font-family: STIXGeneral-Regular;\">,</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(2.607em, 1026.2em, 4.846em, -999.997em); top: -4.008em; left: 1.878em;\"><span style=\"display: inline-block; position: relative; width: 26.201em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1026.2em, 4.378em, -999.997em); top: -4.581em; left: 0em;\"><span class=\"mtd\" id=\"MathJax-Span-850\"><span class=\"mrow\" id=\"MathJax-Span-851\"><span class=\"mtext\" id=\"MathJax-Span-852\" style=\"font-family: STIXGeneral-Regular;\">if&nbsp;</span><span class=\"msubsup\" id=\"MathJax-Span-853\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-854\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-855\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mtext\" id=\"MathJax-Span-856\" style=\"font-family: STIXGeneral-Regular;\">&nbsp;is not entailed by any source and is false w.r.t. the real world</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1003.86em, 4.169em, -999.997em); top: -3.331em; left: 0em;\"><span class=\"mtd\" id=\"MathJax-Span-861\"><span class=\"mrow\" id=\"MathJax-Span-862\"><span class=\"mtext\" id=\"MathJax-Span-863\" style=\"font-family: STIXGeneral-Regular;\">otherwise</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-864\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.586em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -3.559em; border-left: 0px solid; width: 0px; height: 4.441em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mtext>Hallucination</mtext><mo stretchy=\"false\">(</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo>=</mo><mrow><mo>{</mo><mtable columnalign=\"left left\" rowspacing=\".2em\" columnspacing=\"1em\" displaystyle=\"false\"><mtr><mtd><mn>1</mn><mo>,</mo></mtd><mtd><mtext>if&nbsp;</mtext><msub><mi>a</mi><mi>i</mi></msub><mtext>&nbsp;is not entailed by any source and is false w.r.t. the real world</mtext></mtd></mtr><mtr><mtd><mn>0</mn><mo>,</mo></mtd><mtd><mtext>otherwise</mtext></mtd></mtr></mtable><mo fence=\"true\" stretchy=\"true\" symmetric=\"true\"></mo></mrow></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-96\">\\text{Hallucination}(a_i) =\n\\begin{cases}\n1, & \\text{if } a_i \\text{ is not entailed by any source and is false w.r.t. the real world} \\\\\n0, & \\text{otherwise}\n\\end{cases}</script>\n      </li>\n      <li>\n        <p>Let <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-97-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><mo>&amp;#x2026;</mo><mo>,</mo><msub><mi>a</mi><mi>M</mi></msub></mrow></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-865\" style=\"width: 8.648em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 7.19em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1007.19em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-866\"><span class=\"mi\" id=\"MathJax-Span-867\" style=\"font-family: STIXGeneral-Italic;\">ϕ</span><span class=\"mo\" id=\"MathJax-Span-868\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-869\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-870\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-871\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"texatom\" id=\"MathJax-Span-872\" style=\"padding-left: 0.315em;\"><span class=\"mrow\" id=\"MathJax-Span-873\"><span class=\"msubsup\" id=\"MathJax-Span-874\"><span style=\"display: inline-block; position: relative; width: 0.94em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-875\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mn\" id=\"MathJax-Span-876\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-877\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mo\" id=\"MathJax-Span-878\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">…</span><span class=\"mo\" id=\"MathJax-Span-879\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-880\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.201em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-881\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-882\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">M<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>ϕ</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mrow class=\"MJX-TeXAtom-ORD\"><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>a</mi><mi>M</mi></msub></mrow></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-97\">\\phi(y) = {a_1, \\dots, a_M}</script> be the set of atomic claims from a model output <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-98-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-883\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-884\"><span class=\"mi\" id=\"MathJax-Span-885\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-98\">y</script>. Then the hallucination rate is defined as <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-99-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>H</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mn>1</mn><mi>M</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mtext>Hallucination</mtext><mo stretchy=&quot;false&quot;>(</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-886\" style=\"width: 16.148em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 13.44em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.096em, 1013.39em, 2.711em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-887\"><span class=\"mi\" id=\"MathJax-Span-888\" style=\"font-family: STIXGeneral-Italic;\">H<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-889\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-890\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-891\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-892\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-893\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-894\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.63em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -0.31em;\"><span class=\"mi\" id=\"MathJax-Span-895\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">M<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.73em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.732em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"munderover\" id=\"MathJax-Span-896\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 2.034em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.076em, 1000.84em, 4.43em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-897\" style=\"font-family: STIXGeneral-Regular; vertical-align: 0.003em;\">∑</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.68em, 4.169em, -999.997em); top: -4.477em; left: 0.94em;\"><span class=\"mi\" id=\"MathJax-Span-898\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">M<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1001.1em, 4.169em, -999.997em); top: -3.695em; left: 0.94em;\"><span class=\"texatom\" id=\"MathJax-Span-899\"><span class=\"mrow\" id=\"MathJax-Span-900\"><span class=\"mi\" id=\"MathJax-Span-901\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mo\" id=\"MathJax-Span-902\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">=</span><span class=\"mn\" id=\"MathJax-Span-903\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mtext\" id=\"MathJax-Span-904\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">Hallucination</span><span class=\"mo\" id=\"MathJax-Span-905\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"msubsup\" id=\"MathJax-Span-906\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-907\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-908\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-909\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.497em; border-left: 0px solid; width: 0px; height: 1.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>H</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>M</mi></mfrac><munderover><mo>∑</mo><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mtext>Hallucination</mtext><mo stretchy=\"false\">(</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-99\">H(y) = \\frac{1}{M} \\sum_{i=1}^M \\text{Hallucination}(a_i)</script>, and factuality is inversely related to hallucination frequency <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-100-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mn>1</mn><mo>&amp;#x2212;</mo><mi>H</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-910\" style=\"width: 7.815em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 6.513em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1006.46em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-911\"><span class=\"mi\" id=\"MathJax-Span-912\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-913\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-914\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-915\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-916\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mn\" id=\"MathJax-Span-917\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">1</span><span class=\"mo\" id=\"MathJax-Span-918\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">−</span><span class=\"mi\" id=\"MathJax-Span-919\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.263em;\">H<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-920\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-921\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-922\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>F</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mn>1</mn><mo>−</mo><mi>H</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-100\">F(y) = 1 - H(y)</script>.</p>\n      </li>\n      <li>\n        <p>This error-centric formulation appears in recent hallucination taxonomies such as <a href=\"https://arxiv.org/abs/2411.04368\">Beyond Hallucinations: A Taxonomy of Factual Errors in LLMs</a> by Ye et al. (2024).</p>\n      </li>\n    </ul>\n<p>A hallucination is a generated statement <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-95-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-829\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-830\"><span class=\"msubsup\" id=\"MathJax-Span-831\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-832\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-833\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-95\">a_i</script> such that:</p>\n<p>Let <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-97-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><mo>&amp;#x2026;</mo><mo>,</mo><msub><mi>a</mi><mi>M</mi></msub></mrow></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-865\" style=\"width: 8.648em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 7.19em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1007.19em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-866\"><span class=\"mi\" id=\"MathJax-Span-867\" style=\"font-family: STIXGeneral-Italic;\">ϕ</span><span class=\"mo\" id=\"MathJax-Span-868\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-869\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-870\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-871\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"texatom\" id=\"MathJax-Span-872\" style=\"padding-left: 0.315em;\"><span class=\"mrow\" id=\"MathJax-Span-873\"><span class=\"msubsup\" id=\"MathJax-Span-874\"><span style=\"display: inline-block; position: relative; width: 0.94em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-875\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mn\" id=\"MathJax-Span-876\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-877\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mo\" id=\"MathJax-Span-878\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">…</span><span class=\"mo\" id=\"MathJax-Span-879\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-880\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.201em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-881\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-882\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">M<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>ϕ</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mrow class=\"MJX-TeXAtom-ORD\"><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>a</mi><mi>M</mi></msub></mrow></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-97\">\\phi(y) = {a_1, \\dots, a_M}</script> be the set of atomic claims from a model output <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-98-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-883\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-884\"><span class=\"mi\" id=\"MathJax-Span-885\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-98\">y</script>. Then the hallucination rate is defined as <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-99-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>H</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mn>1</mn><mi>M</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mtext>Hallucination</mtext><mo stretchy=&quot;false&quot;>(</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-886\" style=\"width: 16.148em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 13.44em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.096em, 1013.39em, 2.711em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-887\"><span class=\"mi\" id=\"MathJax-Span-888\" style=\"font-family: STIXGeneral-Italic;\">H<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-889\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-890\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-891\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-892\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-893\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-894\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.63em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -0.31em;\"><span class=\"mi\" id=\"MathJax-Span-895\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">M<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.73em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.732em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"munderover\" id=\"MathJax-Span-896\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 2.034em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.076em, 1000.84em, 4.43em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-897\" style=\"font-family: STIXGeneral-Regular; vertical-align: 0.003em;\">∑</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.68em, 4.169em, -999.997em); top: -4.477em; left: 0.94em;\"><span class=\"mi\" id=\"MathJax-Span-898\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">M<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1001.1em, 4.169em, -999.997em); top: -3.695em; left: 0.94em;\"><span class=\"texatom\" id=\"MathJax-Span-899\"><span class=\"mrow\" id=\"MathJax-Span-900\"><span class=\"mi\" id=\"MathJax-Span-901\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mo\" id=\"MathJax-Span-902\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">=</span><span class=\"mn\" id=\"MathJax-Span-903\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mtext\" id=\"MathJax-Span-904\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">Hallucination</span><span class=\"mo\" id=\"MathJax-Span-905\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"msubsup\" id=\"MathJax-Span-906\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-907\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-908\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-909\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.497em; border-left: 0px solid; width: 0px; height: 1.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>H</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>M</mi></mfrac><munderover><mo>∑</mo><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>M</mi></munderover><mtext>Hallucination</mtext><mo stretchy=\"false\">(</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-99\">H(y) = \\frac{1}{M} \\sum_{i=1}^M \\text{Hallucination}(a_i)</script>, and factuality is inversely related to hallucination frequency <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-100-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mn>1</mn><mo>&amp;#x2212;</mo><mi>H</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-910\" style=\"width: 7.815em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 6.513em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1006.46em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-911\"><span class=\"mi\" id=\"MathJax-Span-912\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-913\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-914\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-915\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-916\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mn\" id=\"MathJax-Span-917\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">1</span><span class=\"mo\" id=\"MathJax-Span-918\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">−</span><span class=\"mi\" id=\"MathJax-Span-919\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.263em;\">H<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-920\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-921\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-922\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>F</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mn>1</mn><mo>−</mo><mi>H</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-100\">F(y) = 1 - H(y)</script>.</p>\n<p>This error-centric formulation appears in recent hallucination taxonomies such as <a href=\"https://arxiv.org/abs/2411.04368\">Beyond Hallucinations: A Taxonomy of Factual Errors in LLMs</a> by Ye et al. (2024).</p>\n<p><strong>Key Properties and Subtypes</strong>:</p>\n<ul>\n      <li>\n        <p>Following <a href=\"https://arxiv.org/abs/2411.04368\">Ye et al. (2024)</a> and extended taxonomies from <a href=\"https://arxiv.org/abs/2302.11382\">Ji et al. (2023)</a> and <a href=\"https://arxiv.org/abs/2309.05152\">Zhou et al. (2023)</a>, hallucinations can be divided into several key forms:</p>\n\n        <ol>\n          <li>\n            <p><strong>Intrinsic vs. Extrinsic Hallucinations</strong>:</p>\n\n            <ul>\n              <li><em>Intrinsic hallucination</em>: internally inconsistent with the model’s own output or prompt context.\n                <ul>\n                  <li>Example: contradicting earlier statements in a multi-paragraph answer.</li>\n                </ul>\n              </li>\n              <li><em>Extrinsic hallucination</em>: inconsistent with external reality or reference evidence.\n                <ul>\n                  <li>Example: inventing a nonexistent paper or misquoting a data value.</li>\n                </ul>\n              </li>\n            </ul>\n          </li>\n          <li><strong>Entity-level errors</strong>:\n            <ul>\n              <li>Errors in names, dates, numbers, or categorical attributes.</li>\n              <li>Example: claiming <em>“The Eiffel Tower is in Berlin.”</em></li>\n            </ul>\n          </li>\n          <li><strong>Relational errors</strong>:\n            <ul>\n              <li>Misrepresenting relationships between correct entities.</li>\n              <li>Example: <em>“Einstein was a student of Niels Bohr.”</em></li>\n            </ul>\n          </li>\n          <li><strong>Compositional or inferential errors</strong>:\n            <ul>\n              <li>Incorrectly combining true facts into a false conclusion.</li>\n              <li>Example: <em>“Because Newton invented calculus, he won a Nobel Prize.”</em></li>\n            </ul>\n          </li>\n          <li><strong>Unsupported synthesis</strong>:\n            <ul>\n              <li>The model extrapolates beyond the given evidence—particularly common in summarization or RAG pipelines.</li>\n            </ul>\n          </li>\n          <li><strong>Omission-induced misrepresentation</strong>:\n            <ul>\n              <li>Leaving out context that makes an otherwise true statement misleading.</li>\n            </ul>\n          </li>\n          <li><strong>Fabricated references and citations</strong>:\n            <ul>\n              <li>A modern failure mode in retrieval-augmented or citation-heavy models—see <a href=\"https://arxiv.org/abs/2401.17849\">Faithful or Fake? Synthesizing and Detecting Hallucinated Citations in LLMs</a> by Feng et al. (2024).</li>\n            </ul>\n          </li>\n        </ol>\n      </li>\n    </ul>\n<p>Following <a href=\"https://arxiv.org/abs/2411.04368\">Ye et al. (2024)</a> and extended taxonomies from <a href=\"https://arxiv.org/abs/2302.11382\">Ji et al. (2023)</a> and <a href=\"https://arxiv.org/abs/2309.05152\">Zhou et al. (2023)</a>, hallucinations can be divided into several key forms:</p>\n<ol>\n          <li>\n            <p><strong>Intrinsic vs. Extrinsic Hallucinations</strong>:</p>\n\n            <ul>\n              <li><em>Intrinsic hallucination</em>: internally inconsistent with the model’s own output or prompt context.\n                <ul>\n                  <li>Example: contradicting earlier statements in a multi-paragraph answer.</li>\n                </ul>\n              </li>\n              <li><em>Extrinsic hallucination</em>: inconsistent with external reality or reference evidence.\n                <ul>\n                  <li>Example: inventing a nonexistent paper or misquoting a data value.</li>\n                </ul>\n              </li>\n            </ul>\n          </li>\n          <li><strong>Entity-level errors</strong>:\n            <ul>\n              <li>Errors in names, dates, numbers, or categorical attributes.</li>\n              <li>Example: claiming <em>“The Eiffel Tower is in Berlin.”</em></li>\n            </ul>\n          </li>\n          <li><strong>Relational errors</strong>:\n            <ul>\n              <li>Misrepresenting relationships between correct entities.</li>\n              <li>Example: <em>“Einstein was a student of Niels Bohr.”</em></li>\n            </ul>\n          </li>\n          <li><strong>Compositional or inferential errors</strong>:\n            <ul>\n              <li>Incorrectly combining true facts into a false conclusion.</li>\n              <li>Example: <em>“Because Newton invented calculus, he won a Nobel Prize.”</em></li>\n            </ul>\n          </li>\n          <li><strong>Unsupported synthesis</strong>:\n            <ul>\n              <li>The model extrapolates beyond the given evidence—particularly common in summarization or RAG pipelines.</li>\n            </ul>\n          </li>\n          <li><strong>Omission-induced misrepresentation</strong>:\n            <ul>\n              <li>Leaving out context that makes an otherwise true statement misleading.</li>\n            </ul>\n          </li>\n          <li><strong>Fabricated references and citations</strong>:\n            <ul>\n              <li>A modern failure mode in retrieval-augmented or citation-heavy models—see <a href=\"https://arxiv.org/abs/2401.17849\">Faithful or Fake? Synthesizing and Detecting Hallucinated Citations in LLMs</a> by Feng et al. (2024).</li>\n            </ul>\n          </li>\n        </ol>\n<p><strong>Intrinsic vs. Extrinsic Hallucinations</strong>:</p>\n<ul>\n              <li><em>Intrinsic hallucination</em>: internally inconsistent with the model’s own output or prompt context.\n                <ul>\n                  <li>Example: contradicting earlier statements in a multi-paragraph answer.</li>\n                </ul>\n              </li>\n              <li><em>Extrinsic hallucination</em>: inconsistent with external reality or reference evidence.\n                <ul>\n                  <li>Example: inventing a nonexistent paper or misquoting a data value.</li>\n                </ul>\n              </li>\n            </ul>\n<ul>\n                  <li>Example: contradicting earlier statements in a multi-paragraph answer.</li>\n                </ul>\n<ul>\n                  <li>Example: inventing a nonexistent paper or misquoting a data value.</li>\n                </ul>\n<ul>\n              <li>Errors in names, dates, numbers, or categorical attributes.</li>\n              <li>Example: claiming <em>“The Eiffel Tower is in Berlin.”</em></li>\n            </ul>\n<ul>\n              <li>Misrepresenting relationships between correct entities.</li>\n              <li>Example: <em>“Einstein was a student of Niels Bohr.”</em></li>\n            </ul>\n<ul>\n              <li>Incorrectly combining true facts into a false conclusion.</li>\n              <li>Example: <em>“Because Newton invented calculus, he won a Nobel Prize.”</em></li>\n            </ul>\n<ul>\n              <li>The model extrapolates beyond the given evidence—particularly common in summarization or RAG pipelines.</li>\n            </ul>\n<ul>\n              <li>Leaving out context that makes an otherwise true statement misleading.</li>\n            </ul>\n<ul>\n              <li>A modern failure mode in retrieval-augmented or citation-heavy models—see <a href=\"https://arxiv.org/abs/2401.17849\">Faithful or Fake? Synthesizing and Detecting Hallucinated Citations in LLMs</a> by Feng et al. (2024).</li>\n            </ul>\n<p><strong>Representative Benchmarks and Methods</strong>:</p>\n<ul>\n      <li>\n        <p><strong>HaluEval</strong> (<a href=\"https://aclanthology.org/2023.emnlp-main.397/\">Li et al. (2023)</a>): A large-scale benchmark for hallucination detection, distinguishing factual vs. nonfactual short-form outputs.</p>\n      </li>\n      <li>\n        <p><strong>TruthfulQA</strong> (<a href=\"https://arxiv.org/abs/2109.07958\">Lin et al. (2021)</a>): Evaluates whether models generate human-like falsehoods rather than true answers.</p>\n      </li>\n      <li>\n        <p><strong>FActScore</strong> (<a href=\"https://arxiv.org/abs/2305.14251\">Min et al. (2023)</a>): Decomposes outputs into atomic claims and checks which ones are hallucinated (unsupported).</p>\n      </li>\n      <li>\n        <p><strong>Beyond Hallucinations</strong> (<a href=\"https://arxiv.org/abs/2411.04368\">Ye et al. (2024)</a>): Proposes a multi-level factual error taxonomy, distinguishing atomic-level inaccuracies from complex distortions, and evaluates models’ ability to abstain from uncertain responses.</p>\n      </li>\n      <li>\n        <p><strong>Hallucination Taxonomy for LLMs</strong> (<a href=\"https://arxiv.org/abs/2302.11382\">Ji et al. (2023)</a>): Provides a structured overview distinguishing factual, linguistic, and reasoning hallucinations across tasks.</p>\n      </li>\n    </ul>\n<p><strong>HaluEval</strong> (<a href=\"https://aclanthology.org/2023.emnlp-main.397/\">Li et al. (2023)</a>): A large-scale benchmark for hallucination detection, distinguishing factual vs. nonfactual short-form outputs.</p>\n<p><strong>TruthfulQA</strong> (<a href=\"https://arxiv.org/abs/2109.07958\">Lin et al. (2021)</a>): Evaluates whether models generate human-like falsehoods rather than true answers.</p>\n<p><strong>FActScore</strong> (<a href=\"https://arxiv.org/abs/2305.14251\">Min et al. (2023)</a>): Decomposes outputs into atomic claims and checks which ones are hallucinated (unsupported).</p>\n<p><strong>Beyond Hallucinations</strong> (<a href=\"https://arxiv.org/abs/2411.04368\">Ye et al. (2024)</a>): Proposes a multi-level factual error taxonomy, distinguishing atomic-level inaccuracies from complex distortions, and evaluates models’ ability to abstain from uncertain responses.</p>\n<p><strong>Hallucination Taxonomy for LLMs</strong> (<a href=\"https://arxiv.org/abs/2302.11382\">Ji et al. (2023)</a>): Provides a structured overview distinguishing factual, linguistic, and reasoning hallucinations across tasks.</p>\n<p><strong>Evaluation Metrics</strong>:</p>\n<ul>\n      <li>\n        <p><strong>Hallucination rate</strong>: <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-101-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>H</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mrow><mi mathvariant=&quot;normal&quot;>&amp;#x0023;</mi><mtext>hallucinated claims</mtext></mrow><mrow><mi mathvariant=&quot;normal&quot;>&amp;#x0023;</mi><mtext>total claims</mtext></mrow></mfrac></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-923\" style=\"width: 11.148em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 9.273em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.148em, 1009.27em, 2.763em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-924\"><span class=\"mi\" id=\"MathJax-Span-925\" style=\"font-family: STIXGeneral-Italic;\">H<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-926\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-927\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-928\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-929\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-930\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 5.94em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1005.78em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -2.914em;\"><span class=\"mrow\" id=\"MathJax-Span-931\"><span class=\"mi\" id=\"MathJax-Span-932\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">#</span><span class=\"mtext\" id=\"MathJax-Span-933\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">hallucinated claims</span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1003.6em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -1.82em;\"><span class=\"mrow\" id=\"MathJax-Span-934\"><span class=\"mi\" id=\"MathJax-Span-935\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">#</span><span class=\"mtext\" id=\"MathJax-Span-936\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">total claims</span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1005.94em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 5.94em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.559em; border-left: 0px solid; width: 0px; height: 1.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>H</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mrow><mi mathvariant=\"normal\">#</mi><mtext>hallucinated claims</mtext></mrow><mrow><mi mathvariant=\"normal\">#</mi><mtext>total claims</mtext></mrow></mfrac></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-101\">H(y) = \\frac{\\# \\text{hallucinated claims}}{\\# \\text{total claims}}</script>.</p>\n      </li>\n      <li>\n        <p><strong>Fact precision and recall</strong>: Precision = fraction of generated facts that are true; recall = fraction of reference facts correctly reproduced.</p>\n      </li>\n      <li>\n        <p><strong>Severity-weighted hallucination score</strong> (<a href=\"https://arxiv.org/abs/2411.04368\">Ye et al. (2024)</a>):\nEach error type can be weighted by severity (minor, moderate, major) to reflect impact on downstream usability.</p>\n      </li>\n      <li>\n        <p><strong>Detection accuracy</strong>: Accuracy of automatic hallucination classifiers (binary or multi-label) relative to human annotations.</p>\n      </li>\n      <li>\n        <p><strong>Confidence calibration correlation</strong>: Measures whether hallucinations correspond to low model confidence—a strong indicator of model self-awareness.</p>\n      </li>\n    </ul>\n<p><strong>Hallucination rate</strong>: <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-101-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>H</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mrow><mi mathvariant=&quot;normal&quot;>&amp;#x0023;</mi><mtext>hallucinated claims</mtext></mrow><mrow><mi mathvariant=&quot;normal&quot;>&amp;#x0023;</mi><mtext>total claims</mtext></mrow></mfrac></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-923\" style=\"width: 11.148em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 9.273em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.148em, 1009.27em, 2.763em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-924\"><span class=\"mi\" id=\"MathJax-Span-925\" style=\"font-family: STIXGeneral-Italic;\">H<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-926\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-927\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-928\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-929\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-930\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 5.94em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1005.78em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -2.914em;\"><span class=\"mrow\" id=\"MathJax-Span-931\"><span class=\"mi\" id=\"MathJax-Span-932\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">#</span><span class=\"mtext\" id=\"MathJax-Span-933\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">hallucinated claims</span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1003.6em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -1.82em;\"><span class=\"mrow\" id=\"MathJax-Span-934\"><span class=\"mi\" id=\"MathJax-Span-935\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">#</span><span class=\"mtext\" id=\"MathJax-Span-936\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">total claims</span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1005.94em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 5.94em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.559em; border-left: 0px solid; width: 0px; height: 1.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>H</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mrow><mi mathvariant=\"normal\">#</mi><mtext>hallucinated claims</mtext></mrow><mrow><mi mathvariant=\"normal\">#</mi><mtext>total claims</mtext></mrow></mfrac></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-101\">H(y) = \\frac{\\# \\text{hallucinated claims}}{\\# \\text{total claims}}</script>.</p>\n<p><strong>Fact precision and recall</strong>: Precision = fraction of generated facts that are true; recall = fraction of reference facts correctly reproduced.</p>\n<p><strong>Severity-weighted hallucination score</strong> (<a href=\"https://arxiv.org/abs/2411.04368\">Ye et al. (2024)</a>):\nEach error type can be weighted by severity (minor, moderate, major) to reflect impact on downstream usability.</p>\n<p><strong>Detection accuracy</strong>: Accuracy of automatic hallucination classifiers (binary or multi-label) relative to human annotations.</p>\n<p><strong>Confidence calibration correlation</strong>: Measures whether hallucinations correspond to low model confidence—a strong indicator of model self-awareness.</p>\n<p><strong>Relation to Other Factuality Types</strong>:</p>\n<ul>\n      <li>\n        <p>Hallucination analysis operates as a <em>negative mirror</em> to all other factuality types:</p>\n\n        <ul>\n          <li><strong>Short-form factuality</strong>: Single-claim hallucinations (binary true/false).</li>\n          <li><strong>Truthfulness</strong>: Extrinsic hallucinations relative to world knowledge.</li>\n          <li><strong>Faithfulness / Groundedness</strong>: Extrinsic hallucinations relative to the provided source.</li>\n          <li><strong>Long-form factuality</strong>: Compound hallucinations that accumulate across sentences or discourse.</li>\n        </ul>\n      </li>\n      <li>\n        <p>Thus, hallucination-level factuality acts as a unifying diagnostic lens that exposes where factual degradation originates: retrieval, reasoning, or generation.</p>\n      </li>\n    </ul>\n<p>Hallucination analysis operates as a <em>negative mirror</em> to all other factuality types:</p>\n<ul>\n          <li><strong>Short-form factuality</strong>: Single-claim hallucinations (binary true/false).</li>\n          <li><strong>Truthfulness</strong>: Extrinsic hallucinations relative to world knowledge.</li>\n          <li><strong>Faithfulness / Groundedness</strong>: Extrinsic hallucinations relative to the provided source.</li>\n          <li><strong>Long-form factuality</strong>: Compound hallucinations that accumulate across sentences or discourse.</li>\n        </ul>\n<p>Thus, hallucination-level factuality acts as a unifying diagnostic lens that exposes where factual degradation originates: retrieval, reasoning, or generation.</p>",
    "contentMarkdown": "*   Hallucination-level factuality focuses on **errors and deviations from truth** within model outputs rather than correctness itself. It provides a complementary taxonomy of **how and why** large language models produce factually inaccurate statements. Evaluating hallucinations requires analyzing both the **type** (intrinsic vs. extrinsic) and **severity** (minor distortion vs. full fabrication) of factual error.\n    \n*   **Definition**:\n    \n    *   A hallucination is a generated statement aiaia\\_i such that:\n        \n        Hallucination(ai)\\={1,0,if ai is not entailed by any source and is false w.r.t. the real worldotherwiseHallucination(ai)\\={1,if ai is not entailed by any source and is false w.r.t. the real world0,otherwise\n        \n        \\\\text{Hallucination}(a\\_i) = \\\\begin{cases} 1, & \\\\text{if } a\\_i \\\\text{ is not entailed by any source and is false w.r.t. the real world} \\\\\\\\ 0, & \\\\text{otherwise} \\\\end{cases}\n    *   Let ϕ(y)\\=a1,…,aMϕ(y)\\=a1,…,aM\\\\phi(y) = {a\\_1, \\\\dots, a\\_M} be the set of atomic claims from a model output yyy. Then the hallucination rate is defined as H(y)\\=1M∑Mi\\=1Hallucination(ai)H(y)\\=1M∑i\\=1MHallucination(ai)H(y) = \\\\frac{1}{M} \\\\sum\\_{i=1}^M \\\\text{Hallucination}(a\\_i), and factuality is inversely related to hallucination frequency F(y)\\=1−H(y)F(y)\\=1−H(y)F(y) = 1 - H(y).\n        \n    *   This error-centric formulation appears in recent hallucination taxonomies such as [Beyond Hallucinations: A Taxonomy of Factual Errors in LLMs](https://arxiv.org/abs/2411.04368) by Ye et al. (2024).\n        \n*   **Key Properties and Subtypes**:\n    \n    *   Following [Ye et al. (2024)](https://arxiv.org/abs/2411.04368) and extended taxonomies from [Ji et al. (2023)](https://arxiv.org/abs/2302.11382) and [Zhou et al. (2023)](https://arxiv.org/abs/2309.05152), hallucinations can be divided into several key forms:\n        \n        1.  **Intrinsic vs. Extrinsic Hallucinations**:\n            \n            *   _Intrinsic hallucination_: internally inconsistent with the model’s own output or prompt context.\n                *   Example: contradicting earlier statements in a multi-paragraph answer.\n            *   _Extrinsic hallucination_: inconsistent with external reality or reference evidence.\n                *   Example: inventing a nonexistent paper or misquoting a data value.\n        2.  **Entity-level errors**:\n            *   Errors in names, dates, numbers, or categorical attributes.\n            *   Example: claiming _“The Eiffel Tower is in Berlin.”_\n        3.  **Relational errors**:\n            *   Misrepresenting relationships between correct entities.\n            *   Example: _“Einstein was a student of Niels Bohr.”_\n        4.  **Compositional or inferential errors**:\n            *   Incorrectly combining true facts into a false conclusion.\n            *   Example: _“Because Newton invented calculus, he won a Nobel Prize.”_\n        5.  **Unsupported synthesis**:\n            *   The model extrapolates beyond the given evidence—particularly common in summarization or RAG pipelines.\n        6.  **Omission-induced misrepresentation**:\n            *   Leaving out context that makes an otherwise true statement misleading.\n        7.  **Fabricated references and citations**:\n            *   A modern failure mode in retrieval-augmented or citation-heavy models—see [Faithful or Fake? Synthesizing and Detecting Hallucinated Citations in LLMs](https://arxiv.org/abs/2401.17849) by Feng et al. (2024).\n*   **Representative Benchmarks and Methods**:\n    \n    *   **HaluEval** ([Li et al. (2023)](https://aclanthology.org/2023.emnlp-main.397/)): A large-scale benchmark for hallucination detection, distinguishing factual vs. nonfactual short-form outputs.\n        \n    *   **TruthfulQA** ([Lin et al. (2021)](https://arxiv.org/abs/2109.07958)): Evaluates whether models generate human-like falsehoods rather than true answers.\n        \n    *   **FActScore** ([Min et al. (2023)](https://arxiv.org/abs/2305.14251)): Decomposes outputs into atomic claims and checks which ones are hallucinated (unsupported).\n        \n    *   **Beyond Hallucinations** ([Ye et al. (2024)](https://arxiv.org/abs/2411.04368)): Proposes a multi-level factual error taxonomy, distinguishing atomic-level inaccuracies from complex distortions, and evaluates models’ ability to abstain from uncertain responses.\n        \n    *   **Hallucination Taxonomy for LLMs** ([Ji et al. (2023)](https://arxiv.org/abs/2302.11382)): Provides a structured overview distinguishing factual, linguistic, and reasoning hallucinations across tasks.\n        \n*   **Evaluation Metrics**:\n    \n    *   **Hallucination rate**: H(y)\\=#hallucinated claims#total claimsH(y)\\=#hallucinated claims#total claimsH(y) = \\\\frac{\\\\# \\\\text{hallucinated claims}}{\\\\# \\\\text{total claims}}.\n        \n    *   **Fact precision and recall**: Precision = fraction of generated facts that are true; recall = fraction of reference facts correctly reproduced.\n        \n    *   **Severity-weighted hallucination score** ([Ye et al. (2024)](https://arxiv.org/abs/2411.04368)): Each error type can be weighted by severity (minor, moderate, major) to reflect impact on downstream usability.\n        \n    *   **Detection accuracy**: Accuracy of automatic hallucination classifiers (binary or multi-label) relative to human annotations.\n        \n    *   **Confidence calibration correlation**: Measures whether hallucinations correspond to low model confidence—a strong indicator of model self-awareness.\n        \n*   **Relation to Other Factuality Types**:\n    \n    *   Hallucination analysis operates as a _negative mirror_ to all other factuality types:\n        \n        *   **Short-form factuality**: Single-claim hallucinations (binary true/false).\n        *   **Truthfulness**: Extrinsic hallucinations relative to world knowledge.\n        *   **Faithfulness / Groundedness**: Extrinsic hallucinations relative to the provided source.\n        *   **Long-form factuality**: Compound hallucinations that accumulate across sentences or discourse.\n    *   Thus, hallucination-level factuality acts as a unifying diagnostic lens that exposes where factual degradation originates: retrieval, reasoning, or generation.\n        \n\nHallucination-level factuality focuses on **errors and deviations from truth** within model outputs rather than correctness itself. It provides a complementary taxonomy of **how and why** large language models produce factually inaccurate statements. Evaluating hallucinations requires analyzing both the **type** (intrinsic vs. extrinsic) and **severity** (minor distortion vs. full fabrication) of factual error.\n\n**Definition**:\n\n*   A hallucination is a generated statement aiaia\\_i such that:\n    \n    Hallucination(ai)\\={1,0,if ai is not entailed by any source and is false w.r.t. the real worldotherwiseHallucination(ai)\\={1,if ai is not entailed by any source and is false w.r.t. the real world0,otherwise\n    \n    \\\\text{Hallucination}(a\\_i) = \\\\begin{cases} 1, & \\\\text{if } a\\_i \\\\text{ is not entailed by any source and is false w.r.t. the real world} \\\\\\\\ 0, & \\\\text{otherwise} \\\\end{cases}\n*   Let ϕ(y)\\=a1,…,aMϕ(y)\\=a1,…,aM\\\\phi(y) = {a\\_1, \\\\dots, a\\_M} be the set of atomic claims from a model output yyy. Then the hallucination rate is defined as H(y)\\=1M∑Mi\\=1Hallucination(ai)H(y)\\=1M∑i\\=1MHallucination(ai)H(y) = \\\\frac{1}{M} \\\\sum\\_{i=1}^M \\\\text{Hallucination}(a\\_i), and factuality is inversely related to hallucination frequency F(y)\\=1−H(y)F(y)\\=1−H(y)F(y) = 1 - H(y).\n    \n*   This error-centric formulation appears in recent hallucination taxonomies such as [Beyond Hallucinations: A Taxonomy of Factual Errors in LLMs](https://arxiv.org/abs/2411.04368) by Ye et al. (2024).\n    \n\nA hallucination is a generated statement aiaia\\_i such that:\n\nLet ϕ(y)\\=a1,…,aMϕ(y)\\=a1,…,aM\\\\phi(y) = {a\\_1, \\\\dots, a\\_M} be the set of atomic claims from a model output yyy. Then the hallucination rate is defined as H(y)\\=1M∑Mi\\=1Hallucination(ai)H(y)\\=1M∑i\\=1MHallucination(ai)H(y) = \\\\frac{1}{M} \\\\sum\\_{i=1}^M \\\\text{Hallucination}(a\\_i), and factuality is inversely related to hallucination frequency F(y)\\=1−H(y)F(y)\\=1−H(y)F(y) = 1 - H(y).\n\nThis error-centric formulation appears in recent hallucination taxonomies such as [Beyond Hallucinations: A Taxonomy of Factual Errors in LLMs](https://arxiv.org/abs/2411.04368) by Ye et al. (2024).\n\n**Key Properties and Subtypes**:\n\n*   Following [Ye et al. (2024)](https://arxiv.org/abs/2411.04368) and extended taxonomies from [Ji et al. (2023)](https://arxiv.org/abs/2302.11382) and [Zhou et al. (2023)](https://arxiv.org/abs/2309.05152), hallucinations can be divided into several key forms:\n    \n    1.  **Intrinsic vs. Extrinsic Hallucinations**:\n        \n        *   _Intrinsic hallucination_: internally inconsistent with the model’s own output or prompt context.\n            *   Example: contradicting earlier statements in a multi-paragraph answer.\n        *   _Extrinsic hallucination_: inconsistent with external reality or reference evidence.\n            *   Example: inventing a nonexistent paper or misquoting a data value.\n    2.  **Entity-level errors**:\n        *   Errors in names, dates, numbers, or categorical attributes.\n        *   Example: claiming _“The Eiffel Tower is in Berlin.”_\n    3.  **Relational errors**:\n        *   Misrepresenting relationships between correct entities.\n        *   Example: _“Einstein was a student of Niels Bohr.”_\n    4.  **Compositional or inferential errors**:\n        *   Incorrectly combining true facts into a false conclusion.\n        *   Example: _“Because Newton invented calculus, he won a Nobel Prize.”_\n    5.  **Unsupported synthesis**:\n        *   The model extrapolates beyond the given evidence—particularly common in summarization or RAG pipelines.\n    6.  **Omission-induced misrepresentation**:\n        *   Leaving out context that makes an otherwise true statement misleading.\n    7.  **Fabricated references and citations**:\n        *   A modern failure mode in retrieval-augmented or citation-heavy models—see [Faithful or Fake? Synthesizing and Detecting Hallucinated Citations in LLMs](https://arxiv.org/abs/2401.17849) by Feng et al. (2024).\n\nFollowing [Ye et al. (2024)](https://arxiv.org/abs/2411.04368) and extended taxonomies from [Ji et al. (2023)](https://arxiv.org/abs/2302.11382) and [Zhou et al. (2023)](https://arxiv.org/abs/2309.05152), hallucinations can be divided into several key forms:\n\n1.  **Intrinsic vs. Extrinsic Hallucinations**:\n    \n    *   _Intrinsic hallucination_: internally inconsistent with the model’s own output or prompt context.\n        *   Example: contradicting earlier statements in a multi-paragraph answer.\n    *   _Extrinsic hallucination_: inconsistent with external reality or reference evidence.\n        *   Example: inventing a nonexistent paper or misquoting a data value.\n2.  **Entity-level errors**:\n    *   Errors in names, dates, numbers, or categorical attributes.\n    *   Example: claiming _“The Eiffel Tower is in Berlin.”_\n3.  **Relational errors**:\n    *   Misrepresenting relationships between correct entities.\n    *   Example: _“Einstein was a student of Niels Bohr.”_\n4.  **Compositional or inferential errors**:\n    *   Incorrectly combining true facts into a false conclusion.\n    *   Example: _“Because Newton invented calculus, he won a Nobel Prize.”_\n5.  **Unsupported synthesis**:\n    *   The model extrapolates beyond the given evidence—particularly common in summarization or RAG pipelines.\n6.  **Omission-induced misrepresentation**:\n    *   Leaving out context that makes an otherwise true statement misleading.\n7.  **Fabricated references and citations**:\n    *   A modern failure mode in retrieval-augmented or citation-heavy models—see [Faithful or Fake? Synthesizing and Detecting Hallucinated Citations in LLMs](https://arxiv.org/abs/2401.17849) by Feng et al. (2024).\n\n**Intrinsic vs. Extrinsic Hallucinations**:\n\n*   _Intrinsic hallucination_: internally inconsistent with the model’s own output or prompt context.\n    *   Example: contradicting earlier statements in a multi-paragraph answer.\n*   _Extrinsic hallucination_: inconsistent with external reality or reference evidence.\n    *   Example: inventing a nonexistent paper or misquoting a data value.\n\n*   Example: contradicting earlier statements in a multi-paragraph answer.\n\n*   Example: inventing a nonexistent paper or misquoting a data value.\n\n*   Errors in names, dates, numbers, or categorical attributes.\n*   Example: claiming _“The Eiffel Tower is in Berlin.”_\n\n*   Misrepresenting relationships between correct entities.\n*   Example: _“Einstein was a student of Niels Bohr.”_\n\n*   Incorrectly combining true facts into a false conclusion.\n*   Example: _“Because Newton invented calculus, he won a Nobel Prize.”_\n\n*   The model extrapolates beyond the given evidence—particularly common in summarization or RAG pipelines.\n\n*   Leaving out context that makes an otherwise true statement misleading.\n\n*   A modern failure mode in retrieval-augmented or citation-heavy models—see [Faithful or Fake? Synthesizing and Detecting Hallucinated Citations in LLMs](https://arxiv.org/abs/2401.17849) by Feng et al. (2024).\n\n**Representative Benchmarks and Methods**:\n\n*   **HaluEval** ([Li et al. (2023)](https://aclanthology.org/2023.emnlp-main.397/)): A large-scale benchmark for hallucination detection, distinguishing factual vs. nonfactual short-form outputs.\n    \n*   **TruthfulQA** ([Lin et al. (2021)](https://arxiv.org/abs/2109.07958)): Evaluates whether models generate human-like falsehoods rather than true answers.\n    \n*   **FActScore** ([Min et al. (2023)](https://arxiv.org/abs/2305.14251)): Decomposes outputs into atomic claims and checks which ones are hallucinated (unsupported).\n    \n*   **Beyond Hallucinations** ([Ye et al. (2024)](https://arxiv.org/abs/2411.04368)): Proposes a multi-level factual error taxonomy, distinguishing atomic-level inaccuracies from complex distortions, and evaluates models’ ability to abstain from uncertain responses.\n    \n*   **Hallucination Taxonomy for LLMs** ([Ji et al. (2023)](https://arxiv.org/abs/2302.11382)): Provides a structured overview distinguishing factual, linguistic, and reasoning hallucinations across tasks.\n    \n\n**HaluEval** ([Li et al. (2023)](https://aclanthology.org/2023.emnlp-main.397/)): A large-scale benchmark for hallucination detection, distinguishing factual vs. nonfactual short-form outputs.\n\n**TruthfulQA** ([Lin et al. (2021)](https://arxiv.org/abs/2109.07958)): Evaluates whether models generate human-like falsehoods rather than true answers.\n\n**FActScore** ([Min et al. (2023)](https://arxiv.org/abs/2305.14251)): Decomposes outputs into atomic claims and checks which ones are hallucinated (unsupported).\n\n**Beyond Hallucinations** ([Ye et al. (2024)](https://arxiv.org/abs/2411.04368)): Proposes a multi-level factual error taxonomy, distinguishing atomic-level inaccuracies from complex distortions, and evaluates models’ ability to abstain from uncertain responses.\n\n**Hallucination Taxonomy for LLMs** ([Ji et al. (2023)](https://arxiv.org/abs/2302.11382)): Provides a structured overview distinguishing factual, linguistic, and reasoning hallucinations across tasks.\n\n**Evaluation Metrics**:\n\n*   **Hallucination rate**: H(y)\\=#hallucinated claims#total claimsH(y)\\=#hallucinated claims#total claimsH(y) = \\\\frac{\\\\# \\\\text{hallucinated claims}}{\\\\# \\\\text{total claims}}.\n    \n*   **Fact precision and recall**: Precision = fraction of generated facts that are true; recall = fraction of reference facts correctly reproduced.\n    \n*   **Severity-weighted hallucination score** ([Ye et al. (2024)](https://arxiv.org/abs/2411.04368)): Each error type can be weighted by severity (minor, moderate, major) to reflect impact on downstream usability.\n    \n*   **Detection accuracy**: Accuracy of automatic hallucination classifiers (binary or multi-label) relative to human annotations.\n    \n*   **Confidence calibration correlation**: Measures whether hallucinations correspond to low model confidence—a strong indicator of model self-awareness.\n    \n\n**Hallucination rate**: H(y)\\=#hallucinated claims#total claimsH(y)\\=#hallucinated claims#total claimsH(y) = \\\\frac{\\\\# \\\\text{hallucinated claims}}{\\\\# \\\\text{total claims}}.\n\n**Fact precision and recall**: Precision = fraction of generated facts that are true; recall = fraction of reference facts correctly reproduced.\n\n**Severity-weighted hallucination score** ([Ye et al. (2024)](https://arxiv.org/abs/2411.04368)): Each error type can be weighted by severity (minor, moderate, major) to reflect impact on downstream usability.\n\n**Detection accuracy**: Accuracy of automatic hallucination classifiers (binary or multi-label) relative to human annotations.\n\n**Confidence calibration correlation**: Measures whether hallucinations correspond to low model confidence—a strong indicator of model self-awareness.\n\n**Relation to Other Factuality Types**:\n\n*   Hallucination analysis operates as a _negative mirror_ to all other factuality types:\n    \n    *   **Short-form factuality**: Single-claim hallucinations (binary true/false).\n    *   **Truthfulness**: Extrinsic hallucinations relative to world knowledge.\n    *   **Faithfulness / Groundedness**: Extrinsic hallucinations relative to the provided source.\n    *   **Long-form factuality**: Compound hallucinations that accumulate across sentences or discourse.\n*   Thus, hallucination-level factuality acts as a unifying diagnostic lens that exposes where factual degradation originates: retrieval, reasoning, or generation.\n    \n\nHallucination analysis operates as a _negative mirror_ to all other factuality types:\n\n*   **Short-form factuality**: Single-claim hallucinations (binary true/false).\n*   **Truthfulness**: Extrinsic hallucinations relative to world knowledge.\n*   **Faithfulness / Groundedness**: Extrinsic hallucinations relative to the provided source.\n*   **Long-form factuality**: Compound hallucinations that accumulate across sentences or discourse.\n\nThus, hallucination-level factuality acts as a unifying diagnostic lens that exposes where factual degradation originates: retrieval, reasoning, or generation.",
    "contentLength": 96683,
    "wordCount": 2034,
    "hasCode": false,
    "hasMath": true,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#hallucination-and-factual-errors"
  },
  {
    "id": "ai-factuality-in-LLMs-human-evaluation-frameworks-7",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Assessing Factuality in Large Language Models",
    "title": "Human Evaluation Frameworks",
    "order": 7,
    "orderInChapter": 1,
    "contentHtml": "<ul>\n  <li>\n    <p>Human annotation remains the gold standard for factuality assessment, particularly for open-ended or domain-specific generation.</p>\n  </li>\n  <li>\n    <p><strong>Annotation Granularity</strong>:</p>\n\n    <ol>\n      <li>\n        <p><strong>Binary judgments (True/False/Unverifiable):</strong> Used in <strong>FEVER</strong> (<a href=\"https://arxiv.org/abs/1803.05355\">Thorne et al. (2018)</a>) and <strong>TruthfulQA</strong> (<a href=\"https://arxiv.org/abs/2109.07958\">Lin et al. (2021)</a>), where annotators verify each claim against trusted sources.</p>\n      </li>\n      <li>\n        <p><strong>Fine-grained labels:</strong> Many datasets (e.g., <strong>FactCC</strong> by <a href=\"https://arxiv.org/abs/1910.12840\">Kryściński et al. (2019)</a>; <strong>QAFactEval</strong> by <a href=\"https://arxiv.org/abs/2112.08542\">Fabbri et al. (2022)</a>) include categories such as <strong>Supported, Contradicted, Not Enough Info,</strong> and <strong>Partially Supported</strong>.</p>\n      </li>\n      <li>\n        <p><strong>Sentence- or claim-level segmentation:</strong> Implemented using dependency parsing or OpenIE systems (e.g., AllenNLP Open Information Extraction). These help convert long outputs into atomic propositions for annotators to label efficiently.</p>\n      </li>\n    </ol>\n  </li>\n  <li>\n    <p><strong>Annotation Workflow Implementation</strong>:</p>\n\n    <ul>\n      <li>\n        <p>In practice, a human evaluation pipeline typically includes:</p>\n\n        <ul>\n          <li><strong>Claim extraction:</strong> automatic splitting of text into candidate facts using syntactic parsing, OpenIE, or GPT-based segmenters.</li>\n          <li><strong>Evidence retrieval:</strong> querying sources like Wikipedia APIs or specialized databases.</li>\n          <li><strong>Claim-evidence pairing:</strong> ensuring each fact is checked against relevant evidence rather than full documents.</li>\n          <li><strong>Human validation interface:</strong> implemented using tools such as Prodigy, Label Studio, or custom web dashboards that highlight claims and retrieved evidence side by side.</li>\n          <li><strong>Inter-annotator agreement:</strong> calculated via Cohen’s <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-102-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03BA;</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-937\" style=\"width: 0.732em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.576em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.58em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-938\"><span class=\"mi\" id=\"MathJax-Span-939\" style=\"font-family: STIXGeneral-Italic;\">κ<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>κ</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-102\">\\kappa</script> or Krippendorff’s <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-103-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03B1;</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-940\" style=\"width: 0.784em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.628em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.63em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-941\"><span class=\"mi\" id=\"MathJax-Span-942\" style=\"font-family: STIXGeneral-Italic;\">α</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>α</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-103\">\\alpha</script> to ensure consistency.</li>\n        </ul>\n      </li>\n      <li>\n        <p>To reduce annotation cost, <strong>multi-phase pipelines</strong> often first filter with automatic verifiers (e.g., NLI models) and send only uncertain cases to human reviewers.</p>\n      </li>\n    </ul>\n  </li>\n</ul>\n<p>Human annotation remains the gold standard for factuality assessment, particularly for open-ended or domain-specific generation.</p>\n<p><strong>Annotation Granularity</strong>:</p>\n<ol>\n      <li>\n        <p><strong>Binary judgments (True/False/Unverifiable):</strong> Used in <strong>FEVER</strong> (<a href=\"https://arxiv.org/abs/1803.05355\">Thorne et al. (2018)</a>) and <strong>TruthfulQA</strong> (<a href=\"https://arxiv.org/abs/2109.07958\">Lin et al. (2021)</a>), where annotators verify each claim against trusted sources.</p>\n      </li>\n      <li>\n        <p><strong>Fine-grained labels:</strong> Many datasets (e.g., <strong>FactCC</strong> by <a href=\"https://arxiv.org/abs/1910.12840\">Kryściński et al. (2019)</a>; <strong>QAFactEval</strong> by <a href=\"https://arxiv.org/abs/2112.08542\">Fabbri et al. (2022)</a>) include categories such as <strong>Supported, Contradicted, Not Enough Info,</strong> and <strong>Partially Supported</strong>.</p>\n      </li>\n      <li>\n        <p><strong>Sentence- or claim-level segmentation:</strong> Implemented using dependency parsing or OpenIE systems (e.g., AllenNLP Open Information Extraction). These help convert long outputs into atomic propositions for annotators to label efficiently.</p>\n      </li>\n    </ol>\n<p><strong>Binary judgments (True/False/Unverifiable):</strong> Used in <strong>FEVER</strong> (<a href=\"https://arxiv.org/abs/1803.05355\">Thorne et al. (2018)</a>) and <strong>TruthfulQA</strong> (<a href=\"https://arxiv.org/abs/2109.07958\">Lin et al. (2021)</a>), where annotators verify each claim against trusted sources.</p>\n<p><strong>Fine-grained labels:</strong> Many datasets (e.g., <strong>FactCC</strong> by <a href=\"https://arxiv.org/abs/1910.12840\">Kryściński et al. (2019)</a>; <strong>QAFactEval</strong> by <a href=\"https://arxiv.org/abs/2112.08542\">Fabbri et al. (2022)</a>) include categories such as <strong>Supported, Contradicted, Not Enough Info,</strong> and <strong>Partially Supported</strong>.</p>\n<p><strong>Sentence- or claim-level segmentation:</strong> Implemented using dependency parsing or OpenIE systems (e.g., AllenNLP Open Information Extraction). These help convert long outputs into atomic propositions for annotators to label efficiently.</p>\n<p><strong>Annotation Workflow Implementation</strong>:</p>\n<ul>\n      <li>\n        <p>In practice, a human evaluation pipeline typically includes:</p>\n\n        <ul>\n          <li><strong>Claim extraction:</strong> automatic splitting of text into candidate facts using syntactic parsing, OpenIE, or GPT-based segmenters.</li>\n          <li><strong>Evidence retrieval:</strong> querying sources like Wikipedia APIs or specialized databases.</li>\n          <li><strong>Claim-evidence pairing:</strong> ensuring each fact is checked against relevant evidence rather than full documents.</li>\n          <li><strong>Human validation interface:</strong> implemented using tools such as Prodigy, Label Studio, or custom web dashboards that highlight claims and retrieved evidence side by side.</li>\n          <li><strong>Inter-annotator agreement:</strong> calculated via Cohen’s <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-102-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03BA;</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-937\" style=\"width: 0.732em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.576em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.58em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-938\"><span class=\"mi\" id=\"MathJax-Span-939\" style=\"font-family: STIXGeneral-Italic;\">κ<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>κ</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-102\">\\kappa</script> or Krippendorff’s <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-103-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03B1;</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-940\" style=\"width: 0.784em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.628em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.63em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-941\"><span class=\"mi\" id=\"MathJax-Span-942\" style=\"font-family: STIXGeneral-Italic;\">α</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>α</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-103\">\\alpha</script> to ensure consistency.</li>\n        </ul>\n      </li>\n      <li>\n        <p>To reduce annotation cost, <strong>multi-phase pipelines</strong> often first filter with automatic verifiers (e.g., NLI models) and send only uncertain cases to human reviewers.</p>\n      </li>\n    </ul>\n<p>In practice, a human evaluation pipeline typically includes:</p>\n<ul>\n          <li><strong>Claim extraction:</strong> automatic splitting of text into candidate facts using syntactic parsing, OpenIE, or GPT-based segmenters.</li>\n          <li><strong>Evidence retrieval:</strong> querying sources like Wikipedia APIs or specialized databases.</li>\n          <li><strong>Claim-evidence pairing:</strong> ensuring each fact is checked against relevant evidence rather than full documents.</li>\n          <li><strong>Human validation interface:</strong> implemented using tools such as Prodigy, Label Studio, or custom web dashboards that highlight claims and retrieved evidence side by side.</li>\n          <li><strong>Inter-annotator agreement:</strong> calculated via Cohen’s <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-102-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03BA;</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-937\" style=\"width: 0.732em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.576em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.58em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-938\"><span class=\"mi\" id=\"MathJax-Span-939\" style=\"font-family: STIXGeneral-Italic;\">κ<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>κ</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-102\">\\kappa</script> or Krippendorff’s <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-103-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03B1;</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-940\" style=\"width: 0.784em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.628em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.63em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-941\"><span class=\"mi\" id=\"MathJax-Span-942\" style=\"font-family: STIXGeneral-Italic;\">α</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>α</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-103\">\\alpha</script> to ensure consistency.</li>\n        </ul>\n<p>To reduce annotation cost, <strong>multi-phase pipelines</strong> often first filter with automatic verifiers (e.g., NLI models) and send only uncertain cases to human reviewers.</p>",
    "contentMarkdown": "*   Human annotation remains the gold standard for factuality assessment, particularly for open-ended or domain-specific generation.\n    \n*   **Annotation Granularity**:\n    \n    1.  **Binary judgments (True/False/Unverifiable):** Used in **FEVER** ([Thorne et al. (2018)](https://arxiv.org/abs/1803.05355)) and **TruthfulQA** ([Lin et al. (2021)](https://arxiv.org/abs/2109.07958)), where annotators verify each claim against trusted sources.\n        \n    2.  **Fine-grained labels:** Many datasets (e.g., **FactCC** by [Kryściński et al. (2019)](https://arxiv.org/abs/1910.12840); **QAFactEval** by [Fabbri et al. (2022)](https://arxiv.org/abs/2112.08542)) include categories such as **Supported, Contradicted, Not Enough Info,** and **Partially Supported**.\n        \n    3.  **Sentence- or claim-level segmentation:** Implemented using dependency parsing or OpenIE systems (e.g., AllenNLP Open Information Extraction). These help convert long outputs into atomic propositions for annotators to label efficiently.\n        \n*   **Annotation Workflow Implementation**:\n    \n    *   In practice, a human evaluation pipeline typically includes:\n        \n        *   **Claim extraction:** automatic splitting of text into candidate facts using syntactic parsing, OpenIE, or GPT-based segmenters.\n        *   **Evidence retrieval:** querying sources like Wikipedia APIs or specialized databases.\n        *   **Claim-evidence pairing:** ensuring each fact is checked against relevant evidence rather than full documents.\n        *   **Human validation interface:** implemented using tools such as Prodigy, Label Studio, or custom web dashboards that highlight claims and retrieved evidence side by side.\n        *   **Inter-annotator agreement:** calculated via Cohen’s κκ\\\\kappa or Krippendorff’s αα\\\\alpha to ensure consistency.\n    *   To reduce annotation cost, **multi-phase pipelines** often first filter with automatic verifiers (e.g., NLI models) and send only uncertain cases to human reviewers.\n        \n\nHuman annotation remains the gold standard for factuality assessment, particularly for open-ended or domain-specific generation.\n\n**Annotation Granularity**:\n\n1.  **Binary judgments (True/False/Unverifiable):** Used in **FEVER** ([Thorne et al. (2018)](https://arxiv.org/abs/1803.05355)) and **TruthfulQA** ([Lin et al. (2021)](https://arxiv.org/abs/2109.07958)), where annotators verify each claim against trusted sources.\n    \n2.  **Fine-grained labels:** Many datasets (e.g., **FactCC** by [Kryściński et al. (2019)](https://arxiv.org/abs/1910.12840); **QAFactEval** by [Fabbri et al. (2022)](https://arxiv.org/abs/2112.08542)) include categories such as **Supported, Contradicted, Not Enough Info,** and **Partially Supported**.\n    \n3.  **Sentence- or claim-level segmentation:** Implemented using dependency parsing or OpenIE systems (e.g., AllenNLP Open Information Extraction). These help convert long outputs into atomic propositions for annotators to label efficiently.\n    \n\n**Binary judgments (True/False/Unverifiable):** Used in **FEVER** ([Thorne et al. (2018)](https://arxiv.org/abs/1803.05355)) and **TruthfulQA** ([Lin et al. (2021)](https://arxiv.org/abs/2109.07958)), where annotators verify each claim against trusted sources.\n\n**Fine-grained labels:** Many datasets (e.g., **FactCC** by [Kryściński et al. (2019)](https://arxiv.org/abs/1910.12840); **QAFactEval** by [Fabbri et al. (2022)](https://arxiv.org/abs/2112.08542)) include categories such as **Supported, Contradicted, Not Enough Info,** and **Partially Supported**.\n\n**Sentence- or claim-level segmentation:** Implemented using dependency parsing or OpenIE systems (e.g., AllenNLP Open Information Extraction). These help convert long outputs into atomic propositions for annotators to label efficiently.\n\n**Annotation Workflow Implementation**:\n\n*   In practice, a human evaluation pipeline typically includes:\n    \n    *   **Claim extraction:** automatic splitting of text into candidate facts using syntactic parsing, OpenIE, or GPT-based segmenters.\n    *   **Evidence retrieval:** querying sources like Wikipedia APIs or specialized databases.\n    *   **Claim-evidence pairing:** ensuring each fact is checked against relevant evidence rather than full documents.\n    *   **Human validation interface:** implemented using tools such as Prodigy, Label Studio, or custom web dashboards that highlight claims and retrieved evidence side by side.\n    *   **Inter-annotator agreement:** calculated via Cohen’s κκ\\\\kappa or Krippendorff’s αα\\\\alpha to ensure consistency.\n*   To reduce annotation cost, **multi-phase pipelines** often first filter with automatic verifiers (e.g., NLI models) and send only uncertain cases to human reviewers.\n    \n\nIn practice, a human evaluation pipeline typically includes:\n\n*   **Claim extraction:** automatic splitting of text into candidate facts using syntactic parsing, OpenIE, or GPT-based segmenters.\n*   **Evidence retrieval:** querying sources like Wikipedia APIs or specialized databases.\n*   **Claim-evidence pairing:** ensuring each fact is checked against relevant evidence rather than full documents.\n*   **Human validation interface:** implemented using tools such as Prodigy, Label Studio, or custom web dashboards that highlight claims and retrieved evidence side by side.\n*   **Inter-annotator agreement:** calculated via Cohen’s κκ\\\\kappa or Krippendorff’s αα\\\\alpha to ensure consistency.\n\nTo reduce annotation cost, **multi-phase pipelines** often first filter with automatic verifiers (e.g., NLI models) and send only uncertain cases to human reviewers.",
    "contentLength": 14438,
    "wordCount": 635,
    "hasCode": false,
    "hasMath": true,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#human-evaluation-frameworks"
  },
  {
    "id": "ai-factuality-in-LLMs-automatic-evaluation-methods-8",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Assessing Factuality in Large Language Models",
    "title": "Automatic Evaluation Methods",
    "order": 8,
    "orderInChapter": 2,
    "contentHtml": "<ul>\n  <li>Automatic factuality metrics scale evaluation to large model outputs. These can be grouped into <strong>entailment-based</strong>, <strong>QA-based</strong>, <strong>retrieval-based</strong>, and <strong>representation-based</strong> approaches.</li>\n</ul>\n<h4 id=\"entailment-based-methods\">Entailment-Based Methods</h4>\n<ul>\n  <li><strong>Core principle:</strong> Test whether each output claim is <strong>entailed</strong> by reference text.</li>\n  <li><strong>Tools:</strong> Pretrained NLI models such as <em>DeBERTa-large-MNLI</em> (<a href=\"https://arxiv.org/abs/2006.03654\">He et al. (2021)</a>), or custom NLI heads fine-tuned for factuality (e.g., <a href=\"https://arxiv.org/abs/1910.12840\">FactCC</a>).</li>\n  <li>\n    <p><strong>Implementation detail:</strong></p>\n\n    <ul>\n      <li>Extract candidate sentences from generated text.</li>\n      <li>For each, compute entailment probability <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-104-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><mtext>entail</mtext><mo>&amp;#x2223;</mo><mtext>premise=reference, hypothesis=claim</mtext><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-943\" style=\"width: 23.232em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 19.326em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.409em, 1019.27em, 2.607em, -999.997em); top: -2.237em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-944\"><span class=\"mi\" id=\"MathJax-Span-945\" style=\"font-family: STIXGeneral-Italic;\">P</span><span class=\"mo\" id=\"MathJax-Span-946\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mtext\" id=\"MathJax-Span-947\" style=\"font-family: STIXGeneral-Regular;\">entail</span><span class=\"mo\" id=\"MathJax-Span-948\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∣</span><span class=\"mtext\" id=\"MathJax-Span-949\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">premise=reference, hypothesis=claim</span><span class=\"mo\" id=\"MathJax-Span-950\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.242em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>P</mi><mo stretchy=\"false\">(</mo><mtext>entail</mtext><mo>∣</mo><mtext>premise=reference, hypothesis=claim</mtext><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-104\">P(\\text{entail} \\mid \\text{premise=reference, hypothesis=claim})</script>.</li>\n      <li>Aggregate via mean or thresholded majority vote.</li>\n      <li>\n        <p>Example pseudocode:</p>\n\n        <div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code0\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code0\"><span class=\"n\">entail_score</span> <span class=\"o\">=</span> <span class=\"n\">nli_model</span><span class=\"p\">(</span><span class=\"n\">premise</span><span class=\"o\">=</span><span class=\"n\">reference_text</span><span class=\"p\">,</span> <span class=\"n\">hypothesis</span><span class=\"o\">=</span><span class=\"n\">generated_sentence</span><span class=\"p\">)</span>\n<span class=\"k\">if</span> <span class=\"n\">entail_score</span> <span class=\"o\">&gt;</span> <span class=\"mf\">0.5</span><span class=\"p\">:</span>\n    <span class=\"n\">fact_label</span> <span class=\"o\">=</span> <span class=\"s\">\"supported\"</span>\n</code></pre></div>        </div>\n      </li>\n    </ul>\n  </li>\n  <li><strong>Benchmarks:</strong> <strong>SummaC</strong> (<a href=\"https://arxiv.org/abs/2111.09525\">Laban et al. (2021)</a>) improves robustness using aggregation over multiple NLI predictions.</li>\n</ul>\n<p><strong>Implementation detail:</strong></p>\n<ul>\n      <li>Extract candidate sentences from generated text.</li>\n      <li>For each, compute entailment probability <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-104-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><mtext>entail</mtext><mo>&amp;#x2223;</mo><mtext>premise=reference, hypothesis=claim</mtext><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-943\" style=\"width: 23.232em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 19.326em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.409em, 1019.27em, 2.607em, -999.997em); top: -2.237em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-944\"><span class=\"mi\" id=\"MathJax-Span-945\" style=\"font-family: STIXGeneral-Italic;\">P</span><span class=\"mo\" id=\"MathJax-Span-946\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mtext\" id=\"MathJax-Span-947\" style=\"font-family: STIXGeneral-Regular;\">entail</span><span class=\"mo\" id=\"MathJax-Span-948\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∣</span><span class=\"mtext\" id=\"MathJax-Span-949\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">premise=reference, hypothesis=claim</span><span class=\"mo\" id=\"MathJax-Span-950\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.242em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>P</mi><mo stretchy=\"false\">(</mo><mtext>entail</mtext><mo>∣</mo><mtext>premise=reference, hypothesis=claim</mtext><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-104\">P(\\text{entail} \\mid \\text{premise=reference, hypothesis=claim})</script>.</li>\n      <li>Aggregate via mean or thresholded majority vote.</li>\n      <li>\n        <p>Example pseudocode:</p>\n\n        <div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code0\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code0\"><span class=\"n\">entail_score</span> <span class=\"o\">=</span> <span class=\"n\">nli_model</span><span class=\"p\">(</span><span class=\"n\">premise</span><span class=\"o\">=</span><span class=\"n\">reference_text</span><span class=\"p\">,</span> <span class=\"n\">hypothesis</span><span class=\"o\">=</span><span class=\"n\">generated_sentence</span><span class=\"p\">)</span>\n<span class=\"k\">if</span> <span class=\"n\">entail_score</span> <span class=\"o\">&gt;</span> <span class=\"mf\">0.5</span><span class=\"p\">:</span>\n    <span class=\"n\">fact_label</span> <span class=\"o\">=</span> <span class=\"s\">\"supported\"</span>\n</code></pre></div>        </div>\n      </li>\n    </ul>\n<p>Example pseudocode:</p>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code0\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code0\"><span class=\"n\">entail_score</span> <span class=\"o\">=</span> <span class=\"n\">nli_model</span><span class=\"p\">(</span><span class=\"n\">premise</span><span class=\"o\">=</span><span class=\"n\">reference_text</span><span class=\"p\">,</span> <span class=\"n\">hypothesis</span><span class=\"o\">=</span><span class=\"n\">generated_sentence</span><span class=\"p\">)</span>\n<span class=\"k\">if</span> <span class=\"n\">entail_score</span> <span class=\"o\">&gt;</span> <span class=\"mf\">0.5</span><span class=\"p\">:</span>\n    <span class=\"n\">fact_label</span> <span class=\"o\">=</span> <span class=\"s\">\"supported\"</span>\n</code></pre>\n<h4 id=\"qa-based-methods\">QA-Based Methods</h4>\n<ul>\n  <li><strong>Core principle:</strong> Reformulate factual checking as question answering consistency.</li>\n  <li>\n    <p><strong>Pipeline:</strong></p>\n\n    <ol>\n      <li>Generate questions from the model’s output using a question-generation model (e.g., <strong>T5-base-QG</strong>).</li>\n      <li>Ask these questions to both (a) the source document and (b) the generated text.</li>\n      <li>Compare answers using semantic similarity (e.g., cosine similarity in sentence-BERT space).</li>\n    </ol>\n  </li>\n  <li><strong>Metric:</strong>\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-105-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>QA</mtext></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munder><mo>&amp;#x2211;</mo><mi>i</mi></munder><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn mathvariant=&quot;bold&quot;>1</mn></mrow><mo stretchy=&quot;false&quot;>[</mo><msubsup><mtext>Ans</mtext><mi>i</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>source</mtext></mrow></msubsup><mo>&amp;#x2248;</mo><msubsup><mtext>Ans</mtext><mi>i</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>model</mtext></mrow></msubsup><mo stretchy=&quot;false&quot;>]</mo><mo>.</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-951\" style=\"width: 17.971em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 14.951em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.461em, 1014.9em, 3.023em, -999.997em); top: -2.497em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-952\"><span class=\"msubsup\" id=\"MathJax-Span-953\"><span style=\"display: inline-block; position: relative; width: 1.721em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-954\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-955\"><span class=\"mrow\" id=\"MathJax-Span-956\"><span class=\"mtext\" id=\"MathJax-Span-957\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">QA</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-958\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-959\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.628em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-960\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.52em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -0.258em;\"><span class=\"mi\" id=\"MathJax-Span-961\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.63em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.628em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"munderover\" id=\"MathJax-Span-962\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.201em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.076em, 1000.84em, 4.43em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-963\" style=\"font-family: STIXGeneral-Regular; vertical-align: 0.003em;\">∑</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.695em; left: 0.94em;\"><span class=\"mi\" id=\"MathJax-Span-964\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-965\" style=\"padding-left: 0.211em;\"><span class=\"mrow\" id=\"MathJax-Span-966\"><span class=\"mn\" id=\"MathJax-Span-967\" style=\"font-family: STIXGeneral; font-weight: bold;\">1</span></span></span><span class=\"mo\" id=\"MathJax-Span-968\" style=\"font-family: STIXGeneral-Regular;\">[</span><span class=\"msubsup\" id=\"MathJax-Span-969\"><span style=\"display: inline-block; position: relative; width: 3.544em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1001.57em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mtext\" id=\"MathJax-Span-970\" style=\"font-family: STIXGeneral-Regular;\">Ans</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.544em, 1001.93em, 4.169em, -999.997em); top: -4.424em; left: 1.617em;\"><span class=\"texatom\" id=\"MathJax-Span-971\"><span class=\"mrow\" id=\"MathJax-Span-972\"><span class=\"mtext\" id=\"MathJax-Span-973\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">source</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -3.747em; left: 1.617em;\"><span class=\"mi\" id=\"MathJax-Span-974\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-975\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">≈</span><span class=\"msubsup\" id=\"MathJax-Span-976\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 3.44em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1001.57em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mtext\" id=\"MathJax-Span-977\" style=\"font-family: STIXGeneral-Regular;\">Ans</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1001.83em, 4.169em, -999.997em); top: -4.424em; left: 1.617em;\"><span class=\"texatom\" id=\"MathJax-Span-978\"><span class=\"mrow\" id=\"MathJax-Span-979\"><span class=\"mtext\" id=\"MathJax-Span-980\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">model</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -3.747em; left: 1.617em;\"><span class=\"mi\" id=\"MathJax-Span-981\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-982\" style=\"font-family: STIXGeneral-Regular;\">]</span><span class=\"mo\" id=\"MathJax-Span-983\" style=\"font-family: STIXGeneral-Regular;\">.</span></span><span style=\"display: inline-block; width: 0px; height: 2.503em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.497em; border-left: 0px solid; width: 0px; height: 1.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>QA</mtext></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munder><mo>∑</mo><mi>i</mi></munder><mrow class=\"MJX-TeXAtom-ORD\"><mn mathvariant=\"bold\">1</mn></mrow><mo stretchy=\"false\">[</mo><msubsup><mtext>Ans</mtext><mi>i</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>source</mtext></mrow></msubsup><mo>≈</mo><msubsup><mtext>Ans</mtext><mi>i</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>model</mtext></mrow></msubsup><mo stretchy=\"false\">]</mo><mo>.</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-105\">F_{\\text{QA}} = \\frac{1}{N}\\sum_i \\mathbf{1}[\\text{Ans}_i^{\\text{source}} \\approx \\text{Ans}_i^{\\text{model}}].</script></li>\n  <li><strong>Example:</strong> <strong>QAFactEval</strong> (<a href=\"https://arxiv.org/abs/2112.08542\">Fabbri et al. (2022)</a>) automates this process and achieves strong correlation with human judgments.</li>\n</ul>\n<p><strong>Pipeline:</strong></p>\n<ol>\n      <li>Generate questions from the model’s output using a question-generation model (e.g., <strong>T5-base-QG</strong>).</li>\n      <li>Ask these questions to both (a) the source document and (b) the generated text.</li>\n      <li>Compare answers using semantic similarity (e.g., cosine similarity in sentence-BERT space).</li>\n    </ol>\n<h4 id=\"retrieval-augmented-evaluation\">Retrieval-Augmented Evaluation</h4>\n<ul>\n  <li><strong>Core principle:</strong> Evaluate claims by retrieving external evidence via search APIs (e.g., Bing, Wikipedia, or a local corpus).</li>\n  <li>\n    <p><strong>Implementation:</strong></p>\n\n    <ul>\n      <li>Use a retriever such as <strong>Contriever</strong> (<a href=\"https://arxiv.org/abs/2112.09118\">Izacard et al. (2021)</a>) or <strong>BM25</strong> for keyword search.</li>\n      <li>Retrieve top-k passages for each claim.</li>\n      <li>Use an entailment model to verify if the claim is supported.</li>\n    </ul>\n  </li>\n  <li><strong>Frameworks:</strong> <strong>SAFE* and **LongFact</strong> (<a href=\"https://arxiv.org/abs/2403.18802\">Wei et al. (2024)</a>) integrate large-model reasoning with search-based verification.</li>\n</ul>\n<p><strong>Implementation:</strong></p>\n<ul>\n      <li>Use a retriever such as <strong>Contriever</strong> (<a href=\"https://arxiv.org/abs/2112.09118\">Izacard et al. (2021)</a>) or <strong>BM25</strong> for keyword search.</li>\n      <li>Retrieve top-k passages for each claim.</li>\n      <li>Use an entailment model to verify if the claim is supported.</li>\n    </ul>\n<h4 id=\"representation-based-methods\">Representation-Based Methods</h4>\n<ul>\n  <li><strong>Core principle:</strong> Predict factual correctness from model activations or internal uncertainty.</li>\n  <li>\n    <p><strong>Approaches:</strong></p>\n\n    <ul>\n      <li><em>Intrinsic dimension</em>: low-dimensional manifolds correlate with truthful outputs (<a href=\"https://arxiv.org/abs/2402.18048\">Yin et al. (2024)</a>).</li>\n      <li><em>Activation probes:</em> classifiers trained on hidden states to predict truth vs. hallucination (<a href=\"https://openreview.net/forum?id=KRnsX5Em3W\">Orgad et al. (2025)</a>).</li>\n      <li><em>Confidence-based calibration:</em> compute Expected Calibration Error (ECE) to assess confidence alignment with correctness.</li>\n    </ul>\n  </li>\n</ul>\n<p><strong>Approaches:</strong></p>\n<ul>\n      <li><em>Intrinsic dimension</em>: low-dimensional manifolds correlate with truthful outputs (<a href=\"https://arxiv.org/abs/2402.18048\">Yin et al. (2024)</a>).</li>\n      <li><em>Activation probes:</em> classifiers trained on hidden states to predict truth vs. hallucination (<a href=\"https://openreview.net/forum?id=KRnsX5Em3W\">Orgad et al. (2025)</a>).</li>\n      <li><em>Confidence-based calibration:</em> compute Expected Calibration Error (ECE) to assess confidence alignment with correctness.</li>\n    </ul>",
    "contentMarkdown": "*   Automatic factuality metrics scale evaluation to large model outputs. These can be grouped into **entailment-based**, **QA-based**, **retrieval-based**, and **representation-based** approaches.\n\n#### Entailment-Based Methods\n\n*   **Core principle:** Test whether each output claim is **entailed** by reference text.\n*   **Tools:** Pretrained NLI models such as _DeBERTa-large-MNLI_ ([He et al. (2021)](https://arxiv.org/abs/2006.03654)), or custom NLI heads fine-tuned for factuality (e.g., [FactCC](https://arxiv.org/abs/1910.12840)).\n*   **Implementation detail:**\n    \n    *   Extract candidate sentences from generated text.\n    *   For each, compute entailment probability P(entail∣premise=reference, hypothesis=claim)P(entail∣premise=reference, hypothesis=claim)P(\\\\text{entail} \\\\mid \\\\text{premise=reference, hypothesis=claim}).\n    *   Aggregate via mean or thresholded majority vote.\n    *   Example pseudocode:\n        \n        ![](https://aman.ai/images/copy.png)\n        \n        `entail_score = nli_model(premise=reference_text, hypothesis=generated_sentence) if entail_score > 0.5:     fact_label = \"supported\"`\n        \n*   **Benchmarks:** **SummaC** ([Laban et al. (2021)](https://arxiv.org/abs/2111.09525)) improves robustness using aggregation over multiple NLI predictions.\n\n**Implementation detail:**\n\n*   Extract candidate sentences from generated text.\n*   For each, compute entailment probability P(entail∣premise=reference, hypothesis=claim)P(entail∣premise=reference, hypothesis=claim)P(\\\\text{entail} \\\\mid \\\\text{premise=reference, hypothesis=claim}).\n*   Aggregate via mean or thresholded majority vote.\n*   Example pseudocode:\n    \n    ![](https://aman.ai/images/copy.png)\n    \n    `entail_score = nli_model(premise=reference_text, hypothesis=generated_sentence) if entail_score > 0.5:     fact_label = \"supported\"`\n    \n\nExample pseudocode:\n\n![](https://aman.ai/images/copy.png)\n\n`entail_score = nli_model(premise=reference_text, hypothesis=generated_sentence) if entail_score > 0.5:     fact_label = \"supported\"`\n\n#### QA-Based Methods\n\n*   **Core principle:** Reformulate factual checking as question answering consistency.\n*   **Pipeline:**\n    \n    1.  Generate questions from the model’s output using a question-generation model (e.g., **T5-base-QG**).\n    2.  Ask these questions to both (a) the source document and (b) the generated text.\n    3.  Compare answers using semantic similarity (e.g., cosine similarity in sentence-BERT space).\n*   **Metric:** FQA\\=1N∑i1\\[Anssourcei≈Ansmodeli\\].FQA\\=1N∑i1\\[Ansisource≈Ansimodel\\].F\\_{\\\\text{QA}} = \\\\frac{1}{N}\\\\sum\\_i \\\\mathbf{1}\\[\\\\text{Ans}\\_i^{\\\\text{source}} \\\\approx \\\\text{Ans}\\_i^{\\\\text{model}}\\].\n*   **Example:** **QAFactEval** ([Fabbri et al. (2022)](https://arxiv.org/abs/2112.08542)) automates this process and achieves strong correlation with human judgments.\n\n**Pipeline:**\n\n1.  Generate questions from the model’s output using a question-generation model (e.g., **T5-base-QG**).\n2.  Ask these questions to both (a) the source document and (b) the generated text.\n3.  Compare answers using semantic similarity (e.g., cosine similarity in sentence-BERT space).\n\n#### Retrieval-Augmented Evaluation\n\n*   **Core principle:** Evaluate claims by retrieving external evidence via search APIs (e.g., Bing, Wikipedia, or a local corpus).\n*   **Implementation:**\n    \n    *   Use a retriever such as **Contriever** ([Izacard et al. (2021)](https://arxiv.org/abs/2112.09118)) or **BM25** for keyword search.\n    *   Retrieve top-k passages for each claim.\n    *   Use an entailment model to verify if the claim is supported.\n*   **Frameworks:** **SAFE\\* and \\*\\*LongFact** ([Wei et al. (2024)](https://arxiv.org/abs/2403.18802)) integrate large-model reasoning with search-based verification.\n\n**Implementation:**\n\n*   Use a retriever such as **Contriever** ([Izacard et al. (2021)](https://arxiv.org/abs/2112.09118)) or **BM25** for keyword search.\n*   Retrieve top-k passages for each claim.\n*   Use an entailment model to verify if the claim is supported.\n\n#### Representation-Based Methods\n\n*   **Core principle:** Predict factual correctness from model activations or internal uncertainty.\n*   **Approaches:**\n    \n    *   _Intrinsic dimension_: low-dimensional manifolds correlate with truthful outputs ([Yin et al. (2024)](https://arxiv.org/abs/2402.18048)).\n    *   _Activation probes:_ classifiers trained on hidden states to predict truth vs. hallucination ([Orgad et al. (2025)](https://openreview.net/forum?id=KRnsX5Em3W)).\n    *   _Confidence-based calibration:_ compute Expected Calibration Error (ECE) to assess confidence alignment with correctness.\n\n**Approaches:**\n\n*   _Intrinsic dimension_: low-dimensional manifolds correlate with truthful outputs ([Yin et al. (2024)](https://arxiv.org/abs/2402.18048)).\n*   _Activation probes:_ classifiers trained on hidden states to predict truth vs. hallucination ([Orgad et al. (2025)](https://openreview.net/forum?id=KRnsX5Em3W)).\n*   _Confidence-based calibration:_ compute Expected Calibration Error (ECE) to assess confidence alignment with correctness.",
    "contentLength": 20590,
    "wordCount": 513,
    "hasCode": true,
    "hasMath": true,
    "hasImages": true,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#automatic-evaluation-methods"
  },
  {
    "id": "ai-factuality-in-LLMs-hybrid-evaluation-and-self-assessment-9",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Assessing Factuality in Large Language Models",
    "title": "Hybrid Evaluation and Self-Assessment",
    "order": 9,
    "orderInChapter": 3,
    "contentHtml": "<ul>\n  <li>\n    <p>Hybrid methods combine model-based automatic scoring with human or LLM-as-a-judge review.</p>\n  </li>\n  <li>\n    <p><strong>LLM-as-a-Judge Frameworks</strong>:</p>\n\n    <ul>\n      <li>Recent work treats factual evaluation as an LLM task in itself.</li>\n      <li><strong>Example:</strong> <strong>FActScore</strong> (<a href=\"https://arxiv.org/abs/2305.14251\">Min et al. (2023)</a>) uses GPT-4 to extract, verify, and score atomic facts.</li>\n      <li><strong>SAFE</strong> integrates an LLM to reason over retrieved passages and assign support/contradiction labels.</li>\n      <li>\n        <p><strong>Implementation:</strong></p>\n\n        <div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code1\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code1\"><span class=\"n\">system_prompt</span> <span class=\"o\">=</span> <span class=\"s\">\"You are a factuality evaluator. For each claim, determine if it is supported, contradicted, or unverifiable.\"</span>\n<span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">gpt4_api</span><span class=\"p\">(</span><span class=\"n\">prompt</span><span class=\"o\">=</span><span class=\"n\">system_prompt</span> <span class=\"o\">+</span> <span class=\"n\">claims_and_evidence</span><span class=\"p\">)</span>\n</code></pre></div>        </div>\n      </li>\n      <li><strong>Pros:</strong> scalable and interpretable;</li>\n      <li><strong>Cons:</strong> depends on evaluator model reliability and bias.</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Hybrid Human–AI Loops</strong>:</p>\n\n    <ul>\n      <li>Automatically pre-score claims, then use human verification for borderline cases (e.g., entailment probability between 0.4 and 0.6).</li>\n      <li>Maintain <em>*active learning</em> datasets to fine-tune verifiers where automatic systems are uncertain.</li>\n    </ul>\n  </li>\n</ul>\n<p>Hybrid methods combine model-based automatic scoring with human or LLM-as-a-judge review.</p>\n<p><strong>LLM-as-a-Judge Frameworks</strong>:</p>\n<ul>\n      <li>Recent work treats factual evaluation as an LLM task in itself.</li>\n      <li><strong>Example:</strong> <strong>FActScore</strong> (<a href=\"https://arxiv.org/abs/2305.14251\">Min et al. (2023)</a>) uses GPT-4 to extract, verify, and score atomic facts.</li>\n      <li><strong>SAFE</strong> integrates an LLM to reason over retrieved passages and assign support/contradiction labels.</li>\n      <li>\n        <p><strong>Implementation:</strong></p>\n\n        <div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code1\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code1\"><span class=\"n\">system_prompt</span> <span class=\"o\">=</span> <span class=\"s\">\"You are a factuality evaluator. For each claim, determine if it is supported, contradicted, or unverifiable.\"</span>\n<span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">gpt4_api</span><span class=\"p\">(</span><span class=\"n\">prompt</span><span class=\"o\">=</span><span class=\"n\">system_prompt</span> <span class=\"o\">+</span> <span class=\"n\">claims_and_evidence</span><span class=\"p\">)</span>\n</code></pre></div>        </div>\n      </li>\n      <li><strong>Pros:</strong> scalable and interpretable;</li>\n      <li><strong>Cons:</strong> depends on evaluator model reliability and bias.</li>\n    </ul>\n<p><strong>Implementation:</strong></p>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code1\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code1\"><span class=\"n\">system_prompt</span> <span class=\"o\">=</span> <span class=\"s\">\"You are a factuality evaluator. For each claim, determine if it is supported, contradicted, or unverifiable.\"</span>\n<span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">gpt4_api</span><span class=\"p\">(</span><span class=\"n\">prompt</span><span class=\"o\">=</span><span class=\"n\">system_prompt</span> <span class=\"o\">+</span> <span class=\"n\">claims_and_evidence</span><span class=\"p\">)</span>\n</code></pre>\n<p><strong>Hybrid Human–AI Loops</strong>:</p>\n<ul>\n      <li>Automatically pre-score claims, then use human verification for borderline cases (e.g., entailment probability between 0.4 and 0.6).</li>\n      <li>Maintain <em>*active learning</em> datasets to fine-tune verifiers where automatic systems are uncertain.</li>\n    </ul>",
    "contentMarkdown": "*   Hybrid methods combine model-based automatic scoring with human or LLM-as-a-judge review.\n    \n*   **LLM-as-a-Judge Frameworks**:\n    \n    *   Recent work treats factual evaluation as an LLM task in itself.\n    *   **Example:** **FActScore** ([Min et al. (2023)](https://arxiv.org/abs/2305.14251)) uses GPT-4 to extract, verify, and score atomic facts.\n    *   **SAFE** integrates an LLM to reason over retrieved passages and assign support/contradiction labels.\n    *   **Implementation:**\n        \n        ![](https://aman.ai/images/copy.png)\n        \n        `system_prompt = \"You are a factuality evaluator. For each claim, determine if it is supported, contradicted, or unverifiable.\" result = gpt4_api(prompt=system_prompt + claims_and_evidence)`\n        \n    *   **Pros:** scalable and interpretable;\n    *   **Cons:** depends on evaluator model reliability and bias.\n*   **Hybrid Human–AI Loops**:\n    \n    *   Automatically pre-score claims, then use human verification for borderline cases (e.g., entailment probability between 0.4 and 0.6).\n    *   Maintain _\\*active learning_ datasets to fine-tune verifiers where automatic systems are uncertain.\n\nHybrid methods combine model-based automatic scoring with human or LLM-as-a-judge review.\n\n**LLM-as-a-Judge Frameworks**:\n\n*   Recent work treats factual evaluation as an LLM task in itself.\n*   **Example:** **FActScore** ([Min et al. (2023)](https://arxiv.org/abs/2305.14251)) uses GPT-4 to extract, verify, and score atomic facts.\n*   **SAFE** integrates an LLM to reason over retrieved passages and assign support/contradiction labels.\n*   **Implementation:**\n    \n    ![](https://aman.ai/images/copy.png)\n    \n    `system_prompt = \"You are a factuality evaluator. For each claim, determine if it is supported, contradicted, or unverifiable.\" result = gpt4_api(prompt=system_prompt + claims_and_evidence)`\n    \n*   **Pros:** scalable and interpretable;\n*   **Cons:** depends on evaluator model reliability and bias.\n\n**Implementation:**\n\n![](https://aman.ai/images/copy.png)\n\n`system_prompt = \"You are a factuality evaluator. For each claim, determine if it is supported, contradicted, or unverifiable.\" result = gpt4_api(prompt=system_prompt + claims_and_evidence)`\n\n**Hybrid Human–AI Loops**:\n\n*   Automatically pre-score claims, then use human verification for borderline cases (e.g., entailment probability between 0.4 and 0.6).\n*   Maintain _\\*active learning_ datasets to fine-tune verifiers where automatic systems are uncertain.",
    "contentLength": 4874,
    "wordCount": 286,
    "hasCode": true,
    "hasMath": false,
    "hasImages": true,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#hybrid-evaluation-and-self-assessment"
  },
  {
    "id": "ai-factuality-in-LLMs-implementation-details-and-pipeline-design-10",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Assessing Factuality in Large Language Models",
    "title": "Implementation Details and Pipeline Design",
    "order": 10,
    "orderInChapter": 4,
    "contentHtml": "<ul>\n  <li>\n    <p>A typical <strong>factuality-evaluation pipeline</strong> can be implemented as follows:</p>\n\n    <ol>\n      <li>\n        <p><strong>Claim Extraction</strong>:</p>\n\n        <ul>\n          <li>Tokenize and parse generated text using spaCy or syntactic chunkers.</li>\n          <li>Split compound sentences into minimal factual propositions.</li>\n          <li>Optional: Use LLM-based extraction (<code class=\"language-plaintext highlighter-rouge\">gpt-4o-mini</code> with structured JSON schema).</li>\n        </ul>\n      </li>\n      <li>\n        <p><strong>Evidence Retrieval</strong>:</p>\n\n        <ul>\n          <li>For grounded tasks: retrieve from input context <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-106-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-984\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-985\"><span class=\"mi\" id=\"MathJax-Span-986\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-106\">D</script>.</li>\n          <li>For open-world factuality: query APIs (Wikipedia Search API, DuckDuckGo, or local embeddings).</li>\n          <li>Index corpora with FAISS or Elasticsearch for efficient lookup.</li>\n        </ul>\n      </li>\n      <li>\n        <p><strong>Verification</strong>:</p>\n\n        <ul>\n          <li>Run NLI entailment using DeBERTa-MNLI, or use RAGAS’s <code class=\"language-plaintext highlighter-rouge\">faithfulness</code> metric.</li>\n          <li>Compute entailment probability, contradiction rate, and missing-evidence frequency.</li>\n          <li>Aggregate using weighted averages or geometric means.</li>\n        </ul>\n      </li>\n      <li>\n        <p><strong>Scoring and Calibration</strong>:</p>\n\n        <ul>\n          <li>Normalize scores into <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-107-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>[</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy=&quot;false&quot;>]</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-987\" style=\"width: 2.607em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 2.138em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1002.03em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-988\"><span class=\"mo\" id=\"MathJax-Span-989\" style=\"font-family: STIXGeneral-Regular;\">[</span><span class=\"mn\" id=\"MathJax-Span-990\" style=\"font-family: STIXGeneral-Regular;\">0</span><span class=\"mo\" id=\"MathJax-Span-991\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mn\" id=\"MathJax-Span-992\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">1</span><span class=\"mo\" id=\"MathJax-Span-993\" style=\"font-family: STIXGeneral-Regular;\">]</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo stretchy=\"false\">[</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy=\"false\">]</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-107\">[0,1]</script>.</li>\n          <li>Use reliability diagrams to visualize calibration between confidence and correctness.</li>\n          <li>Store per-claim results for interpretability dashboards (e.g., Streamlit or Gradio UI).</li>\n        </ul>\n      </li>\n      <li>\n        <p><strong>Automation</strong>:</p>\n\n        <ul>\n          <li>Orchestrate with Python pipelines (Airflow, Prefect) for batch evaluation.</li>\n          <li>Cache retrieval results for reproducibility.</li>\n        </ul>\n      </li>\n    </ol>\n  </li>\n</ul>\n<p>A typical <strong>factuality-evaluation pipeline</strong> can be implemented as follows:</p>\n<ol>\n      <li>\n        <p><strong>Claim Extraction</strong>:</p>\n\n        <ul>\n          <li>Tokenize and parse generated text using spaCy or syntactic chunkers.</li>\n          <li>Split compound sentences into minimal factual propositions.</li>\n          <li>Optional: Use LLM-based extraction (<code class=\"language-plaintext highlighter-rouge\">gpt-4o-mini</code> with structured JSON schema).</li>\n        </ul>\n      </li>\n      <li>\n        <p><strong>Evidence Retrieval</strong>:</p>\n\n        <ul>\n          <li>For grounded tasks: retrieve from input context <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-106-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-984\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-985\"><span class=\"mi\" id=\"MathJax-Span-986\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-106\">D</script>.</li>\n          <li>For open-world factuality: query APIs (Wikipedia Search API, DuckDuckGo, or local embeddings).</li>\n          <li>Index corpora with FAISS or Elasticsearch for efficient lookup.</li>\n        </ul>\n      </li>\n      <li>\n        <p><strong>Verification</strong>:</p>\n\n        <ul>\n          <li>Run NLI entailment using DeBERTa-MNLI, or use RAGAS’s <code class=\"language-plaintext highlighter-rouge\">faithfulness</code> metric.</li>\n          <li>Compute entailment probability, contradiction rate, and missing-evidence frequency.</li>\n          <li>Aggregate using weighted averages or geometric means.</li>\n        </ul>\n      </li>\n      <li>\n        <p><strong>Scoring and Calibration</strong>:</p>\n\n        <ul>\n          <li>Normalize scores into <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-107-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>[</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy=&quot;false&quot;>]</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-987\" style=\"width: 2.607em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 2.138em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1002.03em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-988\"><span class=\"mo\" id=\"MathJax-Span-989\" style=\"font-family: STIXGeneral-Regular;\">[</span><span class=\"mn\" id=\"MathJax-Span-990\" style=\"font-family: STIXGeneral-Regular;\">0</span><span class=\"mo\" id=\"MathJax-Span-991\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mn\" id=\"MathJax-Span-992\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">1</span><span class=\"mo\" id=\"MathJax-Span-993\" style=\"font-family: STIXGeneral-Regular;\">]</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo stretchy=\"false\">[</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy=\"false\">]</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-107\">[0,1]</script>.</li>\n          <li>Use reliability diagrams to visualize calibration between confidence and correctness.</li>\n          <li>Store per-claim results for interpretability dashboards (e.g., Streamlit or Gradio UI).</li>\n        </ul>\n      </li>\n      <li>\n        <p><strong>Automation</strong>:</p>\n\n        <ul>\n          <li>Orchestrate with Python pipelines (Airflow, Prefect) for batch evaluation.</li>\n          <li>Cache retrieval results for reproducibility.</li>\n        </ul>\n      </li>\n    </ol>\n<p><strong>Claim Extraction</strong>:</p>\n<ul>\n          <li>Tokenize and parse generated text using spaCy or syntactic chunkers.</li>\n          <li>Split compound sentences into minimal factual propositions.</li>\n          <li>Optional: Use LLM-based extraction (<code class=\"language-plaintext highlighter-rouge\">gpt-4o-mini</code> with structured JSON schema).</li>\n        </ul>\n<p><strong>Evidence Retrieval</strong>:</p>\n<ul>\n          <li>For grounded tasks: retrieve from input context <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-106-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-984\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-985\"><span class=\"mi\" id=\"MathJax-Span-986\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-106\">D</script>.</li>\n          <li>For open-world factuality: query APIs (Wikipedia Search API, DuckDuckGo, or local embeddings).</li>\n          <li>Index corpora with FAISS or Elasticsearch for efficient lookup.</li>\n        </ul>\n<p><strong>Verification</strong>:</p>\n<ul>\n          <li>Run NLI entailment using DeBERTa-MNLI, or use RAGAS’s <code class=\"language-plaintext highlighter-rouge\">faithfulness</code> metric.</li>\n          <li>Compute entailment probability, contradiction rate, and missing-evidence frequency.</li>\n          <li>Aggregate using weighted averages or geometric means.</li>\n        </ul>\n<p><strong>Scoring and Calibration</strong>:</p>\n<ul>\n          <li>Normalize scores into <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-107-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>[</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy=&quot;false&quot;>]</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-987\" style=\"width: 2.607em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 2.138em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1002.03em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-988\"><span class=\"mo\" id=\"MathJax-Span-989\" style=\"font-family: STIXGeneral-Regular;\">[</span><span class=\"mn\" id=\"MathJax-Span-990\" style=\"font-family: STIXGeneral-Regular;\">0</span><span class=\"mo\" id=\"MathJax-Span-991\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mn\" id=\"MathJax-Span-992\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">1</span><span class=\"mo\" id=\"MathJax-Span-993\" style=\"font-family: STIXGeneral-Regular;\">]</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo stretchy=\"false\">[</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy=\"false\">]</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-107\">[0,1]</script>.</li>\n          <li>Use reliability diagrams to visualize calibration between confidence and correctness.</li>\n          <li>Store per-claim results for interpretability dashboards (e.g., Streamlit or Gradio UI).</li>\n        </ul>\n<p><strong>Automation</strong>:</p>\n<ul>\n          <li>Orchestrate with Python pipelines (Airflow, Prefect) for batch evaluation.</li>\n          <li>Cache retrieval results for reproducibility.</li>\n        </ul>",
    "contentMarkdown": "*   A typical **factuality-evaluation pipeline** can be implemented as follows:\n    \n    1.  **Claim Extraction**:\n        \n        *   Tokenize and parse generated text using spaCy or syntactic chunkers.\n        *   Split compound sentences into minimal factual propositions.\n        *   Optional: Use LLM-based extraction (`gpt-4o-mini` with structured JSON schema).\n    2.  **Evidence Retrieval**:\n        \n        *   For grounded tasks: retrieve from input context DDD.\n        *   For open-world factuality: query APIs (Wikipedia Search API, DuckDuckGo, or local embeddings).\n        *   Index corpora with FAISS or Elasticsearch for efficient lookup.\n    3.  **Verification**:\n        \n        *   Run NLI entailment using DeBERTa-MNLI, or use RAGAS’s `faithfulness` metric.\n        *   Compute entailment probability, contradiction rate, and missing-evidence frequency.\n        *   Aggregate using weighted averages or geometric means.\n    4.  **Scoring and Calibration**:\n        \n        *   Normalize scores into \\[0,1\\]\\[0,1\\]\\[0,1\\].\n        *   Use reliability diagrams to visualize calibration between confidence and correctness.\n        *   Store per-claim results for interpretability dashboards (e.g., Streamlit or Gradio UI).\n    5.  **Automation**:\n        \n        *   Orchestrate with Python pipelines (Airflow, Prefect) for batch evaluation.\n        *   Cache retrieval results for reproducibility.\n\nA typical **factuality-evaluation pipeline** can be implemented as follows:\n\n1.  **Claim Extraction**:\n    \n    *   Tokenize and parse generated text using spaCy or syntactic chunkers.\n    *   Split compound sentences into minimal factual propositions.\n    *   Optional: Use LLM-based extraction (`gpt-4o-mini` with structured JSON schema).\n2.  **Evidence Retrieval**:\n    \n    *   For grounded tasks: retrieve from input context DDD.\n    *   For open-world factuality: query APIs (Wikipedia Search API, DuckDuckGo, or local embeddings).\n    *   Index corpora with FAISS or Elasticsearch for efficient lookup.\n3.  **Verification**:\n    \n    *   Run NLI entailment using DeBERTa-MNLI, or use RAGAS’s `faithfulness` metric.\n    *   Compute entailment probability, contradiction rate, and missing-evidence frequency.\n    *   Aggregate using weighted averages or geometric means.\n4.  **Scoring and Calibration**:\n    \n    *   Normalize scores into \\[0,1\\]\\[0,1\\]\\[0,1\\].\n    *   Use reliability diagrams to visualize calibration between confidence and correctness.\n    *   Store per-claim results for interpretability dashboards (e.g., Streamlit or Gradio UI).\n5.  **Automation**:\n    \n    *   Orchestrate with Python pipelines (Airflow, Prefect) for batch evaluation.\n    *   Cache retrieval results for reproducibility.\n\n**Claim Extraction**:\n\n*   Tokenize and parse generated text using spaCy or syntactic chunkers.\n*   Split compound sentences into minimal factual propositions.\n*   Optional: Use LLM-based extraction (`gpt-4o-mini` with structured JSON schema).\n\n**Evidence Retrieval**:\n\n*   For grounded tasks: retrieve from input context DDD.\n*   For open-world factuality: query APIs (Wikipedia Search API, DuckDuckGo, or local embeddings).\n*   Index corpora with FAISS or Elasticsearch for efficient lookup.\n\n**Verification**:\n\n*   Run NLI entailment using DeBERTa-MNLI, or use RAGAS’s `faithfulness` metric.\n*   Compute entailment probability, contradiction rate, and missing-evidence frequency.\n*   Aggregate using weighted averages or geometric means.\n\n**Scoring and Calibration**:\n\n*   Normalize scores into \\[0,1\\]\\[0,1\\]\\[0,1\\].\n*   Use reliability diagrams to visualize calibration between confidence and correctness.\n*   Store per-claim results for interpretability dashboards (e.g., Streamlit or Gradio UI).\n\n**Automation**:\n\n*   Orchestrate with Python pipelines (Airflow, Prefect) for batch evaluation.\n*   Cache retrieval results for reproducibility.",
    "contentLength": 14297,
    "wordCount": 455,
    "hasCode": true,
    "hasMath": true,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#implementation-details-and-pipeline-design"
  },
  {
    "id": "ai-factuality-in-LLMs-current-limitations-and-open-challenges-11",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Assessing Factuality in Large Language Models",
    "title": "Current Limitations and Open Challenges",
    "order": 11,
    "orderInChapter": 5,
    "contentHtml": "<ul>\n  <li><strong>Reference incompleteness:</strong> truth may exist outside reference documents, producing false negatives.</li>\n  <li><strong>Semantic drift:</strong> paraphrased but equivalent statements may be incorrectly penalized.</li>\n  <li><strong>Cross-modal factuality:</strong> most methods only handle text, not multimodal contexts.</li>\n  <li><strong>Temporal dynamics:</strong> few evaluators handle time-sensitive factuality where the truth changes over time (<em>FreshQA</em>, <a href=\"https://arxiv.org/abs/2309.10239\">Vu et al. (2023)</a>).</li>\n  <li><strong>Evaluator bias:</strong> using one LLM to judge another can propagate shared hallucination patterns.</li>\n  <li><strong>Efficiency vs. interpretability:</strong> neural verifiers are efficient but less explainable than human annotation.</li>\n</ul>",
    "contentMarkdown": "*   **Reference incompleteness:** truth may exist outside reference documents, producing false negatives.\n*   **Semantic drift:** paraphrased but equivalent statements may be incorrectly penalized.\n*   **Cross-modal factuality:** most methods only handle text, not multimodal contexts.\n*   **Temporal dynamics:** few evaluators handle time-sensitive factuality where the truth changes over time (_FreshQA_, [Vu et al. (2023)](https://arxiv.org/abs/2309.10239)).\n*   **Evaluator bias:** using one LLM to judge another can propagate shared hallucination patterns.\n*   **Efficiency vs. interpretability:** neural verifiers are efficient but less explainable than human annotation.",
    "contentLength": 826,
    "wordCount": 81,
    "hasCode": false,
    "hasMath": false,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#current-limitations-and-open-challenges"
  },
  {
    "id": "ai-factuality-in-LLMs-training-time-interventions-12",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Improving Factuality in Large Language Models",
    "title": "Training-Time Interventions",
    "order": 12,
    "orderInChapter": 1,
    "contentHtml": "<ul>\n  <li>Training interventions aim to improve factuality by changing <strong>what</strong> the model learns and <strong>how</strong> it learns it.</li>\n</ul>\n<h4 id=\"data-curation-and-filtering\">Data Curation and Filtering</h4>\n<ul>\n  <li><strong>High-quality factual corpora</strong>:\n    <ul>\n      <li>Prefer curated sources (Wikipedia, academic papers, government datasets) over noisy web text.</li>\n      <li><strong>Implementation:</strong> automatic filtering via language-model-based classifiers trained to detect hallucination, using datasets like <strong>TruthfulQA</strong> (<a href=\"https://arxiv.org/abs/2109.07958\">Lin et al. (2021)</a>) or <strong>SimpleQA</strong> (<a href=\"https://arxiv.org/abs/2411.04368\">Ye et al. (2024)</a>).</li>\n    </ul>\n  </li>\n  <li><strong>Knowledge refresh pipelines</strong>:\n    <ul>\n      <li>Periodically update pretraining data to reflect new world facts (e.g., current events, updated encyclopedic entries).\nImplementation example: maintain a retrieval index of recently crawled Wikipedia dumps and re-fine-tune the model on corrections.</li>\n    </ul>\n  </li>\n</ul>\n<ul>\n      <li>Prefer curated sources (Wikipedia, academic papers, government datasets) over noisy web text.</li>\n      <li><strong>Implementation:</strong> automatic filtering via language-model-based classifiers trained to detect hallucination, using datasets like <strong>TruthfulQA</strong> (<a href=\"https://arxiv.org/abs/2109.07958\">Lin et al. (2021)</a>) or <strong>SimpleQA</strong> (<a href=\"https://arxiv.org/abs/2411.04368\">Ye et al. (2024)</a>).</li>\n    </ul>\n<ul>\n      <li>Periodically update pretraining data to reflect new world facts (e.g., current events, updated encyclopedic entries).\nImplementation example: maintain a retrieval index of recently crawled Wikipedia dumps and re-fine-tune the model on corrections.</li>\n    </ul>\n<h4 id=\"instruction-and-alignment-tuning\">Instruction and Alignment Tuning</h4>\n<ul>\n  <li><strong>Supervised Fine-Tuning (SFT)</strong>:\n    <ul>\n      <li>Include factual instruction datasets such as <strong>Tulu 2</strong> (<a href=\"https://arxiv.org/abs/2309.10821\">Wang et al. (2023)</a>) that enforce truthful responses during instruction following.</li>\n    </ul>\n  </li>\n  <li><strong>Reinforcement Learning from Human Feedback (RLHF)</strong>:\n    <ul>\n      <li>Integrate factual preference signals—annotators mark truthful vs. hallucinated generations. The reward model then biases the policy toward accurate responses.\nImplementation sketch:</li>\n    </ul>\n\n    <div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code2\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code2\"><span class=\"n\">reward</span> <span class=\"o\">=</span> <span class=\"n\">factuality_judge</span><span class=\"p\">(</span><span class=\"n\">output</span><span class=\"p\">,</span> <span class=\"n\">reference</span><span class=\"p\">)</span>\n<span class=\"n\">loss</span> <span class=\"o\">=</span> <span class=\"o\">-</span><span class=\"n\">torch</span><span class=\"p\">.</span><span class=\"n\">mean</span><span class=\"p\">(</span><span class=\"n\">log_probs</span> <span class=\"o\">*</span> <span class=\"n\">reward</span><span class=\"p\">)</span>\n</code></pre></div>    </div>\n\n    <ul>\n      <li><strong>Constitutional AI</strong> (<a href=\"https://arxiv.org/abs/2212.08073\">Bai et al. (2022)</a>) extends this by replacing human judges with rule-based critiques emphasizing factual correctness.</li>\n    </ul>\n  </li>\n  <li><strong>Contrastive Fine-Tuning (CFT)</strong>:\n    <ul>\n      <li>Train models on positive–negative factual pairs, e.g., <strong>True vs. False claims</strong> or <strong>Supported vs. Unsupported summaries</strong>. <strong>FactCC</strong> (<a href=\"https://arxiv.org/abs/1910.12840\">Kryściński et al. (2019)</a>) provides a canonical dataset for this.</li>\n    </ul>\n  </li>\n</ul>\n<ul>\n      <li>Include factual instruction datasets such as <strong>Tulu 2</strong> (<a href=\"https://arxiv.org/abs/2309.10821\">Wang et al. (2023)</a>) that enforce truthful responses during instruction following.</li>\n    </ul>\n<ul>\n      <li>Integrate factual preference signals—annotators mark truthful vs. hallucinated generations. The reward model then biases the policy toward accurate responses.\nImplementation sketch:</li>\n    </ul>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code2\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code2\"><span class=\"n\">reward</span> <span class=\"o\">=</span> <span class=\"n\">factuality_judge</span><span class=\"p\">(</span><span class=\"n\">output</span><span class=\"p\">,</span> <span class=\"n\">reference</span><span class=\"p\">)</span>\n<span class=\"n\">loss</span> <span class=\"o\">=</span> <span class=\"o\">-</span><span class=\"n\">torch</span><span class=\"p\">.</span><span class=\"n\">mean</span><span class=\"p\">(</span><span class=\"n\">log_probs</span> <span class=\"o\">*</span> <span class=\"n\">reward</span><span class=\"p\">)</span>\n</code></pre>\n<ul>\n      <li><strong>Constitutional AI</strong> (<a href=\"https://arxiv.org/abs/2212.08073\">Bai et al. (2022)</a>) extends this by replacing human judges with rule-based critiques emphasizing factual correctness.</li>\n    </ul>\n<ul>\n      <li>Train models on positive–negative factual pairs, e.g., <strong>True vs. False claims</strong> or <strong>Supported vs. Unsupported summaries</strong>. <strong>FactCC</strong> (<a href=\"https://arxiv.org/abs/1910.12840\">Kryściński et al. (2019)</a>) provides a canonical dataset for this.</li>\n    </ul>\n<h4 id=\"knowledge-injection-and-editing\">Knowledge Injection and Editing</h4>\n<ul>\n  <li><strong>Parametric knowledge updates</strong>:\n    <ul>\n      <li>Methods like <strong>ROME</strong> (<a href=\"https://arxiv.org/abs/2202.05262\">Meng et al. (2022)</a>) and <strong>MEMIT</strong> (<a href=\"https://arxiv.org/abs/2301.04246\">Meng et al. (2023)</a>) modify specific neurons or attention patterns to fix factual errors inside the model.</li>\n    </ul>\n  </li>\n  <li><strong>Continual fine-tuning</strong>:\n    <ul>\n      <li>Fine-tune with updated factual triples (subject, relation, object) to preserve model fluency while correcting outdated parameters.\nImplementation: merge updated knowledge modules using low-rank adapters (LoRA) for efficient parameter updates.</li>\n    </ul>\n  </li>\n</ul>\n<ul>\n      <li>Methods like <strong>ROME</strong> (<a href=\"https://arxiv.org/abs/2202.05262\">Meng et al. (2022)</a>) and <strong>MEMIT</strong> (<a href=\"https://arxiv.org/abs/2301.04246\">Meng et al. (2023)</a>) modify specific neurons or attention patterns to fix factual errors inside the model.</li>\n    </ul>\n<ul>\n      <li>Fine-tune with updated factual triples (subject, relation, object) to preserve model fluency while correcting outdated parameters.\nImplementation: merge updated knowledge modules using low-rank adapters (LoRA) for efficient parameter updates.</li>\n    </ul>",
    "contentMarkdown": "*   Training interventions aim to improve factuality by changing **what** the model learns and **how** it learns it.\n\n#### Data Curation and Filtering\n\n*   **High-quality factual corpora**:\n    *   Prefer curated sources (Wikipedia, academic papers, government datasets) over noisy web text.\n    *   **Implementation:** automatic filtering via language-model-based classifiers trained to detect hallucination, using datasets like **TruthfulQA** ([Lin et al. (2021)](https://arxiv.org/abs/2109.07958)) or **SimpleQA** ([Ye et al. (2024)](https://arxiv.org/abs/2411.04368)).\n*   **Knowledge refresh pipelines**:\n    *   Periodically update pretraining data to reflect new world facts (e.g., current events, updated encyclopedic entries). Implementation example: maintain a retrieval index of recently crawled Wikipedia dumps and re-fine-tune the model on corrections.\n\n*   Prefer curated sources (Wikipedia, academic papers, government datasets) over noisy web text.\n*   **Implementation:** automatic filtering via language-model-based classifiers trained to detect hallucination, using datasets like **TruthfulQA** ([Lin et al. (2021)](https://arxiv.org/abs/2109.07958)) or **SimpleQA** ([Ye et al. (2024)](https://arxiv.org/abs/2411.04368)).\n\n*   Periodically update pretraining data to reflect new world facts (e.g., current events, updated encyclopedic entries). Implementation example: maintain a retrieval index of recently crawled Wikipedia dumps and re-fine-tune the model on corrections.\n\n#### Instruction and Alignment Tuning\n\n*   **Supervised Fine-Tuning (SFT)**:\n    *   Include factual instruction datasets such as **Tulu 2** ([Wang et al. (2023)](https://arxiv.org/abs/2309.10821)) that enforce truthful responses during instruction following.\n*   **Reinforcement Learning from Human Feedback (RLHF)**:\n    \n    *   Integrate factual preference signals—annotators mark truthful vs. hallucinated generations. The reward model then biases the policy toward accurate responses. Implementation sketch:\n    \n    ![](https://aman.ai/images/copy.png)\n    \n    `reward = factuality_judge(output, reference) loss = -torch.mean(log_probs * reward)`\n    \n    *   **Constitutional AI** ([Bai et al. (2022)](https://arxiv.org/abs/2212.08073)) extends this by replacing human judges with rule-based critiques emphasizing factual correctness.\n*   **Contrastive Fine-Tuning (CFT)**:\n    *   Train models on positive–negative factual pairs, e.g., **True vs. False claims** or **Supported vs. Unsupported summaries**. **FactCC** ([Kryściński et al. (2019)](https://arxiv.org/abs/1910.12840)) provides a canonical dataset for this.\n\n*   Include factual instruction datasets such as **Tulu 2** ([Wang et al. (2023)](https://arxiv.org/abs/2309.10821)) that enforce truthful responses during instruction following.\n\n*   Integrate factual preference signals—annotators mark truthful vs. hallucinated generations. The reward model then biases the policy toward accurate responses. Implementation sketch:\n\n![](https://aman.ai/images/copy.png)\n\n`reward = factuality_judge(output, reference) loss = -torch.mean(log_probs * reward)`\n\n*   **Constitutional AI** ([Bai et al. (2022)](https://arxiv.org/abs/2212.08073)) extends this by replacing human judges with rule-based critiques emphasizing factual correctness.\n\n*   Train models on positive–negative factual pairs, e.g., **True vs. False claims** or **Supported vs. Unsupported summaries**. **FactCC** ([Kryściński et al. (2019)](https://arxiv.org/abs/1910.12840)) provides a canonical dataset for this.\n\n#### Knowledge Injection and Editing\n\n*   **Parametric knowledge updates**:\n    *   Methods like **ROME** ([Meng et al. (2022)](https://arxiv.org/abs/2202.05262)) and **MEMIT** ([Meng et al. (2023)](https://arxiv.org/abs/2301.04246)) modify specific neurons or attention patterns to fix factual errors inside the model.\n*   **Continual fine-tuning**:\n    *   Fine-tune with updated factual triples (subject, relation, object) to preserve model fluency while correcting outdated parameters. Implementation: merge updated knowledge modules using low-rank adapters (LoRA) for efficient parameter updates.\n\n*   Methods like **ROME** ([Meng et al. (2022)](https://arxiv.org/abs/2202.05262)) and **MEMIT** ([Meng et al. (2023)](https://arxiv.org/abs/2301.04246)) modify specific neurons or attention patterns to fix factual errors inside the model.\n\n*   Fine-tune with updated factual triples (subject, relation, object) to preserve model fluency while correcting outdated parameters. Implementation: merge updated knowledge modules using low-rank adapters (LoRA) for efficient parameter updates.",
    "contentLength": 7256,
    "wordCount": 517,
    "hasCode": true,
    "hasMath": false,
    "hasImages": true,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#training-time-interventions"
  },
  {
    "id": "ai-factuality-in-LLMs-inference-time-strategies-13",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Improving Factuality in Large Language Models",
    "title": "Inference-Time Strategies",
    "order": 13,
    "orderInChapter": 2,
    "contentHtml": "<ul>\n  <li>Inference interventions control the generation process so that model outputs are verified or grounded as they are produced.</li>\n</ul>\n<h4 id=\"retrieval-augmented-generation-rag\">Retrieval-Augmented Generation (RAG)</h4>\n<ul>\n  <li>Retrieve relevant context from an external corpus before or during generation (<a href=\"https://arxiv.org/abs/2005.11401\">Lewis et al. (2020)</a>).</li>\n  <li>\n    <p><strong>Implementation steps:</strong></p>\n\n    <ol>\n      <li>Embed query using <strong>Contriever</strong> or <strong>BM25</strong>.</li>\n      <li>Retrieve top-k passages <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-108-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>d</mi><mn>1</mn></msub><mo>,</mo><mo>&amp;#x2026;</mo><mo>,</mo><msub><mi>d</mi><mi>k</mi></msub></mrow></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-994\" style=\"width: 4.794em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 3.961em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1003.96em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-995\"><span class=\"texatom\" id=\"MathJax-Span-996\"><span class=\"mrow\" id=\"MathJax-Span-997\"><span class=\"msubsup\" id=\"MathJax-Span-998\"><span style=\"display: inline-block; position: relative; width: 0.94em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-999\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mn\" id=\"MathJax-Span-1000\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1001\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mo\" id=\"MathJax-Span-1002\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">…</span><span class=\"mo\" id=\"MathJax-Span-1003\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-1004\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.888em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1005\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-1006\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">k<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mrow class=\"MJX-TeXAtom-ORD\"><msub><mi>d</mi><mn>1</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>d</mi><mi>k</mi></msub></mrow></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-108\">{d_1, \\dots, d_k}</script>.</li>\n      <li>Concatenate retrieved context with prompt.</li>\n      <li>Decode response conditioned on context.</li>\n    </ol>\n\n    <ul>\n      <li><strong>Frameworks:</strong> <strong>LangChain</strong>, <strong>LlamaIndex</strong>, or <strong>RAGAS</strong> (<a href=\"https://arxiv.org/abs/2309.15217\">Es et al. (2023)</a>).</li>\n    </ul>\n  </li>\n</ul>\n<p><strong>Implementation steps:</strong></p>\n<ol>\n      <li>Embed query using <strong>Contriever</strong> or <strong>BM25</strong>.</li>\n      <li>Retrieve top-k passages <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-108-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>d</mi><mn>1</mn></msub><mo>,</mo><mo>&amp;#x2026;</mo><mo>,</mo><msub><mi>d</mi><mi>k</mi></msub></mrow></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-994\" style=\"width: 4.794em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 3.961em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1003.96em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-995\"><span class=\"texatom\" id=\"MathJax-Span-996\"><span class=\"mrow\" id=\"MathJax-Span-997\"><span class=\"msubsup\" id=\"MathJax-Span-998\"><span style=\"display: inline-block; position: relative; width: 0.94em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-999\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mn\" id=\"MathJax-Span-1000\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1001\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mo\" id=\"MathJax-Span-1002\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">…</span><span class=\"mo\" id=\"MathJax-Span-1003\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-1004\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.888em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.52em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1005\" style=\"font-family: STIXGeneral-Italic;\">d<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-1006\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">k<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mrow class=\"MJX-TeXAtom-ORD\"><msub><mi>d</mi><mn>1</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>d</mi><mi>k</mi></msub></mrow></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-108\">{d_1, \\dots, d_k}</script>.</li>\n      <li>Concatenate retrieved context with prompt.</li>\n      <li>Decode response conditioned on context.</li>\n    </ol>\n<ul>\n      <li><strong>Frameworks:</strong> <strong>LangChain</strong>, <strong>LlamaIndex</strong>, or <strong>RAGAS</strong> (<a href=\"https://arxiv.org/abs/2309.15217\">Es et al. (2023)</a>).</li>\n    </ul>\n<h4 id=\"self-consistency-and-verification-loops\">Self-Consistency and Verification Loops</h4>\n<ul>\n  <li>\n    <p><strong>SelfCheckGPT</strong> (<a href=\"https://arxiv.org/abs/2303.08896\">Manakul et al. (2023)</a>): sample multiple generations <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-109-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>y</mi><mn>1</mn></msub><mo>,</mo><mo>&amp;#x2026;</mo><mo>,</mo><msub><mi>y</mi><mi>n</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1007\" style=\"width: 4.69em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 3.909em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1003.91em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1008\"><span class=\"msubsup\" id=\"MathJax-Span-1009\"><span style=\"display: inline-block; position: relative; width: 0.888em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.42em, 4.378em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1010\" style=\"font-family: STIXGeneral-Italic;\">y</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.471em;\"><span class=\"mn\" id=\"MathJax-Span-1011\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1012\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mo\" id=\"MathJax-Span-1013\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">…</span><span class=\"mo\" id=\"MathJax-Span-1014\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-1015\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.888em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.42em, 4.378em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1016\" style=\"font-family: STIXGeneral-Italic;\">y</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.471em;\"><span class=\"mi\" id=\"MathJax-Span-1017\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">n</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>y</mi><mn>1</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>y</mi><mi>n</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-109\">y_1, \\dots, y_n</script> and measure semantic consistency across them. Inconsistency suggests low factual confidence.\nImplementation: cosine similarity between sentence-BERT embeddings of each pair.</p>\n  </li>\n  <li>\n    <p><strong>Verifier-in-the-Loop Decoding</strong>:\nInterleave generation with factual checks. At each step, generate a candidate token or sentence, pass it to a verifier model (e.g., NLI classifier), and block outputs that contradict evidence.\nExample pseudocode:</p>\n\n    <div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code3\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code3\"><span class=\"k\">for</span> <span class=\"n\">token</span> <span class=\"ow\">in</span> <span class=\"n\">decoder_step</span><span class=\"p\">():</span>\n    <span class=\"k\">if</span> <span class=\"n\">verifier</span><span class=\"p\">(</span><span class=\"n\">sentence</span><span class=\"o\">+</span><span class=\"n\">token</span><span class=\"p\">)</span> <span class=\"o\">&lt;</span> <span class=\"n\">threshold</span><span class=\"p\">:</span>\n        <span class=\"n\">reject</span><span class=\"p\">(</span><span class=\"n\">token</span><span class=\"p\">)</span>\n</code></pre></div>    </div>\n  </li>\n</ul>\n<p><strong>SelfCheckGPT</strong> (<a href=\"https://arxiv.org/abs/2303.08896\">Manakul et al. (2023)</a>): sample multiple generations <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-109-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>y</mi><mn>1</mn></msub><mo>,</mo><mo>&amp;#x2026;</mo><mo>,</mo><msub><mi>y</mi><mi>n</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1007\" style=\"width: 4.69em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 3.909em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1003.91em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1008\"><span class=\"msubsup\" id=\"MathJax-Span-1009\"><span style=\"display: inline-block; position: relative; width: 0.888em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.42em, 4.378em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1010\" style=\"font-family: STIXGeneral-Italic;\">y</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.471em;\"><span class=\"mn\" id=\"MathJax-Span-1011\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1012\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mo\" id=\"MathJax-Span-1013\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">…</span><span class=\"mo\" id=\"MathJax-Span-1014\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-1015\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.888em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.42em, 4.378em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1016\" style=\"font-family: STIXGeneral-Italic;\">y</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.471em;\"><span class=\"mi\" id=\"MathJax-Span-1017\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">n</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>y</mi><mn>1</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>y</mi><mi>n</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-109\">y_1, \\dots, y_n</script> and measure semantic consistency across them. Inconsistency suggests low factual confidence.\nImplementation: cosine similarity between sentence-BERT embeddings of each pair.</p>\n<p><strong>Verifier-in-the-Loop Decoding</strong>:\nInterleave generation with factual checks. At each step, generate a candidate token or sentence, pass it to a verifier model (e.g., NLI classifier), and block outputs that contradict evidence.\nExample pseudocode:</p>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code3\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code3\"><span class=\"k\">for</span> <span class=\"n\">token</span> <span class=\"ow\">in</span> <span class=\"n\">decoder_step</span><span class=\"p\">():</span>\n    <span class=\"k\">if</span> <span class=\"n\">verifier</span><span class=\"p\">(</span><span class=\"n\">sentence</span><span class=\"o\">+</span><span class=\"n\">token</span><span class=\"p\">)</span> <span class=\"o\">&lt;</span> <span class=\"n\">threshold</span><span class=\"p\">:</span>\n        <span class=\"n\">reject</span><span class=\"p\">(</span><span class=\"n\">token</span><span class=\"p\">)</span>\n</code></pre>\n<h4 id=\"retrieval-time-filtering\">Retrieval-Time Filtering</h4>\n<ul>\n  <li>\n    <p>Incorporate document-level entailment or ranking by factual support (as in <strong>Faithful RAG</strong>, <a href=\"https://arxiv.org/abs/2406.01050\">Menon et al. (2024)</a>).</p>\n  </li>\n  <li>\n    <p>Combine retrievers with <em>answer consistency filters</em>, keeping only passages that yield identical answers under QA reformulation.</p>\n  </li>\n</ul>\n<p>Incorporate document-level entailment or ranking by factual support (as in <strong>Faithful RAG</strong>, <a href=\"https://arxiv.org/abs/2406.01050\">Menon et al. (2024)</a>).</p>\n<p>Combine retrievers with <em>answer consistency filters</em>, keeping only passages that yield identical answers under QA reformulation.</p>\n<h4 id=\"confidence-aware-decoding\">Confidence-Aware Decoding</h4>\n<ul>\n  <li>\n    <p>Re-rank beams by a weighted objective:</p>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\" style=\"text-align: center;\"><span class=\"MathJax\" id=\"MathJax-Element-110-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtext>score</mtext><mo>=</mo><mi>&amp;#x03BB;</mi><mo>&amp;#x22C5;</mo><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo stretchy=&quot;false&quot;>|</mo></mrow><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo>&amp;#x2212;</mo><mi>&amp;#x03BB;</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x22C5;</mo><mtext>FactualityVerifier</mtext><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"text-align: center; position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1018\" style=\"width: 24.378em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 20.315em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.669em, 1020.26em, 2.867em, -999.997em); top: -2.497em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1019\"><span class=\"mtext\" id=\"MathJax-Span-1020\" style=\"font-family: STIXGeneral-Regular;\">score</span><span class=\"mo\" id=\"MathJax-Span-1021\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mi\" id=\"MathJax-Span-1022\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">λ</span><span class=\"mo\" id=\"MathJax-Span-1023\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">⋅</span><span class=\"mi\" id=\"MathJax-Span-1024\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.263em;\">P</span><span class=\"mo\" id=\"MathJax-Span-1025\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-1026\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"texatom\" id=\"MathJax-Span-1027\"><span class=\"mrow\" id=\"MathJax-Span-1028\"><span class=\"mo\" id=\"MathJax-Span-1029\" style=\"font-family: STIXVariants;\">|</span></span></span><span class=\"mi\" id=\"MathJax-Span-1030\" style=\"font-family: STIXGeneral-Italic;\">x<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-1031\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-1032\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"mo\" id=\"MathJax-Span-1033\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">(</span><span class=\"mn\" id=\"MathJax-Span-1034\" style=\"font-family: STIXGeneral-Regular;\">1</span><span class=\"mo\" id=\"MathJax-Span-1035\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">−</span><span class=\"mi\" id=\"MathJax-Span-1036\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.263em;\">λ</span><span class=\"mo\" id=\"MathJax-Span-1037\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-1038\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">⋅</span><span class=\"mtext\" id=\"MathJax-Span-1039\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">FactualityVerifier</span><span class=\"mo\" id=\"MathJax-Span-1040\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-1041\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-1042\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.503em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mtext>score</mtext><mo>=</mo><mi>λ</mi><mo>⋅</mo><mi>P</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mrow class=\"MJX-TeXAtom-ORD\"><mo stretchy=\"false\">|</mo></mrow><mi>x</mi><mo stretchy=\"false\">)</mo><mo>+</mo><mo stretchy=\"false\">(</mo><mn>1</mn><mo>−</mo><mi>λ</mi><mo stretchy=\"false\">)</mo><mo>⋅</mo><mtext>FactualityVerifier</mtext><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-110\">\\text{score} = \\lambda \\cdot P(y|x) + (1-\\lambda)\\cdot \\text{FactualityVerifier}(y)</script>\n\n    <ul>\n      <li>Adjust <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-111-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03BB;</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1043\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.47em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1044\"><span class=\"mi\" id=\"MathJax-Span-1045\" style=\"font-family: STIXGeneral-Italic;\">λ</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>λ</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-111\">\\lambda</script> to trade fluency for factuality.</li>\n    </ul>\n  </li>\n</ul>\n<p>Re-rank beams by a weighted objective:</p>\n<ul>\n      <li>Adjust <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-111-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03BB;</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1043\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.47em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1044\"><span class=\"mi\" id=\"MathJax-Span-1045\" style=\"font-family: STIXGeneral-Italic;\">λ</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>λ</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-111\">\\lambda</script> to trade fluency for factuality.</li>\n    </ul>",
    "contentMarkdown": "*   Inference interventions control the generation process so that model outputs are verified or grounded as they are produced.\n\n#### Retrieval-Augmented Generation (RAG)\n\n*   Retrieve relevant context from an external corpus before or during generation ([Lewis et al. (2020)](https://arxiv.org/abs/2005.11401)).\n*   **Implementation steps:**\n    \n    1.  Embed query using **Contriever** or **BM25**.\n    2.  Retrieve top-k passages d1,…,dkd1,…,dk{d\\_1, \\\\dots, d\\_k}.\n    3.  Concatenate retrieved context with prompt.\n    4.  Decode response conditioned on context.\n    \n    *   **Frameworks:** **LangChain**, **LlamaIndex**, or **RAGAS** ([Es et al. (2023)](https://arxiv.org/abs/2309.15217)).\n\n**Implementation steps:**\n\n1.  Embed query using **Contriever** or **BM25**.\n2.  Retrieve top-k passages d1,…,dkd1,…,dk{d\\_1, \\\\dots, d\\_k}.\n3.  Concatenate retrieved context with prompt.\n4.  Decode response conditioned on context.\n\n*   **Frameworks:** **LangChain**, **LlamaIndex**, or **RAGAS** ([Es et al. (2023)](https://arxiv.org/abs/2309.15217)).\n\n#### Self-Consistency and Verification Loops\n\n*   **SelfCheckGPT** ([Manakul et al. (2023)](https://arxiv.org/abs/2303.08896)): sample multiple generations y1,…,yny1,…,yny\\_1, \\\\dots, y\\_n and measure semantic consistency across them. Inconsistency suggests low factual confidence. Implementation: cosine similarity between sentence-BERT embeddings of each pair.\n    \n*   **Verifier-in-the-Loop Decoding**: Interleave generation with factual checks. At each step, generate a candidate token or sentence, pass it to a verifier model (e.g., NLI classifier), and block outputs that contradict evidence. Example pseudocode:\n    \n    ![](https://aman.ai/images/copy.png)\n    \n    `for token in decoder_step():     if verifier(sentence+token) < threshold:         reject(token)`\n    \n\n**SelfCheckGPT** ([Manakul et al. (2023)](https://arxiv.org/abs/2303.08896)): sample multiple generations y1,…,yny1,…,yny\\_1, \\\\dots, y\\_n and measure semantic consistency across them. Inconsistency suggests low factual confidence. Implementation: cosine similarity between sentence-BERT embeddings of each pair.\n\n**Verifier-in-the-Loop Decoding**: Interleave generation with factual checks. At each step, generate a candidate token or sentence, pass it to a verifier model (e.g., NLI classifier), and block outputs that contradict evidence. Example pseudocode:\n\n![](https://aman.ai/images/copy.png)\n\n`for token in decoder_step():     if verifier(sentence+token) < threshold:         reject(token)`\n\n#### Retrieval-Time Filtering\n\n*   Incorporate document-level entailment or ranking by factual support (as in **Faithful RAG**, [Menon et al. (2024)](https://arxiv.org/abs/2406.01050)).\n    \n*   Combine retrievers with _answer consistency filters_, keeping only passages that yield identical answers under QA reformulation.\n    \n\nIncorporate document-level entailment or ranking by factual support (as in **Faithful RAG**, [Menon et al. (2024)](https://arxiv.org/abs/2406.01050)).\n\nCombine retrievers with _answer consistency filters_, keeping only passages that yield identical answers under QA reformulation.\n\n#### Confidence-Aware Decoding\n\n*   Re-rank beams by a weighted objective:\n    \n    score\\=λ⋅P(y|x)+(1−λ)⋅FactualityVerifier(y)score\\=λ⋅P(y|x)+(1−λ)⋅FactualityVerifier(y)\n    \n    \\\\text{score} = \\\\lambda \\\\cdot P(y|x) + (1-\\\\lambda)\\\\cdot \\\\text{FactualityVerifier}(y)\n    *   Adjust λλ\\\\lambda to trade fluency for factuality.\n\nRe-rank beams by a weighted objective:\n\n*   Adjust λλ\\\\lambda to trade fluency for factuality.",
    "contentLength": 25461,
    "wordCount": 381,
    "hasCode": true,
    "hasMath": true,
    "hasImages": true,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#inference-time-strategies"
  },
  {
    "id": "ai-factuality-in-LLMs-post-hoc-correction-and-self-evaluation-14",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Improving Factuality in Large Language Models",
    "title": "Post-Hoc Correction and Self-Evaluation",
    "order": 14,
    "orderInChapter": 3,
    "contentHtml": "<ul>\n  <li>After a model produces an output, factual errors can be detected and repaired without retraining.</li>\n</ul>\n<h4 id=\"automated-post-editing\">Automated Post-Editing</h4>\n<ul>\n  <li><strong>ReFact</strong> (<a href=\"https://arxiv.org/abs/2303.17575\">Peng et al. (2023)</a>): generate candidate corrections for identified false claims by querying external sources.</li>\n  <li>\n    <p>Pipeline:</p>\n\n    <ol>\n      <li>Detect unsupported claims with NLI or QA-based verifiers.</li>\n      <li>Retrieve supporting evidence.</li>\n      <li>Regenerate the corrected claim conditioned on retrieved snippets.</li>\n    </ol>\n  </li>\n</ul>\n<p>Pipeline:</p>\n<ol>\n      <li>Detect unsupported claims with NLI or QA-based verifiers.</li>\n      <li>Retrieve supporting evidence.</li>\n      <li>Regenerate the corrected claim conditioned on retrieved snippets.</li>\n    </ol>\n<h4 id=\"self-reflection-and-critique\">Self-Reflection and Critique</h4>\n<ul>\n  <li>\n    <p><strong>SelfCheckGPT / Reflexion</strong> (<a href=\"https://arxiv.org/abs/2303.11366\">Shinn et al. (2023)</a>): have the model critique its own outputs and regenerate corrections.\nImplementation:</p>\n\n    <div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code4\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code4\"><span class=\"n\">critique</span> <span class=\"o\">=</span> <span class=\"n\">model</span><span class=\"p\">(</span><span class=\"s\">\"Critique factual errors in: \"</span> <span class=\"o\">+</span> <span class=\"n\">output</span><span class=\"p\">)</span>\n<span class=\"n\">corrected</span> <span class=\"o\">=</span> <span class=\"n\">model</span><span class=\"p\">(</span><span class=\"s\">\"Rewrite factually correct version of: \"</span> <span class=\"o\">+</span> <span class=\"n\">output</span> <span class=\"o\">+</span> <span class=\"s\">\" considering: \"</span> <span class=\"o\">+</span> <span class=\"n\">critique</span><span class=\"p\">)</span>\n</code></pre></div>    </div>\n  </li>\n  <li>\n    <p><strong>Iterative Feedback Loops:</strong>\nAlternate between generation, critique, and verification. Continue until a factual confidence threshold is reached.</p>\n  </li>\n</ul>\n<p><strong>SelfCheckGPT / Reflexion</strong> (<a href=\"https://arxiv.org/abs/2303.11366\">Shinn et al. (2023)</a>): have the model critique its own outputs and regenerate corrections.\nImplementation:</p>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code4\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code4\"><span class=\"n\">critique</span> <span class=\"o\">=</span> <span class=\"n\">model</span><span class=\"p\">(</span><span class=\"s\">\"Critique factual errors in: \"</span> <span class=\"o\">+</span> <span class=\"n\">output</span><span class=\"p\">)</span>\n<span class=\"n\">corrected</span> <span class=\"o\">=</span> <span class=\"n\">model</span><span class=\"p\">(</span><span class=\"s\">\"Rewrite factually correct version of: \"</span> <span class=\"o\">+</span> <span class=\"n\">output</span> <span class=\"o\">+</span> <span class=\"s\">\" considering: \"</span> <span class=\"o\">+</span> <span class=\"n\">critique</span><span class=\"p\">)</span>\n</code></pre>\n<p><strong>Iterative Feedback Loops:</strong>\nAlternate between generation, critique, and verification. Continue until a factual confidence threshold is reached.</p>\n<h4 id=\"retrieval-assisted-correction\">Retrieval-Assisted Correction</h4>\n<ul>\n  <li>Incorporate external search during self-critique, effectively transforming post-hoc verification into RAG-like correction. SAFE (<a href=\"https://arxiv.org/abs/2403.18802\">Wei et al. (2024)</a>) embodies this idea: each atomic claim is searched and re-evaluated before the final answer is accepted.</li>\n</ul>",
    "contentMarkdown": "*   After a model produces an output, factual errors can be detected and repaired without retraining.\n\n#### Automated Post-Editing\n\n*   **ReFact** ([Peng et al. (2023)](https://arxiv.org/abs/2303.17575)): generate candidate corrections for identified false claims by querying external sources.\n*   Pipeline:\n    \n    1.  Detect unsupported claims with NLI or QA-based verifiers.\n    2.  Retrieve supporting evidence.\n    3.  Regenerate the corrected claim conditioned on retrieved snippets.\n\nPipeline:\n\n1.  Detect unsupported claims with NLI or QA-based verifiers.\n2.  Retrieve supporting evidence.\n3.  Regenerate the corrected claim conditioned on retrieved snippets.\n\n#### Self-Reflection and Critique\n\n*   **SelfCheckGPT / Reflexion** ([Shinn et al. (2023)](https://arxiv.org/abs/2303.11366)): have the model critique its own outputs and regenerate corrections. Implementation:\n    \n    ![](https://aman.ai/images/copy.png)\n    \n    `critique = model(\"Critique factual errors in: \" + output) corrected = model(\"Rewrite factually correct version of: \" + output + \" considering: \" + critique)`\n    \n*   **Iterative Feedback Loops:** Alternate between generation, critique, and verification. Continue until a factual confidence threshold is reached.\n    \n\n**SelfCheckGPT / Reflexion** ([Shinn et al. (2023)](https://arxiv.org/abs/2303.11366)): have the model critique its own outputs and regenerate corrections. Implementation:\n\n![](https://aman.ai/images/copy.png)\n\n`critique = model(\"Critique factual errors in: \" + output) corrected = model(\"Rewrite factually correct version of: \" + output + \" considering: \" + critique)`\n\n**Iterative Feedback Loops:** Alternate between generation, critique, and verification. Continue until a factual confidence threshold is reached.\n\n#### Retrieval-Assisted Correction\n\n*   Incorporate external search during self-critique, effectively transforming post-hoc verification into RAG-like correction. SAFE ([Wei et al. (2024)](https://arxiv.org/abs/2403.18802)) embodies this idea: each atomic claim is searched and re-evaluated before the final answer is accepted.",
    "contentLength": 4022,
    "wordCount": 248,
    "hasCode": true,
    "hasMath": false,
    "hasImages": true,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#post-hoc-correction-and-self-evaluation"
  },
  {
    "id": "ai-factuality-in-LLMs-system-level-integration-15",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Improving Factuality in Large Language Models",
    "title": "System-Level Integration",
    "order": 15,
    "orderInChapter": 4,
    "contentHtml": "<ul>\n  <li>\n    <p>To integrate factuality improvement into deployed systems:</p>\n\n    <ol>\n      <li><strong>Modular design:</strong> Separate retriever, generator, verifier, and scorer modules.</li>\n      <li><strong>Incremental pipelines:</strong> Run verifiers asynchronously to re-evaluate old responses as world knowledge changes.</li>\n      <li><strong>Feedback logging:</strong> Store factuality scores in metadata for future fine-tuning.</li>\n      <li><strong>Human oversight:</strong> Automatically flag low-confidence outputs for human review.</li>\n      <li><strong>Continuous retraining:</strong> Use verified logs as training data for factual reinforcement learning.</li>\n    </ol>\n  </li>\n</ul>\n<p>To integrate factuality improvement into deployed systems:</p>\n<ol>\n      <li><strong>Modular design:</strong> Separate retriever, generator, verifier, and scorer modules.</li>\n      <li><strong>Incremental pipelines:</strong> Run verifiers asynchronously to re-evaluate old responses as world knowledge changes.</li>\n      <li><strong>Feedback logging:</strong> Store factuality scores in metadata for future fine-tuning.</li>\n      <li><strong>Human oversight:</strong> Automatically flag low-confidence outputs for human review.</li>\n      <li><strong>Continuous retraining:</strong> Use verified logs as training data for factual reinforcement learning.</li>\n    </ol>",
    "contentMarkdown": "*   To integrate factuality improvement into deployed systems:\n    \n    1.  **Modular design:** Separate retriever, generator, verifier, and scorer modules.\n    2.  **Incremental pipelines:** Run verifiers asynchronously to re-evaluate old responses as world knowledge changes.\n    3.  **Feedback logging:** Store factuality scores in metadata for future fine-tuning.\n    4.  **Human oversight:** Automatically flag low-confidence outputs for human review.\n    5.  **Continuous retraining:** Use verified logs as training data for factual reinforcement learning.\n\nTo integrate factuality improvement into deployed systems:\n\n1.  **Modular design:** Separate retriever, generator, verifier, and scorer modules.\n2.  **Incremental pipelines:** Run verifiers asynchronously to re-evaluate old responses as world knowledge changes.\n3.  **Feedback logging:** Store factuality scores in metadata for future fine-tuning.\n4.  **Human oversight:** Automatically flag low-confidence outputs for human review.\n5.  **Continuous retraining:** Use verified logs as training data for factual reinforcement learning.",
    "contentLength": 1386,
    "wordCount": 131,
    "hasCode": false,
    "hasMath": false,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#system-level-integration"
  },
  {
    "id": "ai-factuality-in-LLMs-open-challenges-16",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Improving Factuality in Large Language Models",
    "title": "Open Challenges",
    "order": 16,
    "orderInChapter": 5,
    "contentHtml": "<ul>\n  <li><strong>Verifier reliability:</strong> Automatic verifiers can themselves hallucinate or overfit to lexical overlap.</li>\n  <li><strong>Evolving knowledge:</strong> Static parameter memory cannot keep up with fast-changing domains.</li>\n  <li><strong>Trade-offs:</strong> Improving factuality can reduce creativity or stylistic diversity.</li>\n  <li><strong>Explainability:</strong> Users often require explanations for why a model considers something factual.</li>\n  <li><strong>Scalability:</strong> Multi-stage verification pipelines are computationally heavy, especially for multi-document outputs.</li>\n</ul>",
    "contentMarkdown": "*   **Verifier reliability:** Automatic verifiers can themselves hallucinate or overfit to lexical overlap.\n*   **Evolving knowledge:** Static parameter memory cannot keep up with fast-changing domains.\n*   **Trade-offs:** Improving factuality can reduce creativity or stylistic diversity.\n*   **Explainability:** Users often require explanations for why a model considers something factual.\n*   **Scalability:** Multi-stage verification pipelines are computationally heavy, especially for multi-document outputs.",
    "contentLength": 624,
    "wordCount": 60,
    "hasCode": false,
    "hasMath": false,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#open-challenges"
  },
  {
    "id": "ai-factuality-in-LLMs-benchmarking-and-standardization-17",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Open Research Directions in Factuality",
    "title": "Benchmarking and Standardization",
    "order": 17,
    "orderInChapter": 1,
    "contentHtml": "<ul>\n  <li><strong>Problem:</strong>\n    <ul>\n      <li>Current factuality benchmarks differ widely in task scope, verification method, and evaluation metrics. This prevents cross-model comparability and slows the pace of robust factual evaluation.</li>\n    </ul>\n  </li>\n  <li><strong>Challenges:</strong>\n    <ul>\n      <li>Fragmented metrics (e.g., <em>entailment</em>, <em>QA consistency</em>, <em>search-based</em>).</li>\n      <li>Non-uniform definitions of “support” or “truth.”</li>\n      <li>Limited multi-domain coverage (news, biomedical, finance, etc.).</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Research Directions:</strong></p>\n\n    <ul>\n      <li><strong>Unified factuality schema:</strong> A standardized taxonomy for factual labels, unifying <em>supported / contradicted / unverifiable</em> across domains (see <strong>FEVER 2.0</strong> proposal).</li>\n      <li><strong>Meta-benchmarks:</strong> Combine short-form (<strong>SimpleQA</strong>, <a href=\"https://arxiv.org/abs/2411.04368\">Ye et al. (2024)</a>), long-form (<strong>LongFact</strong>, <a href=\"https://arxiv.org/abs/2403.18802\">Wei et al. (2024)</a>), and grounded (<strong>RAGAS</strong>, <a href=\"https://arxiv.org/abs/2309.15217\">Es et al. (2023)</a>) into integrated suites.</li>\n      <li><strong>Open evaluation APIs:</strong> Public leaderboards that use automatic verifiers for reproducibility, akin to <strong>EvalGauntlet</strong> or <strong>HELM 2.0</strong> (<a href=\"https://arxiv.org/abs/2211.09110\">Liang et al. (2022)</a>).</li>\n    </ul>\n  </li>\n  <li><strong>Implementation Idea:</strong>\n    <ul>\n      <li>Design a modular benchmark generator where prompts, references, and verifier configurations are stored in versioned JSON schemas. Evaluators can plug in any model or verifier with standardized metrics output (e.g., <code class=\"language-plaintext highlighter-rouge\">faithfulness_score</code>, <code class=\"language-plaintext highlighter-rouge\">truthfulness_score</code>, <code class=\"language-plaintext highlighter-rouge\">groundedness_score</code>).</li>\n    </ul>\n  </li>\n</ul>\n<ul>\n      <li>Current factuality benchmarks differ widely in task scope, verification method, and evaluation metrics. This prevents cross-model comparability and slows the pace of robust factual evaluation.</li>\n    </ul>\n<ul>\n      <li>Fragmented metrics (e.g., <em>entailment</em>, <em>QA consistency</em>, <em>search-based</em>).</li>\n      <li>Non-uniform definitions of “support” or “truth.”</li>\n      <li>Limited multi-domain coverage (news, biomedical, finance, etc.).</li>\n    </ul>\n<p><strong>Research Directions:</strong></p>\n<ul>\n      <li><strong>Unified factuality schema:</strong> A standardized taxonomy for factual labels, unifying <em>supported / contradicted / unverifiable</em> across domains (see <strong>FEVER 2.0</strong> proposal).</li>\n      <li><strong>Meta-benchmarks:</strong> Combine short-form (<strong>SimpleQA</strong>, <a href=\"https://arxiv.org/abs/2411.04368\">Ye et al. (2024)</a>), long-form (<strong>LongFact</strong>, <a href=\"https://arxiv.org/abs/2403.18802\">Wei et al. (2024)</a>), and grounded (<strong>RAGAS</strong>, <a href=\"https://arxiv.org/abs/2309.15217\">Es et al. (2023)</a>) into integrated suites.</li>\n      <li><strong>Open evaluation APIs:</strong> Public leaderboards that use automatic verifiers for reproducibility, akin to <strong>EvalGauntlet</strong> or <strong>HELM 2.0</strong> (<a href=\"https://arxiv.org/abs/2211.09110\">Liang et al. (2022)</a>).</li>\n    </ul>\n<ul>\n      <li>Design a modular benchmark generator where prompts, references, and verifier configurations are stored in versioned JSON schemas. Evaluators can plug in any model or verifier with standardized metrics output (e.g., <code class=\"language-plaintext highlighter-rouge\">faithfulness_score</code>, <code class=\"language-plaintext highlighter-rouge\">truthfulness_score</code>, <code class=\"language-plaintext highlighter-rouge\">groundedness_score</code>).</li>\n    </ul>",
    "contentMarkdown": "*   **Problem:**\n    *   Current factuality benchmarks differ widely in task scope, verification method, and evaluation metrics. This prevents cross-model comparability and slows the pace of robust factual evaluation.\n*   **Challenges:**\n    *   Fragmented metrics (e.g., _entailment_, _QA consistency_, _search-based_).\n    *   Non-uniform definitions of “support” or “truth.”\n    *   Limited multi-domain coverage (news, biomedical, finance, etc.).\n*   **Research Directions:**\n    \n    *   **Unified factuality schema:** A standardized taxonomy for factual labels, unifying _supported / contradicted / unverifiable_ across domains (see **FEVER 2.0** proposal).\n    *   **Meta-benchmarks:** Combine short-form (**SimpleQA**, [Ye et al. (2024)](https://arxiv.org/abs/2411.04368)), long-form (**LongFact**, [Wei et al. (2024)](https://arxiv.org/abs/2403.18802)), and grounded (**RAGAS**, [Es et al. (2023)](https://arxiv.org/abs/2309.15217)) into integrated suites.\n    *   **Open evaluation APIs:** Public leaderboards that use automatic verifiers for reproducibility, akin to **EvalGauntlet** or **HELM 2.0** ([Liang et al. (2022)](https://arxiv.org/abs/2211.09110)).\n*   **Implementation Idea:**\n    *   Design a modular benchmark generator where prompts, references, and verifier configurations are stored in versioned JSON schemas. Evaluators can plug in any model or verifier with standardized metrics output (e.g., `faithfulness_score`, `truthfulness_score`, `groundedness_score`).\n\n*   Current factuality benchmarks differ widely in task scope, verification method, and evaluation metrics. This prevents cross-model comparability and slows the pace of robust factual evaluation.\n\n*   Fragmented metrics (e.g., _entailment_, _QA consistency_, _search-based_).\n*   Non-uniform definitions of “support” or “truth.”\n*   Limited multi-domain coverage (news, biomedical, finance, etc.).\n\n**Research Directions:**\n\n*   **Unified factuality schema:** A standardized taxonomy for factual labels, unifying _supported / contradicted / unverifiable_ across domains (see **FEVER 2.0** proposal).\n*   **Meta-benchmarks:** Combine short-form (**SimpleQA**, [Ye et al. (2024)](https://arxiv.org/abs/2411.04368)), long-form (**LongFact**, [Wei et al. (2024)](https://arxiv.org/abs/2403.18802)), and grounded (**RAGAS**, [Es et al. (2023)](https://arxiv.org/abs/2309.15217)) into integrated suites.\n*   **Open evaluation APIs:** Public leaderboards that use automatic verifiers for reproducibility, akin to **EvalGauntlet** or **HELM 2.0** ([Liang et al. (2022)](https://arxiv.org/abs/2211.09110)).\n\n*   Design a modular benchmark generator where prompts, references, and verifier configurations are stored in versioned JSON schemas. Evaluators can plug in any model or verifier with standardized metrics output (e.g., `faithfulness_score`, `truthfulness_score`, `groundedness_score`).",
    "contentLength": 3995,
    "wordCount": 316,
    "hasCode": true,
    "hasMath": false,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#benchmarking-and-standardization"
  },
  {
    "id": "ai-factuality-in-LLMs-dynamic-and-temporal-factuality-18",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Open Research Directions in Factuality",
    "title": "Dynamic and Temporal Factuality",
    "order": 18,
    "orderInChapter": 2,
    "contentHtml": "<ul>\n  <li><strong>Problem:</strong>\n    <ul>\n      <li>Most benchmarks assume static truths, but factual reality evolves—people change roles, numbers shift, and scientific findings update.</li>\n    </ul>\n  </li>\n  <li><strong>Examples:</strong>\n    <ul>\n      <li><em>FreshQA</em> (<a href=\"https://arxiv.org/abs/2309.10239\">Vu et al. (2023)</a>) shows factual accuracy declines rapidly for time-sensitive knowledge.</li>\n      <li><em>Temporal RAG</em> systems attempt to incorporate timestamped retrieval but lack standard evaluation metrics.</li>\n    </ul>\n  </li>\n  <li><strong>Research Directions:</strong>\n    <ul>\n      <li><strong>Temporal knowledge modeling:</strong> Represent time-indexed facts <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-112-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>f</mi><mi>t</mi></msub><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mi>s</mi><mo>,</mo><mi>r</mi><mo>,</mo><mi>o</mi><mo>,</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1046\" style=\"width: 6.409em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 5.315em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1005.26em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1047\"><span class=\"msubsup\" id=\"MathJax-Span-1048\"><span style=\"display: inline-block; position: relative; width: 0.576em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.42em, 4.378em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1049\" style=\"font-family: STIXGeneral-Italic;\">f<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.159em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.263em;\"><span class=\"mi\" id=\"MathJax-Span-1050\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">t<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1051\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mo\" id=\"MathJax-Span-1052\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">(</span><span class=\"mi\" id=\"MathJax-Span-1053\" style=\"font-family: STIXGeneral-Italic;\">s</span><span class=\"mo\" id=\"MathJax-Span-1054\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mi\" id=\"MathJax-Span-1055\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.211em;\">r<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-1056\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mi\" id=\"MathJax-Span-1057\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.211em;\">o</span><span class=\"mo\" id=\"MathJax-Span-1058\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mi\" id=\"MathJax-Span-1059\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.211em;\">t<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-1060\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>f</mi><mi>t</mi></msub><mo>=</mo><mo stretchy=\"false\">(</mo><mi>s</mi><mo>,</mo><mi>r</mi><mo>,</mo><mi>o</mi><mo>,</mo><mi>t</mi><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-112\">f_t = (s, r, o, t)</script> with continuous-time embeddings.</li>\n      <li><strong>Dynamic retrievers:</strong> Retrieve sources within a temporal window <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-113-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>[</mo><mi>t</mi><mo>&amp;#x2212;</mo><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><mo>,</mo><mi>t</mi><mo stretchy=&quot;false&quot;>]</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1061\" style=\"width: 4.221em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 3.492em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1003.39em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1062\"><span class=\"mo\" id=\"MathJax-Span-1063\" style=\"font-family: STIXGeneral-Regular;\">[</span><span class=\"mi\" id=\"MathJax-Span-1064\" style=\"font-family: STIXGeneral-Italic;\">t<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-1065\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">−</span><span class=\"mi\" id=\"MathJax-Span-1066\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">Δ</span><span class=\"mo\" id=\"MathJax-Span-1067\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mi\" id=\"MathJax-Span-1068\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.211em;\">t<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-1069\" style=\"font-family: STIXGeneral-Regular;\">]</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo stretchy=\"false\">[</mo><mi>t</mi><mo>−</mo><mi mathvariant=\"normal\">Δ</mi><mo>,</mo><mi>t</mi><mo stretchy=\"false\">]</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-113\">[t-\\Delta, t]</script> to simulate up-to-date factuality.</li>\n      <li><strong>Time-aware verifiers:</strong> Condition entailment models on document timestamps.</li>\n      <li><strong>Streaming fine-tuning:</strong> Incrementally update model parameters using rolling factual logs while preserving stability (akin to continual learning with replay buffers).</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Implementation Example:</strong></p>\n\n    <div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code5\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code5\"><span class=\"n\">retrieved_docs</span> <span class=\"o\">=</span> <span class=\"n\">retriever</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">,</span> <span class=\"n\">time_range</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s\">\"2025-09-01\"</span><span class=\"p\">,</span><span class=\"s\">\"2025-10-01\"</span><span class=\"p\">))</span>\n<span class=\"n\">verifier_output</span> <span class=\"o\">=</span> <span class=\"n\">temporal_nli</span><span class=\"p\">(</span><span class=\"n\">model_output</span><span class=\"p\">,</span> <span class=\"n\">retrieved_docs</span><span class=\"p\">)</span>\n</code></pre></div>    </div>\n  </li>\n  <li>Evaluate factual accuracy as a function of recency to measure temporal robustness.</li>\n</ul>\n<ul>\n      <li>Most benchmarks assume static truths, but factual reality evolves—people change roles, numbers shift, and scientific findings update.</li>\n    </ul>\n<ul>\n      <li><em>FreshQA</em> (<a href=\"https://arxiv.org/abs/2309.10239\">Vu et al. (2023)</a>) shows factual accuracy declines rapidly for time-sensitive knowledge.</li>\n      <li><em>Temporal RAG</em> systems attempt to incorporate timestamped retrieval but lack standard evaluation metrics.</li>\n    </ul>\n<ul>\n      <li><strong>Temporal knowledge modeling:</strong> Represent time-indexed facts <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-112-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>f</mi><mi>t</mi></msub><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mi>s</mi><mo>,</mo><mi>r</mi><mo>,</mo><mi>o</mi><mo>,</mo><mi>t</mi><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1046\" style=\"width: 6.409em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 5.315em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1005.26em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1047\"><span class=\"msubsup\" id=\"MathJax-Span-1048\"><span style=\"display: inline-block; position: relative; width: 0.576em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.42em, 4.378em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1049\" style=\"font-family: STIXGeneral-Italic;\">f<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.159em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.263em;\"><span class=\"mi\" id=\"MathJax-Span-1050\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">t<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1051\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mo\" id=\"MathJax-Span-1052\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">(</span><span class=\"mi\" id=\"MathJax-Span-1053\" style=\"font-family: STIXGeneral-Italic;\">s</span><span class=\"mo\" id=\"MathJax-Span-1054\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mi\" id=\"MathJax-Span-1055\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.211em;\">r<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-1056\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mi\" id=\"MathJax-Span-1057\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.211em;\">o</span><span class=\"mo\" id=\"MathJax-Span-1058\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mi\" id=\"MathJax-Span-1059\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.211em;\">t<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-1060\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>f</mi><mi>t</mi></msub><mo>=</mo><mo stretchy=\"false\">(</mo><mi>s</mi><mo>,</mo><mi>r</mi><mo>,</mo><mi>o</mi><mo>,</mo><mi>t</mi><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-112\">f_t = (s, r, o, t)</script> with continuous-time embeddings.</li>\n      <li><strong>Dynamic retrievers:</strong> Retrieve sources within a temporal window <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-113-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>[</mo><mi>t</mi><mo>&amp;#x2212;</mo><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi><mo>,</mo><mi>t</mi><mo stretchy=&quot;false&quot;>]</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1061\" style=\"width: 4.221em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 3.492em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1003.39em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1062\"><span class=\"mo\" id=\"MathJax-Span-1063\" style=\"font-family: STIXGeneral-Regular;\">[</span><span class=\"mi\" id=\"MathJax-Span-1064\" style=\"font-family: STIXGeneral-Italic;\">t<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-1065\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">−</span><span class=\"mi\" id=\"MathJax-Span-1066\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">Δ</span><span class=\"mo\" id=\"MathJax-Span-1067\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mi\" id=\"MathJax-Span-1068\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.211em;\">t<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-1069\" style=\"font-family: STIXGeneral-Regular;\">]</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo stretchy=\"false\">[</mo><mi>t</mi><mo>−</mo><mi mathvariant=\"normal\">Δ</mi><mo>,</mo><mi>t</mi><mo stretchy=\"false\">]</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-113\">[t-\\Delta, t]</script> to simulate up-to-date factuality.</li>\n      <li><strong>Time-aware verifiers:</strong> Condition entailment models on document timestamps.</li>\n      <li><strong>Streaming fine-tuning:</strong> Incrementally update model parameters using rolling factual logs while preserving stability (akin to continual learning with replay buffers).</li>\n    </ul>\n<p><strong>Implementation Example:</strong></p>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code5\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code5\"><span class=\"n\">retrieved_docs</span> <span class=\"o\">=</span> <span class=\"n\">retriever</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">,</span> <span class=\"n\">time_range</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"s\">\"2025-09-01\"</span><span class=\"p\">,</span><span class=\"s\">\"2025-10-01\"</span><span class=\"p\">))</span>\n<span class=\"n\">verifier_output</span> <span class=\"o\">=</span> <span class=\"n\">temporal_nli</span><span class=\"p\">(</span><span class=\"n\">model_output</span><span class=\"p\">,</span> <span class=\"n\">retrieved_docs</span><span class=\"p\">)</span>\n</code></pre>",
    "contentMarkdown": "*   **Problem:**\n    *   Most benchmarks assume static truths, but factual reality evolves—people change roles, numbers shift, and scientific findings update.\n*   **Examples:**\n    *   _FreshQA_ ([Vu et al. (2023)](https://arxiv.org/abs/2309.10239)) shows factual accuracy declines rapidly for time-sensitive knowledge.\n    *   _Temporal RAG_ systems attempt to incorporate timestamped retrieval but lack standard evaluation metrics.\n*   **Research Directions:**\n    *   **Temporal knowledge modeling:** Represent time-indexed facts ft\\=(s,r,o,t)ft\\=(s,r,o,t)f\\_t = (s, r, o, t) with continuous-time embeddings.\n    *   **Dynamic retrievers:** Retrieve sources within a temporal window \\[t−Δ,t\\]\\[t−Δ,t\\]\\[t-\\\\Delta, t\\] to simulate up-to-date factuality.\n    *   **Time-aware verifiers:** Condition entailment models on document timestamps.\n    *   **Streaming fine-tuning:** Incrementally update model parameters using rolling factual logs while preserving stability (akin to continual learning with replay buffers).\n*   **Implementation Example:**\n    \n    ![](https://aman.ai/images/copy.png)\n    \n    `retrieved_docs = retriever(query, time_range=(\"2025-09-01\",\"2025-10-01\")) verifier_output = temporal_nli(model_output, retrieved_docs)`\n    \n*   Evaluate factual accuracy as a function of recency to measure temporal robustness.\n\n*   Most benchmarks assume static truths, but factual reality evolves—people change roles, numbers shift, and scientific findings update.\n\n*   _FreshQA_ ([Vu et al. (2023)](https://arxiv.org/abs/2309.10239)) shows factual accuracy declines rapidly for time-sensitive knowledge.\n*   _Temporal RAG_ systems attempt to incorporate timestamped retrieval but lack standard evaluation metrics.\n\n*   **Temporal knowledge modeling:** Represent time-indexed facts ft\\=(s,r,o,t)ft\\=(s,r,o,t)f\\_t = (s, r, o, t) with continuous-time embeddings.\n*   **Dynamic retrievers:** Retrieve sources within a temporal window \\[t−Δ,t\\]\\[t−Δ,t\\]\\[t-\\\\Delta, t\\] to simulate up-to-date factuality.\n*   **Time-aware verifiers:** Condition entailment models on document timestamps.\n*   **Streaming fine-tuning:** Incrementally update model parameters using rolling factual logs while preserving stability (akin to continual learning with replay buffers).\n\n**Implementation Example:**\n\n![](https://aman.ai/images/copy.png)\n\n`retrieved_docs = retriever(query, time_range=(\"2025-09-01\",\"2025-10-01\")) verifier_output = temporal_nli(model_output, retrieved_docs)`",
    "contentLength": 15891,
    "wordCount": 257,
    "hasCode": true,
    "hasMath": true,
    "hasImages": true,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#dynamic-and-temporal-factuality"
  },
  {
    "id": "ai-factuality-in-LLMs-verifier-and-evaluator-alignment-19",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Open Research Directions in Factuality",
    "title": "Verifier and Evaluator Alignment",
    "order": 19,
    "orderInChapter": 3,
    "contentHtml": "<ul>\n  <li><strong>Problem:</strong>\n    <ul>\n      <li>Automatic factuality verifiers (e.g., NLI or QA-based) often disagree with human judgment, especially on paraphrases or nuanced contradictions.</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Research Directions:</strong></p>\n\n    <ul>\n      <li><strong>LLM-Judge alignment:</strong> Train verifiers using human rationales that explain <strong>why</strong> a claim is factual or false.</li>\n      <li><strong>Cross-model calibration:</strong> Regularize verifier confidence scores to match human likelihoods (Expected Calibration Error minimization).</li>\n      <li><strong>Verifiers with reasoning traces:</strong> Instead of binary outputs, require verifiers to produce <strong>hain-of-verification</strong> explanations.</li>\n      <li><strong>Self-evaluating verifiers:</strong> Use meta-models that critique verifier outputs for bias or inconsistency.</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Implementation Detail:</strong></p>\n\n    <ul>\n      <li>Train multi-task factual verifiers jointly on FEVER, QAFactEval, and RAGAS datasets using multi-objective loss:\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-114-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-caligraphic&quot; mathvariant=&quot;script&quot;>L</mi></mrow><mo>=</mo><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-caligraphic&quot; mathvariant=&quot;script&quot;>L</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>entail</mtext></mrow></msub><mo>+</mo><mi>&amp;#x03B1;</mi><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-caligraphic&quot; mathvariant=&quot;script&quot;>L</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>QA</mtext></mrow></msub><mo>+</mo><mi>&amp;#x03B2;</mi><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-caligraphic&quot; mathvariant=&quot;script&quot;>L</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>retrieval</mtext></mrow></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1070\" style=\"width: 15.003em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 12.503em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1012.5em, 2.607em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1071\"><span class=\"texatom\" id=\"MathJax-Span-1072\"><span class=\"mrow\" id=\"MathJax-Span-1073\"><span class=\"mi\" id=\"MathJax-Span-1074\" style=\"font-family: STIXNonUnicode-Italic;\"></span></span></span><span class=\"mo\" id=\"MathJax-Span-1075\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"msubsup\" id=\"MathJax-Span-1076\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 2.346em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.68em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"texatom\" id=\"MathJax-Span-1077\"><span class=\"mrow\" id=\"MathJax-Span-1078\"><span class=\"mi\" id=\"MathJax-Span-1079\" style=\"font-family: STIXNonUnicode-Italic;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.68em;\"><span class=\"texatom\" id=\"MathJax-Span-1080\"><span class=\"mrow\" id=\"MathJax-Span-1081\"><span class=\"mtext\" id=\"MathJax-Span-1082\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">entail</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1083\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"mi\" id=\"MathJax-Span-1084\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.263em;\">α</span><span class=\"msubsup\" id=\"MathJax-Span-1085\"><span style=\"display: inline-block; position: relative; width: 1.773em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.68em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"texatom\" id=\"MathJax-Span-1086\"><span class=\"mrow\" id=\"MathJax-Span-1087\"><span class=\"mi\" id=\"MathJax-Span-1088\" style=\"font-family: STIXNonUnicode-Italic;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.68em;\"><span class=\"texatom\" id=\"MathJax-Span-1089\"><span class=\"mrow\" id=\"MathJax-Span-1090\"><span class=\"mtext\" id=\"MathJax-Span-1091\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">QA</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1092\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"mi\" id=\"MathJax-Span-1093\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.263em;\">β<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span class=\"msubsup\" id=\"MathJax-Span-1094\"><span style=\"display: inline-block; position: relative; width: 3.128em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.68em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"texatom\" id=\"MathJax-Span-1095\"><span class=\"mrow\" id=\"MathJax-Span-1096\"><span class=\"mi\" id=\"MathJax-Span-1097\" style=\"font-family: STIXNonUnicode-Italic;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.68em;\"><span class=\"texatom\" id=\"MathJax-Span-1098\"><span class=\"mrow\" id=\"MathJax-Span-1099\"><span class=\"mtext\" id=\"MathJax-Span-1100\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">retrieval</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.253em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mrow class=\"MJX-TeXAtom-ORD\"><mi class=\"MJX-tex-caligraphic\" mathvariant=\"script\">L</mi></mrow><mo>=</mo><msub><mrow class=\"MJX-TeXAtom-ORD\"><mi class=\"MJX-tex-caligraphic\" mathvariant=\"script\">L</mi></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mtext>entail</mtext></mrow></msub><mo>+</mo><mi>α</mi><msub><mrow class=\"MJX-TeXAtom-ORD\"><mi class=\"MJX-tex-caligraphic\" mathvariant=\"script\">L</mi></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mtext>QA</mtext></mrow></msub><mo>+</mo><mi>β</mi><msub><mrow class=\"MJX-TeXAtom-ORD\"><mi class=\"MJX-tex-caligraphic\" mathvariant=\"script\">L</mi></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mtext>retrieval</mtext></mrow></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-114\">\\mathcal{L} = \\mathcal{L}_{\\text{entail}} + \\alpha \\mathcal{L}_{\\text{QA}} + \\beta \\mathcal{L}_{\\text{retrieval}}</script></li>\n      <li>Use <em>LoRA adapters</em> for efficient multi-domain adaptation.</li>\n    </ul>\n  </li>\n</ul>\n<ul>\n      <li>Automatic factuality verifiers (e.g., NLI or QA-based) often disagree with human judgment, especially on paraphrases or nuanced contradictions.</li>\n    </ul>\n<p><strong>Research Directions:</strong></p>\n<ul>\n      <li><strong>LLM-Judge alignment:</strong> Train verifiers using human rationales that explain <strong>why</strong> a claim is factual or false.</li>\n      <li><strong>Cross-model calibration:</strong> Regularize verifier confidence scores to match human likelihoods (Expected Calibration Error minimization).</li>\n      <li><strong>Verifiers with reasoning traces:</strong> Instead of binary outputs, require verifiers to produce <strong>hain-of-verification</strong> explanations.</li>\n      <li><strong>Self-evaluating verifiers:</strong> Use meta-models that critique verifier outputs for bias or inconsistency.</li>\n    </ul>\n<p><strong>Implementation Detail:</strong></p>\n<ul>\n      <li>Train multi-task factual verifiers jointly on FEVER, QAFactEval, and RAGAS datasets using multi-objective loss:\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-114-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-caligraphic&quot; mathvariant=&quot;script&quot;>L</mi></mrow><mo>=</mo><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-caligraphic&quot; mathvariant=&quot;script&quot;>L</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>entail</mtext></mrow></msub><mo>+</mo><mi>&amp;#x03B1;</mi><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-caligraphic&quot; mathvariant=&quot;script&quot;>L</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>QA</mtext></mrow></msub><mo>+</mo><mi>&amp;#x03B2;</mi><msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-caligraphic&quot; mathvariant=&quot;script&quot;>L</mi></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>retrieval</mtext></mrow></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1070\" style=\"width: 15.003em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 12.503em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1012.5em, 2.607em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1071\"><span class=\"texatom\" id=\"MathJax-Span-1072\"><span class=\"mrow\" id=\"MathJax-Span-1073\"><span class=\"mi\" id=\"MathJax-Span-1074\" style=\"font-family: STIXNonUnicode-Italic;\"></span></span></span><span class=\"mo\" id=\"MathJax-Span-1075\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"msubsup\" id=\"MathJax-Span-1076\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 2.346em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.68em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"texatom\" id=\"MathJax-Span-1077\"><span class=\"mrow\" id=\"MathJax-Span-1078\"><span class=\"mi\" id=\"MathJax-Span-1079\" style=\"font-family: STIXNonUnicode-Italic;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.68em;\"><span class=\"texatom\" id=\"MathJax-Span-1080\"><span class=\"mrow\" id=\"MathJax-Span-1081\"><span class=\"mtext\" id=\"MathJax-Span-1082\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">entail</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1083\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"mi\" id=\"MathJax-Span-1084\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.263em;\">α</span><span class=\"msubsup\" id=\"MathJax-Span-1085\"><span style=\"display: inline-block; position: relative; width: 1.773em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.68em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"texatom\" id=\"MathJax-Span-1086\"><span class=\"mrow\" id=\"MathJax-Span-1087\"><span class=\"mi\" id=\"MathJax-Span-1088\" style=\"font-family: STIXNonUnicode-Italic;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.68em;\"><span class=\"texatom\" id=\"MathJax-Span-1089\"><span class=\"mrow\" id=\"MathJax-Span-1090\"><span class=\"mtext\" id=\"MathJax-Span-1091\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">QA</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1092\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"mi\" id=\"MathJax-Span-1093\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.263em;\">β<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span class=\"msubsup\" id=\"MathJax-Span-1094\"><span style=\"display: inline-block; position: relative; width: 3.128em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.68em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"texatom\" id=\"MathJax-Span-1095\"><span class=\"mrow\" id=\"MathJax-Span-1096\"><span class=\"mi\" id=\"MathJax-Span-1097\" style=\"font-family: STIXNonUnicode-Italic;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.68em;\"><span class=\"texatom\" id=\"MathJax-Span-1098\"><span class=\"mrow\" id=\"MathJax-Span-1099\"><span class=\"mtext\" id=\"MathJax-Span-1100\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">retrieval</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.253em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mrow class=\"MJX-TeXAtom-ORD\"><mi class=\"MJX-tex-caligraphic\" mathvariant=\"script\">L</mi></mrow><mo>=</mo><msub><mrow class=\"MJX-TeXAtom-ORD\"><mi class=\"MJX-tex-caligraphic\" mathvariant=\"script\">L</mi></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mtext>entail</mtext></mrow></msub><mo>+</mo><mi>α</mi><msub><mrow class=\"MJX-TeXAtom-ORD\"><mi class=\"MJX-tex-caligraphic\" mathvariant=\"script\">L</mi></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mtext>QA</mtext></mrow></msub><mo>+</mo><mi>β</mi><msub><mrow class=\"MJX-TeXAtom-ORD\"><mi class=\"MJX-tex-caligraphic\" mathvariant=\"script\">L</mi></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mtext>retrieval</mtext></mrow></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-114\">\\mathcal{L} = \\mathcal{L}_{\\text{entail}} + \\alpha \\mathcal{L}_{\\text{QA}} + \\beta \\mathcal{L}_{\\text{retrieval}}</script></li>\n      <li>Use <em>LoRA adapters</em> for efficient multi-domain adaptation.</li>\n    </ul>",
    "contentMarkdown": "*   **Problem:**\n    *   Automatic factuality verifiers (e.g., NLI or QA-based) often disagree with human judgment, especially on paraphrases or nuanced contradictions.\n*   **Research Directions:**\n    \n    *   **LLM-Judge alignment:** Train verifiers using human rationales that explain **why** a claim is factual or false.\n    *   **Cross-model calibration:** Regularize verifier confidence scores to match human likelihoods (Expected Calibration Error minimization).\n    *   **Verifiers with reasoning traces:** Instead of binary outputs, require verifiers to produce **hain-of-verification** explanations.\n    *   **Self-evaluating verifiers:** Use meta-models that critique verifier outputs for bias or inconsistency.\n*   **Implementation Detail:**\n    \n    *   Train multi-task factual verifiers jointly on FEVER, QAFactEval, and RAGAS datasets using multi-objective loss: \\=entail+αQA+βretrievalL\\=Lentail+αLQA+βLretrieval\\\\mathcal{L} = \\\\mathcal{L}\\_{\\\\text{entail}} + \\\\alpha \\\\mathcal{L}\\_{\\\\text{QA}} + \\\\beta \\\\mathcal{L}\\_{\\\\text{retrieval}}\n    *   Use _LoRA adapters_ for efficient multi-domain adaptation.\n\n*   Automatic factuality verifiers (e.g., NLI or QA-based) often disagree with human judgment, especially on paraphrases or nuanced contradictions.\n\n**Research Directions:**\n\n*   **LLM-Judge alignment:** Train verifiers using human rationales that explain **why** a claim is factual or false.\n*   **Cross-model calibration:** Regularize verifier confidence scores to match human likelihoods (Expected Calibration Error minimization).\n*   **Verifiers with reasoning traces:** Instead of binary outputs, require verifiers to produce **hain-of-verification** explanations.\n*   **Self-evaluating verifiers:** Use meta-models that critique verifier outputs for bias or inconsistency.\n\n**Implementation Detail:**\n\n*   Train multi-task factual verifiers jointly on FEVER, QAFactEval, and RAGAS datasets using multi-objective loss: \\=entail+αQA+βretrievalL\\=Lentail+αLQA+βLretrieval\\\\mathcal{L} = \\\\mathcal{L}\\_{\\\\text{entail}} + \\\\alpha \\\\mathcal{L}\\_{\\\\text{QA}} + \\\\beta \\\\mathcal{L}\\_{\\\\text{retrieval}}\n*   Use _LoRA adapters_ for efficient multi-domain adaptation.",
    "contentLength": 14762,
    "wordCount": 234,
    "hasCode": false,
    "hasMath": true,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#verifier-and-evaluator-alignment"
  },
  {
    "id": "ai-factuality-in-LLMs-continual-truth-maintenance-20",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Open Research Directions in Factuality",
    "title": "Continual Truth Maintenance",
    "order": 20,
    "orderInChapter": 4,
    "contentHtml": "<ul>\n  <li><strong>Problem:</strong>\n    <ul>\n      <li>Even if a model is factually correct at deployment, its knowledge base decays as reality changes—a phenomenon sometimes called <em>factual drift</em>.</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Research Directions:</strong></p>\n\n    <ul>\n      <li><strong>Neural truth maintenance systems (TMS):</strong> Architectures that detect contradictions between old and new facts, updating internal memory selectively.</li>\n      <li><strong>Parametric vs. non-parametric storage:</strong> Combine static parametric knowledge with dynamic retrieval stores for hybrid memory.</li>\n      <li><strong>Knowledge expiration and confidence decay:</strong> Assign temporal priors that decay over time to encourage evidence refresh.</li>\n      <li><strong>Verification pipelines for production systems:</strong> Automatically detect outdated answers via periodic factual audits.</li>\n    </ul>\n  </li>\n  <li><strong>Implementation Idea:</strong>\n    <ul>\n      <li>Maintain a <em>factual ledger</em> of model claims and their verification status. Each claim is periodically re-evaluated with current evidence sources, triggering fine-tuning if factual drift exceeds a threshold.</li>\n    </ul>\n\n    <div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code6\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code6\"><span class=\"k\">if</span> <span class=\"n\">drift_score</span> <span class=\"o\">&gt;</span> <span class=\"mf\">0.3</span><span class=\"p\">:</span>\n    <span class=\"n\">fine_tune</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"p\">,</span> <span class=\"n\">updated_claims</span><span class=\"p\">)</span>\n</code></pre></div>    </div>\n  </li>\n  <li>Projects such as <em>Retrieval-Augmented Continual Learning</em> (cf. <a href=\"https://arxiv.org/abs/2306.03264\">Rosset et al. (2023)</a>) explore this concept in depth.</li>\n</ul>\n<ul>\n      <li>Even if a model is factually correct at deployment, its knowledge base decays as reality changes—a phenomenon sometimes called <em>factual drift</em>.</li>\n    </ul>\n<p><strong>Research Directions:</strong></p>\n<ul>\n      <li><strong>Neural truth maintenance systems (TMS):</strong> Architectures that detect contradictions between old and new facts, updating internal memory selectively.</li>\n      <li><strong>Parametric vs. non-parametric storage:</strong> Combine static parametric knowledge with dynamic retrieval stores for hybrid memory.</li>\n      <li><strong>Knowledge expiration and confidence decay:</strong> Assign temporal priors that decay over time to encourage evidence refresh.</li>\n      <li><strong>Verification pipelines for production systems:</strong> Automatically detect outdated answers via periodic factual audits.</li>\n    </ul>\n<ul>\n      <li>Maintain a <em>factual ledger</em> of model claims and their verification status. Each claim is periodically re-evaluated with current evidence sources, triggering fine-tuning if factual drift exceeds a threshold.</li>\n    </ul>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code6\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code6\"><span class=\"k\">if</span> <span class=\"n\">drift_score</span> <span class=\"o\">&gt;</span> <span class=\"mf\">0.3</span><span class=\"p\">:</span>\n    <span class=\"n\">fine_tune</span><span class=\"p\">(</span><span class=\"n\">model</span><span class=\"p\">,</span> <span class=\"n\">updated_claims</span><span class=\"p\">)</span>\n</code></pre>",
    "contentMarkdown": "*   **Problem:**\n    *   Even if a model is factually correct at deployment, its knowledge base decays as reality changes—a phenomenon sometimes called _factual drift_.\n*   **Research Directions:**\n    \n    *   **Neural truth maintenance systems (TMS):** Architectures that detect contradictions between old and new facts, updating internal memory selectively.\n    *   **Parametric vs. non-parametric storage:** Combine static parametric knowledge with dynamic retrieval stores for hybrid memory.\n    *   **Knowledge expiration and confidence decay:** Assign temporal priors that decay over time to encourage evidence refresh.\n    *   **Verification pipelines for production systems:** Automatically detect outdated answers via periodic factual audits.\n*   **Implementation Idea:**\n    \n    *   Maintain a _factual ledger_ of model claims and their verification status. Each claim is periodically re-evaluated with current evidence sources, triggering fine-tuning if factual drift exceeds a threshold.\n    \n    ![](https://aman.ai/images/copy.png)\n    \n    `if drift_score > 0.3:     fine_tune(model, updated_claims)`\n    \n*   Projects such as _Retrieval-Augmented Continual Learning_ (cf. [Rosset et al. (2023)](https://arxiv.org/abs/2306.03264)) explore this concept in depth.\n\n*   Even if a model is factually correct at deployment, its knowledge base decays as reality changes—a phenomenon sometimes called _factual drift_.\n\n**Research Directions:**\n\n*   **Neural truth maintenance systems (TMS):** Architectures that detect contradictions between old and new facts, updating internal memory selectively.\n*   **Parametric vs. non-parametric storage:** Combine static parametric knowledge with dynamic retrieval stores for hybrid memory.\n*   **Knowledge expiration and confidence decay:** Assign temporal priors that decay over time to encourage evidence refresh.\n*   **Verification pipelines for production systems:** Automatically detect outdated answers via periodic factual audits.\n\n*   Maintain a _factual ledger_ of model claims and their verification status. Each claim is periodically re-evaluated with current evidence sources, triggering fine-tuning if factual drift exceeds a threshold.\n\n![](https://aman.ai/images/copy.png)\n\n`if drift_score > 0.3:     fine_tune(model, updated_claims)`",
    "contentLength": 3842,
    "wordCount": 275,
    "hasCode": true,
    "hasMath": false,
    "hasImages": true,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#continual-truth-maintenance"
  },
  {
    "id": "ai-factuality-in-LLMs-multimodal-and-cross-domain-factuality-21",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Open Research Directions in Factuality",
    "title": "Multimodal and Cross-Domain Factuality",
    "order": 21,
    "orderInChapter": 5,
    "contentHtml": "<ul>\n  <li><strong>Problem:</strong>\n    <ul>\n      <li>Most factuality research focuses on text-only LLMs, while real-world applications (e.g., journalism, scientific reporting, education) often require <strong>cross-modal reasoning</strong>—connecting text to images, tables, or structured data.</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Research Directions:</strong></p>\n\n    <ul>\n      <li><strong>Visual factuality:</strong> Detecting mismatches between textual captions and image content (see <strong>VisualNews</strong> dataset, <a href=\"https://arxiv.org/abs/2308.07829\">Liu et al. (2023)</a>).</li>\n      <li><strong>Table grounding:</strong> Factual verification against structured data (e.g., <em>*TabFact</em>, <a href=\"https://arxiv.org/abs/1909.02164\">Chen et al. (2020)</a>).</li>\n      <li><strong>Multimodal retrieval and grounding:</strong> Retrieve both text and visual evidence for joint verification (e.g., <em>MMRAG</em> by <a href=\"https://arxiv.org/abs/2401.01163\">Gong et al. (2024)</a>).</li>\n      <li><strong>Cross-domain adaptation:</strong> Align factual verifiers trained on general corpora to specialized domains like medicine or law.</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Implementation Note:</strong></p>\n\n    <ul>\n      <li>Use <strong>Vision-Text Transformers</strong> (e.g., BLIP-2) to jointly encode evidence and output captions.</li>\n      <li>Extend factuality metrics to multimodal entailment:\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-115-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>multi</mtext></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munder><mo>&amp;#x2211;</mo><mi>i</mi></munder><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn mathvariant=&quot;bold&quot;>1</mn></mrow><mo stretchy=&quot;false&quot;>[</mo><mo stretchy=&quot;false&quot;>(</mo><msub><mi>I</mi><mi>i</mi></msub><mo>,</mo><msub><mi>T</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x22A8;</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>]</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1101\" style=\"width: 14.013em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 11.669em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.461em, 1011.57em, 3.023em, -999.997em); top: -2.497em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1102\"><span class=\"msubsup\" id=\"MathJax-Span-1103\"><span style=\"display: inline-block; position: relative; width: 2.19em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1104\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1105\"><span class=\"mrow\" id=\"MathJax-Span-1106\"><span class=\"mtext\" id=\"MathJax-Span-1107\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">multi</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1108\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-1109\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.628em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-1110\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.52em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -0.258em;\"><span class=\"mi\" id=\"MathJax-Span-1111\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.63em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.628em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"munderover\" id=\"MathJax-Span-1112\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.201em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.076em, 1000.84em, 4.43em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-1113\" style=\"font-family: STIXGeneral-Regular; vertical-align: 0.003em;\">∑</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.695em; left: 0.94em;\"><span class=\"mi\" id=\"MathJax-Span-1114\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-1115\" style=\"padding-left: 0.211em;\"><span class=\"mrow\" id=\"MathJax-Span-1116\"><span class=\"mn\" id=\"MathJax-Span-1117\" style=\"font-family: STIXGeneral; font-weight: bold;\">1</span></span></span><span class=\"mo\" id=\"MathJax-Span-1118\" style=\"font-family: STIXGeneral-Regular;\">[</span><span class=\"mo\" id=\"MathJax-Span-1119\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"msubsup\" id=\"MathJax-Span-1120\"><span style=\"display: inline-block; position: relative; width: 0.628em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.37em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1121\" style=\"font-family: STIXGeneral-Italic;\">I<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.315em;\"><span class=\"mi\" id=\"MathJax-Span-1122\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1123\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-1124\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1125\" style=\"font-family: STIXGeneral-Italic;\">T<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.576em;\"><span class=\"mi\" id=\"MathJax-Span-1126\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1127\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-1128\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">⊨</span><span class=\"msubsup\" id=\"MathJax-Span-1129\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1130\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-1131\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1132\" style=\"font-family: STIXGeneral-Regular;\">]</span></span><span style=\"display: inline-block; width: 0px; height: 2.503em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.497em; border-left: 0px solid; width: 0px; height: 1.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>multi</mtext></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munder><mo>∑</mo><mi>i</mi></munder><mrow class=\"MJX-TeXAtom-ORD\"><mn mathvariant=\"bold\">1</mn></mrow><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">(</mo><msub><mi>I</mi><mi>i</mi></msub><mo>,</mo><msub><mi>T</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo>⊨</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">]</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-115\">F_{\\text{multi}} = \\frac{1}{N}\\sum_i \\mathbf{1}[(I_i, T_i) \\models a_i]</script>\n        <ul>\n          <li>where <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-116-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>I</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1133\" style=\"width: 0.784em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.628em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.305em, 1000.63em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1134\"><span class=\"msubsup\" id=\"MathJax-Span-1135\"><span style=\"display: inline-block; position: relative; width: 0.628em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.37em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1136\" style=\"font-family: STIXGeneral-Italic;\">I<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.315em;\"><span class=\"mi\" id=\"MathJax-Span-1137\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>I</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-116\">I_i</script> is image evidence and <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-117-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>T</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1138\" style=\"width: 1.044em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.305em, 1000.84em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1139\"><span class=\"msubsup\" id=\"MathJax-Span-1140\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1141\" style=\"font-family: STIXGeneral-Italic;\">T<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.576em;\"><span class=\"mi\" id=\"MathJax-Span-1142\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>T</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-117\">T_i</script> textual context.</li>\n        </ul>\n      </li>\n    </ul>\n  </li>\n</ul>\n<ul>\n      <li>Most factuality research focuses on text-only LLMs, while real-world applications (e.g., journalism, scientific reporting, education) often require <strong>cross-modal reasoning</strong>—connecting text to images, tables, or structured data.</li>\n    </ul>\n<p><strong>Research Directions:</strong></p>\n<ul>\n      <li><strong>Visual factuality:</strong> Detecting mismatches between textual captions and image content (see <strong>VisualNews</strong> dataset, <a href=\"https://arxiv.org/abs/2308.07829\">Liu et al. (2023)</a>).</li>\n      <li><strong>Table grounding:</strong> Factual verification against structured data (e.g., <em>*TabFact</em>, <a href=\"https://arxiv.org/abs/1909.02164\">Chen et al. (2020)</a>).</li>\n      <li><strong>Multimodal retrieval and grounding:</strong> Retrieve both text and visual evidence for joint verification (e.g., <em>MMRAG</em> by <a href=\"https://arxiv.org/abs/2401.01163\">Gong et al. (2024)</a>).</li>\n      <li><strong>Cross-domain adaptation:</strong> Align factual verifiers trained on general corpora to specialized domains like medicine or law.</li>\n    </ul>\n<p><strong>Implementation Note:</strong></p>\n<ul>\n      <li>Use <strong>Vision-Text Transformers</strong> (e.g., BLIP-2) to jointly encode evidence and output captions.</li>\n      <li>Extend factuality metrics to multimodal entailment:\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-115-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>multi</mtext></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munder><mo>&amp;#x2211;</mo><mi>i</mi></munder><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn mathvariant=&quot;bold&quot;>1</mn></mrow><mo stretchy=&quot;false&quot;>[</mo><mo stretchy=&quot;false&quot;>(</mo><msub><mi>I</mi><mi>i</mi></msub><mo>,</mo><msub><mi>T</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x22A8;</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>]</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1101\" style=\"width: 14.013em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 11.669em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.461em, 1011.57em, 3.023em, -999.997em); top: -2.497em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1102\"><span class=\"msubsup\" id=\"MathJax-Span-1103\"><span style=\"display: inline-block; position: relative; width: 2.19em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1104\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1105\"><span class=\"mrow\" id=\"MathJax-Span-1106\"><span class=\"mtext\" id=\"MathJax-Span-1107\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">multi</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1108\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-1109\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.628em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-1110\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.52em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -0.258em;\"><span class=\"mi\" id=\"MathJax-Span-1111\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.63em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.628em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"munderover\" id=\"MathJax-Span-1112\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.201em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.076em, 1000.84em, 4.43em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-1113\" style=\"font-family: STIXGeneral-Regular; vertical-align: 0.003em;\">∑</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.695em; left: 0.94em;\"><span class=\"mi\" id=\"MathJax-Span-1114\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-1115\" style=\"padding-left: 0.211em;\"><span class=\"mrow\" id=\"MathJax-Span-1116\"><span class=\"mn\" id=\"MathJax-Span-1117\" style=\"font-family: STIXGeneral; font-weight: bold;\">1</span></span></span><span class=\"mo\" id=\"MathJax-Span-1118\" style=\"font-family: STIXGeneral-Regular;\">[</span><span class=\"mo\" id=\"MathJax-Span-1119\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"msubsup\" id=\"MathJax-Span-1120\"><span style=\"display: inline-block; position: relative; width: 0.628em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.37em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1121\" style=\"font-family: STIXGeneral-Italic;\">I<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.315em;\"><span class=\"mi\" id=\"MathJax-Span-1122\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1123\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-1124\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1125\" style=\"font-family: STIXGeneral-Italic;\">T<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.576em;\"><span class=\"mi\" id=\"MathJax-Span-1126\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1127\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-1128\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">⊨</span><span class=\"msubsup\" id=\"MathJax-Span-1129\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1130\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-1131\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1132\" style=\"font-family: STIXGeneral-Regular;\">]</span></span><span style=\"display: inline-block; width: 0px; height: 2.503em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.497em; border-left: 0px solid; width: 0px; height: 1.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>multi</mtext></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munder><mo>∑</mo><mi>i</mi></munder><mrow class=\"MJX-TeXAtom-ORD\"><mn mathvariant=\"bold\">1</mn></mrow><mo stretchy=\"false\">[</mo><mo stretchy=\"false\">(</mo><msub><mi>I</mi><mi>i</mi></msub><mo>,</mo><msub><mi>T</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo><mo>⊨</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">]</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-115\">F_{\\text{multi}} = \\frac{1}{N}\\sum_i \\mathbf{1}[(I_i, T_i) \\models a_i]</script>\n        <ul>\n          <li>where <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-116-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>I</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1133\" style=\"width: 0.784em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.628em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.305em, 1000.63em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1134\"><span class=\"msubsup\" id=\"MathJax-Span-1135\"><span style=\"display: inline-block; position: relative; width: 0.628em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.37em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1136\" style=\"font-family: STIXGeneral-Italic;\">I<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.315em;\"><span class=\"mi\" id=\"MathJax-Span-1137\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>I</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-116\">I_i</script> is image evidence and <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-117-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>T</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1138\" style=\"width: 1.044em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.305em, 1000.84em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1139\"><span class=\"msubsup\" id=\"MathJax-Span-1140\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1141\" style=\"font-family: STIXGeneral-Italic;\">T<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.576em;\"><span class=\"mi\" id=\"MathJax-Span-1142\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>T</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-117\">T_i</script> textual context.</li>\n        </ul>\n      </li>\n    </ul>\n<ul>\n          <li>where <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-116-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>I</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1133\" style=\"width: 0.784em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.628em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.305em, 1000.63em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1134\"><span class=\"msubsup\" id=\"MathJax-Span-1135\"><span style=\"display: inline-block; position: relative; width: 0.628em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.37em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1136\" style=\"font-family: STIXGeneral-Italic;\">I<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.315em;\"><span class=\"mi\" id=\"MathJax-Span-1137\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>I</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-116\">I_i</script> is image evidence and <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-117-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>T</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1138\" style=\"width: 1.044em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.305em, 1000.84em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1139\"><span class=\"msubsup\" id=\"MathJax-Span-1140\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1141\" style=\"font-family: STIXGeneral-Italic;\">T<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.576em;\"><span class=\"mi\" id=\"MathJax-Span-1142\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>T</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-117\">T_i</script> textual context.</li>\n        </ul>",
    "contentMarkdown": "*   **Problem:**\n    *   Most factuality research focuses on text-only LLMs, while real-world applications (e.g., journalism, scientific reporting, education) often require **cross-modal reasoning**—connecting text to images, tables, or structured data.\n*   **Research Directions:**\n    \n    *   **Visual factuality:** Detecting mismatches between textual captions and image content (see **VisualNews** dataset, [Liu et al. (2023)](https://arxiv.org/abs/2308.07829)).\n    *   **Table grounding:** Factual verification against structured data (e.g., _\\*TabFact_, [Chen et al. (2020)](https://arxiv.org/abs/1909.02164)).\n    *   **Multimodal retrieval and grounding:** Retrieve both text and visual evidence for joint verification (e.g., _MMRAG_ by [Gong et al. (2024)](https://arxiv.org/abs/2401.01163)).\n    *   **Cross-domain adaptation:** Align factual verifiers trained on general corpora to specialized domains like medicine or law.\n*   **Implementation Note:**\n    \n    *   Use **Vision-Text Transformers** (e.g., BLIP-2) to jointly encode evidence and output captions.\n    *   Extend factuality metrics to multimodal entailment: Fmulti\\=1N∑i1\\[(Ii,Ti)⊨ai\\]Fmulti\\=1N∑i1\\[(Ii,Ti)⊨ai\\]F\\_{\\\\text{multi}} = \\\\frac{1}{N}\\\\sum\\_i \\\\mathbf{1}\\[(I\\_i, T\\_i) \\\\models a\\_i\\]\n        *   where IiIiI\\_i is image evidence and TiTiT\\_i textual context.\n\n*   Most factuality research focuses on text-only LLMs, while real-world applications (e.g., journalism, scientific reporting, education) often require **cross-modal reasoning**—connecting text to images, tables, or structured data.\n\n**Research Directions:**\n\n*   **Visual factuality:** Detecting mismatches between textual captions and image content (see **VisualNews** dataset, [Liu et al. (2023)](https://arxiv.org/abs/2308.07829)).\n*   **Table grounding:** Factual verification against structured data (e.g., _\\*TabFact_, [Chen et al. (2020)](https://arxiv.org/abs/1909.02164)).\n*   **Multimodal retrieval and grounding:** Retrieve both text and visual evidence for joint verification (e.g., _MMRAG_ by [Gong et al. (2024)](https://arxiv.org/abs/2401.01163)).\n*   **Cross-domain adaptation:** Align factual verifiers trained on general corpora to specialized domains like medicine or law.\n\n**Implementation Note:**\n\n*   Use **Vision-Text Transformers** (e.g., BLIP-2) to jointly encode evidence and output captions.\n*   Extend factuality metrics to multimodal entailment: Fmulti\\=1N∑i1\\[(Ii,Ti)⊨ai\\]Fmulti\\=1N∑i1\\[(Ii,Ti)⊨ai\\]F\\_{\\\\text{multi}} = \\\\frac{1}{N}\\\\sum\\_i \\\\mathbf{1}\\[(I\\_i, T\\_i) \\\\models a\\_i\\]\n    *   where IiIiI\\_i is image evidence and TiTiT\\_i textual context.\n\n*   where IiIiI\\_i is image evidence and TiTiT\\_i textual context.",
    "contentLength": 31069,
    "wordCount": 290,
    "hasCode": false,
    "hasMath": true,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#multimodal-and-cross-domain-factuality"
  },
  {
    "id": "ai-factuality-in-LLMs-explainability-uncertainty-and-human-collaboration-22",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Open Research Directions in Factuality",
    "title": "Explainability, Uncertainty, and Human Collaboration",
    "order": 22,
    "orderInChapter": 6,
    "contentHtml": "<ul>\n  <li><strong>Problem:</strong>\n    <ul>\n      <li>Users often demand <strong>justified</strong> factual claims, not just correct ones. Evaluations that provide only scalar scores fail to communicate uncertainty or rationale.</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Research Directions:</strong></p>\n\n    <ul>\n      <li><strong>Justificatory factuality:</strong> Require models to cite or quote evidence explicitly within generated text (AttributionEval; <a href=\"https://arxiv.org/abs/2112.07828\">Rashkin et al. (2021)</a>).</li>\n      <li><strong>Uncertainty quantification:</strong> Calibrate factual confidence using entropy, variance, or epistemic uncertainty measures.</li>\n      <li><strong>Human-AI factual collaboration:</strong> Design interactive interfaces where models present claims and evidence, allowing humans to confirm or reject in real time.</li>\n      <li><strong>Visualization systems:</strong> Develop factual dashboards that visualize claim-level support scores and source provenance.</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Implementation Example:</strong></p>\n\n    <ul>\n      <li>Integrate <em>retrieval plus confidence visualization</em> in a chat system:</li>\n    </ul>\n\n    <div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code7\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code7\"><span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"n\">model</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">,</span> <span class=\"n\">with_sources</span><span class=\"o\">=</span><span class=\"bp\">True</span><span class=\"p\">)</span>\n<span class=\"k\">for</span> <span class=\"n\">claim</span> <span class=\"ow\">in</span> <span class=\"n\">response</span><span class=\"p\">.</span><span class=\"n\">claims</span><span class=\"p\">:</span>\n    <span class=\"k\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s\">\"</span><span class=\"si\">{</span><span class=\"n\">claim</span><span class=\"p\">.</span><span class=\"n\">text</span><span class=\"si\">}</span><span class=\"s\"> — support: </span><span class=\"si\">{</span><span class=\"n\">claim</span><span class=\"p\">.</span><span class=\"n\">support_score</span><span class=\"si\">:</span><span class=\"p\">.</span><span class=\"mi\">2</span><span class=\"n\">f</span><span class=\"si\">}</span><span class=\"s\"> (source: </span><span class=\"si\">{</span><span class=\"n\">claim</span><span class=\"p\">.</span><span class=\"n\">source_url</span><span class=\"si\">}</span><span class=\"s\">)\"</span><span class=\"p\">)</span>\n</code></pre></div>    </div>\n\n    <ul>\n      <li>This aligns with open-source projects like <strong>TruthScope</strong> (OpenAI (2024)) and <strong>FactFlow</strong> (Google DeepMind (2025)).</li>\n    </ul>\n  </li>\n</ul>\n<ul>\n      <li>Users often demand <strong>justified</strong> factual claims, not just correct ones. Evaluations that provide only scalar scores fail to communicate uncertainty or rationale.</li>\n    </ul>\n<p><strong>Research Directions:</strong></p>\n<ul>\n      <li><strong>Justificatory factuality:</strong> Require models to cite or quote evidence explicitly within generated text (AttributionEval; <a href=\"https://arxiv.org/abs/2112.07828\">Rashkin et al. (2021)</a>).</li>\n      <li><strong>Uncertainty quantification:</strong> Calibrate factual confidence using entropy, variance, or epistemic uncertainty measures.</li>\n      <li><strong>Human-AI factual collaboration:</strong> Design interactive interfaces where models present claims and evidence, allowing humans to confirm or reject in real time.</li>\n      <li><strong>Visualization systems:</strong> Develop factual dashboards that visualize claim-level support scores and source provenance.</li>\n    </ul>\n<p><strong>Implementation Example:</strong></p>\n<ul>\n      <li>Integrate <em>retrieval plus confidence visualization</em> in a chat system:</li>\n    </ul>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code7\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code7\"><span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"n\">model</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">,</span> <span class=\"n\">with_sources</span><span class=\"o\">=</span><span class=\"bp\">True</span><span class=\"p\">)</span>\n<span class=\"k\">for</span> <span class=\"n\">claim</span> <span class=\"ow\">in</span> <span class=\"n\">response</span><span class=\"p\">.</span><span class=\"n\">claims</span><span class=\"p\">:</span>\n    <span class=\"k\">print</span><span class=\"p\">(</span><span class=\"sa\">f</span><span class=\"s\">\"</span><span class=\"si\">{</span><span class=\"n\">claim</span><span class=\"p\">.</span><span class=\"n\">text</span><span class=\"si\">}</span><span class=\"s\"> — support: </span><span class=\"si\">{</span><span class=\"n\">claim</span><span class=\"p\">.</span><span class=\"n\">support_score</span><span class=\"si\">:</span><span class=\"p\">.</span><span class=\"mi\">2</span><span class=\"n\">f</span><span class=\"si\">}</span><span class=\"s\"> (source: </span><span class=\"si\">{</span><span class=\"n\">claim</span><span class=\"p\">.</span><span class=\"n\">source_url</span><span class=\"si\">}</span><span class=\"s\">)\"</span><span class=\"p\">)</span>\n</code></pre>\n<ul>\n      <li>This aligns with open-source projects like <strong>TruthScope</strong> (OpenAI (2024)) and <strong>FactFlow</strong> (Google DeepMind (2025)).</li>\n    </ul>",
    "contentMarkdown": "*   **Problem:**\n    *   Users often demand **justified** factual claims, not just correct ones. Evaluations that provide only scalar scores fail to communicate uncertainty or rationale.\n*   **Research Directions:**\n    \n    *   **Justificatory factuality:** Require models to cite or quote evidence explicitly within generated text (AttributionEval; [Rashkin et al. (2021)](https://arxiv.org/abs/2112.07828)).\n    *   **Uncertainty quantification:** Calibrate factual confidence using entropy, variance, or epistemic uncertainty measures.\n    *   **Human-AI factual collaboration:** Design interactive interfaces where models present claims and evidence, allowing humans to confirm or reject in real time.\n    *   **Visualization systems:** Develop factual dashboards that visualize claim-level support scores and source provenance.\n*   **Implementation Example:**\n    \n    *   Integrate _retrieval plus confidence visualization_ in a chat system:\n    \n    ![](https://aman.ai/images/copy.png)\n    \n    `response = model(query, with_sources=True) for claim in response.claims:     print(f\"{claim.text} — support: {claim.support_score:.2f} (source: {claim.source_url})\")`\n    \n    *   This aligns with open-source projects like **TruthScope** (OpenAI (2024)) and **FactFlow** (Google DeepMind (2025)).\n\n*   Users often demand **justified** factual claims, not just correct ones. Evaluations that provide only scalar scores fail to communicate uncertainty or rationale.\n\n**Research Directions:**\n\n*   **Justificatory factuality:** Require models to cite or quote evidence explicitly within generated text (AttributionEval; [Rashkin et al. (2021)](https://arxiv.org/abs/2112.07828)).\n*   **Uncertainty quantification:** Calibrate factual confidence using entropy, variance, or epistemic uncertainty measures.\n*   **Human-AI factual collaboration:** Design interactive interfaces where models present claims and evidence, allowing humans to confirm or reject in real time.\n*   **Visualization systems:** Develop factual dashboards that visualize claim-level support scores and source provenance.\n\n**Implementation Example:**\n\n*   Integrate _retrieval plus confidence visualization_ in a chat system:\n\n![](https://aman.ai/images/copy.png)\n\n`response = model(query, with_sources=True) for claim in response.claims:     print(f\"{claim.text} — support: {claim.support_score:.2f} (source: {claim.source_url})\")`\n\n*   This aligns with open-source projects like **TruthScope** (OpenAI (2024)) and **FactFlow** (Google DeepMind (2025)).",
    "contentLength": 5744,
    "wordCount": 274,
    "hasCode": true,
    "hasMath": false,
    "hasImages": true,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#explainability,-uncertainty,-and-human-collaboration"
  },
  {
    "id": "ai-factuality-in-LLMs-factuality-centric-architecture-overview-23",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Integrating Factuality Into Model Design and Deployment: Architectural and Systems Considerations",
    "title": "Factuality-Centric Architecture Overview",
    "order": 23,
    "orderInChapter": 1,
    "contentHtml": "<ul>\n  <li>\n    <p>A robust factuality-aware LLM system follows a <strong>four-layer design pattern</strong>:</p>\n\n    <ol>\n      <li>\n        <p><strong>Knowledge Layer (Retrieval and Storage)</strong></p>\n\n        <ul>\n          <li>Responsible for dynamically sourcing verified facts and maintaining up-to-date evidence.</li>\n          <li>\n            <p>Common implementations:</p>\n\n            <ul>\n              <li>Vector stores such as FAISS, Pinecone, or Vespa for dense retrieval.</li>\n              <li>Hybrid indexing (BM25 + dense embeddings) to improve recall.</li>\n            </ul>\n          </li>\n          <li>Incremental data refreshing via ETL pipelines keeps factual sources current.</li>\n        </ul>\n      </li>\n      <li>\n        <p><strong>Reasoning Layer (Model Inference and Verification)</strong></p>\n\n        <ul>\n          <li>Houses one or more large language models (base generator + verifier).</li>\n          <li>Models are composed using model routing patterns:\n            <ul>\n              <li>Generator model produces the response.</li>\n              <li>Verifier model checks factual support (entailment or RAG verification).</li>\n            </ul>\n          </li>\n          <li>The two modules communicate through structured interfaces (e.g., JSON claims).</li>\n        </ul>\n      </li>\n      <li>\n        <p><strong>Evaluation Layer (Factuality Scoring and Calibration)</strong></p>\n\n        <ul>\n          <li>Performs post-generation analysis using factuality metrics such as <strong>faithfulness</strong>, <strong>groundedness</strong>, and <strong>truthfulness</strong>.</li>\n          <li>Implements calibration using reliability diagrams or Expected Calibration Error (ECE).</li>\n          <li>Tracks per-claim confidence to allow risk-based output gating.</li>\n        </ul>\n      </li>\n      <li>\n        <p><strong>Governance Layer (Monitoring and Feedback)</strong></p>\n\n        <ul>\n          <li>Maintains continuous logs of factuality metrics over time.</li>\n          <li>Implements <strong>fact audit dashboards</strong> showing score distributions, claim categories, and retrieval sources.</li>\n          <li>Routes uncertain or unsupported outputs to human reviewers for correction or fine-tuning.</li>\n        </ul>\n      </li>\n    </ol>\n  </li>\n  <li>\n    <p><strong>Architecture Example (Modular):</strong></p>\n  </li>\n</ul>\n<p>A robust factuality-aware LLM system follows a <strong>four-layer design pattern</strong>:</p>\n<ol>\n      <li>\n        <p><strong>Knowledge Layer (Retrieval and Storage)</strong></p>\n\n        <ul>\n          <li>Responsible for dynamically sourcing verified facts and maintaining up-to-date evidence.</li>\n          <li>\n            <p>Common implementations:</p>\n\n            <ul>\n              <li>Vector stores such as FAISS, Pinecone, or Vespa for dense retrieval.</li>\n              <li>Hybrid indexing (BM25 + dense embeddings) to improve recall.</li>\n            </ul>\n          </li>\n          <li>Incremental data refreshing via ETL pipelines keeps factual sources current.</li>\n        </ul>\n      </li>\n      <li>\n        <p><strong>Reasoning Layer (Model Inference and Verification)</strong></p>\n\n        <ul>\n          <li>Houses one or more large language models (base generator + verifier).</li>\n          <li>Models are composed using model routing patterns:\n            <ul>\n              <li>Generator model produces the response.</li>\n              <li>Verifier model checks factual support (entailment or RAG verification).</li>\n            </ul>\n          </li>\n          <li>The two modules communicate through structured interfaces (e.g., JSON claims).</li>\n        </ul>\n      </li>\n      <li>\n        <p><strong>Evaluation Layer (Factuality Scoring and Calibration)</strong></p>\n\n        <ul>\n          <li>Performs post-generation analysis using factuality metrics such as <strong>faithfulness</strong>, <strong>groundedness</strong>, and <strong>truthfulness</strong>.</li>\n          <li>Implements calibration using reliability diagrams or Expected Calibration Error (ECE).</li>\n          <li>Tracks per-claim confidence to allow risk-based output gating.</li>\n        </ul>\n      </li>\n      <li>\n        <p><strong>Governance Layer (Monitoring and Feedback)</strong></p>\n\n        <ul>\n          <li>Maintains continuous logs of factuality metrics over time.</li>\n          <li>Implements <strong>fact audit dashboards</strong> showing score distributions, claim categories, and retrieval sources.</li>\n          <li>Routes uncertain or unsupported outputs to human reviewers for correction or fine-tuning.</li>\n        </ul>\n      </li>\n    </ol>\n<p><strong>Knowledge Layer (Retrieval and Storage)</strong></p>\n<ul>\n          <li>Responsible for dynamically sourcing verified facts and maintaining up-to-date evidence.</li>\n          <li>\n            <p>Common implementations:</p>\n\n            <ul>\n              <li>Vector stores such as FAISS, Pinecone, or Vespa for dense retrieval.</li>\n              <li>Hybrid indexing (BM25 + dense embeddings) to improve recall.</li>\n            </ul>\n          </li>\n          <li>Incremental data refreshing via ETL pipelines keeps factual sources current.</li>\n        </ul>\n<p>Common implementations:</p>\n<ul>\n              <li>Vector stores such as FAISS, Pinecone, or Vespa for dense retrieval.</li>\n              <li>Hybrid indexing (BM25 + dense embeddings) to improve recall.</li>\n            </ul>\n<p><strong>Reasoning Layer (Model Inference and Verification)</strong></p>\n<ul>\n          <li>Houses one or more large language models (base generator + verifier).</li>\n          <li>Models are composed using model routing patterns:\n            <ul>\n              <li>Generator model produces the response.</li>\n              <li>Verifier model checks factual support (entailment or RAG verification).</li>\n            </ul>\n          </li>\n          <li>The two modules communicate through structured interfaces (e.g., JSON claims).</li>\n        </ul>\n<ul>\n              <li>Generator model produces the response.</li>\n              <li>Verifier model checks factual support (entailment or RAG verification).</li>\n            </ul>\n<p><strong>Evaluation Layer (Factuality Scoring and Calibration)</strong></p>\n<ul>\n          <li>Performs post-generation analysis using factuality metrics such as <strong>faithfulness</strong>, <strong>groundedness</strong>, and <strong>truthfulness</strong>.</li>\n          <li>Implements calibration using reliability diagrams or Expected Calibration Error (ECE).</li>\n          <li>Tracks per-claim confidence to allow risk-based output gating.</li>\n        </ul>\n<p><strong>Governance Layer (Monitoring and Feedback)</strong></p>\n<ul>\n          <li>Maintains continuous logs of factuality metrics over time.</li>\n          <li>Implements <strong>fact audit dashboards</strong> showing score distributions, claim categories, and retrieval sources.</li>\n          <li>Routes uncertain or unsupported outputs to human reviewers for correction or fine-tuning.</li>\n        </ul>\n<p><strong>Architecture Example (Modular):</strong></p>\n<div align=\"center\">\n<table class=\"tg\">\n<thead>\n<tr>\n<th class=\"tg-hcenter-valign-first\"><strong>Knowledge</strong></th>\n<th class=\"tg-hcenter-valign-first\"><strong>Reasoning</strong></th>\n<th class=\"tg-hcenter-valign-second\"><strong>Evaluation / Governance</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class=\"tg-tleft-valign-first\">Retriever API</td>\n<td class=\"tg-tleft-valign-first\">Generator LLM</td>\n<td class=\"tg-tleft-valign-second\">Factuality Scorer (SAFE)</td>\n</tr>\n<tr>\n<td class=\"tg-tleft-valign-first\">Search Index</td>\n<td class=\"tg-tleft-valign-first\">Verifier LLM</td>\n<td class=\"tg-tleft-valign-second\">Confidence Calibrator</td>\n</tr>\n<tr>\n<td class=\"tg-tleft-valign-first\">Evidence Cache</td>\n<td class=\"tg-tleft-valign-first\">RAG Pipeline</td>\n<td class=\"tg-tleft-valign-second\">Fact Audit Dashboard</td>\n</tr>\n</tbody>\n</table>\n</div>\n<table class=\"tg\">\n<thead>\n<tr>\n<th class=\"tg-hcenter-valign-first\"><strong>Knowledge</strong></th>\n<th class=\"tg-hcenter-valign-first\"><strong>Reasoning</strong></th>\n<th class=\"tg-hcenter-valign-second\"><strong>Evaluation / Governance</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class=\"tg-tleft-valign-first\">Retriever API</td>\n<td class=\"tg-tleft-valign-first\">Generator LLM</td>\n<td class=\"tg-tleft-valign-second\">Factuality Scorer (SAFE)</td>\n</tr>\n<tr>\n<td class=\"tg-tleft-valign-first\">Search Index</td>\n<td class=\"tg-tleft-valign-first\">Verifier LLM</td>\n<td class=\"tg-tleft-valign-second\">Confidence Calibrator</td>\n</tr>\n<tr>\n<td class=\"tg-tleft-valign-first\">Evidence Cache</td>\n<td class=\"tg-tleft-valign-first\">RAG Pipeline</td>\n<td class=\"tg-tleft-valign-second\">Fact Audit Dashboard</td>\n</tr>\n</tbody>\n</table>",
    "contentMarkdown": "*   A robust factuality-aware LLM system follows a **four-layer design pattern**:\n    \n    1.  **Knowledge Layer (Retrieval and Storage)**\n        \n        *   Responsible for dynamically sourcing verified facts and maintaining up-to-date evidence.\n        *   Common implementations:\n            \n            *   Vector stores such as FAISS, Pinecone, or Vespa for dense retrieval.\n            *   Hybrid indexing (BM25 + dense embeddings) to improve recall.\n        *   Incremental data refreshing via ETL pipelines keeps factual sources current.\n    2.  **Reasoning Layer (Model Inference and Verification)**\n        \n        *   Houses one or more large language models (base generator + verifier).\n        *   Models are composed using model routing patterns:\n            *   Generator model produces the response.\n            *   Verifier model checks factual support (entailment or RAG verification).\n        *   The two modules communicate through structured interfaces (e.g., JSON claims).\n    3.  **Evaluation Layer (Factuality Scoring and Calibration)**\n        \n        *   Performs post-generation analysis using factuality metrics such as **faithfulness**, **groundedness**, and **truthfulness**.\n        *   Implements calibration using reliability diagrams or Expected Calibration Error (ECE).\n        *   Tracks per-claim confidence to allow risk-based output gating.\n    4.  **Governance Layer (Monitoring and Feedback)**\n        \n        *   Maintains continuous logs of factuality metrics over time.\n        *   Implements **fact audit dashboards** showing score distributions, claim categories, and retrieval sources.\n        *   Routes uncertain or unsupported outputs to human reviewers for correction or fine-tuning.\n*   **Architecture Example (Modular):**\n    \n\nA robust factuality-aware LLM system follows a **four-layer design pattern**:\n\n1.  **Knowledge Layer (Retrieval and Storage)**\n    \n    *   Responsible for dynamically sourcing verified facts and maintaining up-to-date evidence.\n    *   Common implementations:\n        \n        *   Vector stores such as FAISS, Pinecone, or Vespa for dense retrieval.\n        *   Hybrid indexing (BM25 + dense embeddings) to improve recall.\n    *   Incremental data refreshing via ETL pipelines keeps factual sources current.\n2.  **Reasoning Layer (Model Inference and Verification)**\n    \n    *   Houses one or more large language models (base generator + verifier).\n    *   Models are composed using model routing patterns:\n        *   Generator model produces the response.\n        *   Verifier model checks factual support (entailment or RAG verification).\n    *   The two modules communicate through structured interfaces (e.g., JSON claims).\n3.  **Evaluation Layer (Factuality Scoring and Calibration)**\n    \n    *   Performs post-generation analysis using factuality metrics such as **faithfulness**, **groundedness**, and **truthfulness**.\n    *   Implements calibration using reliability diagrams or Expected Calibration Error (ECE).\n    *   Tracks per-claim confidence to allow risk-based output gating.\n4.  **Governance Layer (Monitoring and Feedback)**\n    \n    *   Maintains continuous logs of factuality metrics over time.\n    *   Implements **fact audit dashboards** showing score distributions, claim categories, and retrieval sources.\n    *   Routes uncertain or unsupported outputs to human reviewers for correction or fine-tuning.\n\n**Knowledge Layer (Retrieval and Storage)**\n\n*   Responsible for dynamically sourcing verified facts and maintaining up-to-date evidence.\n*   Common implementations:\n    \n    *   Vector stores such as FAISS, Pinecone, or Vespa for dense retrieval.\n    *   Hybrid indexing (BM25 + dense embeddings) to improve recall.\n*   Incremental data refreshing via ETL pipelines keeps factual sources current.\n\nCommon implementations:\n\n*   Vector stores such as FAISS, Pinecone, or Vespa for dense retrieval.\n*   Hybrid indexing (BM25 + dense embeddings) to improve recall.\n\n**Reasoning Layer (Model Inference and Verification)**\n\n*   Houses one or more large language models (base generator + verifier).\n*   Models are composed using model routing patterns:\n    *   Generator model produces the response.\n    *   Verifier model checks factual support (entailment or RAG verification).\n*   The two modules communicate through structured interfaces (e.g., JSON claims).\n\n*   Generator model produces the response.\n*   Verifier model checks factual support (entailment or RAG verification).\n\n**Evaluation Layer (Factuality Scoring and Calibration)**\n\n*   Performs post-generation analysis using factuality metrics such as **faithfulness**, **groundedness**, and **truthfulness**.\n*   Implements calibration using reliability diagrams or Expected Calibration Error (ECE).\n*   Tracks per-claim confidence to allow risk-based output gating.\n\n**Governance Layer (Monitoring and Feedback)**\n\n*   Maintains continuous logs of factuality metrics over time.\n*   Implements **fact audit dashboards** showing score distributions, claim categories, and retrieval sources.\n*   Routes uncertain or unsupported outputs to human reviewers for correction or fine-tuning.\n\n**Architecture Example (Modular):**\n\n**Knowledge**\n\n**Reasoning**\n\n**Evaluation / Governance**\n\nRetriever API\n\nGenerator LLM\n\nFactuality Scorer (SAFE)\n\nSearch Index\n\nVerifier LLM\n\nConfidence Calibrator\n\nEvidence Cache\n\nRAG Pipeline\n\nFact Audit Dashboard\n\n**Knowledge**\n\n**Reasoning**\n\n**Evaluation / Governance**\n\nRetriever API\n\nGenerator LLM\n\nFactuality Scorer (SAFE)\n\nSearch Index\n\nVerifier LLM\n\nConfidence Calibrator\n\nEvidence Cache\n\nRAG Pipeline\n\nFact Audit Dashboard",
    "contentLength": 8825,
    "wordCount": 678,
    "hasCode": false,
    "hasMath": false,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#factuality-centric-architecture-overview"
  },
  {
    "id": "ai-factuality-in-LLMs-model-composition-and-integration-patterns-24",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Integrating Factuality Into Model Design and Deployment: Architectural and Systems Considerations",
    "title": "Model Composition and Integration Patterns",
    "order": 24,
    "orderInChapter": 2,
    "contentHtml": "<h4 id=\"generatorverifier-pipeline\">Generator–Verifier Pipeline</h4>\n<ul>\n  <li>\n    <p>The simplest pattern uses two interacting models:</p>\n\n    <ol>\n      <li>Generator <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-118-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>M</mi><mi>g</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1143\" style=\"width: 1.513em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 1.253em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.305em, 1001.25em, 2.607em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1144\"><span class=\"msubsup\" id=\"MathJax-Span-1145\"><span style=\"display: inline-block; position: relative; width: 1.253em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.89em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1146\" style=\"font-family: STIXGeneral-Italic;\">M<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.836em;\"><span class=\"mi\" id=\"MathJax-Span-1147\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">g</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.253em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>M</mi><mi>g</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-118\">M_g</script>: produces candidate response <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-119-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1148\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1149\"><span class=\"mi\" id=\"MathJax-Span-1150\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-119\">y</script>.</li>\n      <li>Verifier <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-120-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>M</mi><mi>v</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1151\" style=\"width: 1.461em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 1.201em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.305em, 1001.2em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1152\"><span class=\"msubsup\" id=\"MathJax-Span-1153\"><span style=\"display: inline-block; position: relative; width: 1.201em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.89em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1154\" style=\"font-family: STIXGeneral-Italic;\">M<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.836em;\"><span class=\"mi\" id=\"MathJax-Span-1155\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">v</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>M</mi><mi>v</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-120\">M_v</script>: evaluates factuality of <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-121-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1156\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1157\"><span class=\"mi\" id=\"MathJax-Span-1158\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-121\">y</script> relative to evidence <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-122-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1159\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1160\"><span class=\"mi\" id=\"MathJax-Span-1161\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-122\">D</script>.</li>\n    </ol>\n  </li>\n  <li>\n    <p>Implementation sketch:</p>\n\n    <div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code8\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code8\"><span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"n\">generator</span><span class=\"p\">(</span><span class=\"n\">prompt</span><span class=\"p\">,</span> <span class=\"n\">context</span><span class=\"p\">)</span>\n<span class=\"n\">claims</span> <span class=\"o\">=</span> <span class=\"n\">extract_claims</span><span class=\"p\">(</span><span class=\"n\">response</span><span class=\"p\">)</span>\n<span class=\"n\">factuality_scores</span> <span class=\"o\">=</span> <span class=\"n\">verifier</span><span class=\"p\">(</span><span class=\"n\">claims</span><span class=\"p\">,</span> <span class=\"n\">context</span><span class=\"p\">)</span>\n<span class=\"k\">if</span> <span class=\"n\">mean</span><span class=\"p\">(</span><span class=\"n\">factuality_scores</span><span class=\"p\">)</span> <span class=\"o\">&lt;</span> <span class=\"n\">threshold</span><span class=\"p\">:</span>\n    <span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"n\">generator</span><span class=\"p\">(</span><span class=\"n\">revise</span><span class=\"p\">(</span><span class=\"n\">response</span><span class=\"p\">,</span> <span class=\"n\">factuality_scores</span><span class=\"p\">))</span>\n</code></pre></div>    </div>\n  </li>\n  <li>The verifier can be a fine-tuned NLI model (e.g., DeBERTa-large-MNLI) or an LLM-based evaluator (e.g., GPT-4).</li>\n  <li>This pattern underlies <strong>FActScore</strong> (<a href=\"https://arxiv.org/abs/2305.14251\">Min et al. (2023)</a>) and <strong>SAFE</strong> (<a href=\"https://arxiv.org/abs/2403.18802\">Wei et al. (2024)</a>).</li>\n</ul>\n<p>The simplest pattern uses two interacting models:</p>\n<ol>\n      <li>Generator <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-118-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>M</mi><mi>g</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1143\" style=\"width: 1.513em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 1.253em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.305em, 1001.25em, 2.607em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1144\"><span class=\"msubsup\" id=\"MathJax-Span-1145\"><span style=\"display: inline-block; position: relative; width: 1.253em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.89em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1146\" style=\"font-family: STIXGeneral-Italic;\">M<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.836em;\"><span class=\"mi\" id=\"MathJax-Span-1147\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">g</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.253em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>M</mi><mi>g</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-118\">M_g</script>: produces candidate response <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-119-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1148\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1149\"><span class=\"mi\" id=\"MathJax-Span-1150\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-119\">y</script>.</li>\n      <li>Verifier <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-120-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>M</mi><mi>v</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1151\" style=\"width: 1.461em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 1.201em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.305em, 1001.2em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1152\"><span class=\"msubsup\" id=\"MathJax-Span-1153\"><span style=\"display: inline-block; position: relative; width: 1.201em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.89em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1154\" style=\"font-family: STIXGeneral-Italic;\">M<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.836em;\"><span class=\"mi\" id=\"MathJax-Span-1155\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">v</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>M</mi><mi>v</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-120\">M_v</script>: evaluates factuality of <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-121-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>y</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1156\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1157\"><span class=\"mi\" id=\"MathJax-Span-1158\" style=\"font-family: STIXGeneral-Italic;\">y</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>y</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-121\">y</script> relative to evidence <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-122-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1159\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1160\"><span class=\"mi\" id=\"MathJax-Span-1161\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-122\">D</script>.</li>\n    </ol>\n<p>Implementation sketch:</p>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code8\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code8\"><span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"n\">generator</span><span class=\"p\">(</span><span class=\"n\">prompt</span><span class=\"p\">,</span> <span class=\"n\">context</span><span class=\"p\">)</span>\n<span class=\"n\">claims</span> <span class=\"o\">=</span> <span class=\"n\">extract_claims</span><span class=\"p\">(</span><span class=\"n\">response</span><span class=\"p\">)</span>\n<span class=\"n\">factuality_scores</span> <span class=\"o\">=</span> <span class=\"n\">verifier</span><span class=\"p\">(</span><span class=\"n\">claims</span><span class=\"p\">,</span> <span class=\"n\">context</span><span class=\"p\">)</span>\n<span class=\"k\">if</span> <span class=\"n\">mean</span><span class=\"p\">(</span><span class=\"n\">factuality_scores</span><span class=\"p\">)</span> <span class=\"o\">&lt;</span> <span class=\"n\">threshold</span><span class=\"p\">:</span>\n    <span class=\"n\">response</span> <span class=\"o\">=</span> <span class=\"n\">generator</span><span class=\"p\">(</span><span class=\"n\">revise</span><span class=\"p\">(</span><span class=\"n\">response</span><span class=\"p\">,</span> <span class=\"n\">factuality_scores</span><span class=\"p\">))</span>\n</code></pre>\n<h4 id=\"iterative-self-verification-loop\">Iterative Self-Verification Loop</h4>\n<ul>\n  <li>\n    <p>An enhanced version uses self-reflection:</p>\n\n    <ol>\n      <li>Model generates an initial draft.</li>\n      <li>Critique model identifies factual inconsistencies.</li>\n      <li>Regeneration occurs until factual confidence exceeds threshold.</li>\n    </ol>\n  </li>\n  <li>\n    <p>Loop example:</p>\n  </li>\n</ul>\n<p>An enhanced version uses self-reflection:</p>\n<ol>\n      <li>Model generates an initial draft.</li>\n      <li>Critique model identifies factual inconsistencies.</li>\n      <li>Regeneration occurs until factual confidence exceeds threshold.</li>\n    </ol>\n<p>Loop example:</p>\n<div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code9\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code9\"><span class=\"n\">draft</span> <span class=\"o\">=</span> <span class=\"n\">model</span><span class=\"p\">(</span><span class=\"n\">prompt</span><span class=\"p\">)</span>\n<span class=\"k\">for</span> <span class=\"n\">_</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"n\">max_iter</span><span class=\"p\">):</span>\n    <span class=\"n\">critique</span> <span class=\"o\">=</span> <span class=\"n\">verifier</span><span class=\"p\">(</span><span class=\"s\">\"Critique factual accuracy of: \"</span> <span class=\"o\">+</span> <span class=\"n\">draft</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"n\">critique</span><span class=\"p\">.</span><span class=\"n\">confidence</span> <span class=\"o\">&gt;</span> <span class=\"mf\">0.9</span><span class=\"p\">:</span>\n        <span class=\"k\">break</span>\n    <span class=\"n\">draft</span> <span class=\"o\">=</span> <span class=\"n\">model</span><span class=\"p\">(</span><span class=\"s\">\"Revise using critique: \"</span> <span class=\"o\">+</span> <span class=\"n\">critique</span><span class=\"p\">.</span><span class=\"n\">text</span><span class=\"p\">)</span>\n</code></pre></div></div>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code9\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code9\"><span class=\"n\">draft</span> <span class=\"o\">=</span> <span class=\"n\">model</span><span class=\"p\">(</span><span class=\"n\">prompt</span><span class=\"p\">)</span>\n<span class=\"k\">for</span> <span class=\"n\">_</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"n\">max_iter</span><span class=\"p\">):</span>\n    <span class=\"n\">critique</span> <span class=\"o\">=</span> <span class=\"n\">verifier</span><span class=\"p\">(</span><span class=\"s\">\"Critique factual accuracy of: \"</span> <span class=\"o\">+</span> <span class=\"n\">draft</span><span class=\"p\">)</span>\n    <span class=\"k\">if</span> <span class=\"n\">critique</span><span class=\"p\">.</span><span class=\"n\">confidence</span> <span class=\"o\">&gt;</span> <span class=\"mf\">0.9</span><span class=\"p\">:</span>\n        <span class=\"k\">break</span>\n    <span class=\"n\">draft</span> <span class=\"o\">=</span> <span class=\"n\">model</span><span class=\"p\">(</span><span class=\"s\">\"Revise using critique: \"</span> <span class=\"o\">+</span> <span class=\"n\">critique</span><span class=\"p\">.</span><span class=\"n\">text</span><span class=\"p\">)</span>\n</code></pre>\n<ul>\n  <li>This self-verification approach is widely used in <strong>Reflexion</strong> (<a href=\"https://arxiv.org/abs/2303.11366\">Shinn et al. (2023)</a>) and <strong>SelfCheckGPT</strong> (<a href=\"https://arxiv.org/abs/2303.08896\">Manakul et al. (2023)</a>).</li>\n</ul>\n<h4 id=\"multi-stage-model-routing\">Multi-Stage Model Routing</h4>\n<ul>\n  <li>\n    <p>At production scale, factual pipelines often employ model routing:</p>\n\n    <ul>\n      <li>Lightweight base model handles general prompts.</li>\n      <li>Specialized factual models handle domain-critical queries (e.g., biomedical, legal).</li>\n      <li>Router dynamically dispatches requests based on domain classifier output.</li>\n    </ul>\n  </li>\n  <li>\n    <p>Implementation example:</p>\n  </li>\n</ul>\n<p>At production scale, factual pipelines often employ model routing:</p>\n<ul>\n      <li>Lightweight base model handles general prompts.</li>\n      <li>Specialized factual models handle domain-critical queries (e.g., biomedical, legal).</li>\n      <li>Router dynamically dispatches requests based on domain classifier output.</li>\n    </ul>\n<p>Implementation example:</p>\n<div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code10\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code10\"><span class=\"n\">domain</span> <span class=\"o\">=</span> <span class=\"n\">domain_classifier</span><span class=\"p\">(</span><span class=\"n\">prompt</span><span class=\"p\">)</span>\n<span class=\"k\">if</span> <span class=\"n\">domain</span> <span class=\"o\">==</span> <span class=\"s\">\"medical\"</span><span class=\"p\">:</span>\n    <span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">factual_expert_med</span>\n<span class=\"k\">elif</span> <span class=\"n\">domain</span> <span class=\"o\">==</span> <span class=\"s\">\"finance\"</span><span class=\"p\">:</span>\n    <span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">factual_expert_fin</span>\n<span class=\"k\">else</span><span class=\"p\">:</span>\n    <span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">general_model</span>\n</code></pre></div></div>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code10\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code10\"><span class=\"n\">domain</span> <span class=\"o\">=</span> <span class=\"n\">domain_classifier</span><span class=\"p\">(</span><span class=\"n\">prompt</span><span class=\"p\">)</span>\n<span class=\"k\">if</span> <span class=\"n\">domain</span> <span class=\"o\">==</span> <span class=\"s\">\"medical\"</span><span class=\"p\">:</span>\n    <span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">factual_expert_med</span>\n<span class=\"k\">elif</span> <span class=\"n\">domain</span> <span class=\"o\">==</span> <span class=\"s\">\"finance\"</span><span class=\"p\">:</span>\n    <span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">factual_expert_fin</span>\n<span class=\"k\">else</span><span class=\"p\">:</span>\n    <span class=\"n\">model</span> <span class=\"o\">=</span> <span class=\"n\">general_model</span>\n</code></pre>",
    "contentMarkdown": "#### Generator–Verifier Pipeline\n\n*   The simplest pattern uses two interacting models:\n    \n    1.  Generator MgMgM\\_g: produces candidate response yyy.\n    2.  Verifier MvMvM\\_v: evaluates factuality of yyy relative to evidence DDD.\n*   Implementation sketch:\n    \n    ![](https://aman.ai/images/copy.png)\n    \n    `response = generator(prompt, context) claims = extract_claims(response) factuality_scores = verifier(claims, context) if mean(factuality_scores) < threshold:     response = generator(revise(response, factuality_scores))`\n    \n*   The verifier can be a fine-tuned NLI model (e.g., DeBERTa-large-MNLI) or an LLM-based evaluator (e.g., GPT-4).\n*   This pattern underlies **FActScore** ([Min et al. (2023)](https://arxiv.org/abs/2305.14251)) and **SAFE** ([Wei et al. (2024)](https://arxiv.org/abs/2403.18802)).\n\nThe simplest pattern uses two interacting models:\n\n1.  Generator MgMgM\\_g: produces candidate response yyy.\n2.  Verifier MvMvM\\_v: evaluates factuality of yyy relative to evidence DDD.\n\nImplementation sketch:\n\n![](https://aman.ai/images/copy.png)\n\n`response = generator(prompt, context) claims = extract_claims(response) factuality_scores = verifier(claims, context) if mean(factuality_scores) < threshold:     response = generator(revise(response, factuality_scores))`\n\n#### Iterative Self-Verification Loop\n\n*   An enhanced version uses self-reflection:\n    \n    1.  Model generates an initial draft.\n    2.  Critique model identifies factual inconsistencies.\n    3.  Regeneration occurs until factual confidence exceeds threshold.\n*   Loop example:\n    \n\nAn enhanced version uses self-reflection:\n\n1.  Model generates an initial draft.\n2.  Critique model identifies factual inconsistencies.\n3.  Regeneration occurs until factual confidence exceeds threshold.\n\nLoop example:\n\n![](https://aman.ai/images/copy.png)\n\n`draft = model(prompt) for _ in range(max_iter):     critique = verifier(\"Critique factual accuracy of: \" + draft)     if critique.confidence > 0.9:         break     draft = model(\"Revise using critique: \" + critique.text)`\n\n![](https://aman.ai/images/copy.png)\n\n`draft = model(prompt) for _ in range(max_iter):     critique = verifier(\"Critique factual accuracy of: \" + draft)     if critique.confidence > 0.9:         break     draft = model(\"Revise using critique: \" + critique.text)`\n\n*   This self-verification approach is widely used in **Reflexion** ([Shinn et al. (2023)](https://arxiv.org/abs/2303.11366)) and **SelfCheckGPT** ([Manakul et al. (2023)](https://arxiv.org/abs/2303.08896)).\n\n#### Multi-Stage Model Routing\n\n*   At production scale, factual pipelines often employ model routing:\n    \n    *   Lightweight base model handles general prompts.\n    *   Specialized factual models handle domain-critical queries (e.g., biomedical, legal).\n    *   Router dynamically dispatches requests based on domain classifier output.\n*   Implementation example:\n    \n\nAt production scale, factual pipelines often employ model routing:\n\n*   Lightweight base model handles general prompts.\n*   Specialized factual models handle domain-critical queries (e.g., biomedical, legal).\n*   Router dynamically dispatches requests based on domain classifier output.\n\nImplementation example:\n\n![](https://aman.ai/images/copy.png)\n\n`domain = domain_classifier(prompt) if domain == \"medical\":     model = factual_expert_med elif domain == \"finance\":     model = factual_expert_fin else:     model = general_model`\n\n![](https://aman.ai/images/copy.png)\n\n`domain = domain_classifier(prompt) if domain == \"medical\":     model = factual_expert_med elif domain == \"finance\":     model = factual_expert_fin else:     model = general_model`",
    "contentLength": 25631,
    "wordCount": 396,
    "hasCode": true,
    "hasMath": true,
    "hasImages": true,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#model-composition-and-integration-patterns"
  },
  {
    "id": "ai-factuality-in-LLMs-continuous-factual-monitoring-in-production-25",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Integrating Factuality Into Model Design and Deployment: Architectural and Systems Considerations",
    "title": "Continuous Factual Monitoring in Production",
    "order": 25,
    "orderInChapter": 3,
    "contentHtml": "<ul>\n  <li>Factual reliability cannot be guaranteed statically—it requires <em>continuous auditing</em>.</li>\n</ul>\n<h4 id=\"real-time-fact-logging\">Real-Time Fact Logging</h4>\n<ul>\n  <li>Every model output is logged with associated claims, retrieval context, and verification results.</li>\n  <li>\n    <p>Metadata schema:</p>\n\n    <div class=\"language-json highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code11\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code11\"><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"prompt\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"...\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"response\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"...\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"claims\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"s2\">\"c1\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"c2\"</span><span class=\"p\">],</span><span class=\"w\">\n  </span><span class=\"nl\">\"factuality_score\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">0.87</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"retrieved_sources\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"s2\">\"wiki:Marie_Curie\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"nytimes.com/...\"</span><span class=\"p\">]</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre></div>    </div>\n  </li>\n</ul>\n<p>Metadata schema:</p>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code11\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code11\"><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"nl\">\"prompt\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"...\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"response\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"...\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"claims\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"s2\">\"c1\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"c2\"</span><span class=\"p\">],</span><span class=\"w\">\n  </span><span class=\"nl\">\"factuality_score\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"mf\">0.87</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"nl\">\"retrieved_sources\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"s2\">\"wiki:Marie_Curie\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"nytimes.com/...\"</span><span class=\"p\">]</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></code></pre>\n<h4 id=\"factual-drift-detection\">Factual Drift Detection</h4>\n<ul>\n  <li>Periodically re-evaluate historical responses using updated evidence sources.</li>\n  <li>Compute <em>factual drift rate</em>:\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-123-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mtext>Drift</mtext><mo>=</mo><mn>1</mn><mo>&amp;#x2212;</mo><mfrac><msub><mi>F</mi><mi>t</mi></msub><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow></msub></mfrac></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1162\" style=\"width: 7.607em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 6.305em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.044em, 1006.3em, 2.867em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1163\"><span class=\"mtext\" id=\"MathJax-Span-1164\" style=\"font-family: STIXGeneral-Regular;\">Drift</span><span class=\"mo\" id=\"MathJax-Span-1165\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mn\" id=\"MathJax-Span-1166\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">1</span><span class=\"mo\" id=\"MathJax-Span-1167\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">−</span><span class=\"mfrac\" id=\"MathJax-Span-1168\" style=\"padding-left: 0.263em;\"><span style=\"display: inline-block; position: relative; width: 1.357em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.63em, 4.273em, -999.997em); top: -4.529em; left: 50%; margin-left: -0.31em;\"><span class=\"msubsup\" id=\"MathJax-Span-1169\"><span style=\"display: inline-block; position: relative; width: 0.628em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1170\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.904em; left: 0.419em;\"><span class=\"mi\" id=\"MathJax-Span-1171\" style=\"font-size: 50%; font-family: STIXGeneral-Italic;\">t<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1001.25em, 4.326em, -999.997em); top: -3.643em; left: 50%; margin-left: -0.622em;\"><span class=\"msubsup\" id=\"MathJax-Span-1172\"><span style=\"display: inline-block; position: relative; width: 1.253em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1173\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.904em; left: 0.419em;\"><span class=\"texatom\" id=\"MathJax-Span-1174\"><span class=\"mrow\" id=\"MathJax-Span-1175\"><span class=\"mi\" id=\"MathJax-Span-1176\" style=\"font-size: 50%; font-family: STIXGeneral-Italic;\">t<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-1177\" style=\"font-size: 50%; font-family: STIXGeneral-Regular;\">−</span><span class=\"mn\" id=\"MathJax-Span-1178\" style=\"font-size: 50%; font-family: STIXGeneral-Regular;\">1</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1001.36em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 1.357em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.684em; border-left: 0px solid; width: 0px; height: 1.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mtext>Drift</mtext><mo>=</mo><mn>1</mn><mo>−</mo><mfrac><msub><mi>F</mi><mi>t</mi></msub><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mi>t</mi><mo>−</mo><mn>1</mn></mrow></msub></mfrac></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-123\">\\text{Drift} = 1 - \\frac{F_t}{F_{t-1}}</script>\n    <ul>\n      <li>where <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-124-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mi>t</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1179\" style=\"width: 1.096em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.888em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.305em, 1000.89em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1180\"><span class=\"msubsup\" id=\"MathJax-Span-1181\"><span style=\"display: inline-block; position: relative; width: 0.888em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1182\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"mi\" id=\"MathJax-Span-1183\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">t<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mi>t</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-124\">F_t</script> is average factuality score at time <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-125-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>t</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1184\" style=\"width: 0.315em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.263em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.513em, 1000.26em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1185\"><span class=\"mi\" id=\"MathJax-Span-1186\" style=\"font-family: STIXGeneral-Italic;\">t<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>t</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-125\">t</script>.</li>\n    </ul>\n  </li>\n  <li>High drift triggers retraining or knowledge updates.</li>\n</ul>\n<ul>\n      <li>where <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-124-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mi>t</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1179\" style=\"width: 1.096em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.888em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.305em, 1000.89em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1180\"><span class=\"msubsup\" id=\"MathJax-Span-1181\"><span style=\"display: inline-block; position: relative; width: 0.888em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1182\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"mi\" id=\"MathJax-Span-1183\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">t<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mi>t</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-124\">F_t</script> is average factuality score at time <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-125-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>t</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1184\" style=\"width: 0.315em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.263em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.513em, 1000.26em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1185\"><span class=\"mi\" id=\"MathJax-Span-1186\" style=\"font-family: STIXGeneral-Italic;\">t<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>t</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-125\">t</script>.</li>\n    </ul>\n<h4 id=\"alerting-and-sla-metrics\">Alerting and SLA Metrics</h4>\n<ul>\n  <li>Define service-level agreements (SLAs) for factuality (e.g., 95 % supported claims).</li>\n  <li>Integrate with observability tools (Prometheus, Grafana) to visualize factuality metrics over time.</li>\n</ul>",
    "contentMarkdown": "*   Factual reliability cannot be guaranteed statically—it requires _continuous auditing_.\n\n#### Real-Time Fact Logging\n\n*   Every model output is logged with associated claims, retrieval context, and verification results.\n*   Metadata schema:\n    \n    ![](https://aman.ai/images/copy.png)\n    \n    `{   \"prompt\": \"...\",   \"response\": \"...\",   \"claims\": [\"c1\", \"c2\"],   \"factuality_score\": 0.87,   \"retrieved_sources\": [\"wiki:Marie_Curie\", \"nytimes.com/...\"] }`\n    \n\nMetadata schema:\n\n![](https://aman.ai/images/copy.png)\n\n`{   \"prompt\": \"...\",   \"response\": \"...\",   \"claims\": [\"c1\", \"c2\"],   \"factuality_score\": 0.87,   \"retrieved_sources\": [\"wiki:Marie_Curie\", \"nytimes.com/...\"] }`\n\n#### Factual Drift Detection\n\n*   Periodically re-evaluate historical responses using updated evidence sources.\n*   Compute _factual drift rate_: Drift\\=1−FtFt−1Drift\\=1−FtFt−1\\\\text{Drift} = 1 - \\\\frac{F\\_t}{F\\_{t-1}}\n    *   where FtFtF\\_t is average factuality score at time ttt.\n*   High drift triggers retraining or knowledge updates.\n\n*   where FtFtF\\_t is average factuality score at time ttt.\n\n#### Alerting and SLA Metrics\n\n*   Define service-level agreements (SLAs) for factuality (e.g., 95 % supported claims).\n*   Integrate with observability tools (Prometheus, Grafana) to visualize factuality metrics over time.",
    "contentLength": 15577,
    "wordCount": 144,
    "hasCode": true,
    "hasMath": true,
    "hasImages": true,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#continuous-factual-monitoring-in-production"
  },
  {
    "id": "ai-factuality-in-LLMs-deployment-practices-for-high-reliability-applicat-26",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Integrating Factuality Into Model Design and Deployment: Architectural and Systems Considerations",
    "title": "Deployment Practices for High-Reliability Applications",
    "order": 26,
    "orderInChapter": 4,
    "contentHtml": "<h4 id=\"human-in-the-loop-oversight\">Human-in-the-Loop Oversight</h4>\n<ul>\n  <li>Route outputs below confidence threshold to human reviewers.</li>\n  <li>Annotated corrections feed into continual fine-tuning.</li>\n  <li>Common in legal, medical, and financial deployments.</li>\n</ul>\n<h4 id=\"controlled-generation-policies\">Controlled Generation Policies</h4>\n<ul>\n  <li>Restrict model responses using guardrails or <em>Constitutional AI</em>-style policies (<a href=\"https://arxiv.org/abs/2212.08073\">Bai et al. (2022)</a>).</li>\n  <li>Implement generation rules such as:\n<em>“Do not state factual claims without verifiable citations.”</em></li>\n</ul>\n<h4 id=\"real-time-evidence-citation\">Real-Time Evidence Citation</h4>\n<ul>\n  <li>Require models to cite sources inline: “Marie Curie won the Nobel Prize in Physics (1903) <a href=\"https://en.wikipedia.org/wiki/Marie_Curie\">Wikipedia</a>.”</li>\n  <li>Implement citation extraction using text-span linking to retrieval documents, as in <strong>AttributionEval</strong> (<a href=\"https://arxiv.org/abs/2112.07828\">Rashkin et al. (2021)</a>).</li>\n</ul>\n<h4 id=\"shadow-evaluation-pipelines\">Shadow Evaluation Pipelines</h4>\n<ul>\n  <li>Deploy separate factuality evaluation service parallel to user-facing responses.</li>\n  <li>Allows measuring factual degradation without impacting latency.</li>\n</ul>",
    "contentMarkdown": "#### Human-in-the-Loop Oversight\n\n*   Route outputs below confidence threshold to human reviewers.\n*   Annotated corrections feed into continual fine-tuning.\n*   Common in legal, medical, and financial deployments.\n\n#### Controlled Generation Policies\n\n*   Restrict model responses using guardrails or _Constitutional AI_\\-style policies ([Bai et al. (2022)](https://arxiv.org/abs/2212.08073)).\n*   Implement generation rules such as: _“Do not state factual claims without verifiable citations.”_\n\n#### Real-Time Evidence Citation\n\n*   Require models to cite sources inline: “Marie Curie won the Nobel Prize in Physics (1903) [Wikipedia](https://en.wikipedia.org/wiki/Marie_Curie).”\n*   Implement citation extraction using text-span linking to retrieval documents, as in **AttributionEval** ([Rashkin et al. (2021)](https://arxiv.org/abs/2112.07828)).\n\n#### Shadow Evaluation Pipelines\n\n*   Deploy separate factuality evaluation service parallel to user-facing responses.\n*   Allows measuring factual degradation without impacting latency.",
    "contentLength": 1349,
    "wordCount": 119,
    "hasCode": false,
    "hasMath": false,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#deployment-practices-for-high-reliability-applications"
  },
  {
    "id": "ai-factuality-in-LLMs-tooling-and-implementation-ecosystem-27",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Integrating Factuality Into Model Design and Deployment: Architectural and Systems Considerations",
    "title": "Tooling and Implementation Ecosystem",
    "order": 27,
    "orderInChapter": 5,
    "contentHtml": "<ul>\n  <li>\n    <p>Common tools supporting factuality-aware LLM deployment include:</p>\n\n    <ul>\n      <li><strong>LangChain</strong> and <strong>LlamaIndex</strong>: orchestration and retrieval pipelines.</li>\n      <li><strong>RAGAS</strong> (<a href=\"https://arxiv.org/abs/2309.15217\">Es et al. (2023)</a>): metrics for RAG factuality evaluation.</li>\n      <li><strong>EvalGauntlet</strong> and <strong>HELM 2.0</strong>: benchmark orchestration and standard reporting.</li>\n      <li><strong>Factool</strong> (Google (2024)): open-source factual audit dashboard with plug-in verifier adapters.</li>\n      <li><strong>Airflow / Prefect</strong>: for scheduled verification and retraining pipelines.</li>\n      <li><strong>Streamlit / Gradio</strong>: for building real-time factuality inspection dashboards.</li>\n    </ul>\n  </li>\n  <li>\n    <p>Example deployment snippet:</p>\n  </li>\n</ul>\n<p>Common tools supporting factuality-aware LLM deployment include:</p>\n<ul>\n      <li><strong>LangChain</strong> and <strong>LlamaIndex</strong>: orchestration and retrieval pipelines.</li>\n      <li><strong>RAGAS</strong> (<a href=\"https://arxiv.org/abs/2309.15217\">Es et al. (2023)</a>): metrics for RAG factuality evaluation.</li>\n      <li><strong>EvalGauntlet</strong> and <strong>HELM 2.0</strong>: benchmark orchestration and standard reporting.</li>\n      <li><strong>Factool</strong> (Google (2024)): open-source factual audit dashboard with plug-in verifier adapters.</li>\n      <li><strong>Airflow / Prefect</strong>: for scheduled verification and retraining pipelines.</li>\n      <li><strong>Streamlit / Gradio</strong>: for building real-time factuality inspection dashboards.</li>\n    </ul>\n<p>Example deployment snippet:</p>\n<div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code12\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code12\"><span class=\"kn\">from</span> <span class=\"nn\">ragas</span> <span class=\"kn\">import</span> <span class=\"n\">evaluate</span>\n<span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">evaluate</span><span class=\"p\">(</span><span class=\"n\">model_response</span><span class=\"p\">,</span> <span class=\"n\">retrieved_docs</span><span class=\"p\">)</span>\n<span class=\"n\">log_factuality</span><span class=\"p\">(</span><span class=\"n\">result</span><span class=\"p\">[</span><span class=\"s\">'faithfulness'</span><span class=\"p\">],</span> <span class=\"n\">result</span><span class=\"p\">[</span><span class=\"s\">'groundedness'</span><span class=\"p\">])</span>\n</code></pre></div></div>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code12\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code12\"><span class=\"kn\">from</span> <span class=\"nn\">ragas</span> <span class=\"kn\">import</span> <span class=\"n\">evaluate</span>\n<span class=\"n\">result</span> <span class=\"o\">=</span> <span class=\"n\">evaluate</span><span class=\"p\">(</span><span class=\"n\">model_response</span><span class=\"p\">,</span> <span class=\"n\">retrieved_docs</span><span class=\"p\">)</span>\n<span class=\"n\">log_factuality</span><span class=\"p\">(</span><span class=\"n\">result</span><span class=\"p\">[</span><span class=\"s\">'faithfulness'</span><span class=\"p\">],</span> <span class=\"n\">result</span><span class=\"p\">[</span><span class=\"s\">'groundedness'</span><span class=\"p\">])</span>\n</code></pre>",
    "contentMarkdown": "*   Common tools supporting factuality-aware LLM deployment include:\n    \n    *   **LangChain** and **LlamaIndex**: orchestration and retrieval pipelines.\n    *   **RAGAS** ([Es et al. (2023)](https://arxiv.org/abs/2309.15217)): metrics for RAG factuality evaluation.\n    *   **EvalGauntlet** and **HELM 2.0**: benchmark orchestration and standard reporting.\n    *   **Factool** (Google (2024)): open-source factual audit dashboard with plug-in verifier adapters.\n    *   **Airflow / Prefect**: for scheduled verification and retraining pipelines.\n    *   **Streamlit / Gradio**: for building real-time factuality inspection dashboards.\n*   Example deployment snippet:\n    \n\nCommon tools supporting factuality-aware LLM deployment include:\n\n*   **LangChain** and **LlamaIndex**: orchestration and retrieval pipelines.\n*   **RAGAS** ([Es et al. (2023)](https://arxiv.org/abs/2309.15217)): metrics for RAG factuality evaluation.\n*   **EvalGauntlet** and **HELM 2.0**: benchmark orchestration and standard reporting.\n*   **Factool** (Google (2024)): open-source factual audit dashboard with plug-in verifier adapters.\n*   **Airflow / Prefect**: for scheduled verification and retraining pipelines.\n*   **Streamlit / Gradio**: for building real-time factuality inspection dashboards.\n\nExample deployment snippet:\n\n![](https://aman.ai/images/copy.png)\n\n`from ragas import evaluate result = evaluate(model_response, retrieved_docs) log_factuality(result['faithfulness'], result['groundedness'])`\n\n![](https://aman.ai/images/copy.png)\n\n`from ragas import evaluate result = evaluate(model_response, retrieved_docs) log_factuality(result['faithfulness'], result['groundedness'])`",
    "contentLength": 3695,
    "wordCount": 166,
    "hasCode": true,
    "hasMath": false,
    "hasImages": true,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#tooling-and-implementation-ecosystem"
  },
  {
    "id": "ai-factuality-in-LLMs-governance-and-compliance-considerations-28",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Integrating Factuality Into Model Design and Deployment: Architectural and Systems Considerations",
    "title": "Governance and Compliance Considerations",
    "order": 28,
    "orderInChapter": 6,
    "contentHtml": "<h4 id=\"factuality-audits\">Factuality Audits</h4>\n<ul>\n  <li>\n    <p>Enterprises should conduct periodic factual audits, documenting:</p>\n\n    <ul>\n      <li>Datasets used for knowledge updates</li>\n      <li>Benchmarks and metrics applied</li>\n      <li>Drift statistics and retraining intervals</li>\n    </ul>\n  </li>\n</ul>\n<p>Enterprises should conduct periodic factual audits, documenting:</p>\n<ul>\n      <li>Datasets used for knowledge updates</li>\n      <li>Benchmarks and metrics applied</li>\n      <li>Drift statistics and retraining intervals</li>\n    </ul>\n<h4 id=\"accountability-and-traceability\">Accountability and Traceability</h4>\n<ul>\n  <li>Maintain an immutable <em>factuality ledger</em> recording all outputs, sources, and verification scores.</li>\n  <li>Enable post-hoc traceability for legal or scientific verification.</li>\n</ul>\n<h4 id=\"transparency-to-end-users\">Transparency to End Users</h4>\n<ul>\n  <li>Present factual confidence indicators or citations in user interfaces.</li>\n  <li>Use traffic-light-style indicators (green = verified, yellow = uncertain, red = unsupported).</li>\n</ul>\n<h4 id=\"regulatory-alignment\">Regulatory Alignment</h4>\n<ul>\n  <li>As factual reliability becomes a regulatory expectation (e.g., EU AI Act, FDA-AI validation), factual monitoring pipelines will serve as compliance evidence.</li>\n</ul>",
    "contentMarkdown": "#### Factuality Audits\n\n*   Enterprises should conduct periodic factual audits, documenting:\n    \n    *   Datasets used for knowledge updates\n    *   Benchmarks and metrics applied\n    *   Drift statistics and retraining intervals\n\nEnterprises should conduct periodic factual audits, documenting:\n\n*   Datasets used for knowledge updates\n*   Benchmarks and metrics applied\n*   Drift statistics and retraining intervals\n\n#### Accountability and Traceability\n\n*   Maintain an immutable _factuality ledger_ recording all outputs, sources, and verification scores.\n*   Enable post-hoc traceability for legal or scientific verification.\n\n#### Transparency to End Users\n\n*   Present factual confidence indicators or citations in user interfaces.\n*   Use traffic-light-style indicators (green = verified, yellow = uncertain, red = unsupported).\n\n#### Regulatory Alignment\n\n*   As factual reliability becomes a regulatory expectation (e.g., EU AI Act, FDA-AI validation), factual monitoring pipelines will serve as compliance evidence.",
    "contentLength": 1350,
    "wordCount": 131,
    "hasCode": false,
    "hasMath": false,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#governance-and-compliance-considerations"
  },
  {
    "id": "ai-factuality-in-LLMs-case-study-a-ragas-retrieval-augmented-evaluation-29",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Evaluation Case Studies and Implementation Walkthroughs",
    "title": "Case Study A: RAGAS — Retrieval-Augmented Evaluation",
    "order": 29,
    "orderInChapter": 1,
    "contentHtml": "<ul>\n  <li>\n    <p><strong>Reference:</strong> <em>RAGAS: Automated Evaluation for Retrieval-Augmented Generation</em> by <a href=\"https://arxiv.org/abs/2309.15217\">Es et al. (2023)</a>; demo in <a href=\"https://aclanthology.org/2024.eacl-demo.16/\">Es et al. (2024)</a>.</p>\n  </li>\n  <li><strong>Purpose:</strong>\n    <ul>\n      <li>RAGAS evaluates factuality in <strong>retrieval-augmented generation (RAG)</strong> pipelines—systems that combine retrieval from an external knowledge base with LLM reasoning.</li>\n    </ul>\n  </li>\n  <li><strong>Metrics:</strong>\n    <ul>\n      <li>\n        <p>RAGAS reports four complementary metrics:</p>\n\n        <ol>\n          <li><strong>Faithfulness</strong>: the proportion of model statements supported by retrieved context.</li>\n          <li><strong>Context Precision</strong>: how much of the retrieved evidence was actually used in the answer.</li>\n          <li><strong>Context Recall</strong>: whether retrieved evidence covers all needed facts.</li>\n          <li><strong>Answer Relevance</strong>: semantic alignment between generated answer and user query.</li>\n        </ol>\n      </li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Implementation Workflow:</strong></p>\n\n    <ol>\n      <li>\n        <p><strong>Retrieve evidence:</strong></p>\n\n        <div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code13\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code13\"><span class=\"kn\">from</span> <span class=\"nn\">langchain.retrievers</span> <span class=\"kn\">import</span> <span class=\"n\">BM25Retriever</span>\n<span class=\"n\">retriever</span> <span class=\"o\">=</span> <span class=\"n\">BM25Retriever</span><span class=\"p\">.</span><span class=\"n\">from_texts</span><span class=\"p\">(</span><span class=\"n\">corpus_texts</span><span class=\"p\">)</span>\n<span class=\"n\">retrieved_docs</span> <span class=\"o\">=</span> <span class=\"n\">retriever</span><span class=\"p\">.</span><span class=\"n\">get_relevant_documents</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">)</span>\n</code></pre></div>        </div>\n      </li>\n      <li>\n        <p><strong>Generate model answer:</strong></p>\n\n        <div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code14\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code14\"><span class=\"n\">answer</span> <span class=\"o\">=</span> <span class=\"n\">llm</span><span class=\"p\">.</span><span class=\"n\">generate_answer</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">,</span> <span class=\"n\">context</span><span class=\"o\">=</span><span class=\"n\">retrieved_docs</span><span class=\"p\">)</span>\n</code></pre></div>        </div>\n      </li>\n      <li>\n        <p><strong>Evaluate with RAGAS:</strong></p>\n\n        <div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code15\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code15\"><span class=\"kn\">from</span> <span class=\"nn\">ragas</span> <span class=\"kn\">import</span> <span class=\"n\">evaluate</span>\n<span class=\"n\">metrics</span> <span class=\"o\">=</span> <span class=\"n\">evaluate</span><span class=\"p\">(</span><span class=\"n\">answer</span><span class=\"p\">,</span> <span class=\"n\">retrieved_docs</span><span class=\"p\">)</span>\n<span class=\"k\">print</span><span class=\"p\">(</span><span class=\"n\">metrics</span><span class=\"p\">)</span>\n<span class=\"c1\"># {'faithfulness': 0.92, 'context_precision': 0.88, ...}\n</span></code></pre></div>        </div>\n      </li>\n      <li>\n        <p><strong>Interpretation:</strong></p>\n\n        <ul>\n          <li><code class=\"language-plaintext highlighter-rouge\">faithfulness &lt; 0.8</code> ⇒ model introduces unsupported claims.</li>\n          <li><code class=\"language-plaintext highlighter-rouge\">context_recall &lt; 0.6</code> ⇒ retriever missed relevant passages.</li>\n          <li>Combined Factuality Score can be computed as\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-126-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>rag</mtext></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><mo stretchy=&quot;false&quot;>(</mo><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>faith</mtext></mrow></msub><mo>+</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ans</mtext></mrow></msub><mo stretchy=&quot;false&quot;>)</mo><mo>.</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1187\" style=\"width: 17.346em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 14.43em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.148em, 1014.38em, 2.711em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1188\"><span class=\"msubsup\" id=\"MathJax-Span-1189\"><span style=\"display: inline-block; position: relative; width: 1.617em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1190\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1191\"><span class=\"mrow\" id=\"MathJax-Span-1192\"><span class=\"mtext\" id=\"MathJax-Span-1193\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">rag</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1194\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-1195\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.471em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-1196\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.32em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-1197\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">4</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.47em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.471em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1198\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"msubsup\" id=\"MathJax-Span-1199\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1200\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1201\"><span class=\"mrow\" id=\"MathJax-Span-1202\"><span class=\"mtext\" id=\"MathJax-Span-1203\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">faith</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1204\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"msubsup\" id=\"MathJax-Span-1205\" style=\"padding-left: 0.263em;\"><span style=\"display: inline-block; position: relative; width: 1.565em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1206\" style=\"font-family: STIXGeneral-Italic;\">P</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1207\"><span class=\"mrow\" id=\"MathJax-Span-1208\"><span class=\"mtext\" id=\"MathJax-Span-1209\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ctx</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1210\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"msubsup\" id=\"MathJax-Span-1211\" style=\"padding-left: 0.263em;\"><span style=\"display: inline-block; position: relative; width: 1.565em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.58em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1212\" style=\"font-family: STIXGeneral-Italic;\">R</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1213\"><span class=\"mrow\" id=\"MathJax-Span-1214\"><span class=\"mtext\" id=\"MathJax-Span-1215\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ctx</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1216\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"msubsup\" id=\"MathJax-Span-1217\" style=\"padding-left: 0.263em;\"><span style=\"display: inline-block; position: relative; width: 1.617em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.58em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1218\" style=\"font-family: STIXGeneral-Italic;\">R</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1219\"><span class=\"mrow\" id=\"MathJax-Span-1220\"><span class=\"mtext\" id=\"MathJax-Span-1221\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ans</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1222\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-1223\" style=\"font-family: STIXGeneral-Regular;\">.</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.497em; border-left: 0px solid; width: 0px; height: 1.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>rag</mtext></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><mo stretchy=\"false\">(</mo><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>faith</mtext></mrow></msub><mo>+</mo><msub><mi>P</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ans</mtext></mrow></msub><mo stretchy=\"false\">)</mo><mo>.</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-126\">F_{\\text{rag}} = \\frac{1}{4}(F_{\\text{faith}} + P_{\\text{ctx}} + R_{\\text{ctx}} + R_{\\text{ans}}).</script></li>\n        </ul>\n      </li>\n    </ol>\n  </li>\n  <li>\n    <p><strong>Engineering Notes:</strong></p>\n\n    <ul>\n      <li>Uses sentence-BERT embeddings for semantic similarity.</li>\n      <li>Retrieval evidence is chunked (≈ 200 tokens) and cached.</li>\n      <li>Implemented as a composable evaluation node in <em>LangChain</em> pipelines.</li>\n    </ul>\n  </li>\n</ul>\n<p><strong>Reference:</strong> <em>RAGAS: Automated Evaluation for Retrieval-Augmented Generation</em> by <a href=\"https://arxiv.org/abs/2309.15217\">Es et al. (2023)</a>; demo in <a href=\"https://aclanthology.org/2024.eacl-demo.16/\">Es et al. (2024)</a>.</p>\n<ul>\n      <li>RAGAS evaluates factuality in <strong>retrieval-augmented generation (RAG)</strong> pipelines—systems that combine retrieval from an external knowledge base with LLM reasoning.</li>\n    </ul>\n<ul>\n      <li>\n        <p>RAGAS reports four complementary metrics:</p>\n\n        <ol>\n          <li><strong>Faithfulness</strong>: the proportion of model statements supported by retrieved context.</li>\n          <li><strong>Context Precision</strong>: how much of the retrieved evidence was actually used in the answer.</li>\n          <li><strong>Context Recall</strong>: whether retrieved evidence covers all needed facts.</li>\n          <li><strong>Answer Relevance</strong>: semantic alignment between generated answer and user query.</li>\n        </ol>\n      </li>\n    </ul>\n<p>RAGAS reports four complementary metrics:</p>\n<ol>\n          <li><strong>Faithfulness</strong>: the proportion of model statements supported by retrieved context.</li>\n          <li><strong>Context Precision</strong>: how much of the retrieved evidence was actually used in the answer.</li>\n          <li><strong>Context Recall</strong>: whether retrieved evidence covers all needed facts.</li>\n          <li><strong>Answer Relevance</strong>: semantic alignment between generated answer and user query.</li>\n        </ol>\n<p><strong>Implementation Workflow:</strong></p>\n<ol>\n      <li>\n        <p><strong>Retrieve evidence:</strong></p>\n\n        <div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code13\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code13\"><span class=\"kn\">from</span> <span class=\"nn\">langchain.retrievers</span> <span class=\"kn\">import</span> <span class=\"n\">BM25Retriever</span>\n<span class=\"n\">retriever</span> <span class=\"o\">=</span> <span class=\"n\">BM25Retriever</span><span class=\"p\">.</span><span class=\"n\">from_texts</span><span class=\"p\">(</span><span class=\"n\">corpus_texts</span><span class=\"p\">)</span>\n<span class=\"n\">retrieved_docs</span> <span class=\"o\">=</span> <span class=\"n\">retriever</span><span class=\"p\">.</span><span class=\"n\">get_relevant_documents</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">)</span>\n</code></pre></div>        </div>\n      </li>\n      <li>\n        <p><strong>Generate model answer:</strong></p>\n\n        <div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code14\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code14\"><span class=\"n\">answer</span> <span class=\"o\">=</span> <span class=\"n\">llm</span><span class=\"p\">.</span><span class=\"n\">generate_answer</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">,</span> <span class=\"n\">context</span><span class=\"o\">=</span><span class=\"n\">retrieved_docs</span><span class=\"p\">)</span>\n</code></pre></div>        </div>\n      </li>\n      <li>\n        <p><strong>Evaluate with RAGAS:</strong></p>\n\n        <div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code15\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code15\"><span class=\"kn\">from</span> <span class=\"nn\">ragas</span> <span class=\"kn\">import</span> <span class=\"n\">evaluate</span>\n<span class=\"n\">metrics</span> <span class=\"o\">=</span> <span class=\"n\">evaluate</span><span class=\"p\">(</span><span class=\"n\">answer</span><span class=\"p\">,</span> <span class=\"n\">retrieved_docs</span><span class=\"p\">)</span>\n<span class=\"k\">print</span><span class=\"p\">(</span><span class=\"n\">metrics</span><span class=\"p\">)</span>\n<span class=\"c1\"># {'faithfulness': 0.92, 'context_precision': 0.88, ...}\n</span></code></pre></div>        </div>\n      </li>\n      <li>\n        <p><strong>Interpretation:</strong></p>\n\n        <ul>\n          <li><code class=\"language-plaintext highlighter-rouge\">faithfulness &lt; 0.8</code> ⇒ model introduces unsupported claims.</li>\n          <li><code class=\"language-plaintext highlighter-rouge\">context_recall &lt; 0.6</code> ⇒ retriever missed relevant passages.</li>\n          <li>Combined Factuality Score can be computed as\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-126-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>rag</mtext></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><mo stretchy=&quot;false&quot;>(</mo><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>faith</mtext></mrow></msub><mo>+</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ans</mtext></mrow></msub><mo stretchy=&quot;false&quot;>)</mo><mo>.</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1187\" style=\"width: 17.346em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 14.43em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.148em, 1014.38em, 2.711em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1188\"><span class=\"msubsup\" id=\"MathJax-Span-1189\"><span style=\"display: inline-block; position: relative; width: 1.617em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1190\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1191\"><span class=\"mrow\" id=\"MathJax-Span-1192\"><span class=\"mtext\" id=\"MathJax-Span-1193\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">rag</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1194\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-1195\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.471em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-1196\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.32em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-1197\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">4</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.47em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.471em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1198\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"msubsup\" id=\"MathJax-Span-1199\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1200\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1201\"><span class=\"mrow\" id=\"MathJax-Span-1202\"><span class=\"mtext\" id=\"MathJax-Span-1203\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">faith</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1204\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"msubsup\" id=\"MathJax-Span-1205\" style=\"padding-left: 0.263em;\"><span style=\"display: inline-block; position: relative; width: 1.565em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1206\" style=\"font-family: STIXGeneral-Italic;\">P</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1207\"><span class=\"mrow\" id=\"MathJax-Span-1208\"><span class=\"mtext\" id=\"MathJax-Span-1209\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ctx</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1210\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"msubsup\" id=\"MathJax-Span-1211\" style=\"padding-left: 0.263em;\"><span style=\"display: inline-block; position: relative; width: 1.565em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.58em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1212\" style=\"font-family: STIXGeneral-Italic;\">R</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1213\"><span class=\"mrow\" id=\"MathJax-Span-1214\"><span class=\"mtext\" id=\"MathJax-Span-1215\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ctx</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1216\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"msubsup\" id=\"MathJax-Span-1217\" style=\"padding-left: 0.263em;\"><span style=\"display: inline-block; position: relative; width: 1.617em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.58em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1218\" style=\"font-family: STIXGeneral-Italic;\">R</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1219\"><span class=\"mrow\" id=\"MathJax-Span-1220\"><span class=\"mtext\" id=\"MathJax-Span-1221\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ans</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1222\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-1223\" style=\"font-family: STIXGeneral-Regular;\">.</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.497em; border-left: 0px solid; width: 0px; height: 1.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>rag</mtext></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><mo stretchy=\"false\">(</mo><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>faith</mtext></mrow></msub><mo>+</mo><msub><mi>P</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ans</mtext></mrow></msub><mo stretchy=\"false\">)</mo><mo>.</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-126\">F_{\\text{rag}} = \\frac{1}{4}(F_{\\text{faith}} + P_{\\text{ctx}} + R_{\\text{ctx}} + R_{\\text{ans}}).</script></li>\n        </ul>\n      </li>\n    </ol>\n<p><strong>Retrieve evidence:</strong></p>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code13\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code13\"><span class=\"kn\">from</span> <span class=\"nn\">langchain.retrievers</span> <span class=\"kn\">import</span> <span class=\"n\">BM25Retriever</span>\n<span class=\"n\">retriever</span> <span class=\"o\">=</span> <span class=\"n\">BM25Retriever</span><span class=\"p\">.</span><span class=\"n\">from_texts</span><span class=\"p\">(</span><span class=\"n\">corpus_texts</span><span class=\"p\">)</span>\n<span class=\"n\">retrieved_docs</span> <span class=\"o\">=</span> <span class=\"n\">retriever</span><span class=\"p\">.</span><span class=\"n\">get_relevant_documents</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">)</span>\n</code></pre>\n<p><strong>Generate model answer:</strong></p>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code14\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code14\"><span class=\"n\">answer</span> <span class=\"o\">=</span> <span class=\"n\">llm</span><span class=\"p\">.</span><span class=\"n\">generate_answer</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">,</span> <span class=\"n\">context</span><span class=\"o\">=</span><span class=\"n\">retrieved_docs</span><span class=\"p\">)</span>\n</code></pre>\n<p><strong>Evaluate with RAGAS:</strong></p>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code15\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code15\"><span class=\"kn\">from</span> <span class=\"nn\">ragas</span> <span class=\"kn\">import</span> <span class=\"n\">evaluate</span>\n<span class=\"n\">metrics</span> <span class=\"o\">=</span> <span class=\"n\">evaluate</span><span class=\"p\">(</span><span class=\"n\">answer</span><span class=\"p\">,</span> <span class=\"n\">retrieved_docs</span><span class=\"p\">)</span>\n<span class=\"k\">print</span><span class=\"p\">(</span><span class=\"n\">metrics</span><span class=\"p\">)</span>\n<span class=\"c1\"># {'faithfulness': 0.92, 'context_precision': 0.88, ...}\n</span></code></pre>\n<p><strong>Interpretation:</strong></p>\n<ul>\n          <li><code class=\"language-plaintext highlighter-rouge\">faithfulness &lt; 0.8</code> ⇒ model introduces unsupported claims.</li>\n          <li><code class=\"language-plaintext highlighter-rouge\">context_recall &lt; 0.6</code> ⇒ retriever missed relevant passages.</li>\n          <li>Combined Factuality Score can be computed as\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-126-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>rag</mtext></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><mo stretchy=&quot;false&quot;>(</mo><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>faith</mtext></mrow></msub><mo>+</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ans</mtext></mrow></msub><mo stretchy=&quot;false&quot;>)</mo><mo>.</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1187\" style=\"width: 17.346em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 14.43em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.148em, 1014.38em, 2.711em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1188\"><span class=\"msubsup\" id=\"MathJax-Span-1189\"><span style=\"display: inline-block; position: relative; width: 1.617em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1190\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1191\"><span class=\"mrow\" id=\"MathJax-Span-1192\"><span class=\"mtext\" id=\"MathJax-Span-1193\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">rag</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1194\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-1195\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.471em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-1196\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.32em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-1197\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">4</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.47em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.471em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1198\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"msubsup\" id=\"MathJax-Span-1199\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1200\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1201\"><span class=\"mrow\" id=\"MathJax-Span-1202\"><span class=\"mtext\" id=\"MathJax-Span-1203\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">faith</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1204\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"msubsup\" id=\"MathJax-Span-1205\" style=\"padding-left: 0.263em;\"><span style=\"display: inline-block; position: relative; width: 1.565em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1206\" style=\"font-family: STIXGeneral-Italic;\">P</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1207\"><span class=\"mrow\" id=\"MathJax-Span-1208\"><span class=\"mtext\" id=\"MathJax-Span-1209\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ctx</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1210\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"msubsup\" id=\"MathJax-Span-1211\" style=\"padding-left: 0.263em;\"><span style=\"display: inline-block; position: relative; width: 1.565em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.58em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1212\" style=\"font-family: STIXGeneral-Italic;\">R</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1213\"><span class=\"mrow\" id=\"MathJax-Span-1214\"><span class=\"mtext\" id=\"MathJax-Span-1215\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ctx</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1216\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"msubsup\" id=\"MathJax-Span-1217\" style=\"padding-left: 0.263em;\"><span style=\"display: inline-block; position: relative; width: 1.617em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.58em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1218\" style=\"font-family: STIXGeneral-Italic;\">R</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1219\"><span class=\"mrow\" id=\"MathJax-Span-1220\"><span class=\"mtext\" id=\"MathJax-Span-1221\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ans</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1222\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-1223\" style=\"font-family: STIXGeneral-Regular;\">.</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.497em; border-left: 0px solid; width: 0px; height: 1.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>rag</mtext></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mn>4</mn></mfrac><mo stretchy=\"false\">(</mo><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>faith</mtext></mrow></msub><mo>+</mo><msub><mi>P</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ans</mtext></mrow></msub><mo stretchy=\"false\">)</mo><mo>.</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-126\">F_{\\text{rag}} = \\frac{1}{4}(F_{\\text{faith}} + P_{\\text{ctx}} + R_{\\text{ctx}} + R_{\\text{ans}}).</script></li>\n        </ul>\n<p><strong>Engineering Notes:</strong></p>\n<ul>\n      <li>Uses sentence-BERT embeddings for semantic similarity.</li>\n      <li>Retrieval evidence is chunked (≈ 200 tokens) and cached.</li>\n      <li>Implemented as a composable evaluation node in <em>LangChain</em> pipelines.</li>\n    </ul>",
    "contentMarkdown": "*   **Reference:** _RAGAS: Automated Evaluation for Retrieval-Augmented Generation_ by [Es et al. (2023)](https://arxiv.org/abs/2309.15217); demo in [Es et al. (2024)](https://aclanthology.org/2024.eacl-demo.16/).\n    \n*   **Purpose:**\n    *   RAGAS evaluates factuality in **retrieval-augmented generation (RAG)** pipelines—systems that combine retrieval from an external knowledge base with LLM reasoning.\n*   **Metrics:**\n    *   RAGAS reports four complementary metrics:\n        \n        1.  **Faithfulness**: the proportion of model statements supported by retrieved context.\n        2.  **Context Precision**: how much of the retrieved evidence was actually used in the answer.\n        3.  **Context Recall**: whether retrieved evidence covers all needed facts.\n        4.  **Answer Relevance**: semantic alignment between generated answer and user query.\n*   **Implementation Workflow:**\n    \n    1.  **Retrieve evidence:**\n        \n        ![](https://aman.ai/images/copy.png)\n        \n        `from langchain.retrievers import BM25Retriever retriever = BM25Retriever.from_texts(corpus_texts) retrieved_docs = retriever.get_relevant_documents(query)`\n        \n    2.  **Generate model answer:**\n        \n        ![](https://aman.ai/images/copy.png)\n        \n        `answer = llm.generate_answer(query, context=retrieved_docs)`\n        \n    3.  **Evaluate with RAGAS:**\n        \n        ![](https://aman.ai/images/copy.png)\n        \n        `from ragas import evaluate metrics = evaluate(answer, retrieved_docs) print(metrics) # {'faithfulness': 0.92, 'context_precision': 0.88, ...}`\n        \n    4.  **Interpretation:**\n        \n        *   `faithfulness < 0.8` ⇒ model introduces unsupported claims.\n        *   `context_recall < 0.6` ⇒ retriever missed relevant passages.\n        *   Combined Factuality Score can be computed as Frag\\=14(Ffaith+Pctx+Rctx+Rans).Frag\\=14(Ffaith+Pctx+Rctx+Rans).F\\_{\\\\text{rag}} = \\\\frac{1}{4}(F\\_{\\\\text{faith}} + P\\_{\\\\text{ctx}} + R\\_{\\\\text{ctx}} + R\\_{\\\\text{ans}}).\n*   **Engineering Notes:**\n    \n    *   Uses sentence-BERT embeddings for semantic similarity.\n    *   Retrieval evidence is chunked (≈ 200 tokens) and cached.\n    *   Implemented as a composable evaluation node in _LangChain_ pipelines.\n\n**Reference:** _RAGAS: Automated Evaluation for Retrieval-Augmented Generation_ by [Es et al. (2023)](https://arxiv.org/abs/2309.15217); demo in [Es et al. (2024)](https://aclanthology.org/2024.eacl-demo.16/).\n\n*   RAGAS evaluates factuality in **retrieval-augmented generation (RAG)** pipelines—systems that combine retrieval from an external knowledge base with LLM reasoning.\n\n*   RAGAS reports four complementary metrics:\n    \n    1.  **Faithfulness**: the proportion of model statements supported by retrieved context.\n    2.  **Context Precision**: how much of the retrieved evidence was actually used in the answer.\n    3.  **Context Recall**: whether retrieved evidence covers all needed facts.\n    4.  **Answer Relevance**: semantic alignment between generated answer and user query.\n\nRAGAS reports four complementary metrics:\n\n1.  **Faithfulness**: the proportion of model statements supported by retrieved context.\n2.  **Context Precision**: how much of the retrieved evidence was actually used in the answer.\n3.  **Context Recall**: whether retrieved evidence covers all needed facts.\n4.  **Answer Relevance**: semantic alignment between generated answer and user query.\n\n**Implementation Workflow:**\n\n1.  **Retrieve evidence:**\n    \n    ![](https://aman.ai/images/copy.png)\n    \n    `from langchain.retrievers import BM25Retriever retriever = BM25Retriever.from_texts(corpus_texts) retrieved_docs = retriever.get_relevant_documents(query)`\n    \n2.  **Generate model answer:**\n    \n    ![](https://aman.ai/images/copy.png)\n    \n    `answer = llm.generate_answer(query, context=retrieved_docs)`\n    \n3.  **Evaluate with RAGAS:**\n    \n    ![](https://aman.ai/images/copy.png)\n    \n    `from ragas import evaluate metrics = evaluate(answer, retrieved_docs) print(metrics) # {'faithfulness': 0.92, 'context_precision': 0.88, ...}`\n    \n4.  **Interpretation:**\n    \n    *   `faithfulness < 0.8` ⇒ model introduces unsupported claims.\n    *   `context_recall < 0.6` ⇒ retriever missed relevant passages.\n    *   Combined Factuality Score can be computed as Frag\\=14(Ffaith+Pctx+Rctx+Rans).Frag\\=14(Ffaith+Pctx+Rctx+Rans).F\\_{\\\\text{rag}} = \\\\frac{1}{4}(F\\_{\\\\text{faith}} + P\\_{\\\\text{ctx}} + R\\_{\\\\text{ctx}} + R\\_{\\\\text{ans}}).\n\n**Retrieve evidence:**\n\n![](https://aman.ai/images/copy.png)\n\n`from langchain.retrievers import BM25Retriever retriever = BM25Retriever.from_texts(corpus_texts) retrieved_docs = retriever.get_relevant_documents(query)`\n\n**Generate model answer:**\n\n![](https://aman.ai/images/copy.png)\n\n`answer = llm.generate_answer(query, context=retrieved_docs)`\n\n**Evaluate with RAGAS:**\n\n![](https://aman.ai/images/copy.png)\n\n`from ragas import evaluate metrics = evaluate(answer, retrieved_docs) print(metrics) # {'faithfulness': 0.92, 'context_precision': 0.88, ...}`\n\n**Interpretation:**\n\n*   `faithfulness < 0.8` ⇒ model introduces unsupported claims.\n*   `context_recall < 0.6` ⇒ retriever missed relevant passages.\n*   Combined Factuality Score can be computed as Frag\\=14(Ffaith+Pctx+Rctx+Rans).Frag\\=14(Ffaith+Pctx+Rctx+Rans).F\\_{\\\\text{rag}} = \\\\frac{1}{4}(F\\_{\\\\text{faith}} + P\\_{\\\\text{ctx}} + R\\_{\\\\text{ctx}} + R\\_{\\\\text{ans}}).\n\n**Engineering Notes:**\n\n*   Uses sentence-BERT embeddings for semantic similarity.\n*   Retrieval evidence is chunked (≈ 200 tokens) and cached.\n*   Implemented as a composable evaluation node in _LangChain_ pipelines.",
    "contentLength": 38302,
    "wordCount": 539,
    "hasCode": true,
    "hasMath": true,
    "hasImages": true,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#case-study-a:-ragas-—-retrieval-augmented-evaluation"
  },
  {
    "id": "ai-factuality-in-LLMs-case-study-b-safe-search-augmented-factuality-eval-30",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Evaluation Case Studies and Implementation Walkthroughs",
    "title": "Case Study B: SAFE — Search-Augmented Factuality Evaluator",
    "order": 30,
    "orderInChapter": 2,
    "contentHtml": "<ul>\n  <li>\n    <p><strong>Reference:</strong> <em>LongFact: Long-Form Factuality Evaluation with Search-Augmented Generators</em> by <a href=\"https://arxiv.org/abs/2403.18802\">Wei et al. (2024)</a>.</p>\n  </li>\n  <li>\n    <p><strong>Purpose:</strong> SAFE performs <strong>atomic-fact decomposition</strong> and <strong>real-time web verification</strong> to evaluate factual correctness in long-form model outputs.</p>\n  </li>\n  <li>\n    <p><strong>Pipeline Overview:</strong></p>\n\n    <ol>\n      <li><strong>Claim extraction</strong>: Use GPT-4 or a structured parser to segment model text into atomic factual claims.</li>\n      <li><strong>Search and retrieval</strong>: Query search APIs (e.g., Bing, Serper) for each claim.</li>\n      <li><strong>Verification</strong>: Use entailment scoring (DeBERTa-MNLI) between claim and retrieved snippets.</li>\n      <li><strong>Aggregation</strong>: Compute supported / contradicted / unverifiable ratios.</li>\n    </ol>\n  </li>\n  <li>\n    <p><strong>Implementation Sketch:</strong></p>\n\n    <div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code16\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code16\"><span class=\"n\">claims</span> <span class=\"o\">=</span> <span class=\"n\">gpt4_extract_claims</span><span class=\"p\">(</span><span class=\"n\">output_text</span><span class=\"p\">)</span>\n<span class=\"k\">for</span> <span class=\"n\">c</span> <span class=\"ow\">in</span> <span class=\"n\">claims</span><span class=\"p\">:</span>\n    <span class=\"n\">evidence</span> <span class=\"o\">=</span> <span class=\"n\">web_search</span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"p\">)</span>\n    <span class=\"n\">entail_prob</span> <span class=\"o\">=</span> <span class=\"n\">entailment_model</span><span class=\"p\">(</span><span class=\"n\">premise</span><span class=\"o\">=</span><span class=\"n\">evidence</span><span class=\"p\">,</span> <span class=\"n\">hypothesis</span><span class=\"o\">=</span><span class=\"n\">c</span><span class=\"p\">)</span>\n    <span class=\"n\">labels</span><span class=\"p\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">entail_prob</span> <span class=\"o\">&gt;</span> <span class=\"mf\">0.5</span><span class=\"p\">)</span>\n<span class=\"n\">safe_score</span> <span class=\"o\">=</span> <span class=\"nb\">sum</span><span class=\"p\">(</span><span class=\"n\">labels</span><span class=\"p\">)</span><span class=\"o\">/</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">labels</span><span class=\"p\">)</span>\n</code></pre></div>    </div>\n  </li>\n  <li><strong>Engineering Notes:</strong>\n    <ul>\n      <li>Parallelized retrieval via async HTTP requests.</li>\n      <li>Uses caching to reduce redundant searches.</li>\n      <li>Achieves ~0.8 correlation with expert human judgment across open-domain QA tasks.</li>\n    </ul>\n  </li>\n  <li><strong>Interpretation:</strong>\n    <ul>\n      <li>SAFE’s design shows how factuality evaluation can scale dynamically without predefined gold references. It directly operationalizes the principle that <em>factuality = verifiable support + absence of contradiction</em>.</li>\n    </ul>\n  </li>\n</ul>\n<p><strong>Reference:</strong> <em>LongFact: Long-Form Factuality Evaluation with Search-Augmented Generators</em> by <a href=\"https://arxiv.org/abs/2403.18802\">Wei et al. (2024)</a>.</p>\n<p><strong>Purpose:</strong> SAFE performs <strong>atomic-fact decomposition</strong> and <strong>real-time web verification</strong> to evaluate factual correctness in long-form model outputs.</p>\n<p><strong>Pipeline Overview:</strong></p>\n<ol>\n      <li><strong>Claim extraction</strong>: Use GPT-4 or a structured parser to segment model text into atomic factual claims.</li>\n      <li><strong>Search and retrieval</strong>: Query search APIs (e.g., Bing, Serper) for each claim.</li>\n      <li><strong>Verification</strong>: Use entailment scoring (DeBERTa-MNLI) between claim and retrieved snippets.</li>\n      <li><strong>Aggregation</strong>: Compute supported / contradicted / unverifiable ratios.</li>\n    </ol>\n<p><strong>Implementation Sketch:</strong></p>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code16\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code16\"><span class=\"n\">claims</span> <span class=\"o\">=</span> <span class=\"n\">gpt4_extract_claims</span><span class=\"p\">(</span><span class=\"n\">output_text</span><span class=\"p\">)</span>\n<span class=\"k\">for</span> <span class=\"n\">c</span> <span class=\"ow\">in</span> <span class=\"n\">claims</span><span class=\"p\">:</span>\n    <span class=\"n\">evidence</span> <span class=\"o\">=</span> <span class=\"n\">web_search</span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"p\">)</span>\n    <span class=\"n\">entail_prob</span> <span class=\"o\">=</span> <span class=\"n\">entailment_model</span><span class=\"p\">(</span><span class=\"n\">premise</span><span class=\"o\">=</span><span class=\"n\">evidence</span><span class=\"p\">,</span> <span class=\"n\">hypothesis</span><span class=\"o\">=</span><span class=\"n\">c</span><span class=\"p\">)</span>\n    <span class=\"n\">labels</span><span class=\"p\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">entail_prob</span> <span class=\"o\">&gt;</span> <span class=\"mf\">0.5</span><span class=\"p\">)</span>\n<span class=\"n\">safe_score</span> <span class=\"o\">=</span> <span class=\"nb\">sum</span><span class=\"p\">(</span><span class=\"n\">labels</span><span class=\"p\">)</span><span class=\"o\">/</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">labels</span><span class=\"p\">)</span>\n</code></pre>\n<ul>\n      <li>Parallelized retrieval via async HTTP requests.</li>\n      <li>Uses caching to reduce redundant searches.</li>\n      <li>Achieves ~0.8 correlation with expert human judgment across open-domain QA tasks.</li>\n    </ul>\n<ul>\n      <li>SAFE’s design shows how factuality evaluation can scale dynamically without predefined gold references. It directly operationalizes the principle that <em>factuality = verifiable support + absence of contradiction</em>.</li>\n    </ul>",
    "contentMarkdown": "*   **Reference:** _LongFact: Long-Form Factuality Evaluation with Search-Augmented Generators_ by [Wei et al. (2024)](https://arxiv.org/abs/2403.18802).\n    \n*   **Purpose:** SAFE performs **atomic-fact decomposition** and **real-time web verification** to evaluate factual correctness in long-form model outputs.\n    \n*   **Pipeline Overview:**\n    \n    1.  **Claim extraction**: Use GPT-4 or a structured parser to segment model text into atomic factual claims.\n    2.  **Search and retrieval**: Query search APIs (e.g., Bing, Serper) for each claim.\n    3.  **Verification**: Use entailment scoring (DeBERTa-MNLI) between claim and retrieved snippets.\n    4.  **Aggregation**: Compute supported / contradicted / unverifiable ratios.\n*   **Implementation Sketch:**\n    \n    ![](https://aman.ai/images/copy.png)\n    \n    `claims = gpt4_extract_claims(output_text) for c in claims:     evidence = web_search(c)     entail_prob = entailment_model(premise=evidence, hypothesis=c)     labels.append(entail_prob > 0.5) safe_score = sum(labels)/len(labels)`\n    \n*   **Engineering Notes:**\n    *   Parallelized retrieval via async HTTP requests.\n    *   Uses caching to reduce redundant searches.\n    *   Achieves ~0.8 correlation with expert human judgment across open-domain QA tasks.\n*   **Interpretation:**\n    *   SAFE’s design shows how factuality evaluation can scale dynamically without predefined gold references. It directly operationalizes the principle that _factuality = verifiable support + absence of contradiction_.\n\n**Reference:** _LongFact: Long-Form Factuality Evaluation with Search-Augmented Generators_ by [Wei et al. (2024)](https://arxiv.org/abs/2403.18802).\n\n**Purpose:** SAFE performs **atomic-fact decomposition** and **real-time web verification** to evaluate factual correctness in long-form model outputs.\n\n**Pipeline Overview:**\n\n1.  **Claim extraction**: Use GPT-4 or a structured parser to segment model text into atomic factual claims.\n2.  **Search and retrieval**: Query search APIs (e.g., Bing, Serper) for each claim.\n3.  **Verification**: Use entailment scoring (DeBERTa-MNLI) between claim and retrieved snippets.\n4.  **Aggregation**: Compute supported / contradicted / unverifiable ratios.\n\n**Implementation Sketch:**\n\n![](https://aman.ai/images/copy.png)\n\n`claims = gpt4_extract_claims(output_text) for c in claims:     evidence = web_search(c)     entail_prob = entailment_model(premise=evidence, hypothesis=c)     labels.append(entail_prob > 0.5) safe_score = sum(labels)/len(labels)`\n\n*   Parallelized retrieval via async HTTP requests.\n*   Uses caching to reduce redundant searches.\n*   Achieves ~0.8 correlation with expert human judgment across open-domain QA tasks.\n\n*   SAFE’s design shows how factuality evaluation can scale dynamically without predefined gold references. It directly operationalizes the principle that _factuality = verifiable support + absence of contradiction_.",
    "contentLength": 6423,
    "wordCount": 327,
    "hasCode": true,
    "hasMath": false,
    "hasImages": true,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#case-study-b:-safe-—-search-augmented-factuality-evaluator"
  },
  {
    "id": "ai-factuality-in-LLMs-case-study-c-factscore-llm-as-a-judge-framework-31",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Evaluation Case Studies and Implementation Walkthroughs",
    "title": "Case Study C: FActScore — LLM-as-a-Judge Framework",
    "order": 31,
    "orderInChapter": 3,
    "contentHtml": "<ul>\n  <li>\n    <p><strong>Reference:</strong> <em>FActScore: Fine-grained Factuality Evaluation for LLMs</em> by <a href=\"https://arxiv.org/abs/2305.14251\">Min et al. (2023)</a>.</p>\n  </li>\n  <li>\n    <p><strong>Purpose:</strong> FActScore measures factual accuracy across multiple factual units using an LLM itself as the verifier. It exemplifies the “LLM-as-a-judge” paradigm for automatic yet explainable scoring.</p>\n  </li>\n  <li>\n    <p><strong>Pipeline Steps:</strong></p>\n\n    <ol>\n      <li><strong>Claim decomposition:</strong> GPT-4 decomposes each output into atomic facts.</li>\n      <li><strong>Verification prompt:</strong> For each claim, GPT-4 is asked whether it is Supported / Refuted / Not Enough Info given the source text.</li>\n      <li><strong>Scoring:</strong>\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-127-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>act</mtext></mrow></msub><mo>=</mo><mfrac><mtext># supported</mtext><mtext># total claims</mtext></mfrac><mo>.</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1224\" style=\"width: 8.544em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 7.086em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(0.992em, 1007.03em, 2.763em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1225\"><span class=\"msubsup\" id=\"MathJax-Span-1226\"><span style=\"display: inline-block; position: relative; width: 1.513em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1227\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1228\"><span class=\"mrow\" id=\"MathJax-Span-1229\"><span class=\"mtext\" id=\"MathJax-Span-1230\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">act</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1231\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-1232\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 3.909em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1003.34em, 4.326em, -999.997em); top: -4.581em; left: 50%; margin-left: -1.664em;\"><span class=\"mtext\" id=\"MathJax-Span-1233\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\"># supported</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1003.8em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -1.924em;\"><span class=\"mtext\" id=\"MathJax-Span-1234\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\"># total claims</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1003.91em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 3.909em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1235\" style=\"font-family: STIXGeneral-Regular;\">.</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.559em; border-left: 0px solid; width: 0px; height: 1.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>act</mtext></mrow></msub><mo>=</mo><mfrac><mtext># supported</mtext><mtext># total claims</mtext></mfrac><mo>.</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-127\">F_{\\text{act}} = \\frac{\\text{# supported}}{\\text{# total claims}}.</script></li>\n      <li><strong>Optional:</strong> integrate human sampling for calibration.</li>\n    </ol>\n  </li>\n  <li>\n    <p><strong>Implementation Example:</strong></p>\n  </li>\n</ul>\n<p><strong>Reference:</strong> <em>FActScore: Fine-grained Factuality Evaluation for LLMs</em> by <a href=\"https://arxiv.org/abs/2305.14251\">Min et al. (2023)</a>.</p>\n<p><strong>Purpose:</strong> FActScore measures factual accuracy across multiple factual units using an LLM itself as the verifier. It exemplifies the “LLM-as-a-judge” paradigm for automatic yet explainable scoring.</p>\n<p><strong>Pipeline Steps:</strong></p>\n<ol>\n      <li><strong>Claim decomposition:</strong> GPT-4 decomposes each output into atomic facts.</li>\n      <li><strong>Verification prompt:</strong> For each claim, GPT-4 is asked whether it is Supported / Refuted / Not Enough Info given the source text.</li>\n      <li><strong>Scoring:</strong>\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-127-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>act</mtext></mrow></msub><mo>=</mo><mfrac><mtext># supported</mtext><mtext># total claims</mtext></mfrac><mo>.</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1224\" style=\"width: 8.544em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 7.086em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(0.992em, 1007.03em, 2.763em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1225\"><span class=\"msubsup\" id=\"MathJax-Span-1226\"><span style=\"display: inline-block; position: relative; width: 1.513em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1227\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1228\"><span class=\"mrow\" id=\"MathJax-Span-1229\"><span class=\"mtext\" id=\"MathJax-Span-1230\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">act</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1231\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-1232\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 3.909em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1003.34em, 4.326em, -999.997em); top: -4.581em; left: 50%; margin-left: -1.664em;\"><span class=\"mtext\" id=\"MathJax-Span-1233\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\"># supported</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1003.8em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -1.924em;\"><span class=\"mtext\" id=\"MathJax-Span-1234\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\"># total claims</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1003.91em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 3.909em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1235\" style=\"font-family: STIXGeneral-Regular;\">.</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.559em; border-left: 0px solid; width: 0px; height: 1.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>act</mtext></mrow></msub><mo>=</mo><mfrac><mtext># supported</mtext><mtext># total claims</mtext></mfrac><mo>.</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-127\">F_{\\text{act}} = \\frac{\\text{# supported}}{\\text{# total claims}}.</script></li>\n      <li><strong>Optional:</strong> integrate human sampling for calibration.</li>\n    </ol>\n<p><strong>Implementation Example:</strong></p>\n<div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code17\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code17\"><span class=\"n\">prompt</span> <span class=\"o\">=</span> <span class=\"s\">\"For each claim below, label as Supported, Refuted, or NEI based on the context.\"</span>\n<span class=\"n\">scores</span> <span class=\"o\">=</span> <span class=\"n\">gpt4_api</span><span class=\"p\">(</span><span class=\"n\">prompt</span> <span class=\"o\">+</span> <span class=\"n\">context_and_claims</span><span class=\"p\">)</span>\n<span class=\"n\">factscore</span> <span class=\"o\">=</span> <span class=\"n\">compute_ratio</span><span class=\"p\">(</span><span class=\"n\">scores</span><span class=\"p\">,</span> <span class=\"n\">label</span><span class=\"o\">=</span><span class=\"s\">\"Supported\"</span><span class=\"p\">)</span>\n</code></pre></div></div>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code17\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code17\"><span class=\"n\">prompt</span> <span class=\"o\">=</span> <span class=\"s\">\"For each claim below, label as Supported, Refuted, or NEI based on the context.\"</span>\n<span class=\"n\">scores</span> <span class=\"o\">=</span> <span class=\"n\">gpt4_api</span><span class=\"p\">(</span><span class=\"n\">prompt</span> <span class=\"o\">+</span> <span class=\"n\">context_and_claims</span><span class=\"p\">)</span>\n<span class=\"n\">factscore</span> <span class=\"o\">=</span> <span class=\"n\">compute_ratio</span><span class=\"p\">(</span><span class=\"n\">scores</span><span class=\"p\">,</span> <span class=\"n\">label</span><span class=\"o\">=</span><span class=\"s\">\"Supported\"</span><span class=\"p\">)</span>\n</code></pre>\n<ul>\n  <li>\n    <p><strong>Engineering Notes:</strong></p>\n\n    <ul>\n      <li>Prompts use structured JSON outputs for reliability.</li>\n      <li>Batch evaluation with rate-limit aware retry loops.</li>\n      <li>Outputs stored in databases with per-claim confidence for interpretability.</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Strengths:</strong></p>\n\n    <ul>\n      <li>Requires no retriever; works for both extractive and generative models.</li>\n      <li>Produces human-readable rationales for each label.</li>\n      <li>Correlates closely with expert annotation (<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-128-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1236\" style=\"width: 0.732em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.576em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1237\"><span class=\"mi\" id=\"MathJax-Span-1238\" style=\"font-family: STIXGeneral-Italic;\">ρ</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>ρ</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-128\">\\rho</script> ≈ 0.82).</li>\n    </ul>\n  </li>\n</ul>\n<p><strong>Engineering Notes:</strong></p>\n<ul>\n      <li>Prompts use structured JSON outputs for reliability.</li>\n      <li>Batch evaluation with rate-limit aware retry loops.</li>\n      <li>Outputs stored in databases with per-claim confidence for interpretability.</li>\n    </ul>\n<p><strong>Strengths:</strong></p>\n<ul>\n      <li>Requires no retriever; works for both extractive and generative models.</li>\n      <li>Produces human-readable rationales for each label.</li>\n      <li>Correlates closely with expert annotation (<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-128-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C1;</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1236\" style=\"width: 0.732em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.576em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.52em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1237\"><span class=\"mi\" id=\"MathJax-Span-1238\" style=\"font-family: STIXGeneral-Italic;\">ρ</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 0.878em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>ρ</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-128\">\\rho</script> ≈ 0.82).</li>\n    </ul>",
    "contentMarkdown": "*   **Reference:** _FActScore: Fine-grained Factuality Evaluation for LLMs_ by [Min et al. (2023)](https://arxiv.org/abs/2305.14251).\n    \n*   **Purpose:** FActScore measures factual accuracy across multiple factual units using an LLM itself as the verifier. It exemplifies the “LLM-as-a-judge” paradigm for automatic yet explainable scoring.\n    \n*   **Pipeline Steps:**\n    \n    1.  **Claim decomposition:** GPT-4 decomposes each output into atomic facts.\n    2.  **Verification prompt:** For each claim, GPT-4 is asked whether it is Supported / Refuted / Not Enough Info given the source text.\n    3.  **Scoring:** Fact\\=\\# supported\\# total claims.Fact\\=\\# supported\\# total claims.F\\_{\\\\text{act}} = \\\\frac{\\\\text{# supported}}{\\\\text{# total claims}}.\n    4.  **Optional:** integrate human sampling for calibration.\n*   **Implementation Example:**\n    \n\n**Reference:** _FActScore: Fine-grained Factuality Evaluation for LLMs_ by [Min et al. (2023)](https://arxiv.org/abs/2305.14251).\n\n**Purpose:** FActScore measures factual accuracy across multiple factual units using an LLM itself as the verifier. It exemplifies the “LLM-as-a-judge” paradigm for automatic yet explainable scoring.\n\n**Pipeline Steps:**\n\n1.  **Claim decomposition:** GPT-4 decomposes each output into atomic facts.\n2.  **Verification prompt:** For each claim, GPT-4 is asked whether it is Supported / Refuted / Not Enough Info given the source text.\n3.  **Scoring:** Fact\\=\\# supported\\# total claims.Fact\\=\\# supported\\# total claims.F\\_{\\\\text{act}} = \\\\frac{\\\\text{# supported}}{\\\\text{# total claims}}.\n4.  **Optional:** integrate human sampling for calibration.\n\n**Implementation Example:**\n\n![](https://aman.ai/images/copy.png)\n\n`prompt = \"For each claim below, label as Supported, Refuted, or NEI based on the context.\" scores = gpt4_api(prompt + context_and_claims) factscore = compute_ratio(scores, label=\"Supported\")`\n\n![](https://aman.ai/images/copy.png)\n\n`prompt = \"For each claim below, label as Supported, Refuted, or NEI based on the context.\" scores = gpt4_api(prompt + context_and_claims) factscore = compute_ratio(scores, label=\"Supported\")`\n\n*   **Engineering Notes:**\n    \n    *   Prompts use structured JSON outputs for reliability.\n    *   Batch evaluation with rate-limit aware retry loops.\n    *   Outputs stored in databases with per-claim confidence for interpretability.\n*   **Strengths:**\n    \n    *   Requires no retriever; works for both extractive and generative models.\n    *   Produces human-readable rationales for each label.\n    *   Correlates closely with expert annotation (ρρ\\\\rho ≈ 0.82).\n\n**Engineering Notes:**\n\n*   Prompts use structured JSON outputs for reliability.\n*   Batch evaluation with rate-limit aware retry loops.\n*   Outputs stored in databases with per-claim confidence for interpretability.\n\n**Strengths:**\n\n*   Requires no retriever; works for both extractive and generative models.\n*   Produces human-readable rationales for each label.\n*   Correlates closely with expert annotation (ρρ\\\\rho ≈ 0.82).",
    "contentLength": 14996,
    "wordCount": 362,
    "hasCode": true,
    "hasMath": true,
    "hasImages": true,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#case-study-c:-factscore-—-llm-as-a-judge-framework"
  },
  {
    "id": "ai-factuality-in-LLMs-case-study-d-qafacteval-question-answer-consistenc-32",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Evaluation Case Studies and Implementation Walkthroughs",
    "title": "Case Study D: QAFactEval — Question-Answer Consistency",
    "order": 32,
    "orderInChapter": 4,
    "contentHtml": "<ul>\n  <li>\n    <p><strong>Reference:</strong> <em>QAFactEval: Improved Factual Consistency Evaluation for Summarization</em> by <a href=\"https://arxiv.org/abs/2112.08542\">Fabbri et al. (2022)</a>.</p>\n  </li>\n  <li>\n    <p><strong>Purpose:</strong> QAFactEval reframes factuality as <em>answer consistency</em>: if the same questions yield equivalent answers when asked to both the source and the model’s summary, the summary is factually consistent.</p>\n  </li>\n  <li>\n    <p><strong>Pipeline Workflow:</strong></p>\n\n    <ol>\n      <li><strong>Question generation:</strong> Train a question-generation model (e.g., T5-base) on summarization data to produce factual questions from the model output.</li>\n      <li><strong>Answer extraction:</strong> Ask each question to (a) the source document and (b) the model summary using a QA model such as RoBERTa-Squad.</li>\n      <li><strong>Answer comparison:</strong> Compute cosine similarity between both answers using sentence-BERT embeddings.</li>\n      <li><strong>Score aggregation:</strong>\n  <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-129-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>QA</mtext></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi></mrow></munderover><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn mathvariant=&quot;double-struck&quot;>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo maxsize=&quot;1.2em&quot; minsize=&quot;1.2em&quot;>[</mo></mrow><mtext>sim</mtext><mo stretchy=&quot;false&quot;>(</mo><msubsup><mi>a</mi><mi>i</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>s</mi><mi>r</mi><mi>c</mi></mrow></msubsup><mo>,</mo><msubsup><mi>a</mi><mi>i</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>s</mi><mi>u</mi><mi>m</mi></mrow></msubsup><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;gt;</mo><mi>&amp;#x03C4;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo maxsize=&quot;1.2em&quot; minsize=&quot;1.2em&quot;>]</mo></mrow><mo>.</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1239\" style=\"width: 18.128em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 15.107em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(2.086em, 1015.05em, 3.753em, -999.997em); top: -3.174em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1240\"><span class=\"msubsup\" id=\"MathJax-Span-1241\"><span style=\"display: inline-block; position: relative; width: 1.721em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1242\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1243\"><span class=\"mrow\" id=\"MathJax-Span-1244\"><span class=\"mtext\" id=\"MathJax-Span-1245\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">QA</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1246\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-1247\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.628em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-1248\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.52em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -0.258em;\"><span class=\"mi\" id=\"MathJax-Span-1249\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.63em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.628em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"munderover\" id=\"MathJax-Span-1250\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 2.034em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.076em, 1000.84em, 4.43em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-1251\" style=\"font-family: STIXGeneral-Regular; vertical-align: 0.003em;\">∑</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.58em, 4.169em, -999.997em); top: -4.477em; left: 0.94em;\"><span class=\"texatom\" id=\"MathJax-Span-1252\"><span class=\"mrow\" id=\"MathJax-Span-1253\"><span class=\"mi\" id=\"MathJax-Span-1254\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1001.1em, 4.169em, -999.997em); top: -3.695em; left: 0.94em;\"><span class=\"texatom\" id=\"MathJax-Span-1255\"><span class=\"mrow\" id=\"MathJax-Span-1256\"><span class=\"mi\" id=\"MathJax-Span-1257\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mo\" id=\"MathJax-Span-1258\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">=</span><span class=\"mn\" id=\"MathJax-Span-1259\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-1260\" style=\"padding-left: 0.211em;\"><span class=\"mrow\" id=\"MathJax-Span-1261\"><span class=\"mn\" id=\"MathJax-Span-1262\" style=\"font-family: STIXGeneral-Regular;\">𝟙</span></span></span><span class=\"texatom\" id=\"MathJax-Span-1263\" style=\"\"><span class=\"mrow\" id=\"MathJax-Span-1264\"><span class=\"mo\" id=\"MathJax-Span-1265\" style=\"vertical-align: -0.258em;\"><span><span style=\"font-size: 110%; font-family: STIXSizeOneSym;\">[</span></span></span></span></span><span class=\"mtext\" id=\"MathJax-Span-1266\" style=\"font-family: STIXGeneral-Regular;\">sim</span><span class=\"mo\" id=\"MathJax-Span-1267\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"msubsup\" id=\"MathJax-Span-1268\"><span style=\"display: inline-block; position: relative; width: 1.461em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1269\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.544em, 1000.94em, 4.169em, -999.997em); top: -4.372em; left: 0.523em;\"><span class=\"texatom\" id=\"MathJax-Span-1270\"><span class=\"mrow\" id=\"MathJax-Span-1271\"><span class=\"mi\" id=\"MathJax-Span-1272\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">s</span><span class=\"mi\" id=\"MathJax-Span-1273\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">r<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span class=\"mi\" id=\"MathJax-Span-1274\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">c</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -3.695em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-1275\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1276\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-1277\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.721em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1278\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.544em, 1001.2em, 4.169em, -999.997em); top: -4.372em; left: 0.523em;\"><span class=\"texatom\" id=\"MathJax-Span-1279\"><span class=\"mrow\" id=\"MathJax-Span-1280\"><span class=\"mi\" id=\"MathJax-Span-1281\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">s</span><span class=\"mi\" id=\"MathJax-Span-1282\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">u</span><span class=\"mi\" id=\"MathJax-Span-1283\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">m</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -3.695em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-1284\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1285\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-1286\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">&gt;</span><span class=\"mi\" id=\"MathJax-Span-1287\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">τ<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span class=\"texatom\" id=\"MathJax-Span-1288\" style=\"\"><span class=\"mrow\" id=\"MathJax-Span-1289\"><span class=\"mo\" id=\"MathJax-Span-1290\" style=\"vertical-align: -0.258em;\"><span><span style=\"font-size: 110%; font-family: STIXSizeOneSym;\">]</span></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1291\" style=\"font-family: STIXGeneral-Regular;\">.</span></span><span style=\"display: inline-block; width: 0px; height: 3.18em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.559em; border-left: 0px solid; width: 0px; height: 1.753em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>QA</mtext></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mi>N</mi></mrow></munderover><mrow class=\"MJX-TeXAtom-ORD\"><mn mathvariant=\"double-struck\">1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mo maxsize=\"1.2em\" minsize=\"1.2em\">[</mo></mrow><mtext>sim</mtext><mo stretchy=\"false\">(</mo><msubsup><mi>a</mi><mi>i</mi><mrow class=\"MJX-TeXAtom-ORD\"><mi>s</mi><mi>r</mi><mi>c</mi></mrow></msubsup><mo>,</mo><msubsup><mi>a</mi><mi>i</mi><mrow class=\"MJX-TeXAtom-ORD\"><mi>s</mi><mi>u</mi><mi>m</mi></mrow></msubsup><mo stretchy=\"false\">)</mo><mo>&gt;</mo><mi>τ</mi><mrow class=\"MJX-TeXAtom-ORD\"><mo maxsize=\"1.2em\" minsize=\"1.2em\">]</mo></mrow><mo>.</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-129\">F_{\\text{QA}} = \\frac{1}{N}\\sum_{i=1}^{N}\\mathbb{1}\\big[\\text{sim}(a_i^{src},a_i^{sum})>\\tau\\big].</script>\n        <ul>\n          <li>Typical threshold <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-130-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C4;</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1292\" style=\"width: 0.576em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.471em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.47em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1293\"><span class=\"mi\" id=\"MathJax-Span-1294\" style=\"font-family: STIXGeneral-Italic;\">τ<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>τ</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-130\">\\tau</script> ≈ 0.8.</li>\n        </ul>\n      </li>\n    </ol>\n  </li>\n  <li>\n    <p><strong>Implementation Snippet:</strong></p>\n  </li>\n</ul>\n<p><strong>Reference:</strong> <em>QAFactEval: Improved Factual Consistency Evaluation for Summarization</em> by <a href=\"https://arxiv.org/abs/2112.08542\">Fabbri et al. (2022)</a>.</p>\n<p><strong>Purpose:</strong> QAFactEval reframes factuality as <em>answer consistency</em>: if the same questions yield equivalent answers when asked to both the source and the model’s summary, the summary is factually consistent.</p>\n<p><strong>Pipeline Workflow:</strong></p>\n<ol>\n      <li><strong>Question generation:</strong> Train a question-generation model (e.g., T5-base) on summarization data to produce factual questions from the model output.</li>\n      <li><strong>Answer extraction:</strong> Ask each question to (a) the source document and (b) the model summary using a QA model such as RoBERTa-Squad.</li>\n      <li><strong>Answer comparison:</strong> Compute cosine similarity between both answers using sentence-BERT embeddings.</li>\n      <li><strong>Score aggregation:</strong>\n  <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-129-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>QA</mtext></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi></mrow></munderover><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn mathvariant=&quot;double-struck&quot;>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo maxsize=&quot;1.2em&quot; minsize=&quot;1.2em&quot;>[</mo></mrow><mtext>sim</mtext><mo stretchy=&quot;false&quot;>(</mo><msubsup><mi>a</mi><mi>i</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>s</mi><mi>r</mi><mi>c</mi></mrow></msubsup><mo>,</mo><msubsup><mi>a</mi><mi>i</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>s</mi><mi>u</mi><mi>m</mi></mrow></msubsup><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;gt;</mo><mi>&amp;#x03C4;</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo maxsize=&quot;1.2em&quot; minsize=&quot;1.2em&quot;>]</mo></mrow><mo>.</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1239\" style=\"width: 18.128em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 15.107em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(2.086em, 1015.05em, 3.753em, -999.997em); top: -3.174em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1240\"><span class=\"msubsup\" id=\"MathJax-Span-1241\"><span style=\"display: inline-block; position: relative; width: 1.721em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1242\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1243\"><span class=\"mrow\" id=\"MathJax-Span-1244\"><span class=\"mtext\" id=\"MathJax-Span-1245\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">QA</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1246\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-1247\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.628em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-1248\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.52em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -0.258em;\"><span class=\"mi\" id=\"MathJax-Span-1249\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.63em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.628em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"munderover\" id=\"MathJax-Span-1250\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 2.034em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.076em, 1000.84em, 4.43em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-1251\" style=\"font-family: STIXGeneral-Regular; vertical-align: 0.003em;\">∑</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.58em, 4.169em, -999.997em); top: -4.477em; left: 0.94em;\"><span class=\"texatom\" id=\"MathJax-Span-1252\"><span class=\"mrow\" id=\"MathJax-Span-1253\"><span class=\"mi\" id=\"MathJax-Span-1254\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1001.1em, 4.169em, -999.997em); top: -3.695em; left: 0.94em;\"><span class=\"texatom\" id=\"MathJax-Span-1255\"><span class=\"mrow\" id=\"MathJax-Span-1256\"><span class=\"mi\" id=\"MathJax-Span-1257\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mo\" id=\"MathJax-Span-1258\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">=</span><span class=\"mn\" id=\"MathJax-Span-1259\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-1260\" style=\"padding-left: 0.211em;\"><span class=\"mrow\" id=\"MathJax-Span-1261\"><span class=\"mn\" id=\"MathJax-Span-1262\" style=\"font-family: STIXGeneral-Regular;\">𝟙</span></span></span><span class=\"texatom\" id=\"MathJax-Span-1263\" style=\"\"><span class=\"mrow\" id=\"MathJax-Span-1264\"><span class=\"mo\" id=\"MathJax-Span-1265\" style=\"vertical-align: -0.258em;\"><span><span style=\"font-size: 110%; font-family: STIXSizeOneSym;\">[</span></span></span></span></span><span class=\"mtext\" id=\"MathJax-Span-1266\" style=\"font-family: STIXGeneral-Regular;\">sim</span><span class=\"mo\" id=\"MathJax-Span-1267\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"msubsup\" id=\"MathJax-Span-1268\"><span style=\"display: inline-block; position: relative; width: 1.461em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1269\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.544em, 1000.94em, 4.169em, -999.997em); top: -4.372em; left: 0.523em;\"><span class=\"texatom\" id=\"MathJax-Span-1270\"><span class=\"mrow\" id=\"MathJax-Span-1271\"><span class=\"mi\" id=\"MathJax-Span-1272\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">s</span><span class=\"mi\" id=\"MathJax-Span-1273\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">r<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span class=\"mi\" id=\"MathJax-Span-1274\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">c</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -3.695em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-1275\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1276\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-1277\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.721em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1278\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.544em, 1001.2em, 4.169em, -999.997em); top: -4.372em; left: 0.523em;\"><span class=\"texatom\" id=\"MathJax-Span-1279\"><span class=\"mrow\" id=\"MathJax-Span-1280\"><span class=\"mi\" id=\"MathJax-Span-1281\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">s</span><span class=\"mi\" id=\"MathJax-Span-1282\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">u</span><span class=\"mi\" id=\"MathJax-Span-1283\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">m</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -3.695em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-1284\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1285\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-1286\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">&gt;</span><span class=\"mi\" id=\"MathJax-Span-1287\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">τ<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span class=\"texatom\" id=\"MathJax-Span-1288\" style=\"\"><span class=\"mrow\" id=\"MathJax-Span-1289\"><span class=\"mo\" id=\"MathJax-Span-1290\" style=\"vertical-align: -0.258em;\"><span><span style=\"font-size: 110%; font-family: STIXSizeOneSym;\">]</span></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1291\" style=\"font-family: STIXGeneral-Regular;\">.</span></span><span style=\"display: inline-block; width: 0px; height: 3.18em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.559em; border-left: 0px solid; width: 0px; height: 1.753em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>QA</mtext></mrow></msub><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mi>N</mi></mrow></munderover><mrow class=\"MJX-TeXAtom-ORD\"><mn mathvariant=\"double-struck\">1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mo maxsize=\"1.2em\" minsize=\"1.2em\">[</mo></mrow><mtext>sim</mtext><mo stretchy=\"false\">(</mo><msubsup><mi>a</mi><mi>i</mi><mrow class=\"MJX-TeXAtom-ORD\"><mi>s</mi><mi>r</mi><mi>c</mi></mrow></msubsup><mo>,</mo><msubsup><mi>a</mi><mi>i</mi><mrow class=\"MJX-TeXAtom-ORD\"><mi>s</mi><mi>u</mi><mi>m</mi></mrow></msubsup><mo stretchy=\"false\">)</mo><mo>&gt;</mo><mi>τ</mi><mrow class=\"MJX-TeXAtom-ORD\"><mo maxsize=\"1.2em\" minsize=\"1.2em\">]</mo></mrow><mo>.</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-129\">F_{\\text{QA}} = \\frac{1}{N}\\sum_{i=1}^{N}\\mathbb{1}\\big[\\text{sim}(a_i^{src},a_i^{sum})>\\tau\\big].</script>\n        <ul>\n          <li>Typical threshold <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-130-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C4;</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1292\" style=\"width: 0.576em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.471em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.47em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1293\"><span class=\"mi\" id=\"MathJax-Span-1294\" style=\"font-family: STIXGeneral-Italic;\">τ<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>τ</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-130\">\\tau</script> ≈ 0.8.</li>\n        </ul>\n      </li>\n    </ol>\n<ul>\n          <li>Typical threshold <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-130-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03C4;</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1292\" style=\"width: 0.576em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.471em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.47em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1293\"><span class=\"mi\" id=\"MathJax-Span-1294\" style=\"font-family: STIXGeneral-Italic;\">τ<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>τ</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-130\">\\tau</script> ≈ 0.8.</li>\n        </ul>\n<p><strong>Implementation Snippet:</strong></p>\n<div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code18\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code18\"><span class=\"n\">questions</span> <span class=\"o\">=</span> <span class=\"n\">qg_model</span><span class=\"p\">.</span><span class=\"n\">generate</span><span class=\"p\">(</span><span class=\"n\">summary</span><span class=\"p\">)</span>\n<span class=\"k\">for</span> <span class=\"n\">q</span> <span class=\"ow\">in</span> <span class=\"n\">questions</span><span class=\"p\">:</span>\n    <span class=\"n\">ans_src</span> <span class=\"o\">=</span> <span class=\"n\">qa_model</span><span class=\"p\">(</span><span class=\"n\">q</span><span class=\"p\">,</span> <span class=\"n\">source_doc</span><span class=\"p\">)</span>\n    <span class=\"n\">ans_sum</span> <span class=\"o\">=</span> <span class=\"n\">qa_model</span><span class=\"p\">(</span><span class=\"n\">q</span><span class=\"p\">,</span> <span class=\"n\">summary</span><span class=\"p\">)</span>\n    <span class=\"n\">sim</span> <span class=\"o\">=</span> <span class=\"n\">cosine_similarity</span><span class=\"p\">(</span><span class=\"n\">emb</span><span class=\"p\">(</span><span class=\"n\">ans_src</span><span class=\"p\">),</span> <span class=\"n\">emb</span><span class=\"p\">(</span><span class=\"n\">ans_sum</span><span class=\"p\">))</span>\n    <span class=\"n\">labels</span><span class=\"p\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">sim</span> <span class=\"o\">&gt;</span> <span class=\"mf\">0.8</span><span class=\"p\">)</span>\n<span class=\"n\">qa_fact_score</span> <span class=\"o\">=</span> <span class=\"nb\">sum</span><span class=\"p\">(</span><span class=\"n\">labels</span><span class=\"p\">)</span><span class=\"o\">/</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">labels</span><span class=\"p\">)</span>\n</code></pre></div></div>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code18\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code18\"><span class=\"n\">questions</span> <span class=\"o\">=</span> <span class=\"n\">qg_model</span><span class=\"p\">.</span><span class=\"n\">generate</span><span class=\"p\">(</span><span class=\"n\">summary</span><span class=\"p\">)</span>\n<span class=\"k\">for</span> <span class=\"n\">q</span> <span class=\"ow\">in</span> <span class=\"n\">questions</span><span class=\"p\">:</span>\n    <span class=\"n\">ans_src</span> <span class=\"o\">=</span> <span class=\"n\">qa_model</span><span class=\"p\">(</span><span class=\"n\">q</span><span class=\"p\">,</span> <span class=\"n\">source_doc</span><span class=\"p\">)</span>\n    <span class=\"n\">ans_sum</span> <span class=\"o\">=</span> <span class=\"n\">qa_model</span><span class=\"p\">(</span><span class=\"n\">q</span><span class=\"p\">,</span> <span class=\"n\">summary</span><span class=\"p\">)</span>\n    <span class=\"n\">sim</span> <span class=\"o\">=</span> <span class=\"n\">cosine_similarity</span><span class=\"p\">(</span><span class=\"n\">emb</span><span class=\"p\">(</span><span class=\"n\">ans_src</span><span class=\"p\">),</span> <span class=\"n\">emb</span><span class=\"p\">(</span><span class=\"n\">ans_sum</span><span class=\"p\">))</span>\n    <span class=\"n\">labels</span><span class=\"p\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">sim</span> <span class=\"o\">&gt;</span> <span class=\"mf\">0.8</span><span class=\"p\">)</span>\n<span class=\"n\">qa_fact_score</span> <span class=\"o\">=</span> <span class=\"nb\">sum</span><span class=\"p\">(</span><span class=\"n\">labels</span><span class=\"p\">)</span><span class=\"o\">/</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">labels</span><span class=\"p\">)</span>\n</code></pre>\n<ul>\n  <li>\n    <p><strong>Engineering Notes:</strong></p>\n\n    <ul>\n      <li>Uses batched inference for QA to handle long documents.</li>\n      <li>Allows semantic matching via embeddings to tolerate paraphrase differences.</li>\n      <li>Supports hybrid QA models for domain-specific data (BioASQ, FinQA).</li>\n    </ul>\n  </li>\n</ul>\n<p><strong>Engineering Notes:</strong></p>\n<ul>\n      <li>Uses batched inference for QA to handle long documents.</li>\n      <li>Allows semantic matching via embeddings to tolerate paraphrase differences.</li>\n      <li>Supports hybrid QA models for domain-specific data (BioASQ, FinQA).</li>\n    </ul>",
    "contentMarkdown": "*   **Reference:** _QAFactEval: Improved Factual Consistency Evaluation for Summarization_ by [Fabbri et al. (2022)](https://arxiv.org/abs/2112.08542).\n    \n*   **Purpose:** QAFactEval reframes factuality as _answer consistency_: if the same questions yield equivalent answers when asked to both the source and the model’s summary, the summary is factually consistent.\n    \n*   **Pipeline Workflow:**\n    \n    1.  **Question generation:** Train a question-generation model (e.g., T5-base) on summarization data to produce factual questions from the model output.\n    2.  **Answer extraction:** Ask each question to (a) the source document and (b) the model summary using a QA model such as RoBERTa-Squad.\n    3.  **Answer comparison:** Compute cosine similarity between both answers using sentence-BERT embeddings.\n    4.  **Score aggregation:** FQA\\=1N∑Ni\\=1𝟙\\[sim(asrci,asumi)\\>τ\\].FQA\\=1N∑i\\=1N1\\[sim(aisrc,aisum)\\>τ\\].F\\_{\\\\text{QA}} = \\\\frac{1}{N}\\\\sum\\_{i=1}^{N}\\\\mathbb{1}\\\\big\\[\\\\text{sim}(a\\_i^{src},a\\_i^{sum})>\\\\tau\\\\big\\].\n        *   Typical threshold ττ\\\\tau ≈ 0.8.\n*   **Implementation Snippet:**\n    \n\n**Reference:** _QAFactEval: Improved Factual Consistency Evaluation for Summarization_ by [Fabbri et al. (2022)](https://arxiv.org/abs/2112.08542).\n\n**Purpose:** QAFactEval reframes factuality as _answer consistency_: if the same questions yield equivalent answers when asked to both the source and the model’s summary, the summary is factually consistent.\n\n**Pipeline Workflow:**\n\n1.  **Question generation:** Train a question-generation model (e.g., T5-base) on summarization data to produce factual questions from the model output.\n2.  **Answer extraction:** Ask each question to (a) the source document and (b) the model summary using a QA model such as RoBERTa-Squad.\n3.  **Answer comparison:** Compute cosine similarity between both answers using sentence-BERT embeddings.\n4.  **Score aggregation:** FQA\\=1N∑Ni\\=1𝟙\\[sim(asrci,asumi)\\>τ\\].FQA\\=1N∑i\\=1N1\\[sim(aisrc,aisum)\\>τ\\].F\\_{\\\\text{QA}} = \\\\frac{1}{N}\\\\sum\\_{i=1}^{N}\\\\mathbb{1}\\\\big\\[\\\\text{sim}(a\\_i^{src},a\\_i^{sum})>\\\\tau\\\\big\\].\n    *   Typical threshold ττ\\\\tau ≈ 0.8.\n\n*   Typical threshold ττ\\\\tau ≈ 0.8.\n\n**Implementation Snippet:**\n\n![](https://aman.ai/images/copy.png)\n\n`questions = qg_model.generate(summary) for q in questions:     ans_src = qa_model(q, source_doc)     ans_sum = qa_model(q, summary)     sim = cosine_similarity(emb(ans_src), emb(ans_sum))     labels.append(sim > 0.8) qa_fact_score = sum(labels)/len(labels)`\n\n![](https://aman.ai/images/copy.png)\n\n`questions = qg_model.generate(summary) for q in questions:     ans_src = qa_model(q, source_doc)     ans_sum = qa_model(q, summary)     sim = cosine_similarity(emb(ans_src), emb(ans_sum))     labels.append(sim > 0.8) qa_fact_score = sum(labels)/len(labels)`\n\n*   **Engineering Notes:**\n    \n    *   Uses batched inference for QA to handle long documents.\n    *   Allows semantic matching via embeddings to tolerate paraphrase differences.\n    *   Supports hybrid QA models for domain-specific data (BioASQ, FinQA).\n\n**Engineering Notes:**\n\n*   Uses batched inference for QA to handle long documents.\n*   Allows semantic matching via embeddings to tolerate paraphrase differences.\n*   Supports hybrid QA models for domain-specific data (BioASQ, FinQA).",
    "contentLength": 33361,
    "wordCount": 353,
    "hasCode": true,
    "hasMath": true,
    "hasImages": true,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#case-study-d:-qafacteval-—-question-answer-consistency"
  },
  {
    "id": "ai-factuality-in-LLMs-comparative-analysis-33",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Evaluation Case Studies and Implementation Walkthroughs",
    "title": "Comparative Analysis",
    "order": 33,
    "orderInChapter": 5,
    "contentHtml": "<div align=\"center\">\n<table class=\"tg\">\n<thead>\n<tr>\n<th class=\"tg-hcenter-valign-first\"><strong>System</strong></th>\n<th class=\"tg-hcenter-valign-first\"><strong>Domain</strong></th>\n<th class=\"tg-hcenter-valign-first\"><strong>Evidence Source</strong></th>\n<th class=\"tg-hcenter-valign-first\"><strong>Automation</strong></th>\n<th class=\"tg-hcenter-valign-first\"><strong>Output Granularity</strong></th>\n<th class=\"tg-hcenter-valign-first\"><strong>Strengths</strong></th>\n<th class=\"tg-hcenter-valign-second\"><strong>Weaknesses</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class=\"tg-tleft-valign-first\">RAGAS</td>\n<td class=\"tg-tleft-valign-first\">RAG pipelines</td>\n<td class=\"tg-tleft-valign-first\">Retrieved docs</td>\n<td class=\"tg-tleft-valign-first\">Full auto</td>\n<td class=\"tg-tleft-valign-first\">Sentence / doc</td>\n<td class=\"tg-tleft-valign-first\">Context precision/recall</td>\n<td class=\"tg-tleft-valign-second\">Needs retriever context</td>\n</tr>\n<tr>\n<td class=\"tg-tleft-valign-first\">SAFE</td>\n<td class=\"tg-tleft-valign-first\">Open-world</td>\n<td class=\"tg-tleft-valign-first\">Web search</td>\n<td class=\"tg-tleft-valign-first\">Semi-auto</td>\n<td class=\"tg-tleft-valign-first\">Claim</td>\n<td class=\"tg-tleft-valign-first\">Handles long-form</td>\n<td class=\"tg-tleft-valign-second\">High latency</td>\n</tr>\n<tr>\n<td class=\"tg-tleft-valign-first\">FActScore</td>\n<td class=\"tg-tleft-valign-first\">General</td>\n<td class=\"tg-tleft-valign-first\">Source or reference</td>\n<td class=\"tg-tleft-valign-first\">LLM-based</td>\n<td class=\"tg-tleft-valign-first\">Claim</td>\n<td class=\"tg-tleft-valign-first\">Explains reasoning</td>\n<td class=\"tg-tleft-valign-second\">LLM evaluator bias</td>\n</tr>\n<tr>\n<td class=\"tg-tleft-valign-first\">QAFactEval</td>\n<td class=\"tg-tleft-valign-first\">Summarization</td>\n<td class=\"tg-tleft-valign-first\">Reference doc</td>\n<td class=\"tg-tleft-valign-first\">Full auto</td>\n<td class=\"tg-tleft-valign-first\">Question</td>\n<td class=\"tg-tleft-valign-first\">Semantic flexibility</td>\n<td class=\"tg-tleft-valign-second\">Sensitive to QA quality</td>\n</tr>\n</tbody>\n</table>\n</div>\n<table class=\"tg\">\n<thead>\n<tr>\n<th class=\"tg-hcenter-valign-first\"><strong>System</strong></th>\n<th class=\"tg-hcenter-valign-first\"><strong>Domain</strong></th>\n<th class=\"tg-hcenter-valign-first\"><strong>Evidence Source</strong></th>\n<th class=\"tg-hcenter-valign-first\"><strong>Automation</strong></th>\n<th class=\"tg-hcenter-valign-first\"><strong>Output Granularity</strong></th>\n<th class=\"tg-hcenter-valign-first\"><strong>Strengths</strong></th>\n<th class=\"tg-hcenter-valign-second\"><strong>Weaknesses</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td class=\"tg-tleft-valign-first\">RAGAS</td>\n<td class=\"tg-tleft-valign-first\">RAG pipelines</td>\n<td class=\"tg-tleft-valign-first\">Retrieved docs</td>\n<td class=\"tg-tleft-valign-first\">Full auto</td>\n<td class=\"tg-tleft-valign-first\">Sentence / doc</td>\n<td class=\"tg-tleft-valign-first\">Context precision/recall</td>\n<td class=\"tg-tleft-valign-second\">Needs retriever context</td>\n</tr>\n<tr>\n<td class=\"tg-tleft-valign-first\">SAFE</td>\n<td class=\"tg-tleft-valign-first\">Open-world</td>\n<td class=\"tg-tleft-valign-first\">Web search</td>\n<td class=\"tg-tleft-valign-first\">Semi-auto</td>\n<td class=\"tg-tleft-valign-first\">Claim</td>\n<td class=\"tg-tleft-valign-first\">Handles long-form</td>\n<td class=\"tg-tleft-valign-second\">High latency</td>\n</tr>\n<tr>\n<td class=\"tg-tleft-valign-first\">FActScore</td>\n<td class=\"tg-tleft-valign-first\">General</td>\n<td class=\"tg-tleft-valign-first\">Source or reference</td>\n<td class=\"tg-tleft-valign-first\">LLM-based</td>\n<td class=\"tg-tleft-valign-first\">Claim</td>\n<td class=\"tg-tleft-valign-first\">Explains reasoning</td>\n<td class=\"tg-tleft-valign-second\">LLM evaluator bias</td>\n</tr>\n<tr>\n<td class=\"tg-tleft-valign-first\">QAFactEval</td>\n<td class=\"tg-tleft-valign-first\">Summarization</td>\n<td class=\"tg-tleft-valign-first\">Reference doc</td>\n<td class=\"tg-tleft-valign-first\">Full auto</td>\n<td class=\"tg-tleft-valign-first\">Question</td>\n<td class=\"tg-tleft-valign-first\">Semantic flexibility</td>\n<td class=\"tg-tleft-valign-second\">Sensitive to QA quality</td>\n</tr>\n</tbody>\n</table>",
    "contentMarkdown": "**System**\n\n**Domain**\n\n**Evidence Source**\n\n**Automation**\n\n**Output Granularity**\n\n**Strengths**\n\n**Weaknesses**\n\nRAGAS\n\nRAG pipelines\n\nRetrieved docs\n\nFull auto\n\nSentence / doc\n\nContext precision/recall\n\nNeeds retriever context\n\nSAFE\n\nOpen-world\n\nWeb search\n\nSemi-auto\n\nClaim\n\nHandles long-form\n\nHigh latency\n\nFActScore\n\nGeneral\n\nSource or reference\n\nLLM-based\n\nClaim\n\nExplains reasoning\n\nLLM evaluator bias\n\nQAFactEval\n\nSummarization\n\nReference doc\n\nFull auto\n\nQuestion\n\nSemantic flexibility\n\nSensitive to QA quality\n\n**System**\n\n**Domain**\n\n**Evidence Source**\n\n**Automation**\n\n**Output Granularity**\n\n**Strengths**\n\n**Weaknesses**\n\nRAGAS\n\nRAG pipelines\n\nRetrieved docs\n\nFull auto\n\nSentence / doc\n\nContext precision/recall\n\nNeeds retriever context\n\nSAFE\n\nOpen-world\n\nWeb search\n\nSemi-auto\n\nClaim\n\nHandles long-form\n\nHigh latency\n\nFActScore\n\nGeneral\n\nSource or reference\n\nLLM-based\n\nClaim\n\nExplains reasoning\n\nLLM evaluator bias\n\nQAFactEval\n\nSummarization\n\nReference doc\n\nFull auto\n\nQuestion\n\nSemantic flexibility\n\nSensitive to QA quality",
    "contentLength": 4185,
    "wordCount": 118,
    "hasCode": false,
    "hasMath": false,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#comparative-analysis"
  },
  {
    "id": "ai-factuality-in-LLMs-implementation-integration-example-34",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Evaluation Case Studies and Implementation Walkthroughs",
    "title": "Implementation Integration Example",
    "order": 34,
    "orderInChapter": 6,
    "contentHtml": "<ul>\n  <li><strong>Goal:</strong> Combine RAGAS + FActScore for hybrid evaluation in a production retrieval-augmented chatbot.</li>\n</ul>\n<div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code19\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code19\"><span class=\"kn\">from</span> <span class=\"nn\">ragas</span> <span class=\"kn\">import</span> <span class=\"n\">evaluate</span> <span class=\"k\">as</span> <span class=\"n\">ragas_eval</span>\n<span class=\"kn\">from</span> <span class=\"nn\">factscore</span> <span class=\"kn\">import</span> <span class=\"n\">factscore_eval</span>\n\n<span class=\"n\">docs</span> <span class=\"o\">=</span> <span class=\"n\">retriever</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">)</span>\n<span class=\"n\">answer</span> <span class=\"o\">=</span> <span class=\"n\">llm</span><span class=\"p\">.</span><span class=\"n\">generate</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">,</span> <span class=\"n\">context</span><span class=\"o\">=</span><span class=\"n\">docs</span><span class=\"p\">)</span>\n\n<span class=\"n\">ragas_scores</span> <span class=\"o\">=</span> <span class=\"n\">ragas_eval</span><span class=\"p\">(</span><span class=\"n\">answer</span><span class=\"p\">,</span> <span class=\"n\">docs</span><span class=\"p\">)</span>\n<span class=\"n\">factscore</span> <span class=\"o\">=</span> <span class=\"n\">factscore_eval</span><span class=\"p\">(</span><span class=\"n\">answer</span><span class=\"p\">,</span> <span class=\"n\">reference_docs</span><span class=\"o\">=</span><span class=\"n\">docs</span><span class=\"p\">)</span>\n\n<span class=\"n\">factuality_report</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s\">\"faithfulness\"</span><span class=\"p\">:</span> <span class=\"n\">ragas_scores</span><span class=\"p\">[</span><span class=\"s\">'faithfulness'</span><span class=\"p\">],</span>\n    <span class=\"s\">\"context_precision\"</span><span class=\"p\">:</span> <span class=\"n\">ragas_scores</span><span class=\"p\">[</span><span class=\"s\">'context_precision'</span><span class=\"p\">],</span>\n    <span class=\"s\">\"factscore\"</span><span class=\"p\">:</span> <span class=\"n\">factscore</span><span class=\"p\">,</span>\n    <span class=\"s\">\"overall\"</span><span class=\"p\">:</span> <span class=\"mf\">0.5</span> <span class=\"o\">*</span> <span class=\"n\">ragas_scores</span><span class=\"p\">[</span><span class=\"s\">'faithfulness'</span><span class=\"p\">]</span> <span class=\"o\">+</span> <span class=\"mf\">0.5</span> <span class=\"o\">*</span> <span class=\"n\">factscore</span>\n<span class=\"p\">}</span>\n</code></pre></div></div>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code19\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code19\"><span class=\"kn\">from</span> <span class=\"nn\">ragas</span> <span class=\"kn\">import</span> <span class=\"n\">evaluate</span> <span class=\"k\">as</span> <span class=\"n\">ragas_eval</span>\n<span class=\"kn\">from</span> <span class=\"nn\">factscore</span> <span class=\"kn\">import</span> <span class=\"n\">factscore_eval</span>\n\n<span class=\"n\">docs</span> <span class=\"o\">=</span> <span class=\"n\">retriever</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">)</span>\n<span class=\"n\">answer</span> <span class=\"o\">=</span> <span class=\"n\">llm</span><span class=\"p\">.</span><span class=\"n\">generate</span><span class=\"p\">(</span><span class=\"n\">query</span><span class=\"p\">,</span> <span class=\"n\">context</span><span class=\"o\">=</span><span class=\"n\">docs</span><span class=\"p\">)</span>\n\n<span class=\"n\">ragas_scores</span> <span class=\"o\">=</span> <span class=\"n\">ragas_eval</span><span class=\"p\">(</span><span class=\"n\">answer</span><span class=\"p\">,</span> <span class=\"n\">docs</span><span class=\"p\">)</span>\n<span class=\"n\">factscore</span> <span class=\"o\">=</span> <span class=\"n\">factscore_eval</span><span class=\"p\">(</span><span class=\"n\">answer</span><span class=\"p\">,</span> <span class=\"n\">reference_docs</span><span class=\"o\">=</span><span class=\"n\">docs</span><span class=\"p\">)</span>\n\n<span class=\"n\">factuality_report</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"s\">\"faithfulness\"</span><span class=\"p\">:</span> <span class=\"n\">ragas_scores</span><span class=\"p\">[</span><span class=\"s\">'faithfulness'</span><span class=\"p\">],</span>\n    <span class=\"s\">\"context_precision\"</span><span class=\"p\">:</span> <span class=\"n\">ragas_scores</span><span class=\"p\">[</span><span class=\"s\">'context_precision'</span><span class=\"p\">],</span>\n    <span class=\"s\">\"factscore\"</span><span class=\"p\">:</span> <span class=\"n\">factscore</span><span class=\"p\">,</span>\n    <span class=\"s\">\"overall\"</span><span class=\"p\">:</span> <span class=\"mf\">0.5</span> <span class=\"o\">*</span> <span class=\"n\">ragas_scores</span><span class=\"p\">[</span><span class=\"s\">'faithfulness'</span><span class=\"p\">]</span> <span class=\"o\">+</span> <span class=\"mf\">0.5</span> <span class=\"o\">*</span> <span class=\"n\">factscore</span>\n<span class=\"p\">}</span>\n</code></pre>\n<ul>\n  <li><strong>Deployment Tip:</strong> Store <code class=\"language-plaintext highlighter-rouge\">factuality_report</code> in telemetry logs to monitor factual trends and trigger retraining when long-term averages decline.</li>\n</ul>",
    "contentMarkdown": "*   **Goal:** Combine RAGAS + FActScore for hybrid evaluation in a production retrieval-augmented chatbot.\n\n![](https://aman.ai/images/copy.png)\n\n`from ragas import evaluate as ragas_eval from factscore import factscore_eval  docs = retriever(query) answer = llm.generate(query, context=docs)  ragas_scores = ragas_eval(answer, docs) factscore = factscore_eval(answer, reference_docs=docs)  factuality_report = {     \"faithfulness\": ragas_scores['faithfulness'],     \"context_precision\": ragas_scores['context_precision'],     \"factscore\": factscore,     \"overall\": 0.5 * ragas_scores['faithfulness'] + 0.5 * factscore }`\n\n![](https://aman.ai/images/copy.png)\n\n`from ragas import evaluate as ragas_eval from factscore import factscore_eval  docs = retriever(query) answer = llm.generate(query, context=docs)  ragas_scores = ragas_eval(answer, docs) factscore = factscore_eval(answer, reference_docs=docs)  factuality_report = {     \"faithfulness\": ragas_scores['faithfulness'],     \"context_precision\": ragas_scores['context_precision'],     \"factscore\": factscore,     \"overall\": 0.5 * ragas_scores['faithfulness'] + 0.5 * factscore }`\n\n*   **Deployment Tip:** Store `factuality_report` in telemetry logs to monitor factual trends and trigger retraining when long-term averages decline.",
    "contentLength": 5586,
    "wordCount": 121,
    "hasCode": true,
    "hasMath": false,
    "hasImages": true,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#implementation-integration-example"
  },
  {
    "id": "ai-factuality-in-LLMs-insights-and-takeaways-35",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "Evaluation Case Studies and Implementation Walkthroughs",
    "title": "Insights and Takeaways",
    "order": 35,
    "orderInChapter": 7,
    "contentHtml": "<ul>\n  <li>\n    <p><strong>System selection depends on context:</strong> <em>RAGAS</em> for retrieval systems, <em>SAFE</em> for open-domain long-form, <em>FActScore</em> for general tasks, <em>QAFactEval</em> for summarization.</p>\n  </li>\n  <li>\n    <p><strong>Hybrid scoring improves robustness:</strong> Combining metrics (e.g., RAGAS + FActScore) provides both precision (entailment-based) and recall (semantic-QA-based) perspectives.</p>\n  </li>\n  <li>\n    <p><strong>LLM verifiers are scalable but fragile:</strong> Using smaller, distilled factual verifiers for initial filtering improves efficiency and reduces dependency on proprietary models.</p>\n  </li>\n  <li>\n    <p><strong>Operational importance:</strong> These frameworks form the practical core of <strong>factual monitoring pipelines</strong> described in Section 1.6.</p>\n  </li>\n</ul>\n<p><strong>System selection depends on context:</strong> <em>RAGAS</em> for retrieval systems, <em>SAFE</em> for open-domain long-form, <em>FActScore</em> for general tasks, <em>QAFactEval</em> for summarization.</p>\n<p><strong>Hybrid scoring improves robustness:</strong> Combining metrics (e.g., RAGAS + FActScore) provides both precision (entailment-based) and recall (semantic-QA-based) perspectives.</p>\n<p><strong>LLM verifiers are scalable but fragile:</strong> Using smaller, distilled factual verifiers for initial filtering improves efficiency and reduces dependency on proprietary models.</p>\n<p><strong>Operational importance:</strong> These frameworks form the practical core of <strong>factual monitoring pipelines</strong> described in Section 1.6.</p>",
    "contentMarkdown": "*   **System selection depends on context:** _RAGAS_ for retrieval systems, _SAFE_ for open-domain long-form, _FActScore_ for general tasks, _QAFactEval_ for summarization.\n    \n*   **Hybrid scoring improves robustness:** Combining metrics (e.g., RAGAS + FActScore) provides both precision (entailment-based) and recall (semantic-QA-based) perspectives.\n    \n*   **LLM verifiers are scalable but fragile:** Using smaller, distilled factual verifiers for initial filtering improves efficiency and reduces dependency on proprietary models.\n    \n*   **Operational importance:** These frameworks form the practical core of **factual monitoring pipelines** described in Section 1.6.\n    \n\n**System selection depends on context:** _RAGAS_ for retrieval systems, _SAFE_ for open-domain long-form, _FActScore_ for general tasks, _QAFactEval_ for summarization.\n\n**Hybrid scoring improves robustness:** Combining metrics (e.g., RAGAS + FActScore) provides both precision (entailment-based) and recall (semantic-QA-based) perspectives.\n\n**LLM verifiers are scalable but fragile:** Using smaller, distilled factual verifiers for initial filtering improves efficiency and reduces dependency on proprietary models.\n\n**Operational importance:** These frameworks form the practical core of **factual monitoring pipelines** described in Section 1.6.",
    "contentLength": 1622,
    "wordCount": 156,
    "hasCode": false,
    "hasMath": false,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#insights-and-takeaways"
  },
  {
    "id": "ai-factuality-in-LLMs-high-level-architecture-36",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "End-to-End Factuality Evaluation Pipeline (Implementation Blueprint)",
    "title": "High-level Architecture",
    "order": 36,
    "orderInChapter": 1,
    "contentHtml": "<ul>\n  <li>\n    <p>Service consists of five subsystems wired through a message bus (or async job queue).</p>\n\n    <ul>\n      <li>\n        <p><strong>Ingress</strong>: Receives model outputs plus optional context <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-131-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1295\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1296\"><span class=\"mi\" id=\"MathJax-Span-1297\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-131\">D</script>, request metadata, and model confidences. Batches items for evaluation.</p>\n      </li>\n      <li>\n        <p><strong>Claim extraction</strong>: Turns text into atomic claims with either a rules pipeline (spaCy + dependency chunks) or an LLM extractor returning structured JSON claims.</p>\n      </li>\n      <li>\n        <p><strong>Evidence acquisition</strong>: For faithfulness: use the provided <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-132-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1298\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1299\"><span class=\"mi\" id=\"MathJax-Span-1300\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-132\">D</script>. For groundedness/truthfulness: retrieve evidence via BM25 (Pyserini/Anserini) and/or dense k-NN (FAISS) over a domain corpus; optionally add web search for open-domain SAFE-style checks. Pyserini/Anserini implements BM25; FAISS provides billion-scale vector search.</p>\n      </li>\n      <li>\n        <p><strong>Verification engines</strong>: Entailment/NLI (e.g., DeBERTa-MNLI), QA-agreement (QAFactEval), reference-free RAG evaluation (RAGAS), and LLM-as-judge scoring (FActScore, SAFE).</p>\n      </li>\n      <li>\n        <p><strong>Aggregation and reporting</strong>: Combines per-claim labels into task-specific scores; logs per-claim rationales, supporting snippets, and URLs for audit.</p>\n      </li>\n    </ul>\n  </li>\n</ul>\n<p>Service consists of five subsystems wired through a message bus (or async job queue).</p>\n<ul>\n      <li>\n        <p><strong>Ingress</strong>: Receives model outputs plus optional context <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-131-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1295\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1296\"><span class=\"mi\" id=\"MathJax-Span-1297\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-131\">D</script>, request metadata, and model confidences. Batches items for evaluation.</p>\n      </li>\n      <li>\n        <p><strong>Claim extraction</strong>: Turns text into atomic claims with either a rules pipeline (spaCy + dependency chunks) or an LLM extractor returning structured JSON claims.</p>\n      </li>\n      <li>\n        <p><strong>Evidence acquisition</strong>: For faithfulness: use the provided <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-132-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1298\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1299\"><span class=\"mi\" id=\"MathJax-Span-1300\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-132\">D</script>. For groundedness/truthfulness: retrieve evidence via BM25 (Pyserini/Anserini) and/or dense k-NN (FAISS) over a domain corpus; optionally add web search for open-domain SAFE-style checks. Pyserini/Anserini implements BM25; FAISS provides billion-scale vector search.</p>\n      </li>\n      <li>\n        <p><strong>Verification engines</strong>: Entailment/NLI (e.g., DeBERTa-MNLI), QA-agreement (QAFactEval), reference-free RAG evaluation (RAGAS), and LLM-as-judge scoring (FActScore, SAFE).</p>\n      </li>\n      <li>\n        <p><strong>Aggregation and reporting</strong>: Combines per-claim labels into task-specific scores; logs per-claim rationales, supporting snippets, and URLs for audit.</p>\n      </li>\n    </ul>\n<p><strong>Ingress</strong>: Receives model outputs plus optional context <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-131-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1295\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1296\"><span class=\"mi\" id=\"MathJax-Span-1297\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-131\">D</script>, request metadata, and model confidences. Batches items for evaluation.</p>\n<p><strong>Claim extraction</strong>: Turns text into atomic claims with either a rules pipeline (spaCy + dependency chunks) or an LLM extractor returning structured JSON claims.</p>\n<p><strong>Evidence acquisition</strong>: For faithfulness: use the provided <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-132-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1298\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1299\"><span class=\"mi\" id=\"MathJax-Span-1300\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-132\">D</script>. For groundedness/truthfulness: retrieve evidence via BM25 (Pyserini/Anserini) and/or dense k-NN (FAISS) over a domain corpus; optionally add web search for open-domain SAFE-style checks. Pyserini/Anserini implements BM25; FAISS provides billion-scale vector search.</p>\n<p><strong>Verification engines</strong>: Entailment/NLI (e.g., DeBERTa-MNLI), QA-agreement (QAFactEval), reference-free RAG evaluation (RAGAS), and LLM-as-judge scoring (FActScore, SAFE).</p>\n<p><strong>Aggregation and reporting</strong>: Combines per-claim labels into task-specific scores; logs per-claim rationales, supporting snippets, and URLs for audit.</p>",
    "contentMarkdown": "*   Service consists of five subsystems wired through a message bus (or async job queue).\n    \n    *   **Ingress**: Receives model outputs plus optional context DDD, request metadata, and model confidences. Batches items for evaluation.\n        \n    *   **Claim extraction**: Turns text into atomic claims with either a rules pipeline (spaCy + dependency chunks) or an LLM extractor returning structured JSON claims.\n        \n    *   **Evidence acquisition**: For faithfulness: use the provided DDD. For groundedness/truthfulness: retrieve evidence via BM25 (Pyserini/Anserini) and/or dense k-NN (FAISS) over a domain corpus; optionally add web search for open-domain SAFE-style checks. Pyserini/Anserini implements BM25; FAISS provides billion-scale vector search.\n        \n    *   **Verification engines**: Entailment/NLI (e.g., DeBERTa-MNLI), QA-agreement (QAFactEval), reference-free RAG evaluation (RAGAS), and LLM-as-judge scoring (FActScore, SAFE).\n        \n    *   **Aggregation and reporting**: Combines per-claim labels into task-specific scores; logs per-claim rationales, supporting snippets, and URLs for audit.\n        \n\nService consists of five subsystems wired through a message bus (or async job queue).\n\n*   **Ingress**: Receives model outputs plus optional context DDD, request metadata, and model confidences. Batches items for evaluation.\n    \n*   **Claim extraction**: Turns text into atomic claims with either a rules pipeline (spaCy + dependency chunks) or an LLM extractor returning structured JSON claims.\n    \n*   **Evidence acquisition**: For faithfulness: use the provided DDD. For groundedness/truthfulness: retrieve evidence via BM25 (Pyserini/Anserini) and/or dense k-NN (FAISS) over a domain corpus; optionally add web search for open-domain SAFE-style checks. Pyserini/Anserini implements BM25; FAISS provides billion-scale vector search.\n    \n*   **Verification engines**: Entailment/NLI (e.g., DeBERTa-MNLI), QA-agreement (QAFactEval), reference-free RAG evaluation (RAGAS), and LLM-as-judge scoring (FActScore, SAFE).\n    \n*   **Aggregation and reporting**: Combines per-claim labels into task-specific scores; logs per-claim rationales, supporting snippets, and URLs for audit.\n    \n\n**Ingress**: Receives model outputs plus optional context DDD, request metadata, and model confidences. Batches items for evaluation.\n\n**Claim extraction**: Turns text into atomic claims with either a rules pipeline (spaCy + dependency chunks) or an LLM extractor returning structured JSON claims.\n\n**Evidence acquisition**: For faithfulness: use the provided DDD. For groundedness/truthfulness: retrieve evidence via BM25 (Pyserini/Anserini) and/or dense k-NN (FAISS) over a domain corpus; optionally add web search for open-domain SAFE-style checks. Pyserini/Anserini implements BM25; FAISS provides billion-scale vector search.\n\n**Verification engines**: Entailment/NLI (e.g., DeBERTa-MNLI), QA-agreement (QAFactEval), reference-free RAG evaluation (RAGAS), and LLM-as-judge scoring (FActScore, SAFE).\n\n**Aggregation and reporting**: Combines per-claim labels into task-specific scores; logs per-claim rationales, supporting snippets, and URLs for audit.",
    "contentLength": 10808,
    "wordCount": 381,
    "hasCode": false,
    "hasMath": true,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#high-level-architecture"
  },
  {
    "id": "ai-factuality-in-LLMs-data-contracts-and-schemas-37",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "End-to-End Factuality Evaluation Pipeline (Implementation Blueprint)",
    "title": "Data Contracts and Schemas",
    "order": 37,
    "orderInChapter": 2,
    "contentHtml": "<ul>\n  <li>\n    <p>Use explicit, versioned JSON contracts to keep modules decoupled.</p>\n\n    <ul>\n      <li><strong>Ingress payload</strong>:</li>\n    </ul>\n\n    <div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code20\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code20\">{\n  \"version\": \"1.0\",\n  \"prompt\": \"...\",\n  \"response\": \"...\",\n  \"context_docs\": [ {\"id\": \"doc1\", \"text\": \"...\", \"meta\": {...}}, ... ],\n  \"task\": \"summarization|rag_qa|open_qa|generation\",\n  \"model_info\": {\"name\": \"my-llm\", \"logprob\": true},\n  \"timestamps\": {\"request\": \"...\"}\n}\n</code></pre></div>    </div>\n\n    <ul>\n      <li><strong>Claim record</strong>:</li>\n    </ul>\n\n    <div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code21\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code21\">{\n  \"cid\": \"c_000123\",\n  \"text\": \"Marie Curie won the 1903 Nobel Prize in Chemistry.\",\n  \"spans\": [ [start,end] ],\n  \"norm\": {\"entities\":[...], \"dates\":[...]}\n}\n</code></pre></div>    </div>\n\n    <ul>\n      <li><strong>Evidence record</strong>:</li>\n    </ul>\n\n    <div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code22\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code22\">{ \"cid\": \"c_000123\", \"source_id\": \"wiki:Marie_Curie#sec3\",\n  \"snippet\": \"...\", \"url\": \"https://en.wikipedia.org/...\", \"score\": 17.6 }\n</code></pre></div>    </div>\n\n    <ul>\n      <li><strong>Verification result</strong>:</li>\n    </ul>\n\n    <div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code23\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code23\">{ \"cid\":\"c_000123\", \"method\":\"nli\", \"label\":\"contradicted\",\n  \"p_entail\":0.08, \"p_contra\":0.81, \"rationale\":\"...\" }\n</code></pre></div>    </div>\n\n    <ul>\n      <li><strong>Report</strong>:</li>\n    </ul>\n\n    <div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code24\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code24\">{\n  \"scores\": {\n    \"faithfulness\": 0.86,\n    \"ragas\": {\"faithfulness\":0.88,\"ctx_precision\":0.82,\"ctx_recall\":0.76,\"answer_relevance\":0.91},\n    \"factscore\": 0.73\n  },\n  \"by_claim\": [ ... ],\n  \"citations\": [ {\"cid\":\"c_000123\", \"url\":\"...\"} ]\n}\n</code></pre></div>    </div>\n  </li>\n</ul>\n<p>Use explicit, versioned JSON contracts to keep modules decoupled.</p>\n<ul>\n      <li><strong>Ingress payload</strong>:</li>\n    </ul>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code20\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code20\">{\n  \"version\": \"1.0\",\n  \"prompt\": \"...\",\n  \"response\": \"...\",\n  \"context_docs\": [ {\"id\": \"doc1\", \"text\": \"...\", \"meta\": {...}}, ... ],\n  \"task\": \"summarization|rag_qa|open_qa|generation\",\n  \"model_info\": {\"name\": \"my-llm\", \"logprob\": true},\n  \"timestamps\": {\"request\": \"...\"}\n}\n</code></pre>\n<ul>\n      <li><strong>Claim record</strong>:</li>\n    </ul>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code21\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code21\">{\n  \"cid\": \"c_000123\",\n  \"text\": \"Marie Curie won the 1903 Nobel Prize in Chemistry.\",\n  \"spans\": [ [start,end] ],\n  \"norm\": {\"entities\":[...], \"dates\":[...]}\n}\n</code></pre>\n<ul>\n      <li><strong>Evidence record</strong>:</li>\n    </ul>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code22\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code22\">{ \"cid\": \"c_000123\", \"source_id\": \"wiki:Marie_Curie#sec3\",\n  \"snippet\": \"...\", \"url\": \"https://en.wikipedia.org/...\", \"score\": 17.6 }\n</code></pre>\n<ul>\n      <li><strong>Verification result</strong>:</li>\n    </ul>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code23\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code23\">{ \"cid\":\"c_000123\", \"method\":\"nli\", \"label\":\"contradicted\",\n  \"p_entail\":0.08, \"p_contra\":0.81, \"rationale\":\"...\" }\n</code></pre>\n<ul>\n      <li><strong>Report</strong>:</li>\n    </ul>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code24\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code24\">{\n  \"scores\": {\n    \"faithfulness\": 0.86,\n    \"ragas\": {\"faithfulness\":0.88,\"ctx_precision\":0.82,\"ctx_recall\":0.76,\"answer_relevance\":0.91},\n    \"factscore\": 0.73\n  },\n  \"by_claim\": [ ... ],\n  \"citations\": [ {\"cid\":\"c_000123\", \"url\":\"...\"} ]\n}\n</code></pre>",
    "contentMarkdown": "*   Use explicit, versioned JSON contracts to keep modules decoupled.\n    \n    *   **Ingress payload**:\n    \n    ![](https://aman.ai/images/copy.png)\n    \n    `{   \"version\": \"1.0\",   \"prompt\": \"...\",   \"response\": \"...\",   \"context_docs\": [ {\"id\": \"doc1\", \"text\": \"...\", \"meta\": {...}}, ... ],   \"task\": \"summarization|rag_qa|open_qa|generation\",   \"model_info\": {\"name\": \"my-llm\", \"logprob\": true},   \"timestamps\": {\"request\": \"...\"} }`\n    \n    *   **Claim record**:\n    \n    ![](https://aman.ai/images/copy.png)\n    \n    `{   \"cid\": \"c_000123\",   \"text\": \"Marie Curie won the 1903 Nobel Prize in Chemistry.\",   \"spans\": [ [start,end] ],   \"norm\": {\"entities\":[...], \"dates\":[...]} }`\n    \n    *   **Evidence record**:\n    \n    ![](https://aman.ai/images/copy.png)\n    \n    `{ \"cid\": \"c_000123\", \"source_id\": \"wiki:Marie_Curie#sec3\",   \"snippet\": \"...\", \"url\": \"https://en.wikipedia.org/...\", \"score\": 17.6 }`\n    \n    *   **Verification result**:\n    \n    ![](https://aman.ai/images/copy.png)\n    \n    `{ \"cid\":\"c_000123\", \"method\":\"nli\", \"label\":\"contradicted\",   \"p_entail\":0.08, \"p_contra\":0.81, \"rationale\":\"...\" }`\n    \n    *   **Report**:\n    \n    ![](https://aman.ai/images/copy.png)\n    \n    `{   \"scores\": {     \"faithfulness\": 0.86,     \"ragas\": {\"faithfulness\":0.88,\"ctx_precision\":0.82,\"ctx_recall\":0.76,\"answer_relevance\":0.91},     \"factscore\": 0.73   },   \"by_claim\": [ ... ],   \"citations\": [ {\"cid\":\"c_000123\", \"url\":\"...\"} ] }`\n    \n\nUse explicit, versioned JSON contracts to keep modules decoupled.\n\n*   **Ingress payload**:\n\n![](https://aman.ai/images/copy.png)\n\n`{   \"version\": \"1.0\",   \"prompt\": \"...\",   \"response\": \"...\",   \"context_docs\": [ {\"id\": \"doc1\", \"text\": \"...\", \"meta\": {...}}, ... ],   \"task\": \"summarization|rag_qa|open_qa|generation\",   \"model_info\": {\"name\": \"my-llm\", \"logprob\": true},   \"timestamps\": {\"request\": \"...\"} }`\n\n*   **Claim record**:\n\n![](https://aman.ai/images/copy.png)\n\n`{   \"cid\": \"c_000123\",   \"text\": \"Marie Curie won the 1903 Nobel Prize in Chemistry.\",   \"spans\": [ [start,end] ],   \"norm\": {\"entities\":[...], \"dates\":[...]} }`\n\n*   **Evidence record**:\n\n![](https://aman.ai/images/copy.png)\n\n`{ \"cid\": \"c_000123\", \"source_id\": \"wiki:Marie_Curie#sec3\",   \"snippet\": \"...\", \"url\": \"https://en.wikipedia.org/...\", \"score\": 17.6 }`\n\n*   **Verification result**:\n\n![](https://aman.ai/images/copy.png)\n\n`{ \"cid\":\"c_000123\", \"method\":\"nli\", \"label\":\"contradicted\",   \"p_entail\":0.08, \"p_contra\":0.81, \"rationale\":\"...\" }`\n\n*   **Report**:\n\n![](https://aman.ai/images/copy.png)\n\n`{   \"scores\": {     \"faithfulness\": 0.86,     \"ragas\": {\"faithfulness\":0.88,\"ctx_precision\":0.82,\"ctx_recall\":0.76,\"answer_relevance\":0.91},     \"factscore\": 0.73   },   \"by_claim\": [ ... ],   \"citations\": [ {\"cid\":\"c_000123\", \"url\":\"...\"} ] }`",
    "contentLength": 6050,
    "wordCount": 235,
    "hasCode": true,
    "hasMath": false,
    "hasImages": true,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#data-contracts-and-schemas"
  },
  {
    "id": "ai-factuality-in-LLMs-claim-extraction-38",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "End-to-End Factuality Evaluation Pipeline (Implementation Blueprint)",
    "title": "Claim Extraction",
    "order": 38,
    "orderInChapter": 3,
    "contentHtml": "<ul>\n  <li>\n    <p>Pipeline options:</p>\n\n    <ul>\n      <li><strong>Rule-based splitter</strong>:\n        <ul>\n          <li>Sentence split <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-133-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1301\" style=\"width: 1.201em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.94em, 2.294em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1302\"><span class=\"mo\" id=\"MathJax-Span-1303\" style=\"font-family: STIXGeneral-Regular;\">→</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: 0.003em; border-left: 0px solid; width: 0px; height: 0.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo stretchy=\"false\">→</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-133\">\\rightarrow</script> dependency parse <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-134-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1304\" style=\"width: 1.201em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.94em, 2.294em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1305\"><span class=\"mo\" id=\"MathJax-Span-1306\" style=\"font-family: STIXGeneral-Regular;\">→</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: 0.003em; border-left: 0px solid; width: 0px; height: 0.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo stretchy=\"false\">→</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-134\">\\rightarrow</script> split coordinated clauses <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-135-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1307\" style=\"width: 1.201em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.94em, 2.294em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1308\"><span class=\"mo\" id=\"MathJax-Span-1309\" style=\"font-family: STIXGeneral-Regular;\">→</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: 0.003em; border-left: 0px solid; width: 0px; height: 0.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo stretchy=\"false\">→</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-135\">\\rightarrow</script> normalize coreference to make each claim self-contained (this mirrors SAFE’s “revise to be self-contained” step).</li>\n        </ul>\n      </li>\n      <li><strong>LLM extractor</strong>:\n        <ul>\n          <li>Prompt an LLM with a schema like:</li>\n        </ul>\n\n        <div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code25\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code25\">You will extract atomic, verifiable claims from the text.\nReturn JSON: [{\"cid\":\"...\", \"text\":\"...\", \"evidence_need\":\"world|context\"}]\n</code></pre></div>        </div>\n      </li>\n    </ul>\n  </li>\n  <li>\n    <p>Validate with JSON schema; reject/repair malformed outputs.</p>\n  </li>\n</ul>\n<p>Pipeline options:</p>\n<ul>\n      <li><strong>Rule-based splitter</strong>:\n        <ul>\n          <li>Sentence split <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-133-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1301\" style=\"width: 1.201em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.94em, 2.294em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1302\"><span class=\"mo\" id=\"MathJax-Span-1303\" style=\"font-family: STIXGeneral-Regular;\">→</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: 0.003em; border-left: 0px solid; width: 0px; height: 0.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo stretchy=\"false\">→</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-133\">\\rightarrow</script> dependency parse <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-134-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1304\" style=\"width: 1.201em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.94em, 2.294em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1305\"><span class=\"mo\" id=\"MathJax-Span-1306\" style=\"font-family: STIXGeneral-Regular;\">→</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: 0.003em; border-left: 0px solid; width: 0px; height: 0.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo stretchy=\"false\">→</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-134\">\\rightarrow</script> split coordinated clauses <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-135-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1307\" style=\"width: 1.201em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.94em, 2.294em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1308\"><span class=\"mo\" id=\"MathJax-Span-1309\" style=\"font-family: STIXGeneral-Regular;\">→</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: 0.003em; border-left: 0px solid; width: 0px; height: 0.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo stretchy=\"false\">→</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-135\">\\rightarrow</script> normalize coreference to make each claim self-contained (this mirrors SAFE’s “revise to be self-contained” step).</li>\n        </ul>\n      </li>\n      <li><strong>LLM extractor</strong>:\n        <ul>\n          <li>Prompt an LLM with a schema like:</li>\n        </ul>\n\n        <div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code25\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code25\">You will extract atomic, verifiable claims from the text.\nReturn JSON: [{\"cid\":\"...\", \"text\":\"...\", \"evidence_need\":\"world|context\"}]\n</code></pre></div>        </div>\n      </li>\n    </ul>\n<ul>\n          <li>Sentence split <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-133-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1301\" style=\"width: 1.201em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.94em, 2.294em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1302\"><span class=\"mo\" id=\"MathJax-Span-1303\" style=\"font-family: STIXGeneral-Regular;\">→</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: 0.003em; border-left: 0px solid; width: 0px; height: 0.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo stretchy=\"false\">→</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-133\">\\rightarrow</script> dependency parse <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-134-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1304\" style=\"width: 1.201em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.94em, 2.294em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1305\"><span class=\"mo\" id=\"MathJax-Span-1306\" style=\"font-family: STIXGeneral-Regular;\">→</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: 0.003em; border-left: 0px solid; width: 0px; height: 0.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo stretchy=\"false\">→</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-134\">\\rightarrow</script> split coordinated clauses <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-135-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1307\" style=\"width: 1.201em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.94em, 2.294em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1308\"><span class=\"mo\" id=\"MathJax-Span-1309\" style=\"font-family: STIXGeneral-Regular;\">→</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: 0.003em; border-left: 0px solid; width: 0px; height: 0.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo stretchy=\"false\">→</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-135\">\\rightarrow</script> normalize coreference to make each claim self-contained (this mirrors SAFE’s “revise to be self-contained” step).</li>\n        </ul>\n<ul>\n          <li>Prompt an LLM with a schema like:</li>\n        </ul>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code25\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code25\">You will extract atomic, verifiable claims from the text.\nReturn JSON: [{\"cid\":\"...\", \"text\":\"...\", \"evidence_need\":\"world|context\"}]\n</code></pre>\n<p>Validate with JSON schema; reject/repair malformed outputs.</p>",
    "contentMarkdown": "*   Pipeline options:\n    \n    *   **Rule-based splitter**:\n        *   Sentence split →→\\\\rightarrow dependency parse →→\\\\rightarrow split coordinated clauses →→\\\\rightarrow normalize coreference to make each claim self-contained (this mirrors SAFE’s “revise to be self-contained” step).\n    *   **LLM extractor**:\n        \n        *   Prompt an LLM with a schema like:\n        \n        ![](https://aman.ai/images/copy.png)\n        \n        `You will extract atomic, verifiable claims from the text. Return JSON: [{\"cid\":\"...\", \"text\":\"...\", \"evidence_need\":\"world|context\"}]`\n        \n*   Validate with JSON schema; reject/repair malformed outputs.\n    \n\nPipeline options:\n\n*   **Rule-based splitter**:\n    *   Sentence split →→\\\\rightarrow dependency parse →→\\\\rightarrow split coordinated clauses →→\\\\rightarrow normalize coreference to make each claim self-contained (this mirrors SAFE’s “revise to be self-contained” step).\n*   **LLM extractor**:\n    \n    *   Prompt an LLM with a schema like:\n    \n    ![](https://aman.ai/images/copy.png)\n    \n    `You will extract atomic, verifiable claims from the text. Return JSON: [{\"cid\":\"...\", \"text\":\"...\", \"evidence_need\":\"world|context\"}]`\n    \n\n*   Sentence split →→\\\\rightarrow dependency parse →→\\\\rightarrow split coordinated clauses →→\\\\rightarrow normalize coreference to make each claim self-contained (this mirrors SAFE’s “revise to be self-contained” step).\n\n*   Prompt an LLM with a schema like:\n\n![](https://aman.ai/images/copy.png)\n\n`You will extract atomic, verifiable claims from the text. Return JSON: [{\"cid\":\"...\", \"text\":\"...\", \"evidence_need\":\"world|context\"}]`\n\nValidate with JSON schema; reject/repair malformed outputs.",
    "contentLength": 14096,
    "wordCount": 179,
    "hasCode": true,
    "hasMath": true,
    "hasImages": true,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#claim-extraction"
  },
  {
    "id": "ai-factuality-in-LLMs-evidence-acquisition-39",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "End-to-End Factuality Evaluation Pipeline (Implementation Blueprint)",
    "title": "Evidence Acquisition",
    "order": 39,
    "orderInChapter": 4,
    "contentHtml": "<ul>\n  <li>\n    <p><strong>Faithfulness (has context D)</strong>: Treat <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-136-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1310\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1311\"><span class=\"mi\" id=\"MathJax-Span-1312\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-136\">D</script> as the retrieval set. For each claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-137-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1313\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1314\"><span class=\"msubsup\" id=\"MathJax-Span-1315\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1316\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-1317\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-137\">a_i</script>, build a targeted sub-index (BM25) over sentences/paragraphs in <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-138-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1318\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1319\"><span class=\"mi\" id=\"MathJax-Span-1320\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-138\">D</script> and fetch top-<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-139-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>k</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1321\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.52em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1322\"><span class=\"mi\" id=\"MathJax-Span-1323\" style=\"font-family: STIXGeneral-Italic;\">k<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>k</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-139\">k</script> candidates.</p>\n  </li>\n  <li>\n    <p><strong>Groundedness (RAG)</strong>: Index your corpus with BM25 (Pyserini/Anserini) and FAISS for hybrid recall; rerank with cosine over sentence-BERT or a cross-encoder. Evaluate later with RAGAS metrics (faithfulness, context precision/recall, answer relevance).</p>\n  </li>\n  <li>\n    <p><strong>Truthfulness / open-domain</strong>: Adopt SAFE-style web search when no authoritative internal corpus exists: generate focused queries per claim, fetch top snippets, and cache.</p>\n  </li>\n</ul>\n<p><strong>Faithfulness (has context D)</strong>: Treat <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-136-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1310\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1311\"><span class=\"mi\" id=\"MathJax-Span-1312\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-136\">D</script> as the retrieval set. For each claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-137-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1313\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1314\"><span class=\"msubsup\" id=\"MathJax-Span-1315\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1316\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-1317\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-137\">a_i</script>, build a targeted sub-index (BM25) over sentences/paragraphs in <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-138-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>D</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1318\" style=\"width: 0.888em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.732em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.73em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1319\"><span class=\"mi\" id=\"MathJax-Span-1320\" style=\"font-family: STIXGeneral-Italic;\">D</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>D</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-138\">D</script> and fetch top-<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-139-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>k</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1321\" style=\"width: 0.628em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.52em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1322\"><span class=\"mi\" id=\"MathJax-Span-1323\" style=\"font-family: STIXGeneral-Italic;\">k<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>k</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-139\">k</script> candidates.</p>\n<p><strong>Groundedness (RAG)</strong>: Index your corpus with BM25 (Pyserini/Anserini) and FAISS for hybrid recall; rerank with cosine over sentence-BERT or a cross-encoder. Evaluate later with RAGAS metrics (faithfulness, context precision/recall, answer relevance).</p>\n<p><strong>Truthfulness / open-domain</strong>: Adopt SAFE-style web search when no authoritative internal corpus exists: generate focused queries per claim, fetch top snippets, and cache.</p>",
    "contentMarkdown": "*   **Faithfulness (has context D)**: Treat DDD as the retrieval set. For each claim aiaia\\_i, build a targeted sub-index (BM25) over sentences/paragraphs in DDD and fetch top-kkk candidates.\n    \n*   **Groundedness (RAG)**: Index your corpus with BM25 (Pyserini/Anserini) and FAISS for hybrid recall; rerank with cosine over sentence-BERT or a cross-encoder. Evaluate later with RAGAS metrics (faithfulness, context precision/recall, answer relevance).\n    \n*   **Truthfulness / open-domain**: Adopt SAFE-style web search when no authoritative internal corpus exists: generate focused queries per claim, fetch top snippets, and cache.\n    \n\n**Faithfulness (has context D)**: Treat DDD as the retrieval set. For each claim aiaia\\_i, build a targeted sub-index (BM25) over sentences/paragraphs in DDD and fetch top-kkk candidates.\n\n**Groundedness (RAG)**: Index your corpus with BM25 (Pyserini/Anserini) and FAISS for hybrid recall; rerank with cosine over sentence-BERT or a cross-encoder. Evaluate later with RAGAS metrics (faithfulness, context precision/recall, answer relevance).\n\n**Truthfulness / open-domain**: Adopt SAFE-style web search when no authoritative internal corpus exists: generate focused queries per claim, fetch top snippets, and cache.",
    "contentLength": 12307,
    "wordCount": 165,
    "hasCode": false,
    "hasMath": true,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#evidence-acquisition"
  },
  {
    "id": "ai-factuality-in-LLMs-verification-engines-40",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "End-to-End Factuality Evaluation Pipeline (Implementation Blueprint)",
    "title": "Verification Engines",
    "order": 40,
    "orderInChapter": 5,
    "contentHtml": "<ul>\n  <li>\n    <p>Given claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-140-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1324\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1325\"><span class=\"msubsup\" id=\"MathJax-Span-1326\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1327\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-1328\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-140\">a_i</script> and candidate evidence <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-141-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>E</mi><mi>i</mi></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>i</mi><mn>1</mn></msub></mrow></msub><mo>,</mo><mo>&amp;#x2026;</mo><mo>,</mo><msub><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>i</mi><mi>k</mi></msub></mrow></msub></mrow></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1329\" style=\"width: 7.503em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 6.253em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1006.25em, 2.607em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1330\"><span class=\"msubsup\" id=\"MathJax-Span-1331\"><span style=\"display: inline-block; position: relative; width: 0.888em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1332\" style=\"font-family: STIXGeneral-Italic;\">E<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"mi\" id=\"MathJax-Span-1333\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1334\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"texatom\" id=\"MathJax-Span-1335\" style=\"padding-left: 0.315em;\"><span class=\"mrow\" id=\"MathJax-Span-1336\"><span class=\"msubsup\" id=\"MathJax-Span-1337\"><span style=\"display: inline-block; position: relative; width: 1.044em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.42em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1338\" style=\"font-family: STIXGeneral-Italic;\">e</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.471em;\"><span class=\"texatom\" id=\"MathJax-Span-1339\"><span class=\"mrow\" id=\"MathJax-Span-1340\"><span class=\"msubsup\" id=\"MathJax-Span-1341\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.21em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1342\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.904em; left: 0.211em;\"><span class=\"mn\" id=\"MathJax-Span-1343\" style=\"font-size: 50%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1344\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mo\" id=\"MathJax-Span-1345\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">…</span><span class=\"mo\" id=\"MathJax-Span-1346\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-1347\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.42em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1348\" style=\"font-family: STIXGeneral-Italic;\">e</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.471em;\"><span class=\"texatom\" id=\"MathJax-Span-1349\"><span class=\"mrow\" id=\"MathJax-Span-1350\"><span class=\"msubsup\" id=\"MathJax-Span-1351\"><span style=\"display: inline-block; position: relative; width: 0.471em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.21em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1352\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.904em; left: 0.211em;\"><span class=\"mi\" id=\"MathJax-Span-1353\" style=\"font-size: 50%; font-family: STIXGeneral-Italic;\">k<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.253em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>E</mi><mi>i</mi></msub><mo>=</mo><mrow class=\"MJX-TeXAtom-ORD\"><msub><mi>e</mi><mrow class=\"MJX-TeXAtom-ORD\"><msub><mi>i</mi><mn>1</mn></msub></mrow></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>e</mi><mrow class=\"MJX-TeXAtom-ORD\"><msub><mi>i</mi><mi>k</mi></msub></mrow></msub></mrow></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-141\">E_i={e_{i_1},\\dots,e_{i_k}}</script>:</p>\n\n    <ul>\n      <li>\n        <p><strong>Entailment/NLI</strong>: Compute <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-142-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>p</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mo movablelimits=&quot;true&quot; form=&quot;prefix&quot;>Pr</mo><mo stretchy=&quot;false&quot;>(</mo><mtext>entail</mtext><mo>&amp;#x2223;</mo><msub><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1354\" style=\"width: 10.836em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 9.013em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.409em, 1008.96em, 2.711em, -999.997em); top: -2.237em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1355\"><span class=\"msubsup\" id=\"MathJax-Span-1356\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.378em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1357\" style=\"font-family: STIXGeneral-Italic;\">p</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"texatom\" id=\"MathJax-Span-1358\"><span class=\"mrow\" id=\"MathJax-Span-1359\"><span class=\"mi\" id=\"MathJax-Span-1360\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mi\" id=\"MathJax-Span-1361\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1362\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mo\" id=\"MathJax-Span-1363\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">Pr</span><span class=\"mo\" id=\"MathJax-Span-1364\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mtext\" id=\"MathJax-Span-1365\" style=\"font-family: STIXGeneral-Regular;\">entail</span><span class=\"mo\" id=\"MathJax-Span-1366\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∣</span><span class=\"msubsup\" id=\"MathJax-Span-1367\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.94em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.42em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1368\" style=\"font-family: STIXGeneral-Italic;\">e</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.471em;\"><span class=\"texatom\" id=\"MathJax-Span-1369\"><span class=\"mrow\" id=\"MathJax-Span-1370\"><span class=\"mi\" id=\"MathJax-Span-1371\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mi\" id=\"MathJax-Span-1372\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1373\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-1374\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1375\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-1376\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1377\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.242em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>p</mi><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mo movablelimits=\"true\" form=\"prefix\">Pr</mo><mo stretchy=\"false\">(</mo><mtext>entail</mtext><mo>∣</mo><msub><mi>e</mi><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mi>j</mi></mrow></msub><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-142\">p_{ij}=\\Pr(\\text{entail} \\mid e_{ij}, a_i)</script>. Label supported if <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-143-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><munder><mo movablelimits=&quot;true&quot; form=&quot;prefix&quot;>max</mo><mi>j</mi></munder><msub><mi>p</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mo>&amp;#x2265;</mo><mi>&amp;#x03C4;</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1378\" style=\"width: 5.784em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 4.794em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.409em, 1004.79em, 2.659em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1379\"><span class=\"munderover\" id=\"MathJax-Span-1380\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.388em, 1001.72em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-1381\" style=\"font-family: STIXGeneral-Regular;\">max</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 1.721em;\"><span class=\"mi\" id=\"MathJax-Span-1382\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"msubsup\" id=\"MathJax-Span-1383\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.378em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1384\" style=\"font-family: STIXGeneral-Italic;\">p</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"texatom\" id=\"MathJax-Span-1385\"><span class=\"mrow\" id=\"MathJax-Span-1386\"><span class=\"mi\" id=\"MathJax-Span-1387\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mi\" id=\"MathJax-Span-1388\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1389\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">≥</span><span class=\"mi\" id=\"MathJax-Span-1390\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">τ<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><munder><mo movablelimits=\"true\" form=\"prefix\">max</mo><mi>j</mi></munder><msub><mi>p</mi><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mi>j</mi></mrow></msub><mo>≥</mo><mi>τ</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-143\">\\max_j p_{ij} \\ge \\tau</script>. Use DeBERTa-MNLI or domain-tuned NLI.</p>\n      </li>\n      <li>\n        <p><strong>QA-agreement (QAFactEval)</strong>: Generate questions from the claim/output, answer them on the source and on the output, and compare answers by semantic similarity. QAFactEval reports stronger correlation than many entailment baselines for summarization.</p>\n      </li>\n      <li>\n        <p><strong>Reference-free RAG metrics (RAGAS)</strong>: Compute faithfulness plus context precision/recall and answer relevance; ideal for end-to-end RAG stacks and CI checks.</p>\n      </li>\n      <li>\n        <p><strong>LLM-as-judge</strong>: FActScore: decompose to atomic facts and score fraction supported by a reliable source. SAFE: LLM issues multi-step queries, reasons over web snippets, labels each claim (supported/irrelevant/not-supported) and aggregates.</p>\n      </li>\n    </ul>\n  </li>\n</ul>\n<p>Given claim <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-140-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>a</mi><mi>i</mi></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1324\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.78em, 2.451em, -999.997em); top: -2.133em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1325\"><span class=\"msubsup\" id=\"MathJax-Span-1326\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1327\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-1328\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.138em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 0.816em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-140\">a_i</script> and candidate evidence <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-141-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>E</mi><mi>i</mi></msub><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>i</mi><mn>1</mn></msub></mrow></msub><mo>,</mo><mo>&amp;#x2026;</mo><mo>,</mo><msub><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>i</mi><mi>k</mi></msub></mrow></msub></mrow></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1329\" style=\"width: 7.503em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 6.253em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1006.25em, 2.607em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1330\"><span class=\"msubsup\" id=\"MathJax-Span-1331\"><span style=\"display: inline-block; position: relative; width: 0.888em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1332\" style=\"font-family: STIXGeneral-Italic;\">E<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"mi\" id=\"MathJax-Span-1333\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1334\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"texatom\" id=\"MathJax-Span-1335\" style=\"padding-left: 0.315em;\"><span class=\"mrow\" id=\"MathJax-Span-1336\"><span class=\"msubsup\" id=\"MathJax-Span-1337\"><span style=\"display: inline-block; position: relative; width: 1.044em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.42em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1338\" style=\"font-family: STIXGeneral-Italic;\">e</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.471em;\"><span class=\"texatom\" id=\"MathJax-Span-1339\"><span class=\"mrow\" id=\"MathJax-Span-1340\"><span class=\"msubsup\" id=\"MathJax-Span-1341\"><span style=\"display: inline-block; position: relative; width: 0.523em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.21em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1342\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.904em; left: 0.211em;\"><span class=\"mn\" id=\"MathJax-Span-1343\" style=\"font-size: 50%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1344\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mo\" id=\"MathJax-Span-1345\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">…</span><span class=\"mo\" id=\"MathJax-Span-1346\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-1347\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.42em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1348\" style=\"font-family: STIXGeneral-Italic;\">e</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.471em;\"><span class=\"texatom\" id=\"MathJax-Span-1349\"><span class=\"mrow\" id=\"MathJax-Span-1350\"><span class=\"msubsup\" id=\"MathJax-Span-1351\"><span style=\"display: inline-block; position: relative; width: 0.471em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.21em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1352\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.904em; left: 0.211em;\"><span class=\"mi\" id=\"MathJax-Span-1353\" style=\"font-size: 50%; font-family: STIXGeneral-Italic;\">k<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.372em; border-left: 0px solid; width: 0px; height: 1.253em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>E</mi><mi>i</mi></msub><mo>=</mo><mrow class=\"MJX-TeXAtom-ORD\"><msub><mi>e</mi><mrow class=\"MJX-TeXAtom-ORD\"><msub><mi>i</mi><mn>1</mn></msub></mrow></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>e</mi><mrow class=\"MJX-TeXAtom-ORD\"><msub><mi>i</mi><mi>k</mi></msub></mrow></msub></mrow></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-141\">E_i={e_{i_1},\\dots,e_{i_k}}</script>:</p>\n<ul>\n      <li>\n        <p><strong>Entailment/NLI</strong>: Compute <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-142-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>p</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mo movablelimits=&quot;true&quot; form=&quot;prefix&quot;>Pr</mo><mo stretchy=&quot;false&quot;>(</mo><mtext>entail</mtext><mo>&amp;#x2223;</mo><msub><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1354\" style=\"width: 10.836em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 9.013em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.409em, 1008.96em, 2.711em, -999.997em); top: -2.237em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1355\"><span class=\"msubsup\" id=\"MathJax-Span-1356\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.378em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1357\" style=\"font-family: STIXGeneral-Italic;\">p</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"texatom\" id=\"MathJax-Span-1358\"><span class=\"mrow\" id=\"MathJax-Span-1359\"><span class=\"mi\" id=\"MathJax-Span-1360\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mi\" id=\"MathJax-Span-1361\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1362\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mo\" id=\"MathJax-Span-1363\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">Pr</span><span class=\"mo\" id=\"MathJax-Span-1364\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mtext\" id=\"MathJax-Span-1365\" style=\"font-family: STIXGeneral-Regular;\">entail</span><span class=\"mo\" id=\"MathJax-Span-1366\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∣</span><span class=\"msubsup\" id=\"MathJax-Span-1367\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.94em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.42em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1368\" style=\"font-family: STIXGeneral-Italic;\">e</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.471em;\"><span class=\"texatom\" id=\"MathJax-Span-1369\"><span class=\"mrow\" id=\"MathJax-Span-1370\"><span class=\"mi\" id=\"MathJax-Span-1371\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mi\" id=\"MathJax-Span-1372\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1373\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-1374\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1375\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-1376\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1377\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.242em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>p</mi><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mo movablelimits=\"true\" form=\"prefix\">Pr</mo><mo stretchy=\"false\">(</mo><mtext>entail</mtext><mo>∣</mo><msub><mi>e</mi><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mi>j</mi></mrow></msub><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-142\">p_{ij}=\\Pr(\\text{entail} \\mid e_{ij}, a_i)</script>. Label supported if <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-143-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><munder><mo movablelimits=&quot;true&quot; form=&quot;prefix&quot;>max</mo><mi>j</mi></munder><msub><mi>p</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mo>&amp;#x2265;</mo><mi>&amp;#x03C4;</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1378\" style=\"width: 5.784em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 4.794em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.409em, 1004.79em, 2.659em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1379\"><span class=\"munderover\" id=\"MathJax-Span-1380\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.388em, 1001.72em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-1381\" style=\"font-family: STIXGeneral-Regular;\">max</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 1.721em;\"><span class=\"mi\" id=\"MathJax-Span-1382\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"msubsup\" id=\"MathJax-Span-1383\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.378em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1384\" style=\"font-family: STIXGeneral-Italic;\">p</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"texatom\" id=\"MathJax-Span-1385\"><span class=\"mrow\" id=\"MathJax-Span-1386\"><span class=\"mi\" id=\"MathJax-Span-1387\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mi\" id=\"MathJax-Span-1388\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1389\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">≥</span><span class=\"mi\" id=\"MathJax-Span-1390\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">τ<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><munder><mo movablelimits=\"true\" form=\"prefix\">max</mo><mi>j</mi></munder><msub><mi>p</mi><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mi>j</mi></mrow></msub><mo>≥</mo><mi>τ</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-143\">\\max_j p_{ij} \\ge \\tau</script>. Use DeBERTa-MNLI or domain-tuned NLI.</p>\n      </li>\n      <li>\n        <p><strong>QA-agreement (QAFactEval)</strong>: Generate questions from the claim/output, answer them on the source and on the output, and compare answers by semantic similarity. QAFactEval reports stronger correlation than many entailment baselines for summarization.</p>\n      </li>\n      <li>\n        <p><strong>Reference-free RAG metrics (RAGAS)</strong>: Compute faithfulness plus context precision/recall and answer relevance; ideal for end-to-end RAG stacks and CI checks.</p>\n      </li>\n      <li>\n        <p><strong>LLM-as-judge</strong>: FActScore: decompose to atomic facts and score fraction supported by a reliable source. SAFE: LLM issues multi-step queries, reasons over web snippets, labels each claim (supported/irrelevant/not-supported) and aggregates.</p>\n      </li>\n    </ul>\n<p><strong>Entailment/NLI</strong>: Compute <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-142-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>p</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mo movablelimits=&quot;true&quot; form=&quot;prefix&quot;>Pr</mo><mo stretchy=&quot;false&quot;>(</mo><mtext>entail</mtext><mo>&amp;#x2223;</mo><msub><mi>e</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>)</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1354\" style=\"width: 10.836em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 9.013em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.409em, 1008.96em, 2.711em, -999.997em); top: -2.237em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1355\"><span class=\"msubsup\" id=\"MathJax-Span-1356\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.378em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1357\" style=\"font-family: STIXGeneral-Italic;\">p</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"texatom\" id=\"MathJax-Span-1358\"><span class=\"mrow\" id=\"MathJax-Span-1359\"><span class=\"mi\" id=\"MathJax-Span-1360\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mi\" id=\"MathJax-Span-1361\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1362\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mo\" id=\"MathJax-Span-1363\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">Pr</span><span class=\"mo\" id=\"MathJax-Span-1364\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mtext\" id=\"MathJax-Span-1365\" style=\"font-family: STIXGeneral-Regular;\">entail</span><span class=\"mo\" id=\"MathJax-Span-1366\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∣</span><span class=\"msubsup\" id=\"MathJax-Span-1367\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.94em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.42em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1368\" style=\"font-family: STIXGeneral-Italic;\">e</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.471em;\"><span class=\"texatom\" id=\"MathJax-Span-1369\"><span class=\"mrow\" id=\"MathJax-Span-1370\"><span class=\"mi\" id=\"MathJax-Span-1371\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mi\" id=\"MathJax-Span-1372\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1373\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-1374\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1375\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-1376\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1377\" style=\"font-family: STIXGeneral-Regular;\">)</span></span><span style=\"display: inline-block; width: 0px; height: 2.242em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>p</mi><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mi>j</mi></mrow></msub><mo>=</mo><mo movablelimits=\"true\" form=\"prefix\">Pr</mo><mo stretchy=\"false\">(</mo><mtext>entail</mtext><mo>∣</mo><msub><mi>e</mi><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mi>j</mi></mrow></msub><mo>,</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">)</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-142\">p_{ij}=\\Pr(\\text{entail} \\mid e_{ij}, a_i)</script>. Label supported if <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-143-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><munder><mo movablelimits=&quot;true&quot; form=&quot;prefix&quot;>max</mo><mi>j</mi></munder><msub><mi>p</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mi>j</mi></mrow></msub><mo>&amp;#x2265;</mo><mi>&amp;#x03C4;</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1378\" style=\"width: 5.784em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 4.794em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.409em, 1004.79em, 2.659em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1379\"><span class=\"munderover\" id=\"MathJax-Span-1380\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.388em, 1001.72em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-1381\" style=\"font-family: STIXGeneral-Regular;\">max</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 1.721em;\"><span class=\"mi\" id=\"MathJax-Span-1382\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"msubsup\" id=\"MathJax-Span-1383\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.378em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1384\" style=\"font-family: STIXGeneral-Italic;\">p</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"texatom\" id=\"MathJax-Span-1385\"><span class=\"mrow\" id=\"MathJax-Span-1386\"><span class=\"mi\" id=\"MathJax-Span-1387\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mi\" id=\"MathJax-Span-1388\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">j<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1389\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">≥</span><span class=\"mi\" id=\"MathJax-Span-1390\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">τ<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><munder><mo movablelimits=\"true\" form=\"prefix\">max</mo><mi>j</mi></munder><msub><mi>p</mi><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mi>j</mi></mrow></msub><mo>≥</mo><mi>τ</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-143\">\\max_j p_{ij} \\ge \\tau</script>. Use DeBERTa-MNLI or domain-tuned NLI.</p>\n<p><strong>QA-agreement (QAFactEval)</strong>: Generate questions from the claim/output, answer them on the source and on the output, and compare answers by semantic similarity. QAFactEval reports stronger correlation than many entailment baselines for summarization.</p>\n<p><strong>Reference-free RAG metrics (RAGAS)</strong>: Compute faithfulness plus context precision/recall and answer relevance; ideal for end-to-end RAG stacks and CI checks.</p>\n<p><strong>LLM-as-judge</strong>: FActScore: decompose to atomic facts and score fraction supported by a reliable source. SAFE: LLM issues multi-step queries, reasons over web snippets, labels each claim (supported/irrelevant/not-supported) and aggregates.</p>",
    "contentMarkdown": "*   Given claim aiaia\\_i and candidate evidence Ei\\=ei1,…,eikEi\\=ei1,…,eikE\\_i={e\\_{i\\_1},\\\\dots,e\\_{i\\_k}}:\n    \n    *   **Entailment/NLI**: Compute pij\\=Pr(entail∣eij,ai)pij\\=Pr(entail∣eij,ai)p\\_{ij}=\\\\Pr(\\\\text{entail} \\\\mid e\\_{ij}, a\\_i). Label supported if maxjpij≥τmaxjpij≥τ\\\\max\\_j p\\_{ij} \\\\ge \\\\tau. Use DeBERTa-MNLI or domain-tuned NLI.\n        \n    *   **QA-agreement (QAFactEval)**: Generate questions from the claim/output, answer them on the source and on the output, and compare answers by semantic similarity. QAFactEval reports stronger correlation than many entailment baselines for summarization.\n        \n    *   **Reference-free RAG metrics (RAGAS)**: Compute faithfulness plus context precision/recall and answer relevance; ideal for end-to-end RAG stacks and CI checks.\n        \n    *   **LLM-as-judge**: FActScore: decompose to atomic facts and score fraction supported by a reliable source. SAFE: LLM issues multi-step queries, reasons over web snippets, labels each claim (supported/irrelevant/not-supported) and aggregates.\n        \n\nGiven claim aiaia\\_i and candidate evidence Ei\\=ei1,…,eikEi\\=ei1,…,eikE\\_i={e\\_{i\\_1},\\\\dots,e\\_{i\\_k}}:\n\n*   **Entailment/NLI**: Compute pij\\=Pr(entail∣eij,ai)pij\\=Pr(entail∣eij,ai)p\\_{ij}=\\\\Pr(\\\\text{entail} \\\\mid e\\_{ij}, a\\_i). Label supported if maxjpij≥τmaxjpij≥τ\\\\max\\_j p\\_{ij} \\\\ge \\\\tau. Use DeBERTa-MNLI or domain-tuned NLI.\n    \n*   **QA-agreement (QAFactEval)**: Generate questions from the claim/output, answer them on the source and on the output, and compare answers by semantic similarity. QAFactEval reports stronger correlation than many entailment baselines for summarization.\n    \n*   **Reference-free RAG metrics (RAGAS)**: Compute faithfulness plus context precision/recall and answer relevance; ideal for end-to-end RAG stacks and CI checks.\n    \n*   **LLM-as-judge**: FActScore: decompose to atomic facts and score fraction supported by a reliable source. SAFE: LLM issues multi-step queries, reasons over web snippets, labels each claim (supported/irrelevant/not-supported) and aggregates.\n    \n\n**Entailment/NLI**: Compute pij\\=Pr(entail∣eij,ai)pij\\=Pr(entail∣eij,ai)p\\_{ij}=\\\\Pr(\\\\text{entail} \\\\mid e\\_{ij}, a\\_i). Label supported if maxjpij≥τmaxjpij≥τ\\\\max\\_j p\\_{ij} \\\\ge \\\\tau. Use DeBERTa-MNLI or domain-tuned NLI.\n\n**QA-agreement (QAFactEval)**: Generate questions from the claim/output, answer them on the source and on the output, and compare answers by semantic similarity. QAFactEval reports stronger correlation than many entailment baselines for summarization.\n\n**Reference-free RAG metrics (RAGAS)**: Compute faithfulness plus context precision/recall and answer relevance; ideal for end-to-end RAG stacks and CI checks.\n\n**LLM-as-judge**: FActScore: decompose to atomic facts and score fraction supported by a reliable source. SAFE: LLM issues multi-step queries, reasons over web snippets, labels each claim (supported/irrelevant/not-supported) and aggregates.",
    "contentLength": 44947,
    "wordCount": 320,
    "hasCode": false,
    "hasMath": true,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#verification-engines"
  },
  {
    "id": "ai-factuality-in-LLMs-score-aggregation-41",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "End-to-End Factuality Evaluation Pipeline (Implementation Blueprint)",
    "title": "Score Aggregation",
    "order": 41,
    "orderInChapter": 6,
    "contentHtml": "<ul>\n  <li>\n    <p>For a response with claims <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-144-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><mo>&amp;#x2026;</mo><mo>,</mo><msub><mi>a</mi><mi>N</mi></msub></mrow></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1391\" style=\"width: 8.544em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 7.086em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1007.09em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1392\"><span class=\"mi\" id=\"MathJax-Span-1393\" style=\"font-family: STIXGeneral-Italic;\">ϕ</span><span class=\"mo\" id=\"MathJax-Span-1394\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-1395\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-1396\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-1397\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"texatom\" id=\"MathJax-Span-1398\" style=\"padding-left: 0.315em;\"><span class=\"mrow\" id=\"MathJax-Span-1399\"><span class=\"msubsup\" id=\"MathJax-Span-1400\"><span style=\"display: inline-block; position: relative; width: 0.94em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1401\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mn\" id=\"MathJax-Span-1402\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1403\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mo\" id=\"MathJax-Span-1404\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">…</span><span class=\"mo\" id=\"MathJax-Span-1405\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-1406\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.096em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1407\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-1408\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>ϕ</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mrow class=\"MJX-TeXAtom-ORD\"><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>a</mi><mi>N</mi></msub></mrow></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-144\">\\phi(y)={a_1,\\dots,a_N}</script>:</p>\n\n    <ul>\n      <li>\n        <p><strong>Faithfulness (context-bound)</strong>:</p>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\" style=\"text-align: center;\"><span class=\"MathJax\" id=\"MathJax-Element-145-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>faith</mtext></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo>&amp;#x2223;</mo><mi>D</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi></mrow></munderover><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn mathvariant=&quot;bold&quot;>1</mn></mrow><mo stretchy=&quot;false&quot;>[</mo><mi mathvariant=&quot;normal&quot;>&amp;#x2203;</mi><mi>e</mi><mo>&amp;#x2208;</mo><mi>D</mi><mo>:</mo><mtext>&amp;#xA0;</mtext><mi>e</mi><mo>&amp;#x22A8;</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>]</mo></math>\" role=\"presentation\" style=\"text-align: center; position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1409\" style=\"width: 19.69em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 16.409em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(0.576em, 1016.3em, 3.909em, -999.997em); top: -2.497em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1410\"><span class=\"msubsup\" id=\"MathJax-Span-1411\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1412\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1413\"><span class=\"mrow\" id=\"MathJax-Span-1414\"><span class=\"mtext\" id=\"MathJax-Span-1415\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">faith</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1416\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-1417\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-1418\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∣</span><span class=\"mi\" id=\"MathJax-Span-1419\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span><span class=\"mo\" id=\"MathJax-Span-1420\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-1421\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-1422\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.42em, 4.169em, -999.997em); top: -4.685em; left: 50%; margin-left: -0.258em;\"><span class=\"mn\" id=\"MathJax-Span-1423\" style=\"font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1000.73em, 4.169em, -999.997em); top: -3.331em; left: 50%; margin-left: -0.362em;\"><span class=\"mi\" id=\"MathJax-Span-1424\" style=\"font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.84em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.836em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"munderover\" id=\"MathJax-Span-1425\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.305em; height: 0px;\"><span style=\"position: absolute; clip: rect(2.867em, 1001.2em, 4.638em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-1426\" style=\"font-family: STIXSizeOneSym; vertical-align: -0.518em;\">∑</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.94em, 4.273em, -999.997em); top: -2.862em; left: 0.107em;\"><span class=\"texatom\" id=\"MathJax-Span-1427\"><span class=\"mrow\" id=\"MathJax-Span-1428\"><span class=\"mi\" id=\"MathJax-Span-1429\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mo\" id=\"MathJax-Span-1430\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">=</span><span class=\"mn\" id=\"MathJax-Span-1431\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.284em, 1000.52em, 4.169em, -999.997em); top: -5.206em; left: 0.367em;\"><span class=\"texatom\" id=\"MathJax-Span-1432\"><span class=\"mrow\" id=\"MathJax-Span-1433\"><span class=\"mi\" id=\"MathJax-Span-1434\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-1435\" style=\"padding-left: 0.211em;\"><span class=\"mrow\" id=\"MathJax-Span-1436\"><span class=\"mn\" id=\"MathJax-Span-1437\" style=\"font-family: STIXGeneral; font-weight: bold;\">1</span></span></span><span class=\"mo\" id=\"MathJax-Span-1438\" style=\"font-family: STIXGeneral-Regular;\">[</span><span class=\"mi\" id=\"MathJax-Span-1439\" style=\"font-family: STIXGeneral-Regular;\">∃</span><span class=\"mi\" id=\"MathJax-Span-1440\" style=\"font-family: STIXGeneral-Italic;\">e</span><span class=\"mo\" id=\"MathJax-Span-1441\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∈</span><span class=\"mi\" id=\"MathJax-Span-1442\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span><span class=\"mo\" id=\"MathJax-Span-1443\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">:</span><span class=\"mtext\" id=\"MathJax-Span-1444\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">&nbsp;</span><span class=\"mi\" id=\"MathJax-Span-1445\" style=\"font-family: STIXGeneral-Italic;\">e</span><span class=\"mo\" id=\"MathJax-Span-1446\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">⊨</span><span class=\"msubsup\" id=\"MathJax-Span-1447\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1448\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-1449\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1450\" style=\"font-family: STIXGeneral-Regular;\">]</span></span><span style=\"display: inline-block; width: 0px; height: 2.503em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -1.559em; border-left: 0px solid; width: 0px; height: 3.753em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>faith</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>y</mi><mo>∣</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mi>N</mi></mrow></munderover><mrow class=\"MJX-TeXAtom-ORD\"><mn mathvariant=\"bold\">1</mn></mrow><mo stretchy=\"false\">[</mo><mi mathvariant=\"normal\">∃</mi><mi>e</mi><mo>∈</mo><mi>D</mi><mo>:</mo><mtext>&nbsp;</mtext><mi>e</mi><mo>⊨</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">]</mo></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-145\">F_{\\text{faith}}(y\\mid D)=\\frac{1}{N}\\sum_{i=1}^{N}\\mathbf{1}[\\exists e\\in D:\\ e\\models a_i]</script>\n      </li>\n      <li>\n        <p><strong>RAG groundedness (RAGAS)</strong>:</p>\n\n        <ul>\n          <li>Aggregate faithfulness, context precision, context recall, and answer relevance into a dashboard score\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-146-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>rag</mtext></mrow></msub><mo>=</mo><mstyle displaystyle=&quot;false&quot; scriptlevel=&quot;0&quot;><mfrac><mn>1</mn><mn>4</mn></mfrac></mstyle><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo maxsize=&quot;1.2em&quot; minsize=&quot;1.2em&quot;>(</mo></mrow><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>faith</mtext></mrow></msub><mo>+</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ans</mtext></mrow></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo maxsize=&quot;1.2em&quot; minsize=&quot;1.2em&quot;>)</mo></mrow><mo>.</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1451\" style=\"width: 17.763em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 14.794em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(2.086em, 1014.74em, 3.753em, -999.997em); top: -3.174em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1452\"><span class=\"msubsup\" id=\"MathJax-Span-1453\"><span style=\"display: inline-block; position: relative; width: 1.617em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1454\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1455\"><span class=\"mrow\" id=\"MathJax-Span-1456\"><span class=\"mtext\" id=\"MathJax-Span-1457\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">rag</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1458\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mstyle\" id=\"MathJax-Span-1459\" style=\"padding-left: 0.315em;\"><span class=\"mrow\" id=\"MathJax-Span-1460\"><span class=\"mfrac\" id=\"MathJax-Span-1461\"><span style=\"display: inline-block; position: relative; width: 0.471em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-1462\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.32em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-1463\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">4</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.47em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.471em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-1464\"><span class=\"mrow\" id=\"MathJax-Span-1465\"><span class=\"mo\" id=\"MathJax-Span-1466\" style=\"vertical-align: -0.258em;\"><span><span style=\"font-size: 110%; font-family: STIXSizeOneSym;\">(</span></span></span></span></span><span class=\"msubsup\" id=\"MathJax-Span-1467\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1468\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1469\"><span class=\"mrow\" id=\"MathJax-Span-1470\"><span class=\"mtext\" id=\"MathJax-Span-1471\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">faith</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1472\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"msubsup\" id=\"MathJax-Span-1473\" style=\"padding-left: 0.263em;\"><span style=\"display: inline-block; position: relative; width: 1.565em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1474\" style=\"font-family: STIXGeneral-Italic;\">P</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1475\"><span class=\"mrow\" id=\"MathJax-Span-1476\"><span class=\"mtext\" id=\"MathJax-Span-1477\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ctx</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1478\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"msubsup\" id=\"MathJax-Span-1479\" style=\"padding-left: 0.263em;\"><span style=\"display: inline-block; position: relative; width: 1.565em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.58em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1480\" style=\"font-family: STIXGeneral-Italic;\">R</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1481\"><span class=\"mrow\" id=\"MathJax-Span-1482\"><span class=\"mtext\" id=\"MathJax-Span-1483\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ctx</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1484\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"msubsup\" id=\"MathJax-Span-1485\" style=\"padding-left: 0.263em;\"><span style=\"display: inline-block; position: relative; width: 1.617em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.58em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1486\" style=\"font-family: STIXGeneral-Italic;\">R</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1487\"><span class=\"mrow\" id=\"MathJax-Span-1488\"><span class=\"mtext\" id=\"MathJax-Span-1489\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ans</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-1490\"><span class=\"mrow\" id=\"MathJax-Span-1491\"><span class=\"mo\" id=\"MathJax-Span-1492\" style=\"vertical-align: -0.258em;\"><span><span style=\"font-size: 110%; font-family: STIXSizeOneSym;\">)</span></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1493\" style=\"font-family: STIXGeneral-Regular;\">.</span></span><span style=\"display: inline-block; width: 0px; height: 3.18em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.559em; border-left: 0px solid; width: 0px; height: 1.753em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>rag</mtext></mrow></msub><mo>=</mo><mstyle displaystyle=\"false\" scriptlevel=\"0\"><mfrac><mn>1</mn><mn>4</mn></mfrac></mstyle><mrow class=\"MJX-TeXAtom-ORD\"><mo maxsize=\"1.2em\" minsize=\"1.2em\">(</mo></mrow><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>faith</mtext></mrow></msub><mo>+</mo><msub><mi>P</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ans</mtext></mrow></msub><mrow class=\"MJX-TeXAtom-ORD\"><mo maxsize=\"1.2em\" minsize=\"1.2em\">)</mo></mrow><mo>.</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-146\">F_{\\text{rag}}=\\tfrac{1}{4}\\big(F_{\\text{faith}}+P_{\\text{ctx}}+R_{\\text{ctx}}+R_{\\text{ans}}\\big).</script></li>\n          <li>RAGAS exposes each component so you can enforce per-metric SLOs.</li>\n        </ul>\n      </li>\n      <li>\n        <p><strong>Atomic factuality (FActScore/SAFE)</strong>:</p>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\"><span class=\"MathJax\" id=\"MathJax-Element-147-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><merror><mtext>F_{\\text{atomic}}=\\frac{#\\text{Supported}}{#\\text{Total&amp;#xA0;Claims}},\\quad&amp;#xA0;\\text{with&amp;#xA0;counts&amp;#xA0;from&amp;#xA0;an&amp;#xA0;LLM&amp;#xA0;judge&amp;#xA0;or&amp;#xA0;NLI+retrieval.}</mtext></merror></math>\" role=\"presentation\" style=\"position: relative;\"><span class=\"math\" id=\"MathJax-Span-1494\" aria-hidden=\"true\" style=\"\"><span class=\"noError\" id=\"MathJax-Span-1495\" style=\"display: inline-block;\">F_{\\text{atomic}}=\\frac{#\\text{Supported}}{#\\text{Total&nbsp;Claims}},\\quad&nbsp;\\text{with&nbsp;counts&nbsp;from&nbsp;an&nbsp;LLM&nbsp;judge&nbsp;or&nbsp;NLI+retrieval.}</span></span><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><merror><mtext>F_{\\text{atomic}}=\\frac{#\\text{Supported}}{#\\text{Total&nbsp;Claims}},\\quad&nbsp;\\text{with&nbsp;counts&nbsp;from&nbsp;an&nbsp;LLM&nbsp;judge&nbsp;or&nbsp;NLI+retrieval.}</mtext></merror></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-147\">F_{\\text{atomic}}=\\frac{#\\text{Supported}}{#\\text{Total Claims}},\\quad \\text{with counts from an LLM judge or NLI+retrieval.}</script>\n\n        <ul>\n          <li>FActScore formalizes atomic decomposition; SAFE adds search-augmented judging for long-form.</li>\n        </ul>\n      </li>\n      <li>\n        <p><strong>Calibration overlay</strong>:</p>\n        <ul>\n          <li>Log model confidence <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-148-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>c</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1496\" style=\"width: 0.576em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.471em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.47em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1497\"><span class=\"mi\" id=\"MathJax-Span-1498\" style=\"font-family: STIXGeneral-Italic;\">c</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>c</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-148\">c</script> for each claim and compute expected calibration error (ECE) between <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-149-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>c</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1499\" style=\"width: 0.576em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.471em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.47em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1500\"><span class=\"mi\" id=\"MathJax-Span-1501\" style=\"font-family: STIXGeneral-Italic;\">c</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>c</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-149\">c</script> and correctness labels; use reliability diagrams to gate risky answers.</li>\n        </ul>\n      </li>\n    </ul>\n  </li>\n</ul>\n<p>For a response with claims <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-144-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>&amp;#x03D5;</mi><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><mo>&amp;#x2026;</mo><mo>,</mo><msub><mi>a</mi><mi>N</mi></msub></mrow></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1391\" style=\"width: 8.544em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 7.086em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1007.09em, 2.555em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1392\"><span class=\"mi\" id=\"MathJax-Span-1393\" style=\"font-family: STIXGeneral-Italic;\">ϕ</span><span class=\"mo\" id=\"MathJax-Span-1394\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-1395\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-1396\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-1397\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"texatom\" id=\"MathJax-Span-1398\" style=\"padding-left: 0.315em;\"><span class=\"mrow\" id=\"MathJax-Span-1399\"><span class=\"msubsup\" id=\"MathJax-Span-1400\"><span style=\"display: inline-block; position: relative; width: 0.94em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1401\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mn\" id=\"MathJax-Span-1402\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1403\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"mo\" id=\"MathJax-Span-1404\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">…</span><span class=\"mo\" id=\"MathJax-Span-1405\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.211em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-1406\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.096em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1407\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-1408\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.309em; border-left: 0px solid; width: 0px; height: 1.191em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>ϕ</mi><mo stretchy=\"false\">(</mo><mi>y</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mrow class=\"MJX-TeXAtom-ORD\"><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>a</mi><mi>N</mi></msub></mrow></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-144\">\\phi(y)={a_1,\\dots,a_N}</script>:</p>\n<ul>\n      <li>\n        <p><strong>Faithfulness (context-bound)</strong>:</p>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\" style=\"text-align: center;\"><span class=\"MathJax\" id=\"MathJax-Element-145-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>faith</mtext></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><mi>y</mi><mo>&amp;#x2223;</mo><mi>D</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>&amp;#x2211;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>N</mi></mrow></munderover><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn mathvariant=&quot;bold&quot;>1</mn></mrow><mo stretchy=&quot;false&quot;>[</mo><mi mathvariant=&quot;normal&quot;>&amp;#x2203;</mi><mi>e</mi><mo>&amp;#x2208;</mo><mi>D</mi><mo>:</mo><mtext>&amp;#xA0;</mtext><mi>e</mi><mo>&amp;#x22A8;</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=&quot;false&quot;>]</mo></math>\" role=\"presentation\" style=\"text-align: center; position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1409\" style=\"width: 19.69em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 16.409em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(0.576em, 1016.3em, 3.909em, -999.997em); top: -2.497em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1410\"><span class=\"msubsup\" id=\"MathJax-Span-1411\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1412\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1413\"><span class=\"mrow\" id=\"MathJax-Span-1414\"><span class=\"mtext\" id=\"MathJax-Span-1415\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">faith</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1416\" style=\"font-family: STIXGeneral-Regular;\">(</span><span class=\"mi\" id=\"MathJax-Span-1417\" style=\"font-family: STIXGeneral-Italic;\">y</span><span class=\"mo\" id=\"MathJax-Span-1418\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∣</span><span class=\"mi\" id=\"MathJax-Span-1419\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span><span class=\"mo\" id=\"MathJax-Span-1420\" style=\"font-family: STIXGeneral-Regular;\">)</span><span class=\"mo\" id=\"MathJax-Span-1421\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mfrac\" id=\"MathJax-Span-1422\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.42em, 4.169em, -999.997em); top: -4.685em; left: 50%; margin-left: -0.258em;\"><span class=\"mn\" id=\"MathJax-Span-1423\" style=\"font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.18em, 1000.73em, 4.169em, -999.997em); top: -3.331em; left: 50%; margin-left: -0.362em;\"><span class=\"mi\" id=\"MathJax-Span-1424\" style=\"font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.84em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.836em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span><span class=\"munderover\" id=\"MathJax-Span-1425\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.305em; height: 0px;\"><span style=\"position: absolute; clip: rect(2.867em, 1001.2em, 4.638em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mo\" id=\"MathJax-Span-1426\" style=\"font-family: STIXSizeOneSym; vertical-align: -0.518em;\">∑</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.94em, 4.273em, -999.997em); top: -2.862em; left: 0.107em;\"><span class=\"texatom\" id=\"MathJax-Span-1427\"><span class=\"mrow\" id=\"MathJax-Span-1428\"><span class=\"mi\" id=\"MathJax-Span-1429\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span class=\"mo\" id=\"MathJax-Span-1430\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">=</span><span class=\"mn\" id=\"MathJax-Span-1431\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.284em, 1000.52em, 4.169em, -999.997em); top: -5.206em; left: 0.367em;\"><span class=\"texatom\" id=\"MathJax-Span-1432\"><span class=\"mrow\" id=\"MathJax-Span-1433\"><span class=\"mi\" id=\"MathJax-Span-1434\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">N<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-1435\" style=\"padding-left: 0.211em;\"><span class=\"mrow\" id=\"MathJax-Span-1436\"><span class=\"mn\" id=\"MathJax-Span-1437\" style=\"font-family: STIXGeneral; font-weight: bold;\">1</span></span></span><span class=\"mo\" id=\"MathJax-Span-1438\" style=\"font-family: STIXGeneral-Regular;\">[</span><span class=\"mi\" id=\"MathJax-Span-1439\" style=\"font-family: STIXGeneral-Regular;\">∃</span><span class=\"mi\" id=\"MathJax-Span-1440\" style=\"font-family: STIXGeneral-Italic;\">e</span><span class=\"mo\" id=\"MathJax-Span-1441\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">∈</span><span class=\"mi\" id=\"MathJax-Span-1442\" style=\"font-family: STIXGeneral-Italic; padding-left: 0.315em;\">D</span><span class=\"mo\" id=\"MathJax-Span-1443\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">:</span><span class=\"mtext\" id=\"MathJax-Span-1444\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">&nbsp;</span><span class=\"mi\" id=\"MathJax-Span-1445\" style=\"font-family: STIXGeneral-Italic;\">e</span><span class=\"mo\" id=\"MathJax-Span-1446\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">⊨</span><span class=\"msubsup\" id=\"MathJax-Span-1447\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.47em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1448\" style=\"font-family: STIXGeneral-Italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.523em;\"><span class=\"mi\" id=\"MathJax-Span-1449\" style=\"font-size: 70.7%; font-family: STIXGeneral-Italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1450\" style=\"font-family: STIXGeneral-Regular;\">]</span></span><span style=\"display: inline-block; width: 0px; height: 2.503em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -1.559em; border-left: 0px solid; width: 0px; height: 3.753em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>faith</mtext></mrow></msub><mo stretchy=\"false\">(</mo><mi>y</mi><mo>∣</mo><mi>D</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>N</mi></mfrac><munderover><mo>∑</mo><mrow class=\"MJX-TeXAtom-ORD\"><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mrow class=\"MJX-TeXAtom-ORD\"><mi>N</mi></mrow></munderover><mrow class=\"MJX-TeXAtom-ORD\"><mn mathvariant=\"bold\">1</mn></mrow><mo stretchy=\"false\">[</mo><mi mathvariant=\"normal\">∃</mi><mi>e</mi><mo>∈</mo><mi>D</mi><mo>:</mo><mtext>&nbsp;</mtext><mi>e</mi><mo>⊨</mo><msub><mi>a</mi><mi>i</mi></msub><mo stretchy=\"false\">]</mo></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-145\">F_{\\text{faith}}(y\\mid D)=\\frac{1}{N}\\sum_{i=1}^{N}\\mathbf{1}[\\exists e\\in D:\\ e\\models a_i]</script>\n      </li>\n      <li>\n        <p><strong>RAG groundedness (RAGAS)</strong>:</p>\n\n        <ul>\n          <li>Aggregate faithfulness, context precision, context recall, and answer relevance into a dashboard score\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-146-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>rag</mtext></mrow></msub><mo>=</mo><mstyle displaystyle=&quot;false&quot; scriptlevel=&quot;0&quot;><mfrac><mn>1</mn><mn>4</mn></mfrac></mstyle><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo maxsize=&quot;1.2em&quot; minsize=&quot;1.2em&quot;>(</mo></mrow><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>faith</mtext></mrow></msub><mo>+</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ans</mtext></mrow></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo maxsize=&quot;1.2em&quot; minsize=&quot;1.2em&quot;>)</mo></mrow><mo>.</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1451\" style=\"width: 17.763em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 14.794em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(2.086em, 1014.74em, 3.753em, -999.997em); top: -3.174em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1452\"><span class=\"msubsup\" id=\"MathJax-Span-1453\"><span style=\"display: inline-block; position: relative; width: 1.617em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1454\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1455\"><span class=\"mrow\" id=\"MathJax-Span-1456\"><span class=\"mtext\" id=\"MathJax-Span-1457\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">rag</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1458\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mstyle\" id=\"MathJax-Span-1459\" style=\"padding-left: 0.315em;\"><span class=\"mrow\" id=\"MathJax-Span-1460\"><span class=\"mfrac\" id=\"MathJax-Span-1461\"><span style=\"display: inline-block; position: relative; width: 0.471em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-1462\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.32em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-1463\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">4</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.47em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.471em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-1464\"><span class=\"mrow\" id=\"MathJax-Span-1465\"><span class=\"mo\" id=\"MathJax-Span-1466\" style=\"vertical-align: -0.258em;\"><span><span style=\"font-size: 110%; font-family: STIXSizeOneSym;\">(</span></span></span></span></span><span class=\"msubsup\" id=\"MathJax-Span-1467\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1468\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1469\"><span class=\"mrow\" id=\"MathJax-Span-1470\"><span class=\"mtext\" id=\"MathJax-Span-1471\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">faith</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1472\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"msubsup\" id=\"MathJax-Span-1473\" style=\"padding-left: 0.263em;\"><span style=\"display: inline-block; position: relative; width: 1.565em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1474\" style=\"font-family: STIXGeneral-Italic;\">P</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1475\"><span class=\"mrow\" id=\"MathJax-Span-1476\"><span class=\"mtext\" id=\"MathJax-Span-1477\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ctx</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1478\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"msubsup\" id=\"MathJax-Span-1479\" style=\"padding-left: 0.263em;\"><span style=\"display: inline-block; position: relative; width: 1.565em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.58em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1480\" style=\"font-family: STIXGeneral-Italic;\">R</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1481\"><span class=\"mrow\" id=\"MathJax-Span-1482\"><span class=\"mtext\" id=\"MathJax-Span-1483\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ctx</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1484\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"msubsup\" id=\"MathJax-Span-1485\" style=\"padding-left: 0.263em;\"><span style=\"display: inline-block; position: relative; width: 1.617em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.58em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1486\" style=\"font-family: STIXGeneral-Italic;\">R</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1487\"><span class=\"mrow\" id=\"MathJax-Span-1488\"><span class=\"mtext\" id=\"MathJax-Span-1489\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ans</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-1490\"><span class=\"mrow\" id=\"MathJax-Span-1491\"><span class=\"mo\" id=\"MathJax-Span-1492\" style=\"vertical-align: -0.258em;\"><span><span style=\"font-size: 110%; font-family: STIXSizeOneSym;\">)</span></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1493\" style=\"font-family: STIXGeneral-Regular;\">.</span></span><span style=\"display: inline-block; width: 0px; height: 3.18em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.559em; border-left: 0px solid; width: 0px; height: 1.753em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>rag</mtext></mrow></msub><mo>=</mo><mstyle displaystyle=\"false\" scriptlevel=\"0\"><mfrac><mn>1</mn><mn>4</mn></mfrac></mstyle><mrow class=\"MJX-TeXAtom-ORD\"><mo maxsize=\"1.2em\" minsize=\"1.2em\">(</mo></mrow><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>faith</mtext></mrow></msub><mo>+</mo><msub><mi>P</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ans</mtext></mrow></msub><mrow class=\"MJX-TeXAtom-ORD\"><mo maxsize=\"1.2em\" minsize=\"1.2em\">)</mo></mrow><mo>.</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-146\">F_{\\text{rag}}=\\tfrac{1}{4}\\big(F_{\\text{faith}}+P_{\\text{ctx}}+R_{\\text{ctx}}+R_{\\text{ans}}\\big).</script></li>\n          <li>RAGAS exposes each component so you can enforce per-metric SLOs.</li>\n        </ul>\n      </li>\n      <li>\n        <p><strong>Atomic factuality (FActScore/SAFE)</strong>:</p>\n\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><div class=\"MathJax_Display\"><span class=\"MathJax\" id=\"MathJax-Element-147-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><merror><mtext>F_{\\text{atomic}}=\\frac{#\\text{Supported}}{#\\text{Total&amp;#xA0;Claims}},\\quad&amp;#xA0;\\text{with&amp;#xA0;counts&amp;#xA0;from&amp;#xA0;an&amp;#xA0;LLM&amp;#xA0;judge&amp;#xA0;or&amp;#xA0;NLI+retrieval.}</mtext></merror></math>\" role=\"presentation\" style=\"position: relative;\"><span class=\"math\" id=\"MathJax-Span-1494\" aria-hidden=\"true\" style=\"\"><span class=\"noError\" id=\"MathJax-Span-1495\" style=\"display: inline-block;\">F_{\\text{atomic}}=\\frac{#\\text{Supported}}{#\\text{Total&nbsp;Claims}},\\quad&nbsp;\\text{with&nbsp;counts&nbsp;from&nbsp;an&nbsp;LLM&nbsp;judge&nbsp;or&nbsp;NLI+retrieval.}</span></span><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><merror><mtext>F_{\\text{atomic}}=\\frac{#\\text{Supported}}{#\\text{Total&nbsp;Claims}},\\quad&nbsp;\\text{with&nbsp;counts&nbsp;from&nbsp;an&nbsp;LLM&nbsp;judge&nbsp;or&nbsp;NLI+retrieval.}</mtext></merror></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-147\">F_{\\text{atomic}}=\\frac{#\\text{Supported}}{#\\text{Total Claims}},\\quad \\text{with counts from an LLM judge or NLI+retrieval.}</script>\n\n        <ul>\n          <li>FActScore formalizes atomic decomposition; SAFE adds search-augmented judging for long-form.</li>\n        </ul>\n      </li>\n      <li>\n        <p><strong>Calibration overlay</strong>:</p>\n        <ul>\n          <li>Log model confidence <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-148-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>c</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1496\" style=\"width: 0.576em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.471em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.47em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1497\"><span class=\"mi\" id=\"MathJax-Span-1498\" style=\"font-family: STIXGeneral-Italic;\">c</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>c</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-148\">c</script> for each claim and compute expected calibration error (ECE) between <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-149-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>c</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1499\" style=\"width: 0.576em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.471em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.47em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1500\"><span class=\"mi\" id=\"MathJax-Span-1501\" style=\"font-family: STIXGeneral-Italic;\">c</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>c</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-149\">c</script> and correctness labels; use reliability diagrams to gate risky answers.</li>\n        </ul>\n      </li>\n    </ul>\n<p><strong>Faithfulness (context-bound)</strong>:</p>\n<p><strong>RAG groundedness (RAGAS)</strong>:</p>\n<ul>\n          <li>Aggregate faithfulness, context precision, context recall, and answer relevance into a dashboard score\n<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-146-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>rag</mtext></mrow></msub><mo>=</mo><mstyle displaystyle=&quot;false&quot; scriptlevel=&quot;0&quot;><mfrac><mn>1</mn><mn>4</mn></mfrac></mstyle><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo maxsize=&quot;1.2em&quot; minsize=&quot;1.2em&quot;>(</mo></mrow><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>faith</mtext></mrow></msub><mo>+</mo><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ans</mtext></mrow></msub><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo maxsize=&quot;1.2em&quot; minsize=&quot;1.2em&quot;>)</mo></mrow><mo>.</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1451\" style=\"width: 17.763em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 14.794em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(2.086em, 1014.74em, 3.753em, -999.997em); top: -3.174em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1452\"><span class=\"msubsup\" id=\"MathJax-Span-1453\"><span style=\"display: inline-block; position: relative; width: 1.617em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1454\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1455\"><span class=\"mrow\" id=\"MathJax-Span-1456\"><span class=\"mtext\" id=\"MathJax-Span-1457\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">rag</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1458\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">=</span><span class=\"mstyle\" id=\"MathJax-Span-1459\" style=\"padding-left: 0.315em;\"><span class=\"mrow\" id=\"MathJax-Span-1460\"><span class=\"mfrac\" id=\"MathJax-Span-1461\"><span style=\"display: inline-block; position: relative; width: 0.471em; height: 0px; margin-right: 0.107em; margin-left: 0.107em;\"><span style=\"position: absolute; clip: rect(3.388em, 1000.26em, 4.169em, -999.997em); top: -4.424em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-1462\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(3.388em, 1000.32em, 4.169em, -999.997em); top: -3.643em; left: 50%; margin-left: -0.154em;\"><span class=\"mn\" id=\"MathJax-Span-1463\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">4</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; clip: rect(0.836em, 1000.47em, 1.201em, -999.997em); top: -1.247em; left: 0em;\"><span style=\"display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 0.471em; height: 0px;\"></span><span style=\"display: inline-block; width: 0px; height: 1.044em;\"></span></span></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-1464\"><span class=\"mrow\" id=\"MathJax-Span-1465\"><span class=\"mo\" id=\"MathJax-Span-1466\" style=\"vertical-align: -0.258em;\"><span><span style=\"font-size: 110%; font-family: STIXSizeOneSym;\">(</span></span></span></span></span><span class=\"msubsup\" id=\"MathJax-Span-1467\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1468\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1469\"><span class=\"mrow\" id=\"MathJax-Span-1470\"><span class=\"mtext\" id=\"MathJax-Span-1471\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">faith</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1472\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"msubsup\" id=\"MathJax-Span-1473\" style=\"padding-left: 0.263em;\"><span style=\"display: inline-block; position: relative; width: 1.565em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1474\" style=\"font-family: STIXGeneral-Italic;\">P</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1475\"><span class=\"mrow\" id=\"MathJax-Span-1476\"><span class=\"mtext\" id=\"MathJax-Span-1477\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ctx</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1478\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"msubsup\" id=\"MathJax-Span-1479\" style=\"padding-left: 0.263em;\"><span style=\"display: inline-block; position: relative; width: 1.565em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.58em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1480\" style=\"font-family: STIXGeneral-Italic;\">R</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1481\"><span class=\"mrow\" id=\"MathJax-Span-1482\"><span class=\"mtext\" id=\"MathJax-Span-1483\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ctx</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1484\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.263em;\">+</span><span class=\"msubsup\" id=\"MathJax-Span-1485\" style=\"padding-left: 0.263em;\"><span style=\"display: inline-block; position: relative; width: 1.617em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.58em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1486\" style=\"font-family: STIXGeneral-Italic;\">R</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1487\"><span class=\"mrow\" id=\"MathJax-Span-1488\"><span class=\"mtext\" id=\"MathJax-Span-1489\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ans</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"texatom\" id=\"MathJax-Span-1490\"><span class=\"mrow\" id=\"MathJax-Span-1491\"><span class=\"mo\" id=\"MathJax-Span-1492\" style=\"vertical-align: -0.258em;\"><span><span style=\"font-size: 110%; font-family: STIXSizeOneSym;\">)</span></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1493\" style=\"font-family: STIXGeneral-Regular;\">.</span></span><span style=\"display: inline-block; width: 0px; height: 3.18em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.559em; border-left: 0px solid; width: 0px; height: 1.753em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>rag</mtext></mrow></msub><mo>=</mo><mstyle displaystyle=\"false\" scriptlevel=\"0\"><mfrac><mn>1</mn><mn>4</mn></mfrac></mstyle><mrow class=\"MJX-TeXAtom-ORD\"><mo maxsize=\"1.2em\" minsize=\"1.2em\">(</mo></mrow><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>faith</mtext></mrow></msub><mo>+</mo><msub><mi>P</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ctx</mtext></mrow></msub><mo>+</mo><msub><mi>R</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ans</mtext></mrow></msub><mrow class=\"MJX-TeXAtom-ORD\"><mo maxsize=\"1.2em\" minsize=\"1.2em\">)</mo></mrow><mo>.</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-146\">F_{\\text{rag}}=\\tfrac{1}{4}\\big(F_{\\text{faith}}+P_{\\text{ctx}}+R_{\\text{ctx}}+R_{\\text{ans}}\\big).</script></li>\n          <li>RAGAS exposes each component so you can enforce per-metric SLOs.</li>\n        </ul>\n<p><strong>Atomic factuality (FActScore/SAFE)</strong>:</p>\n<ul>\n          <li>FActScore formalizes atomic decomposition; SAFE adds search-augmented judging for long-form.</li>\n        </ul>\n<p><strong>Calibration overlay</strong>:</p>\n<ul>\n          <li>Log model confidence <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-148-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>c</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1496\" style=\"width: 0.576em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.471em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.47em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1497\"><span class=\"mi\" id=\"MathJax-Span-1498\" style=\"font-family: STIXGeneral-Italic;\">c</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>c</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-148\">c</script> for each claim and compute expected calibration error (ECE) between <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-149-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>c</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1499\" style=\"width: 0.576em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.471em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.617em, 1000.47em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1500\"><span class=\"mi\" id=\"MathJax-Span-1501\" style=\"font-family: STIXGeneral-Italic;\">c</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.691em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>c</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-149\">c</script> and correctness labels; use reliability diagrams to gate risky answers.</li>\n        </ul>",
    "contentMarkdown": "*   For a response with claims ϕ(y)\\=a1,…,aNϕ(y)\\=a1,…,aN\\\\phi(y)={a\\_1,\\\\dots,a\\_N}:\n    \n    *   **Faithfulness (context-bound)**:\n        \n        Ffaith(y∣D)\\=1N∑i\\=1N1\\[∃e∈D: e⊨ai\\]Ffaith(y∣D)\\=1N∑i\\=1N1\\[∃e∈D: e⊨ai\\]\n        \n        F\\_{\\\\text{faith}}(y\\\\mid D)=\\\\frac{1}{N}\\\\sum\\_{i=1}^{N}\\\\mathbf{1}\\[\\\\exists e\\\\in D:\\\\ e\\\\models a\\_i\\]\n    *   **RAG groundedness (RAGAS)**:\n        \n        *   Aggregate faithfulness, context precision, context recall, and answer relevance into a dashboard score Frag\\=14(Ffaith+Pctx+Rctx+Rans).Frag\\=14(Ffaith+Pctx+Rctx+Rans).F\\_{\\\\text{rag}}=\\\\tfrac{1}{4}\\\\big(F\\_{\\\\text{faith}}+P\\_{\\\\text{ctx}}+R\\_{\\\\text{ctx}}+R\\_{\\\\text{ans}}\\\\big).\n        *   RAGAS exposes each component so you can enforce per-metric SLOs.\n    *   **Atomic factuality (FActScore/SAFE)**:\n        \n        F\\_{\\\\text{atomic}}=\\\\frac{#\\\\text{Supported}}{#\\\\text{Total Claims}},\\\\quad \\\\text{with counts from an LLM judge or NLI+retrieval.}F\\_{\\\\text{atomic}}=\\\\frac{#\\\\text{Supported}}{#\\\\text{Total Claims}},\\\\quad \\\\text{with counts from an LLM judge or NLI+retrieval.}\n        \n        F\\_{\\\\text{atomic}}=\\\\frac{#\\\\text{Supported}}{#\\\\text{Total Claims}},\\\\quad \\\\text{with counts from an LLM judge or NLI+retrieval.}\n        *   FActScore formalizes atomic decomposition; SAFE adds search-augmented judging for long-form.\n    *   **Calibration overlay**:\n        \n        *   Log model confidence ccc for each claim and compute expected calibration error (ECE) between ccc and correctness labels; use reliability diagrams to gate risky answers.\n\nFor a response with claims ϕ(y)\\=a1,…,aNϕ(y)\\=a1,…,aN\\\\phi(y)={a\\_1,\\\\dots,a\\_N}:\n\n*   **Faithfulness (context-bound)**:\n    \n    Ffaith(y∣D)\\=1N∑i\\=1N1\\[∃e∈D: e⊨ai\\]Ffaith(y∣D)\\=1N∑i\\=1N1\\[∃e∈D: e⊨ai\\]\n    \n    F\\_{\\\\text{faith}}(y\\\\mid D)=\\\\frac{1}{N}\\\\sum\\_{i=1}^{N}\\\\mathbf{1}\\[\\\\exists e\\\\in D:\\\\ e\\\\models a\\_i\\]\n*   **RAG groundedness (RAGAS)**:\n    \n    *   Aggregate faithfulness, context precision, context recall, and answer relevance into a dashboard score Frag\\=14(Ffaith+Pctx+Rctx+Rans).Frag\\=14(Ffaith+Pctx+Rctx+Rans).F\\_{\\\\text{rag}}=\\\\tfrac{1}{4}\\\\big(F\\_{\\\\text{faith}}+P\\_{\\\\text{ctx}}+R\\_{\\\\text{ctx}}+R\\_{\\\\text{ans}}\\\\big).\n    *   RAGAS exposes each component so you can enforce per-metric SLOs.\n*   **Atomic factuality (FActScore/SAFE)**:\n    \n    F\\_{\\\\text{atomic}}=\\\\frac{#\\\\text{Supported}}{#\\\\text{Total Claims}},\\\\quad \\\\text{with counts from an LLM judge or NLI+retrieval.}F\\_{\\\\text{atomic}}=\\\\frac{#\\\\text{Supported}}{#\\\\text{Total Claims}},\\\\quad \\\\text{with counts from an LLM judge or NLI+retrieval.}\n    \n    F\\_{\\\\text{atomic}}=\\\\frac{#\\\\text{Supported}}{#\\\\text{Total Claims}},\\\\quad \\\\text{with counts from an LLM judge or NLI+retrieval.}\n    *   FActScore formalizes atomic decomposition; SAFE adds search-augmented judging for long-form.\n*   **Calibration overlay**:\n    \n    *   Log model confidence ccc for each claim and compute expected calibration error (ECE) between ccc and correctness labels; use reliability diagrams to gate risky answers.\n\n**Faithfulness (context-bound)**:\n\n**RAG groundedness (RAGAS)**:\n\n*   Aggregate faithfulness, context precision, context recall, and answer relevance into a dashboard score Frag\\=14(Ffaith+Pctx+Rctx+Rans).Frag\\=14(Ffaith+Pctx+Rctx+Rans).F\\_{\\\\text{rag}}=\\\\tfrac{1}{4}\\\\big(F\\_{\\\\text{faith}}+P\\_{\\\\text{ctx}}+R\\_{\\\\text{ctx}}+R\\_{\\\\text{ans}}\\\\big).\n*   RAGAS exposes each component so you can enforce per-metric SLOs.\n\n**Atomic factuality (FActScore/SAFE)**:\n\n*   FActScore formalizes atomic decomposition; SAFE adds search-augmented judging for long-form.\n\n**Calibration overlay**:\n\n*   Log model confidence ccc for each claim and compute expected calibration error (ECE) between ccc and correctness labels; use reliability diagrams to gate risky answers.",
    "contentLength": 66536,
    "wordCount": 316,
    "hasCode": false,
    "hasMath": true,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#score-aggregation"
  },
  {
    "id": "ai-factuality-in-LLMs-orchestration-and-performance-42",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "End-to-End Factuality Evaluation Pipeline (Implementation Blueprint)",
    "title": "Orchestration and Performance",
    "order": 42,
    "orderInChapter": 7,
    "contentHtml": "<ul>\n  <li>\n    <p><strong>Job graph</strong>: Ingress <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-150-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1502\" style=\"width: 1.201em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.94em, 2.294em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1503\"><span class=\"mo\" id=\"MathJax-Span-1504\" style=\"font-family: STIXGeneral-Regular;\">→</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: 0.003em; border-left: 0px solid; width: 0px; height: 0.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo stretchy=\"false\">→</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-150\">\\rightarrow</script> extraction <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-151-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1505\" style=\"width: 1.201em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.94em, 2.294em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1506\"><span class=\"mo\" id=\"MathJax-Span-1507\" style=\"font-family: STIXGeneral-Regular;\">→</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: 0.003em; border-left: 0px solid; width: 0px; height: 0.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo stretchy=\"false\">→</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-151\">\\rightarrow</script> retrieval <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-152-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1508\" style=\"width: 1.201em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.94em, 2.294em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1509\"><span class=\"mo\" id=\"MathJax-Span-1510\" style=\"font-family: STIXGeneral-Regular;\">→</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: 0.003em; border-left: 0px solid; width: 0px; height: 0.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo stretchy=\"false\">→</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-152\">\\rightarrow</script> verification <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-153-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1511\" style=\"width: 1.201em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.94em, 2.294em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1512\"><span class=\"mo\" id=\"MathJax-Span-1513\" style=\"font-family: STIXGeneral-Regular;\">→</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: 0.003em; border-left: 0px solid; width: 0px; height: 0.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo stretchy=\"false\">→</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-153\">\\rightarrow</script> aggregation. Run each stage as an idempotent worker; cache retrieval and NLI outputs by hash of claim text.</p>\n  </li>\n  <li>\n    <p><strong>Batching and vectorization</strong>: Batch NLI and QA calls; vectorize FAISS queries; pre-compute dense embeddings for your corpus for low latency. FAISS supports GPU k-selection for fast nearest-neighbor.</p>\n  </li>\n  <li>\n    <p><strong>Back-pressure control</strong>: If web search (SAFE) saturates, downsample to suspicious claims (e.g., high perplexity, low entailment margin) and fall back to in-corpus verification.</p>\n  </li>\n  <li>\n    <p><strong>Observability</strong>: Emit per-stage timing, cache hit rates, retrieval recall@k, and verifier confidence histograms. Alert when groundedness or faithfulness SLOs slip.</p>\n  </li>\n</ul>\n<p><strong>Job graph</strong>: Ingress <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-150-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1502\" style=\"width: 1.201em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.94em, 2.294em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1503\"><span class=\"mo\" id=\"MathJax-Span-1504\" style=\"font-family: STIXGeneral-Regular;\">→</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: 0.003em; border-left: 0px solid; width: 0px; height: 0.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo stretchy=\"false\">→</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-150\">\\rightarrow</script> extraction <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-151-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1505\" style=\"width: 1.201em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.94em, 2.294em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1506\"><span class=\"mo\" id=\"MathJax-Span-1507\" style=\"font-family: STIXGeneral-Regular;\">→</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: 0.003em; border-left: 0px solid; width: 0px; height: 0.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo stretchy=\"false\">→</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-151\">\\rightarrow</script> retrieval <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-152-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1508\" style=\"width: 1.201em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.94em, 2.294em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1509\"><span class=\"mo\" id=\"MathJax-Span-1510\" style=\"font-family: STIXGeneral-Regular;\">→</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: 0.003em; border-left: 0px solid; width: 0px; height: 0.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo stretchy=\"false\">→</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-152\">\\rightarrow</script> verification <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-153-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo stretchy=&quot;false&quot;>&amp;#x2192;</mo></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1511\" style=\"width: 1.201em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.992em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.565em, 1000.94em, 2.294em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1512\"><span class=\"mo\" id=\"MathJax-Span-1513\" style=\"font-family: STIXGeneral-Regular;\">→</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: 0.003em; border-left: 0px solid; width: 0px; height: 0.628em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo stretchy=\"false\">→</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-153\">\\rightarrow</script> aggregation. Run each stage as an idempotent worker; cache retrieval and NLI outputs by hash of claim text.</p>\n<p><strong>Batching and vectorization</strong>: Batch NLI and QA calls; vectorize FAISS queries; pre-compute dense embeddings for your corpus for low latency. FAISS supports GPU k-selection for fast nearest-neighbor.</p>\n<p><strong>Back-pressure control</strong>: If web search (SAFE) saturates, downsample to suspicious claims (e.g., high perplexity, low entailment margin) and fall back to in-corpus verification.</p>\n<p><strong>Observability</strong>: Emit per-stage timing, cache hit rates, retrieval recall@k, and verifier confidence histograms. Alert when groundedness or faithfulness SLOs slip.</p>",
    "contentMarkdown": "*   **Job graph**: Ingress →→\\\\rightarrow extraction →→\\\\rightarrow retrieval →→\\\\rightarrow verification →→\\\\rightarrow aggregation. Run each stage as an idempotent worker; cache retrieval and NLI outputs by hash of claim text.\n    \n*   **Batching and vectorization**: Batch NLI and QA calls; vectorize FAISS queries; pre-compute dense embeddings for your corpus for low latency. FAISS supports GPU k-selection for fast nearest-neighbor.\n    \n*   **Back-pressure control**: If web search (SAFE) saturates, downsample to suspicious claims (e.g., high perplexity, low entailment margin) and fall back to in-corpus verification.\n    \n*   **Observability**: Emit per-stage timing, cache hit rates, retrieval recall@k, and verifier confidence histograms. Alert when groundedness or faithfulness SLOs slip.\n    \n\n**Job graph**: Ingress →→\\\\rightarrow extraction →→\\\\rightarrow retrieval →→\\\\rightarrow verification →→\\\\rightarrow aggregation. Run each stage as an idempotent worker; cache retrieval and NLI outputs by hash of claim text.\n\n**Batching and vectorization**: Batch NLI and QA calls; vectorize FAISS queries; pre-compute dense embeddings for your corpus for low latency. FAISS supports GPU k-selection for fast nearest-neighbor.\n\n**Back-pressure control**: If web search (SAFE) saturates, downsample to suspicious claims (e.g., high perplexity, low entailment margin) and fall back to in-corpus verification.\n\n**Observability**: Emit per-stage timing, cache hit rates, retrieval recall@k, and verifier confidence histograms. Alert when groundedness or faithfulness SLOs slip.",
    "contentLength": 11668,
    "wordCount": 200,
    "hasCode": false,
    "hasMath": true,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#orchestration-and-performance"
  },
  {
    "id": "ai-factuality-in-LLMs-cicd-and-regression-testing-43",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "End-to-End Factuality Evaluation Pipeline (Implementation Blueprint)",
    "title": "CI/CD and Regression Testing",
    "order": 43,
    "orderInChapter": 8,
    "contentHtml": "<ul>\n  <li>\n    <p><strong>Golden sets</strong>: Curate a small, mixed suite: short-form factoids, summarization faithfulness, RAG QA, and long-form essays. Include known tricky paraphrases and entity/date swaps.</p>\n  </li>\n  <li>\n    <p><strong>Automated gates</strong>: Block deploys if any of: <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-154-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>faith</mtext></mrow></msub><mo>&amp;lt;</mo><msub><mi>&amp;#x03C4;</mi><mn>1</mn></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1514\" style=\"width: 4.846em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 4.013em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1004.01em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1515\"><span class=\"msubsup\" id=\"MathJax-Span-1516\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1517\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1518\"><span class=\"mrow\" id=\"MathJax-Span-1519\"><span class=\"mtext\" id=\"MathJax-Span-1520\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">faith</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1521\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">&lt;</span><span class=\"msubsup\" id=\"MathJax-Span-1522\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.42em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1523\" style=\"font-family: STIXGeneral-Italic;\">τ<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.419em;\"><span class=\"mn\" id=\"MathJax-Span-1524\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>faith</mtext></mrow></msub><mo>&lt;</mo><msub><mi>τ</mi><mn>1</mn></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-154\">F_{\\text{faith}}<\\tau_1</script>, <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-155-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ctx</mtext></mrow></msub><mo>&amp;lt;</mo><msub><mi>&amp;#x03C4;</mi><mn>2</mn></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1525\" style=\"width: 4.326em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 3.596em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1003.6em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1526\"><span class=\"msubsup\" id=\"MathJax-Span-1527\"><span style=\"display: inline-block; position: relative; width: 1.565em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1528\" style=\"font-family: STIXGeneral-Italic;\">P</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1529\"><span class=\"mrow\" id=\"MathJax-Span-1530\"><span class=\"mtext\" id=\"MathJax-Span-1531\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ctx</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1532\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">&lt;</span><span class=\"msubsup\" id=\"MathJax-Span-1533\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.42em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1534\" style=\"font-family: STIXGeneral-Italic;\">τ<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.419em;\"><span class=\"mn\" id=\"MathJax-Span-1535\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">2</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>P</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ctx</mtext></mrow></msub><mo>&lt;</mo><msub><mi>τ</mi><mn>2</mn></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-155\">P_{\\text{ctx}}<\\tau_2</script>, <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-156-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ctx</mtext></mrow></msub><mo>&amp;lt;</mo><msub><mi>&amp;#x03C4;</mi><mn>3</mn></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1536\" style=\"width: 4.326em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 3.596em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1003.6em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1537\"><span class=\"msubsup\" id=\"MathJax-Span-1538\"><span style=\"display: inline-block; position: relative; width: 1.565em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.58em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1539\" style=\"font-family: STIXGeneral-Italic;\">R</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1540\"><span class=\"mrow\" id=\"MathJax-Span-1541\"><span class=\"mtext\" id=\"MathJax-Span-1542\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ctx</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1543\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">&lt;</span><span class=\"msubsup\" id=\"MathJax-Span-1544\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.42em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1545\" style=\"font-family: STIXGeneral-Italic;\">τ<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.419em;\"><span class=\"mn\" id=\"MathJax-Span-1546\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">3</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>R</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ctx</mtext></mrow></msub><mo>&lt;</mo><msub><mi>τ</mi><mn>3</mn></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-156\">R_{\\text{ctx}}<\\tau_3</script>, <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-157-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>atomic</mtext></mrow></msub><mo>&amp;lt;</mo><msub><mi>&amp;#x03C4;</mi><mn>4</mn></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1547\" style=\"width: 5.576em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 4.638em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1004.64em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1548\"><span class=\"msubsup\" id=\"MathJax-Span-1549\"><span style=\"display: inline-block; position: relative; width: 2.607em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1550\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1551\"><span class=\"mrow\" id=\"MathJax-Span-1552\"><span class=\"mtext\" id=\"MathJax-Span-1553\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">atomic</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1554\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">&lt;</span><span class=\"msubsup\" id=\"MathJax-Span-1555\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.42em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1556\" style=\"font-family: STIXGeneral-Italic;\">τ<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.419em;\"><span class=\"mn\" id=\"MathJax-Span-1557\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">4</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>atomic</mtext></mrow></msub><mo>&lt;</mo><msub><mi>τ</mi><mn>4</mn></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-157\">F_{\\text{atomic}}<\\tau_4</script>, or ECE worsens by <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-158-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>&amp;#x2265;</mo><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1558\" style=\"width: 1.878em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 1.565em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1001.51em, 2.451em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1559\"><span class=\"mo\" id=\"MathJax-Span-1560\" style=\"font-family: STIXGeneral-Regular;\">≥</span><span class=\"mi\" id=\"MathJax-Span-1561\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">Δ</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.184em; border-left: 0px solid; width: 0px; height: 1.066em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo>≥</mo><mi mathvariant=\"normal\">Δ</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-158\">\\ge\\Delta</script>.</p>\n  </li>\n  <li>\n    <p><strong>RAGAS integration</strong>: Use the maintained LangChain integration to evaluate QA chains as part of CI (smoke tests per PR).</p>\n  </li>\n</ul>\n<p><strong>Golden sets</strong>: Curate a small, mixed suite: short-form factoids, summarization faithfulness, RAG QA, and long-form essays. Include known tricky paraphrases and entity/date swaps.</p>\n<p><strong>Automated gates</strong>: Block deploys if any of: <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-154-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>faith</mtext></mrow></msub><mo>&amp;lt;</mo><msub><mi>&amp;#x03C4;</mi><mn>1</mn></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1514\" style=\"width: 4.846em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 4.013em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1004.01em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1515\"><span class=\"msubsup\" id=\"MathJax-Span-1516\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1517\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1518\"><span class=\"mrow\" id=\"MathJax-Span-1519\"><span class=\"mtext\" id=\"MathJax-Span-1520\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">faith</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1521\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">&lt;</span><span class=\"msubsup\" id=\"MathJax-Span-1522\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.42em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1523\" style=\"font-family: STIXGeneral-Italic;\">τ<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.419em;\"><span class=\"mn\" id=\"MathJax-Span-1524\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>faith</mtext></mrow></msub><mo>&lt;</mo><msub><mi>τ</mi><mn>1</mn></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-154\">F_{\\text{faith}}<\\tau_1</script>, <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-155-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ctx</mtext></mrow></msub><mo>&amp;lt;</mo><msub><mi>&amp;#x03C4;</mi><mn>2</mn></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1525\" style=\"width: 4.326em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 3.596em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1003.6em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1526\"><span class=\"msubsup\" id=\"MathJax-Span-1527\"><span style=\"display: inline-block; position: relative; width: 1.565em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1528\" style=\"font-family: STIXGeneral-Italic;\">P</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1529\"><span class=\"mrow\" id=\"MathJax-Span-1530\"><span class=\"mtext\" id=\"MathJax-Span-1531\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ctx</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1532\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">&lt;</span><span class=\"msubsup\" id=\"MathJax-Span-1533\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.42em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1534\" style=\"font-family: STIXGeneral-Italic;\">τ<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.419em;\"><span class=\"mn\" id=\"MathJax-Span-1535\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">2</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>P</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ctx</mtext></mrow></msub><mo>&lt;</mo><msub><mi>τ</mi><mn>2</mn></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-155\">P_{\\text{ctx}}<\\tau_2</script>, <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-156-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ctx</mtext></mrow></msub><mo>&amp;lt;</mo><msub><mi>&amp;#x03C4;</mi><mn>3</mn></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1536\" style=\"width: 4.326em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 3.596em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1003.6em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1537\"><span class=\"msubsup\" id=\"MathJax-Span-1538\"><span style=\"display: inline-block; position: relative; width: 1.565em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.58em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1539\" style=\"font-family: STIXGeneral-Italic;\">R</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1540\"><span class=\"mrow\" id=\"MathJax-Span-1541\"><span class=\"mtext\" id=\"MathJax-Span-1542\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ctx</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1543\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">&lt;</span><span class=\"msubsup\" id=\"MathJax-Span-1544\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.42em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1545\" style=\"font-family: STIXGeneral-Italic;\">τ<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.419em;\"><span class=\"mn\" id=\"MathJax-Span-1546\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">3</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>R</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ctx</mtext></mrow></msub><mo>&lt;</mo><msub><mi>τ</mi><mn>3</mn></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-156\">R_{\\text{ctx}}<\\tau_3</script>, <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-157-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>atomic</mtext></mrow></msub><mo>&amp;lt;</mo><msub><mi>&amp;#x03C4;</mi><mn>4</mn></msub></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1547\" style=\"width: 5.576em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 4.638em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1004.64em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1548\"><span class=\"msubsup\" id=\"MathJax-Span-1549\"><span style=\"display: inline-block; position: relative; width: 2.607em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1550\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1551\"><span class=\"mrow\" id=\"MathJax-Span-1552\"><span class=\"mtext\" id=\"MathJax-Span-1553\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">atomic</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1554\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">&lt;</span><span class=\"msubsup\" id=\"MathJax-Span-1555\" style=\"padding-left: 0.315em;\"><span style=\"display: inline-block; position: relative; width: 0.836em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.44em, 1000.42em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1556\" style=\"font-family: STIXGeneral-Italic;\">τ<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.003em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.419em;\"><span class=\"mn\" id=\"MathJax-Span-1557\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">4</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>atomic</mtext></mrow></msub><mo>&lt;</mo><msub><mi>τ</mi><mn>4</mn></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-157\">F_{\\text{atomic}}<\\tau_4</script>, or ECE worsens by <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-158-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>&amp;#x2265;</mo><mi mathvariant=&quot;normal&quot;>&amp;#x0394;</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1558\" style=\"width: 1.878em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 1.565em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1001.51em, 2.451em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1559\"><span class=\"mo\" id=\"MathJax-Span-1560\" style=\"font-family: STIXGeneral-Regular;\">≥</span><span class=\"mi\" id=\"MathJax-Span-1561\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">Δ</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.184em; border-left: 0px solid; width: 0px; height: 1.066em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mo>≥</mo><mi mathvariant=\"normal\">Δ</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-158\">\\ge\\Delta</script>.</p>\n<p><strong>RAGAS integration</strong>: Use the maintained LangChain integration to evaluate QA chains as part of CI (smoke tests per PR).</p>",
    "contentMarkdown": "*   **Golden sets**: Curate a small, mixed suite: short-form factoids, summarization faithfulness, RAG QA, and long-form essays. Include known tricky paraphrases and entity/date swaps.\n    \n*   **Automated gates**: Block deploys if any of: Ffaith<τ1Ffaith<τ1F\\_{\\\\text{faith}}<\\\\tau\\_1, Pctx<τ2Pctx<τ2P\\_{\\\\text{ctx}}<\\\\tau\\_2, Rctx<τ3Rctx<τ3R\\_{\\\\text{ctx}}<\\\\tau\\_3, Fatomic<τ4Fatomic<τ4F\\_{\\\\text{atomic}}<\\\\tau\\_4, or ECE worsens by ≥Δ≥Δ\\\\ge\\\\Delta.\n    \n*   **RAGAS integration**: Use the maintained LangChain integration to evaluate QA chains as part of CI (smoke tests per PR).\n    \n\n**Golden sets**: Curate a small, mixed suite: short-form factoids, summarization faithfulness, RAG QA, and long-form essays. Include known tricky paraphrases and entity/date swaps.\n\n**Automated gates**: Block deploys if any of: Ffaith<τ1Ffaith<τ1F\\_{\\\\text{faith}}<\\\\tau\\_1, Pctx<τ2Pctx<τ2P\\_{\\\\text{ctx}}<\\\\tau\\_2, Rctx<τ3Rctx<τ3R\\_{\\\\text{ctx}}<\\\\tau\\_3, Fatomic<τ4Fatomic<τ4F\\_{\\\\text{atomic}}<\\\\tau\\_4, or ECE worsens by ≥Δ≥Δ\\\\ge\\\\Delta.\n\n**RAGAS integration**: Use the maintained LangChain integration to evaluate QA chains as part of CI (smoke tests per PR).",
    "contentLength": 28685,
    "wordCount": 119,
    "hasCode": false,
    "hasMath": true,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#ci/cd-and-regression-testing"
  },
  {
    "id": "ai-factuality-in-LLMs-storage-and-audit-trails-44",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "End-to-End Factuality Evaluation Pipeline (Implementation Blueprint)",
    "title": "Storage and Audit Trails",
    "order": 44,
    "orderInChapter": 9,
    "contentHtml": "<ul>\n  <li>\n    <p><strong>Immutable audit log</strong>: Persist original text, claims, evidence snippets, URLs, and labels. Expose a read-only dashboard for auditors.</p>\n  </li>\n  <li>\n    <p><strong>Provenance linking</strong>: Each user-visible sentence shows expandable citations to its supporting evidence (doc id, URL, line spans). Attribution-style evaluation can be layered here.</p>\n  </li>\n  <li>\n    <p><strong>Drift monitoring</strong>: Re-run verification on a rolling window of past responses as corpora update; alert when the fraction of claims switching label exceeds a threshold.</p>\n  </li>\n</ul>\n<p><strong>Immutable audit log</strong>: Persist original text, claims, evidence snippets, URLs, and labels. Expose a read-only dashboard for auditors.</p>\n<p><strong>Provenance linking</strong>: Each user-visible sentence shows expandable citations to its supporting evidence (doc id, URL, line spans). Attribution-style evaluation can be layered here.</p>\n<p><strong>Drift monitoring</strong>: Re-run verification on a rolling window of past responses as corpora update; alert when the fraction of claims switching label exceeds a threshold.</p>",
    "contentMarkdown": "*   **Immutable audit log**: Persist original text, claims, evidence snippets, URLs, and labels. Expose a read-only dashboard for auditors.\n    \n*   **Provenance linking**: Each user-visible sentence shows expandable citations to its supporting evidence (doc id, URL, line spans). Attribution-style evaluation can be layered here.\n    \n*   **Drift monitoring**: Re-run verification on a rolling window of past responses as corpora update; alert when the fraction of claims switching label exceeds a threshold.\n    \n\n**Immutable audit log**: Persist original text, claims, evidence snippets, URLs, and labels. Expose a read-only dashboard for auditors.\n\n**Provenance linking**: Each user-visible sentence shows expandable citations to its supporting evidence (doc id, URL, line spans). Attribution-style evaluation can be layered here.\n\n**Drift monitoring**: Re-run verification on a rolling window of past responses as corpora update; alert when the fraction of claims switching label exceeds a threshold.",
    "contentLength": 1163,
    "wordCount": 135,
    "hasCode": false,
    "hasMath": false,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#storage-and-audit-trails"
  },
  {
    "id": "ai-factuality-in-LLMs-example-minimal-deployment-pseudo-code-45",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "End-to-End Factuality Evaluation Pipeline (Implementation Blueprint)",
    "title": "Example Minimal Deployment (pseudo-code)",
    "order": 45,
    "orderInChapter": 10,
    "contentHtml": "<ul>\n  <li>Below is a compact blueprint you can adapt with your stack.</li>\n</ul>\n<div class=\"language-python highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code26\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code26\"><span class=\"k\">def</span> <span class=\"nf\">evaluate_response</span><span class=\"p\">(</span><span class=\"n\">prompt</span><span class=\"p\">,</span> <span class=\"n\">response</span><span class=\"p\">,</span> <span class=\"n\">context_docs</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">):</span>\n    <span class=\"n\">claims</span> <span class=\"o\">=</span> <span class=\"n\">extract_atomic_claims</span><span class=\"p\">(</span><span class=\"n\">response</span><span class=\"p\">)</span>              <span class=\"c1\"># LLM or rules\n</span>    <span class=\"k\">if</span> <span class=\"n\">context_docs</span><span class=\"p\">:</span>\n        <span class=\"n\">evidence_map</span> <span class=\"o\">=</span> <span class=\"n\">build_bm25</span><span class=\"p\">(</span><span class=\"n\">context_docs</span><span class=\"p\">).</span><span class=\"n\">retrieve</span><span class=\"p\">(</span><span class=\"n\">claims</span><span class=\"p\">)</span>   <span class=\"c1\"># faithfulness\n</span>    <span class=\"k\">else</span><span class=\"p\">:</span>\n        <span class=\"n\">evidence_map</span> <span class=\"o\">=</span> <span class=\"n\">hybrid_retrieve</span><span class=\"p\">(</span><span class=\"n\">claims</span><span class=\"p\">)</span>            <span class=\"c1\"># BM25 + FAISS over corpus\n</span>    <span class=\"n\">nli_labels</span> <span class=\"o\">=</span> <span class=\"n\">nli_verify</span><span class=\"p\">(</span><span class=\"n\">claims</span><span class=\"p\">,</span> <span class=\"n\">evidence_map</span><span class=\"p\">)</span>         <span class=\"c1\"># DeBERTa-MNLI\n</span>    <span class=\"n\">qa_agree</span> <span class=\"o\">=</span> <span class=\"n\">qafacteval</span><span class=\"p\">(</span><span class=\"n\">claims</span><span class=\"p\">,</span> <span class=\"n\">context_docs</span> <span class=\"ow\">or</span> <span class=\"n\">top_docs</span><span class=\"p\">(</span><span class=\"n\">claims</span><span class=\"p\">))</span>\n    <span class=\"n\">ragas_scores</span> <span class=\"o\">=</span> <span class=\"n\">ragas_eval</span><span class=\"p\">(</span><span class=\"n\">response</span><span class=\"p\">,</span> <span class=\"n\">context_docs</span> <span class=\"ow\">or</span> <span class=\"n\">top_docs</span><span class=\"p\">(</span><span class=\"n\">claims</span><span class=\"p\">))</span>\n    <span class=\"n\">lfj</span> <span class=\"o\">=</span> <span class=\"n\">llm_as_judge_safe</span><span class=\"p\">(</span><span class=\"n\">claims</span><span class=\"p\">)</span>                       <span class=\"c1\"># optional: SAFE for long-form\n</span>\n    <span class=\"n\">report</span> <span class=\"o\">=</span> <span class=\"n\">aggregate_scores</span><span class=\"p\">(</span><span class=\"n\">nli_labels</span><span class=\"p\">,</span> <span class=\"n\">qa_agree</span><span class=\"p\">,</span> <span class=\"n\">ragas_scores</span><span class=\"p\">,</span> <span class=\"n\">lfj</span><span class=\"p\">)</span>\n    <span class=\"n\">log_report</span><span class=\"p\">(</span><span class=\"n\">prompt</span><span class=\"p\">,</span> <span class=\"n\">response</span><span class=\"p\">,</span> <span class=\"n\">claims</span><span class=\"p\">,</span> <span class=\"n\">evidence_map</span><span class=\"p\">,</span> <span class=\"n\">report</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">report</span>\n</code></pre></div></div>\n<pre class=\"highlight\"><div><button class=\"btn-copy\" data-clipboard-action=\"copy\" data-clipboard-target=\"#code26\"><img src=\"https://aman.ai/images/copy.png\" style=\"margin:0; border:none; padding:2px 0px; width:100%; height:18px; width:18px;\"></button></div><code id=\"code26\"><span class=\"k\">def</span> <span class=\"nf\">evaluate_response</span><span class=\"p\">(</span><span class=\"n\">prompt</span><span class=\"p\">,</span> <span class=\"n\">response</span><span class=\"p\">,</span> <span class=\"n\">context_docs</span><span class=\"o\">=</span><span class=\"bp\">None</span><span class=\"p\">):</span>\n    <span class=\"n\">claims</span> <span class=\"o\">=</span> <span class=\"n\">extract_atomic_claims</span><span class=\"p\">(</span><span class=\"n\">response</span><span class=\"p\">)</span>              <span class=\"c1\"># LLM or rules\n</span>    <span class=\"k\">if</span> <span class=\"n\">context_docs</span><span class=\"p\">:</span>\n        <span class=\"n\">evidence_map</span> <span class=\"o\">=</span> <span class=\"n\">build_bm25</span><span class=\"p\">(</span><span class=\"n\">context_docs</span><span class=\"p\">).</span><span class=\"n\">retrieve</span><span class=\"p\">(</span><span class=\"n\">claims</span><span class=\"p\">)</span>   <span class=\"c1\"># faithfulness\n</span>    <span class=\"k\">else</span><span class=\"p\">:</span>\n        <span class=\"n\">evidence_map</span> <span class=\"o\">=</span> <span class=\"n\">hybrid_retrieve</span><span class=\"p\">(</span><span class=\"n\">claims</span><span class=\"p\">)</span>            <span class=\"c1\"># BM25 + FAISS over corpus\n</span>    <span class=\"n\">nli_labels</span> <span class=\"o\">=</span> <span class=\"n\">nli_verify</span><span class=\"p\">(</span><span class=\"n\">claims</span><span class=\"p\">,</span> <span class=\"n\">evidence_map</span><span class=\"p\">)</span>         <span class=\"c1\"># DeBERTa-MNLI\n</span>    <span class=\"n\">qa_agree</span> <span class=\"o\">=</span> <span class=\"n\">qafacteval</span><span class=\"p\">(</span><span class=\"n\">claims</span><span class=\"p\">,</span> <span class=\"n\">context_docs</span> <span class=\"ow\">or</span> <span class=\"n\">top_docs</span><span class=\"p\">(</span><span class=\"n\">claims</span><span class=\"p\">))</span>\n    <span class=\"n\">ragas_scores</span> <span class=\"o\">=</span> <span class=\"n\">ragas_eval</span><span class=\"p\">(</span><span class=\"n\">response</span><span class=\"p\">,</span> <span class=\"n\">context_docs</span> <span class=\"ow\">or</span> <span class=\"n\">top_docs</span><span class=\"p\">(</span><span class=\"n\">claims</span><span class=\"p\">))</span>\n    <span class=\"n\">lfj</span> <span class=\"o\">=</span> <span class=\"n\">llm_as_judge_safe</span><span class=\"p\">(</span><span class=\"n\">claims</span><span class=\"p\">)</span>                       <span class=\"c1\"># optional: SAFE for long-form\n</span>\n    <span class=\"n\">report</span> <span class=\"o\">=</span> <span class=\"n\">aggregate_scores</span><span class=\"p\">(</span><span class=\"n\">nli_labels</span><span class=\"p\">,</span> <span class=\"n\">qa_agree</span><span class=\"p\">,</span> <span class=\"n\">ragas_scores</span><span class=\"p\">,</span> <span class=\"n\">lfj</span><span class=\"p\">)</span>\n    <span class=\"n\">log_report</span><span class=\"p\">(</span><span class=\"n\">prompt</span><span class=\"p\">,</span> <span class=\"n\">response</span><span class=\"p\">,</span> <span class=\"n\">claims</span><span class=\"p\">,</span> <span class=\"n\">evidence_map</span><span class=\"p\">,</span> <span class=\"n\">report</span><span class=\"p\">)</span>\n    <span class=\"k\">return</span> <span class=\"n\">report</span>\n</code></pre>\n<ul>\n  <li>where:\n    <ul>\n      <li><code class=\"language-plaintext highlighter-rouge\">nli_verify</code> uses DeBERTa-MNLI.</li>\n      <li><code class=\"language-plaintext highlighter-rouge\">qafacteval</code> follows QAFactEval.</li>\n      <li><code class=\"language-plaintext highlighter-rouge\">ragas_eval</code> follows RAGAS.</li>\n      <li><code class=\"language-plaintext highlighter-rouge\">llm_as_judge_safe</code> implements SAFE.</li>\n    </ul>\n  </li>\n</ul>\n<ul>\n      <li><code class=\"language-plaintext highlighter-rouge\">nli_verify</code> uses DeBERTa-MNLI.</li>\n      <li><code class=\"language-plaintext highlighter-rouge\">qafacteval</code> follows QAFactEval.</li>\n      <li><code class=\"language-plaintext highlighter-rouge\">ragas_eval</code> follows RAGAS.</li>\n      <li><code class=\"language-plaintext highlighter-rouge\">llm_as_judge_safe</code> implements SAFE.</li>\n    </ul>",
    "contentMarkdown": "*   Below is a compact blueprint you can adapt with your stack.\n\n![](https://aman.ai/images/copy.png)\n\n`def evaluate_response(prompt, response, context_docs=None):     claims = extract_atomic_claims(response)              # LLM or rules     if context_docs:         evidence_map = build_bm25(context_docs).retrieve(claims)   # faithfulness     else:         evidence_map = hybrid_retrieve(claims)            # BM25 + FAISS over corpus     nli_labels = nli_verify(claims, evidence_map)         # DeBERTa-MNLI     qa_agree = qafacteval(claims, context_docs or top_docs(claims))     ragas_scores = ragas_eval(response, context_docs or top_docs(claims))     lfj = llm_as_judge_safe(claims)                       # optional: SAFE for long-form     report = aggregate_scores(nli_labels, qa_agree, ragas_scores, lfj)     log_report(prompt, response, claims, evidence_map, report)     return report`\n\n![](https://aman.ai/images/copy.png)\n\n`def evaluate_response(prompt, response, context_docs=None):     claims = extract_atomic_claims(response)              # LLM or rules     if context_docs:         evidence_map = build_bm25(context_docs).retrieve(claims)   # faithfulness     else:         evidence_map = hybrid_retrieve(claims)            # BM25 + FAISS over corpus     nli_labels = nli_verify(claims, evidence_map)         # DeBERTa-MNLI     qa_agree = qafacteval(claims, context_docs or top_docs(claims))     ragas_scores = ragas_eval(response, context_docs or top_docs(claims))     lfj = llm_as_judge_safe(claims)                       # optional: SAFE for long-form     report = aggregate_scores(nli_labels, qa_agree, ragas_scores, lfj)     log_report(prompt, response, claims, evidence_map, report)     return report`\n\n*   where:\n    *   `nli_verify` uses DeBERTa-MNLI.\n    *   `qafacteval` follows QAFactEval.\n    *   `ragas_eval` follows RAGAS.\n    *   `llm_as_judge_safe` implements SAFE.\n\n*   `nli_verify` uses DeBERTa-MNLI.\n*   `qafacteval` follows QAFactEval.\n*   `ragas_eval` follows RAGAS.\n*   `llm_as_judge_safe` implements SAFE.",
    "contentLength": 8151,
    "wordCount": 182,
    "hasCode": true,
    "hasMath": false,
    "hasImages": true,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#example-minimal-deployment-(pseudo-code)"
  },
  {
    "id": "ai-factuality-in-LLMs-operational-slos-and-policies-46",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "End-to-End Factuality Evaluation Pipeline (Implementation Blueprint)",
    "title": "Operational SLOs and Policies",
    "order": 46,
    "orderInChapter": 11,
    "contentHtml": "<ul>\n  <li><strong>Per-task thresholds</strong>:\n    <ul>\n      <li><strong>Summarization:</strong> <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-159-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>faith</mtext></mrow></msub><mo>&amp;gt;</mo><mn>0.9</mn></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1562\" style=\"width: 5.315em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 4.43em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1004.38em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1563\"><span class=\"msubsup\" id=\"MathJax-Span-1564\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1565\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1566\"><span class=\"mrow\" id=\"MathJax-Span-1567\"><span class=\"mtext\" id=\"MathJax-Span-1568\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">faith</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1569\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">&gt;</span><span class=\"mn\" id=\"MathJax-Span-1570\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">0.9</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>faith</mtext></mrow></msub><mo>&gt;</mo><mn>0.9</mn></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-159\">F_{\\text{faith}}>0.9</script> and contradiction rate &lt; 1 %.</li>\n      <li><strong>RAG QA:</strong> <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-160-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>rag</mtext></mrow></msub><mo>&amp;gt;</mo><mn>0.85</mn></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1571\" style=\"width: 5.523em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 4.586em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1004.53em, 2.659em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1572\"><span class=\"msubsup\" id=\"MathJax-Span-1573\"><span style=\"display: inline-block; position: relative; width: 1.617em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1574\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1575\"><span class=\"mrow\" id=\"MathJax-Span-1576\"><span class=\"mtext\" id=\"MathJax-Span-1577\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">rag</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1578\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">&gt;</span><span class=\"mn\" id=\"MathJax-Span-1579\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">0.85</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>rag</mtext></mrow></msub><mo>&gt;</mo><mn>0.85</mn></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-160\">F_{\\text{rag}}>0.85</script> with <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-161-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ctx</mtext></mrow></msub><mo>,</mo><msub><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ctx</mtext></mrow></msub><mo>&amp;gt;</mo><mn>0.8</mn></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1580\" style=\"width: 7.294em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 6.044em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1005.99em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1581\"><span class=\"msubsup\" id=\"MathJax-Span-1582\"><span style=\"display: inline-block; position: relative; width: 1.565em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1583\" style=\"font-family: STIXGeneral-Italic;\">P</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1584\"><span class=\"mrow\" id=\"MathJax-Span-1585\"><span class=\"mtext\" id=\"MathJax-Span-1586\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ctx</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1587\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-1588\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.565em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.58em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1589\" style=\"font-family: STIXGeneral-Italic;\">R</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1590\"><span class=\"mrow\" id=\"MathJax-Span-1591\"><span class=\"mtext\" id=\"MathJax-Span-1592\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ctx</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1593\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">&gt;</span><span class=\"mn\" id=\"MathJax-Span-1594\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">0.8</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>P</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ctx</mtext></mrow></msub><mo>,</mo><msub><mi>R</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ctx</mtext></mrow></msub><mo>&gt;</mo><mn>0.8</mn></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-161\">P_{\\text{ctx}},R_{\\text{ctx}}>0.8</script>.</li>\n      <li><strong>Long-form:</strong> <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-162-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>atomic</mtext></mrow></msub><mo>&amp;gt;</mo><mn>0.75</mn></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1595\" style=\"width: 6.721em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 5.576em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1005.52em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1596\"><span class=\"msubsup\" id=\"MathJax-Span-1597\"><span style=\"display: inline-block; position: relative; width: 2.607em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1598\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1599\"><span class=\"mrow\" id=\"MathJax-Span-1600\"><span class=\"mtext\" id=\"MathJax-Span-1601\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">atomic</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1602\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">&gt;</span><span class=\"mn\" id=\"MathJax-Span-1603\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">0.75</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>atomic</mtext></mrow></msub><mo>&gt;</mo><mn>0.75</mn></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-162\">F_{\\text{atomic}}>0.75</script> or F1@<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-163-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>K</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1604\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.78em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1605\"><span class=\"mi\" id=\"MathJax-Span-1606\" style=\"font-family: STIXGeneral-Italic;\">K<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>K</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-163\">K</script> above team target (SAFE).</li>\n    </ul>\n  </li>\n  <li>\n    <p><strong>Confidence-aware routing</strong>: If ECE indicates overconfidence, force abstention or human review for claims with low entailment margins or low RAGAS faithfulness.</p>\n  </li>\n  <li><strong>Change management</strong>: Every retriever or model update must pass the golden CI gates and a shadow run on a recent production slice.</li>\n</ul>\n<ul>\n      <li><strong>Summarization:</strong> <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-159-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>faith</mtext></mrow></msub><mo>&amp;gt;</mo><mn>0.9</mn></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1562\" style=\"width: 5.315em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 4.43em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1004.38em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1563\"><span class=\"msubsup\" id=\"MathJax-Span-1564\"><span style=\"display: inline-block; position: relative; width: 1.982em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1565\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1566\"><span class=\"mrow\" id=\"MathJax-Span-1567\"><span class=\"mtext\" id=\"MathJax-Span-1568\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">faith</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1569\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">&gt;</span><span class=\"mn\" id=\"MathJax-Span-1570\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">0.9</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>faith</mtext></mrow></msub><mo>&gt;</mo><mn>0.9</mn></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-159\">F_{\\text{faith}}>0.9</script> and contradiction rate &lt; 1 %.</li>\n      <li><strong>RAG QA:</strong> <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-160-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>rag</mtext></mrow></msub><mo>&amp;gt;</mo><mn>0.85</mn></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1571\" style=\"width: 5.523em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 4.586em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1004.53em, 2.659em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1572\"><span class=\"msubsup\" id=\"MathJax-Span-1573\"><span style=\"display: inline-block; position: relative; width: 1.617em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1574\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1575\"><span class=\"mrow\" id=\"MathJax-Span-1576\"><span class=\"mtext\" id=\"MathJax-Span-1577\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">rag</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1578\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">&gt;</span><span class=\"mn\" id=\"MathJax-Span-1579\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">0.85</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.434em; border-left: 0px solid; width: 0px; height: 1.316em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>rag</mtext></mrow></msub><mo>&gt;</mo><mn>0.85</mn></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-160\">F_{\\text{rag}}>0.85</script> with <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-161-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>P</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ctx</mtext></mrow></msub><mo>,</mo><msub><mi>R</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>ctx</mtext></mrow></msub><mo>&amp;gt;</mo><mn>0.8</mn></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1580\" style=\"width: 7.294em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 6.044em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1005.99em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1581\"><span class=\"msubsup\" id=\"MathJax-Span-1582\"><span style=\"display: inline-block; position: relative; width: 1.565em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1583\" style=\"font-family: STIXGeneral-Italic;\">P</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1584\"><span class=\"mrow\" id=\"MathJax-Span-1585\"><span class=\"mtext\" id=\"MathJax-Span-1586\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ctx</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1587\" style=\"font-family: STIXGeneral-Regular;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-1588\" style=\"padding-left: 0.211em;\"><span style=\"display: inline-block; position: relative; width: 1.565em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.58em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1589\" style=\"font-family: STIXGeneral-Italic;\">R</span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1590\"><span class=\"mrow\" id=\"MathJax-Span-1591\"><span class=\"mtext\" id=\"MathJax-Span-1592\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">ctx</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1593\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">&gt;</span><span class=\"mn\" id=\"MathJax-Span-1594\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">0.8</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>P</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ctx</mtext></mrow></msub><mo>,</mo><msub><mi>R</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>ctx</mtext></mrow></msub><mo>&gt;</mo><mn>0.8</mn></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-161\">P_{\\text{ctx}},R_{\\text{ctx}}>0.8</script>.</li>\n      <li><strong>Long-form:</strong> <span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-162-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>F</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mtext>atomic</mtext></mrow></msub><mo>&amp;gt;</mo><mn>0.75</mn></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1595\" style=\"width: 6.721em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 5.576em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1005.52em, 2.503em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1596\"><span class=\"msubsup\" id=\"MathJax-Span-1597\"><span style=\"display: inline-block; position: relative; width: 2.607em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.18em, 1000.63em, 4.169em, -999.997em); top: -4.008em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-1598\" style=\"font-family: STIXGeneral-Italic;\">F<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span><span style=\"position: absolute; top: -3.852em; left: 0.628em;\"><span class=\"texatom\" id=\"MathJax-Span-1599\"><span class=\"mrow\" id=\"MathJax-Span-1600\"><span class=\"mtext\" id=\"MathJax-Span-1601\" style=\"font-size: 70.7%; font-family: STIXGeneral-Regular;\">atomic</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.013em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-1602\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">&gt;</span><span class=\"mn\" id=\"MathJax-Span-1603\" style=\"font-family: STIXGeneral-Regular; padding-left: 0.315em;\">0.75</span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.247em; border-left: 0px solid; width: 0px; height: 1.128em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>F</mi><mrow class=\"MJX-TeXAtom-ORD\"><mtext>atomic</mtext></mrow></msub><mo>&gt;</mo><mn>0.75</mn></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-162\">F_{\\text{atomic}}>0.75</script> or F1@<span class=\"MathJax_Preview\" style=\"color: inherit; display: none;\"></span><span class=\"MathJax\" id=\"MathJax-Element-163-Frame\" tabindex=\"0\" data-mathml=\"<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>K</mi></math>\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1604\" style=\"width: 0.94em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.784em; height: 0px; font-size: 120%;\"><span style=\"position: absolute; clip: rect(1.357em, 1000.78em, 2.346em, -999.997em); top: -2.185em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-1605\"><span class=\"mi\" id=\"MathJax-Span-1606\" style=\"font-family: STIXGeneral-Italic;\">K<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.055em;\"></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.19em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.059em; border-left: 0px solid; width: 0px; height: 0.941em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>K</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-163\">K</script> above team target (SAFE).</li>\n    </ul>\n<p><strong>Confidence-aware routing</strong>: If ECE indicates overconfidence, force abstention or human review for claims with low entailment margins or low RAGAS faithfulness.</p>",
    "contentMarkdown": "*   **Per-task thresholds**:\n    *   **Summarization:** Ffaith\\>0.9Ffaith\\>0.9F\\_{\\\\text{faith}}>0.9 and contradiction rate < 1 %.\n    *   **RAG QA:** Frag\\>0.85Frag\\>0.85F\\_{\\\\text{rag}}>0.85 with Pctx,Rctx\\>0.8Pctx,Rctx\\>0.8P\\_{\\\\text{ctx}},R\\_{\\\\text{ctx}}>0.8.\n    *   **Long-form:** Fatomic\\>0.75Fatomic\\>0.75F\\_{\\\\text{atomic}}>0.75 or F1@KKK above team target (SAFE).\n*   **Confidence-aware routing**: If ECE indicates overconfidence, force abstention or human review for claims with low entailment margins or low RAGAS faithfulness.\n    \n*   **Change management**: Every retriever or model update must pass the golden CI gates and a shadow run on a recent production slice.\n\n*   **Summarization:** Ffaith\\>0.9Ffaith\\>0.9F\\_{\\\\text{faith}}>0.9 and contradiction rate < 1 %.\n*   **RAG QA:** Frag\\>0.85Frag\\>0.85F\\_{\\\\text{rag}}>0.85 with Pctx,Rctx\\>0.8Pctx,Rctx\\>0.8P\\_{\\\\text{ctx}},R\\_{\\\\text{ctx}}>0.8.\n*   **Long-form:** Fatomic\\>0.75Fatomic\\>0.75F\\_{\\\\text{atomic}}>0.75 or F1@KKK above team target (SAFE).\n\n**Confidence-aware routing**: If ECE indicates overconfidence, force abstention or human review for claims with low entailment margins or low RAGAS faithfulness.",
    "contentLength": 25023,
    "wordCount": 117,
    "hasCode": false,
    "hasMath": true,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#operational-slos-and-policies"
  },
  {
    "id": "ai-factuality-in-LLMs-what-to-use-when-47",
    "articleSlug": "factuality-in-LLMs",
    "articleTitle": "Factuality in LLMs",
    "category": "NLP/LLMs",
    "chapter": "End-to-End Factuality Evaluation Pipeline (Implementation Blueprint)",
    "title": "What to Use When",
    "order": 47,
    "orderInChapter": 12,
    "contentHtml": "<ul>\n  <li>\n    <p><strong>You already have source docs</strong>: Run entailment + QAFactEval for faithfulness; keep RAGAS off unless the system is truly RAG.</p>\n  </li>\n  <li>\n    <p><strong>You are building RAG</strong>: Adopt RAGAS for day-to-day health, plus periodic LLM-as-judge audits (FActScore) on samples.</p>\n  </li>\n  <li>\n    <p><strong>You ship long essays</strong>: SAFE or FActScore with web or internal search; store per-claim support and show citations inline.</p>\n  </li>\n  <li>\n    <p>This blueprint mirrors best-practice components in the literature: RAGAS for retrieval-augmented pipelines, FActScore for atomic long-form scoring, SAFE for search-augmented long-form evaluation, and QAFactEval for QA-style faithfulness—wired together with standard IR stacks (Pyserini/BM25, FAISS) and strong NLI baselines (DeBERTa-MNLI).</p>\n  </li>\n</ul>\n<p><strong>You already have source docs</strong>: Run entailment + QAFactEval for faithfulness; keep RAGAS off unless the system is truly RAG.</p>\n<p><strong>You are building RAG</strong>: Adopt RAGAS for day-to-day health, plus periodic LLM-as-judge audits (FActScore) on samples.</p>\n<p><strong>You ship long essays</strong>: SAFE or FActScore with web or internal search; store per-claim support and show citations inline.</p>\n<p>This blueprint mirrors best-practice components in the literature: RAGAS for retrieval-augmented pipelines, FActScore for atomic long-form scoring, SAFE for search-augmented long-form evaluation, and QAFactEval for QA-style faithfulness—wired together with standard IR stacks (Pyserini/BM25, FAISS) and strong NLI baselines (DeBERTa-MNLI).</p>",
    "contentMarkdown": "*   **You already have source docs**: Run entailment + QAFactEval for faithfulness; keep RAGAS off unless the system is truly RAG.\n    \n*   **You are building RAG**: Adopt RAGAS for day-to-day health, plus periodic LLM-as-judge audits (FActScore) on samples.\n    \n*   **You ship long essays**: SAFE or FActScore with web or internal search; store per-claim support and show citations inline.\n    \n*   This blueprint mirrors best-practice components in the literature: RAGAS for retrieval-augmented pipelines, FActScore for atomic long-form scoring, SAFE for search-augmented long-form evaluation, and QAFactEval for QA-style faithfulness—wired together with standard IR stacks (Pyserini/BM25, FAISS) and strong NLI baselines (DeBERTa-MNLI).\n    \n\n**You already have source docs**: Run entailment + QAFactEval for faithfulness; keep RAGAS off unless the system is truly RAG.\n\n**You are building RAG**: Adopt RAGAS for day-to-day health, plus periodic LLM-as-judge audits (FActScore) on samples.\n\n**You ship long essays**: SAFE or FActScore with web or internal search; store per-claim support and show citations inline.\n\nThis blueprint mirrors best-practice components in the literature: RAGAS for retrieval-augmented pipelines, FActScore for atomic long-form scoring, SAFE for search-augmented long-form evaluation, and QAFactEval for QA-style faithfulness—wired together with standard IR stacks (Pyserini/BM25, FAISS) and strong NLI baselines (DeBERTa-MNLI).",
    "contentLength": 1640,
    "wordCount": 192,
    "hasCode": false,
    "hasMath": false,
    "hasImages": false,
    "url": "https://aman.ai/primers/ai/factuality-in-LLMs/#what-to-use-when"
  }
]