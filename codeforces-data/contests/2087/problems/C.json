{
  "contestId": 2087,
  "index": "C",
  "title": "Coin Game",
  "timeLimit": "2 seconds",
  "memoryLimit": "512 megabytes",
  "rating": null,
  "tags": [
    "*special",
    "greedy"
  ],
  "statementHtml": "<p>There are some coins arranged in a line, numbered from <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1\"><span class=\"MJXp-mn\" id=\"MJXp-Span-2\">1</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-1-Frame\" tabindex=\"0\" style=\"\"></span><script type=\"math/tex\" id=\"MathJax-Element-1\">1</script> from left to right. There are three types of coins: gold, silver, and bronze.</p>\n<p>Two players play a game; players take turns, and the first player makes the first turn. In one turn, the player chooses one of the three types of coins, and then collects all coins of that type which are still not taken by the other player. The game continues until all the coins are collected. Both players play optimally, and each player wants to maximize the number of coins he/she gets.</p>\n<p>Your task is to answer <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-3\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-4\">q</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-2-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-2\">q</script> independent queries of the following form: how many coins can the first player collect if the game is played using only coins with indices from <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-5\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-6\">l</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-3-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-3\">l</script> to <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-7\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-8\">r</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-4-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-4\">r</script> inclusive.</p>",
  "inputSpecHtml": "<p>The first line contains a string <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-9\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-10\">s</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-5-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-5\">s</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-11\"><span class=\"MJXp-mn\" id=\"MJXp-Span-12\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-13\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-14\"><span class=\"MJXp-mo\" id=\"MJXp-Span-15\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-16\">s</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-17\"><span class=\"MJXp-mo\" id=\"MJXp-Span-18\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-19\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-20\"><span class=\"MJXp-mn\" id=\"MJXp-Span-21\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-22\" style=\"vertical-align: 0.5em;\">5</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-6-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-6\">1 \\le |s| \\le 10^5</script>), consisting of the characters <span class=\"tex-font-style-tt\">G</span>, <span class=\"tex-font-style-tt\">S</span>, and/or <span class=\"tex-font-style-tt\">B</span>. <span class=\"tex-font-style-tt\">G</span> means that the coin is gold. <span class=\"tex-font-style-tt\">S</span> means that the coin is silver. <span class=\"tex-font-style-tt\">B</span> means that the coin is bronze.</p><p>The second line contains a single integer <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-23\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-24\">q</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-7-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-7\">q</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-25\"><span class=\"MJXp-mn\" id=\"MJXp-Span-26\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-27\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-28\">q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-29\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-30\"><span class=\"MJXp-mn\" id=\"MJXp-Span-31\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-32\" style=\"vertical-align: 0.5em;\">5</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-8-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-8\">1 \\le q \\le 10^5</script>)&nbsp;— the number of queries.</p><p>Then <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-33\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-34\">q</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-9-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-9\">q</script> lines follow; each of them contains two integers <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-35\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-36\">l</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-10-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-10\">l</script> and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-37\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-38\">r</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-11-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-11\">r</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-39\"><span class=\"MJXp-mn\" id=\"MJXp-Span-40\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-41\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-42\">l</span><span class=\"MJXp-mo\" id=\"MJXp-Span-43\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-44\">r</span><span class=\"MJXp-mo\" id=\"MJXp-Span-45\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-46\"><span class=\"MJXp-mo\" id=\"MJXp-Span-47\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-48\">s</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-49\"><span class=\"MJXp-mo\" id=\"MJXp-Span-50\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-12-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-12\">1 \\le l \\le r \\le |s|</script>).</p>",
  "outputSpecHtml": "<p>For each query, print a single integer&nbsp;— the number of coins the first player can collect if the game is played using only coins with indices from <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-51\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-52\">l</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-13-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-13\">l</script> to <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-53\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-54\">r</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-14-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-14\">r</script> inclusive.</p>",
  "noteHtml": "<p>Let's consider the queries from the example:</p><ul> <li> In the first query, all coins are in the game. The optimal play can proceed as follows: the first player takes all the bronze coins, the second takes all the gold coins, and finally, the first player takes all the silver coins. Then the first player will collect <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-55\"><span class=\"MJXp-mn\" id=\"MJXp-Span-56\">5</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-15-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-15\">5</script> coins; </li><li> In the second query, the coins from the <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-57\"><span class=\"MJXp-mn\" id=\"MJXp-Span-58\">2</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-16-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-16\">2</script>-nd to the <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-59\"><span class=\"MJXp-mn\" id=\"MJXp-Span-60\">6</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-17-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-17\">6</script>-th are in the game. The optimal play can proceed as follows: the first player takes all the silver coins, the second takes all the gold coins, and finally, the first player takes all the bronze coins. Then the first player will collect <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-61\"><span class=\"MJXp-mn\" id=\"MJXp-Span-62\">3</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-18-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-18\">3</script> coins; </li><li> In the third query, the coins from the <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-63\"><span class=\"MJXp-mn\" id=\"MJXp-Span-64\">1</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-19-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-19\">1</script>-st to the <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-65\"><span class=\"MJXp-mn\" id=\"MJXp-Span-66\">5</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-20-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-20\">5</script>-th are in the game. The optimal play can proceed as follows: the first player takes all the silver coins, the second takes all the bronze coins, and finally, the first player takes all the gold coins. Then the first player will collect <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-67\"><span class=\"MJXp-mn\" id=\"MJXp-Span-68\">3</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-21-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-21\">3</script> coins; </li><li> In the fourth query, only the <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-69\"><span class=\"MJXp-mn\" id=\"MJXp-Span-70\">3</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-22-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-22\">3</script>-rd coin is in the game. The first player can take it immediately and end the game. </li></ul>",
  "samples": [
    {
      "input": "BGSSBGB51 72 61 53 34 7",
      "output": "5\n3\n3\n1\n3"
    }
  ],
  "images": [],
  "url": "https://codeforces.com/contest/2087/problem/C",
  "tutorialHtml": "<div><div class=\"ttypography\"><div class=\"problem-statement\"><div><p>The key observation is that the player always picks the type of coin with the highest frequency of occurrence. This fact allows us to clearly see how the game is played.</p><p>Let <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-110\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-111\">x</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-19\">x</script>, <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-112\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-113\">y</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-20\">y</script>, and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-114\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-115\">z</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-21\">z</script> be the number of gold, silver, and bronze coins, respectively. The first player takes the maximum among these three numbers. Then the second player takes the second maximum. Finally, the first player takes the third maximum.</p><p>So, the solution is to calculate the number of coins of each type. The number of coins the first player can collect is the maximum plus the minimum among these calculated values.</p><p>To calculate the number of occurrences of each type quickly, you can use prefix sums: or each type of coins, let's form an array where the element on the <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-116\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-117\">i</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-22\">i</script>-th position is equal to the number of coins having that type among the first <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-118\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-119\">i</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-23\">i</script> coins. Then, the number of coins of a specific type in a segment can be computed quickly by subtracting the value for the left boundary from the value for the right boundary.</p></div></div></div></div>"
}