{
  "contestId": 2068,
  "index": "A",
  "title": "Condorcet Elections",
  "timeLimit": "2 seconds",
  "memoryLimit": "1024 megabytes",
  "rating": 2300,
  "tags": [
    "constructive algorithms",
    "graphs",
    "greedy",
    "probabilities"
  ],
  "statementHtml": "<p>It is a municipality election year. Even though the leader of the country has not changed for two decades, the elections are always transparent and fair.</p>\n<p>There are <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-2\">n</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-1-Frame\" tabindex=\"0\" style=\"\"></span><script type=\"math/tex\" id=\"MathJax-Element-1\">n</script> political candidates, numbered from <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-3\"><span class=\"MJXp-mn\" id=\"MJXp-Span-4\">1</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-2-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-2\">1</script> to <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-5\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-6\">n</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-3-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-3\">n</script>, contesting the right to govern. The elections happen using a variation of the <span class=\"tex-font-style-underline\">Ranked Voting System</span>. In their ballot, each voter will rank all <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-7\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-8\">n</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-4-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-4\">n</script> candidates from most preferable to least preferable. That is, each vote is a permutation of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-9\"><span class=\"MJXp-mo\" id=\"MJXp-Span-10\" style=\"margin-left: 0em; margin-right: 0em;\">{</span><span class=\"MJXp-mn\" id=\"MJXp-Span-11\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-12\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-13\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-14\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mo\" id=\"MJXp-Span-15\" style=\"margin-left: 0em; margin-right: 0em;\">…</span><span class=\"MJXp-mo\" id=\"MJXp-Span-16\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-17\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-18\" style=\"margin-left: 0em; margin-right: 0em;\">}</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-5-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-5\">\\{1, 2, \\ldots, n\\}</script>, where the first element of the permutation corresponds to the most preferable candidate.</p>\n<p>We say that candidate <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-19\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-20\">a</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-6-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-6\">a</script> defeats candidate <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-21\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-22\">b</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-7-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-7\">b</script> if in more than half of the votes candidate <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-23\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-24\">a</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-8-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-8\">a</script> is more preferable than candidate <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-25\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-26\">b</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-9-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-9\">b</script>.</p>\n<p>As the election is fair and transparent, the state television has already decreed a list of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-27\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-28\">m</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-10-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-10\">m</script> facts—the <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-29\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-30\">i</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-11-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-11\">i</script>-th fact being \"candidate <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-31\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-32\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-33\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-34\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-12-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-12\">a_i</script> has defeated candidate <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-35\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-36\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-37\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-38\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-13-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-13\">b_i</script>\"—all before the actual election!</p>\n<p>You are in charge of the election commission and tallying up the votes. You need to present a list of votes that produces the outcome advertised on television, or to determine that it is not possible. However, you are strongly encouraged to find a solution, or you might upset higher-ups.</p>",
  "inputSpecHtml": "<p>The first line contains integers <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-39\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-40\">n</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-14-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-14\">n</script> and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-41\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-42\">m</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-15-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-15\">m</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-43\"><span class=\"MJXp-mn\" id=\"MJXp-Span-44\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-45\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-46\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-47\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mn\" id=\"MJXp-Span-48\">50</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-16-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-16\">2 \\le n \\le 50</script>, <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-49\"><span class=\"MJXp-mn\" id=\"MJXp-Span-50\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-51\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-52\">m</span><span class=\"MJXp-mo\" id=\"MJXp-Span-53\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mfrac\" id=\"MJXp-Span-54\" style=\"vertical-align: 0.25em;\"><span class=\"MJXp-box MJXp-script\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-55\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-56\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-57\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-58\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-59\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-60\">)</span></span><span class=\"MJXp-box\" style=\"margin-top: -0.9em;\"><span class=\"MJXp-denom\"><span><span class=\"MJXp-rule\" style=\"height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;\"></span></span><span><span class=\"MJXp-box MJXp-script\"><span class=\"MJXp-mn\" id=\"MJXp-Span-61\">2</span></span></span></span></span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-17-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-17\">1 \\le m \\le \\frac{n(n-1)}{2}</script>)&nbsp;— the number of parties and the number of pairs with known election outcomes.</p><p>The <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-62\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-63\">i</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-18-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-18\">i</script>-th of the following <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-64\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-65\">m</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-19-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-19\">m</script> lines contains two integers <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-66\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-67\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-68\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-69\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-20-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-20\">a_i</script> and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-70\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-71\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-72\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-73\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-21-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-21\">b_i</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-74\"><span class=\"MJXp-mn\" id=\"MJXp-Span-75\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-76\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-77\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-78\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-79\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-80\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-81\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-82\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-83\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-84\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-85\">n</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-22-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-22\">1 \\le a_i, b_i \\le n</script>, <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-86\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-87\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-88\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-89\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-90\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≠</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-91\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-92\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-93\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-23-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-23\">a_i \\ne b_i</script>) — candidate <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-94\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-95\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-96\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-97\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-24-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-24\">a_i</script> defeats candidate <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-98\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-99\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-100\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-101\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-25-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-25\">b_i</script>.</p><p>Each unordered pair <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-102\"><span class=\"MJXp-mo\" id=\"MJXp-Span-103\" style=\"margin-left: 0em; margin-right: 0em;\">{</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-104\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-105\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-106\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-107\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-108\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-109\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-110\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-111\" style=\"margin-left: 0em; margin-right: 0em;\">}</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-26-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-26\">\\{a_i, b_i\\}</script> is given at most once.</p>",
  "outputSpecHtml": "<p>Print <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-112\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-113\"><span class=\"MJXp-mtext MJXp-mono\" id=\"MJXp-Span-114\">YES</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-27-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-27\">\\texttt{YES}</script> if there is a list of votes matching the facts advertised on television. Otherwise, print <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-115\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-116\"><span class=\"MJXp-mtext MJXp-mono\" id=\"MJXp-Span-117\">NO</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-28-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-28\">\\texttt{NO}</script>.</p><p>If there is a valid list of votes, print one such list in the following lines.</p><p>Print the number <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-118\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-119\">k</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-29-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-29\">k</script> of votes cast (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-120\"><span class=\"MJXp-mn\" id=\"MJXp-Span-121\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-122\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-123\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-124\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mn\" id=\"MJXp-Span-125\">50</span><span class=\"MJXp-mspace\" id=\"MJXp-Span-126\" style=\"width: 0.167em; height: 0em;\"></span><span class=\"MJXp-mn\" id=\"MJXp-Span-127\">000</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-30-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-30\">1 \\le k \\le 50\\,000</script>). It can be shown that if there is a valid list of votes, there is one with at most <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-128\"><span class=\"MJXp-mn\" id=\"MJXp-Span-129\">50</span><span class=\"MJXp-mspace\" id=\"MJXp-Span-130\" style=\"width: 0.167em; height: 0em;\"></span><span class=\"MJXp-mn\" id=\"MJXp-Span-131\">000</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-31-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-31\">50\\,000</script> votes.</p><p>Then print <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-132\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-133\">k</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-32-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-32\">k</script> lines. The <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-134\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-135\">i</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-33-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-33\">i</script>-th of these lines consists of a permutation of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-136\"><span class=\"MJXp-mo\" id=\"MJXp-Span-137\" style=\"margin-left: 0em; margin-right: 0em;\">{</span><span class=\"MJXp-mn\" id=\"MJXp-Span-138\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-139\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-140\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-141\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mo\" id=\"MJXp-Span-142\" style=\"margin-left: 0em; margin-right: 0em;\">…</span><span class=\"MJXp-mo\" id=\"MJXp-Span-143\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-144\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-145\" style=\"margin-left: 0em; margin-right: 0em;\">}</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-34-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-34\">\\{1, 2, \\ldots, n\\}</script> describing the <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-146\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-147\">i</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-35-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-35\">i</script>-th vote. The first number in the permutation is the most preferable candidate and the last one is the least preferable candidate.</p><p>For <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-148\"><span class=\"MJXp-mn\" id=\"MJXp-Span-149\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-150\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-151\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-152\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-153\">m</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-36-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-36\">1\\le i\\le m</script>, <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-154\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-155\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-156\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-157\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-37-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-37\">a_i</script> shall appear earlier than <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-158\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-159\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-160\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-161\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-38-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-38\">b_i</script> in more than <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-162\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-163\">k</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-164\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-165\"><span class=\"MJXp-mo\" id=\"MJXp-Span-166\" style=\"margin-left: 0.111em; margin-right: 0.111em;\">/</span></span></span><span class=\"MJXp-mn\" id=\"MJXp-Span-167\">2</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-39-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-39\">k{/}2</script> of the <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-168\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-169\">k</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-40-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-40\">k</script> permutations. For pairs of candidates <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-170\"><span class=\"MJXp-mo\" id=\"MJXp-Span-171\" style=\"margin-left: 0em; margin-right: 0em;\">{</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-172\">a</span><span class=\"MJXp-mo\" id=\"MJXp-Span-173\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-174\">b</span><span class=\"MJXp-mo\" id=\"MJXp-Span-175\" style=\"margin-left: 0em; margin-right: 0em;\">}</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-41-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-41\">\\{a, b\\}</script> not appearing in the election requirements list, the outcome can be arbitrary, including neither of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-176\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-177\">a</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-42-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-42\">a</script> and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-178\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-179\">b</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-43-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-43\">b</script> defeating the other.</p>",
  "noteHtml": "<p>In the <span class=\"tex-font-style-bf\">second sample</span>, Observe that candidate <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-180\"><span class=\"MJXp-mn\" id=\"MJXp-Span-181\">1</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-44-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-44\">1</script> defeats candidate <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-182\"><span class=\"MJXp-mn\" id=\"MJXp-Span-183\">2</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-45-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-45\">2</script> because it goes earlier in two out of three voters' permutations, which is more than half of all votes. Similarly, candidate <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-184\"><span class=\"MJXp-mn\" id=\"MJXp-Span-185\">2</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-46-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-46\">2</script> defeats candidate <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-186\"><span class=\"MJXp-mn\" id=\"MJXp-Span-187\">3</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-47-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-47\">3</script>, and candidate <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-188\"><span class=\"MJXp-mn\" id=\"MJXp-Span-189\">3</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-48-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-48\">3</script> defeats candidate <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-190\"><span class=\"MJXp-mn\" id=\"MJXp-Span-191\">1</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-49-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-49\">1</script>.</p>",
  "samples": [
    {
      "input": "2 11 2",
      "output": "YES\n1\n1 2"
    },
    {
      "input": "3 31 22 33 1",
      "output": "YES\n3\n1 2 3\n2 3 1\n3 1 2"
    }
  ],
  "images": [],
  "url": "https://codeforces.com/contest/2068/problem/A",
  "tutorialHtml": "<div><div class=\"ttypography\"><div class=\"problem-statement\"><div><p>This problem is inspired by Condorcet's paradox. To put it simply, Condorcet's paradox states that for certain voters preferences, it's impossible to always resolve the elections fairly. No matter the outcome, more than half of the voters would prefer to change the result to some other outcome. This is illustrated by the second example in the statement. </p><p>The problem's answer is always <span class=\"tex-font-style-tt\">YES</span>. It's possible to construct a list of votes such that any (not trivially contradicting) list of statements \"candidate $$$x_i$$$ has defeated candidate $$$y_i$$$\" can be satisfied.</p><p>Let $$$S = \\{(a, b) \\mid 1 \\leq a, b \\leq n, \\, a \\ne b\\}$$$, and let $$$R \\subseteq S$$$ be the list of requirements. Let $$$\\delta_{a,b}(\\text{ans})$$$, where $$$(a, b) \\in S$$$ and \"$$$\\text{ans}$$$\" is our answer, be how many votes prefer $$$a$$$ to $$$b$$$ minus how many votes prefer $$$b$$$ to $$$a$$$. We want to ensure that $$$\\delta_{a,b}(\\text{ans}) &gt; 0$$$ for every $$$(a, b) \\in R$$$.</p><p>For every $$$(a, b) \\in S$$$, it's actually possible to construct votes $$$\\pi_1$$$, $$$\\pi_2$$$, such that: </p><ul> <li> $$$\\delta_{a,b}(\\{\\pi_1, \\pi_2\\}) = 2$$$. </li><li> $$$\\delta_{x,y}(\\{\\pi_1, \\pi_2\\}) = 0$$$ for all $$$(x, y) \\in S$$$, $$$\\{x, y\\} \\ne \\{a, b\\}$$$. </li></ul><p>Then clearly adding $$$\\pi_1$$$, $$$\\pi_2$$$ for every $$$(a, b) \\in R$$$ results in a correct answer. Thus, the jury solution uses at most $$$2 {n \\choose 2} \\le n^2$$$ votes.</p><p>Let us construct $$$\\pi_1$$$, $$$\\pi_2$$$. For the sake of exposition, let us assume $$$a = 1$$$, $$$b = 2$$$. Observe that the $$$\\pi_1$$$, $$$\\pi_2$$$ given below satisfy the requirements. Votes $$$\\pi$$$ for any $$$(a, b) \\ne (1, 2)$$$ can be constructed by the re-numeration. </p><ul> <li> $$$\\pi_1 = (1, 2, 3, 4, \\ldots, n - 1, n)$$$ </li><li> $$$\\pi_2 = (n, n - 1, \\ldots, 4, 3, 1, 2)$$$ </li></ul></div></div></div></div>"
}