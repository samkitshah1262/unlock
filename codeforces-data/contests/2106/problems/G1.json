{
  "contestId": 2106,
  "index": "G1",
  "title": "Baudelaire (easy version)",
  "timeLimit": "3 seconds",
  "memoryLimit": "256 megabytes",
  "rating": 2200,
  "tags": [
    "binary search",
    "constructive algorithms",
    "divide and conquer",
    "greedy",
    "interactive",
    "trees"
  ],
  "statementHtml": "<p><span class=\"tex-font-style-bf\">This is the easy version of the problem. The only difference between the two versions is that in this version, it is guaranteed that every node is adjacent to node <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1\"><span class=\"MJXp-mn\" id=\"MJXp-Span-2\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-1\">1</script>.</span></p>\n<p><span class=\"tex-font-style-it\">This problem is interactive.</span></p>\n<p>Baudelaire is very rich, so he bought a tree of size <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-3\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-4\">n</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-2\">n</script> that is rooted at some arbitrary node. Additionally, every node has a value of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-5\"><span class=\"MJXp-mn\" id=\"MJXp-Span-6\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-3\">1</script> or <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-7\"><span class=\"MJXp-mo\" id=\"MJXp-Span-8\" style=\"margin-left: 0em; margin-right: 0.111em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-9\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-4\">-1</script>. <span class=\"tex-font-style-bf\">In this version, every node is adjacent to node <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-10\"><span class=\"MJXp-mn\" id=\"MJXp-Span-11\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-5\">1</script>. However, please note that node <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-12\"><span class=\"MJXp-mn\" id=\"MJXp-Span-13\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-6\">1</script> is not necessarily the root.</span></p>\n<p>Cow the Nerd saw the tree and fell in love with it. However, computer science doesn't pay him enough, so he can't afford to buy it. Baudelaire decided to play a game with Cow the Nerd, and if he won, he would gift him the tree.</p>\n<p>Cow the Nerd does not know which node is the root, and he doesn't know the values of the nodes either. However, he can ask Baudelaire queries of two types:</p>\n<p>Cow the Nerd wins if he guesses the value of every node correctly (the values of the final tree, <span class=\"tex-font-style-bf\">after</span> performing the queries) within <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-107\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-108\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-109\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-110\">200</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-26\">n + 200</script> total queries. Can you help him win?</p>",
  "inputSpecHtml": "<p>The first line of the input contains a single integer <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-111\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-112\">t</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-27\">t</script> <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-113\"><span class=\"MJXp-mo\" id=\"MJXp-Span-114\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-115\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-116\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-117\">t</span><span class=\"MJXp-mo\" id=\"MJXp-Span-118\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mn\" id=\"MJXp-Span-119\">100</span><span class=\"MJXp-mo\" id=\"MJXp-Span-120\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-28\">(1 \\le t \\le 100)</script>, the number of test cases.</p><p>The first line of each test case contains a single integer <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-121\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-122\">n</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-29\">n</script> <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-123\"><span class=\"MJXp-mo\" id=\"MJXp-Span-124\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-125\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-126\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-127\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-128\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-129\"><span class=\"MJXp-mn\" id=\"MJXp-Span-130\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-131\" style=\"vertical-align: 0.5em;\">3</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-132\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-30\">(2 \\le n \\le 10^3)</script>, the size of the tree.</p><p>Each of the next <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-133\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-134\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-135\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-136\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-31\">n-1</script> lines contains two integers <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-137\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-138\">u</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-32\">u</script> and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-139\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-140\">v</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-33\">v</script> <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-141\"><span class=\"MJXp-mo\" id=\"MJXp-Span-142\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-143\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-144\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-145\">u</span><span class=\"MJXp-mo\" id=\"MJXp-Span-146\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-147\">v</span><span class=\"MJXp-mo\" id=\"MJXp-Span-148\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-149\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-150\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-151\">u</span><span class=\"MJXp-mo\" id=\"MJXp-Span-152\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≠</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-153\">v</span><span class=\"MJXp-mo\" id=\"MJXp-Span-154\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-34\">(1 \\le u, v \\le n, u \\neq v)</script>, denoting an edge between nodes <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-155\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-156\">u</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-35\">u</script> and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-157\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-158\">v</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-36\">v</script> in the tree. <span class=\"tex-font-style-bf\">In this version, it is guaranteed that either <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-159\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-160\">u</span><span class=\"MJXp-mo\" id=\"MJXp-Span-161\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mn\" id=\"MJXp-Span-162\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-37\">u = 1</script> or <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-163\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-164\">v</span><span class=\"MJXp-mo\" id=\"MJXp-Span-165\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mn\" id=\"MJXp-Span-166\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-38\">v = 1</script></span>.</p><p>It is guaranteed that the sum of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-167\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-168\">n</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-39\">n</script> over all test cases does not exceed <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-169\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-170\"><span class=\"MJXp-mn\" id=\"MJXp-Span-171\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-172\" style=\"vertical-align: 0.5em;\">3</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-40\">10^3</script> and that each graph provided is a valid tree.</p></div><div><div class=\"section-title\">Interaction</div><p>To ask a query of type <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-173\"><span class=\"MJXp-mn\" id=\"MJXp-Span-174\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-41\">1</script>, output a line in the following format (without the quotes):</p><ul> <li> <span class=\"tex-font-style-tt\">\"? 1 k <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-175\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-176\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-177\" style=\"margin-right: 0.05em;\">u</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-178\" style=\"vertical-align: -0.4em;\">1</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-42\">u_1</script> <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-179\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-180\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-181\" style=\"margin-right: 0.05em;\">u</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-182\" style=\"vertical-align: -0.4em;\">2</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-43\">u_2</script> <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-183\"><span class=\"MJXp-mo\" id=\"MJXp-Span-184\" style=\"margin-left: 0em; margin-right: 0.222em;\">.</span><span class=\"MJXp-mo\" id=\"MJXp-Span-185\" style=\"margin-left: 0em; margin-right: 0.222em;\">.</span><span class=\"MJXp-mo\" id=\"MJXp-Span-186\" style=\"margin-left: 0em; margin-right: 0.222em;\">.</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-44\">...</script> <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-187\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-188\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-189\" style=\"margin-right: 0.05em;\">u</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-190\" style=\"vertical-align: -0.4em;\">k</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-45\">u_k</script>\"</span>, (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-191\"><span class=\"MJXp-mn\" id=\"MJXp-Span-192\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-193\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-194\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-195\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-196\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-197\" style=\"margin-right: 0.05em;\">u</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-198\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-199\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-200\">n</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-46\">1 \\le k, u_i \\le n</script>) </li></ul><p>The jury will return a single integer, <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-201\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-202\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-203\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-204\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-205\" style=\"margin-right: 0.05em;\">u</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-206\" style=\"vertical-align: -0.4em;\">1</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-207\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-208\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-209\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-210\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-211\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-212\" style=\"margin-right: 0.05em;\">u</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-213\" style=\"vertical-align: -0.4em;\">2</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-214\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-215\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mo\" id=\"MJXp-Span-216\" style=\"margin-left: 0em; margin-right: 0.222em;\">.</span><span class=\"MJXp-mo\" id=\"MJXp-Span-217\" style=\"margin-left: 0em; margin-right: 0.222em;\">.</span><span class=\"MJXp-mo\" id=\"MJXp-Span-218\" style=\"margin-left: 0em; margin-right: 0.222em;\">.</span><span class=\"MJXp-mo\" id=\"MJXp-Span-219\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-220\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-221\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-222\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-223\" style=\"margin-right: 0.05em;\">u</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-224\" style=\"vertical-align: -0.4em;\">k</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-225\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-47\">f(u_1) + f(u_2) + ... + f(u_k)</script>.</p><p>To ask a query of type <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-226\"><span class=\"MJXp-mn\" id=\"MJXp-Span-227\">2</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-48\">2</script>, output a line in the following format:</p><ul> <li> <span class=\"tex-font-style-tt\">\"? 2 <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-228\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-229\">u</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-49\">u</script>\"</span> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-230\"><span class=\"MJXp-mn\" id=\"MJXp-Span-231\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-232\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-233\">u</span><span class=\"MJXp-mo\" id=\"MJXp-Span-234\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-235\">n</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-50\">1 \\le u \\le n</script>) </li></ul><p>The jury will toggle the value of node <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-236\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-237\">u</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-51\">u</script>: if its value is <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-238\"><span class=\"MJXp-mn\" id=\"MJXp-Span-239\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-52\">1</script> it will become <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-240\"><span class=\"MJXp-mo\" id=\"MJXp-Span-241\" style=\"margin-left: 0em; margin-right: 0.111em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-242\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-53\">-1</script> and vice versa.</p><p>When you have found the answer, output a single line in the following format:</p><ul> <li> <span class=\"tex-font-style-tt\">\"! <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-243\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-244\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-245\" style=\"margin-right: 0.05em;\">v</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-246\" style=\"vertical-align: -0.4em;\">1</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-247\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-248\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-249\" style=\"margin-right: 0.05em;\">v</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-250\" style=\"vertical-align: -0.4em;\">2</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-251\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mo\" id=\"MJXp-Span-252\" style=\"margin-left: 0em; margin-right: 0.222em;\">.</span><span class=\"MJXp-mo\" id=\"MJXp-Span-253\" style=\"margin-left: 0em; margin-right: 0.222em;\">.</span><span class=\"MJXp-mo\" id=\"MJXp-Span-254\" style=\"margin-left: 0em; margin-right: 0.222em;\">.</span><span class=\"MJXp-mo\" id=\"MJXp-Span-255\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-256\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-257\" style=\"margin-right: 0.05em;\">v</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-258\" style=\"vertical-align: -0.4em;\">n</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-54\">v_1, v_2, ..., v_n</script>\"</span> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-259\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-260\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-261\" style=\"margin-right: 0.05em;\">v</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-262\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-263\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mn\" id=\"MJXp-Span-264\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-55\">v_i = 1</script> or <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-265\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-266\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-267\" style=\"margin-right: 0.05em;\">v</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-268\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-269\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mo\" id=\"MJXp-Span-270\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-271\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-56\">v_i = -1</script>, and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-272\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-273\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-274\" style=\"margin-right: 0.05em;\">v</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-275\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-57\">v_i</script> is the value of node <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-276\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-277\">i</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-58\">i</script> after performing the queries) </li></ul><p>After that, proceed to process the next test case or terminate the program if it was the last test case. Printing the answer does not count as a query.</p><p>The interactor is <span class=\"tex-font-style-bf\">not</span> adaptive, meaning that the values of the tree are known before the participant asks the queries.</p><p>If your program makes more than <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-278\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-279\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-280\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-281\">200</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-59\">n + 200</script> queries, your program should immediately terminate to receive the verdict <span class=\"tex-font-style-tt\">Wrong Answer</span>. Otherwise, you can get an arbitrary verdict because your solution will continue to read from a closed stream.</p><p>After printing a query do not forget to output the end of line and flush the output. Otherwise, you may get the <span class=\"tex-font-style-tt\">Idleness Limit Exceeded</span> verdict. To do this, use:</p><ul> <li> <span class=\"tex-font-style-tt\">fflush(stdout)</span> or <span class=\"tex-font-style-tt\">cout.flush()</span> in C++ </li><li> <span class=\"tex-font-style-tt\">System.out.flush()</span> in Java; </li><li> <span class=\"tex-font-style-tt\">flush(output)</span> in Pascal; </li><li> <span class=\"tex-font-style-tt\">stdout.flush()</span> in Python; </li><li> see the documentation for other languages. </li></ul><p><span class=\"tex-font-style-bf\">Hacks</span></p><p>For hacks, use the following format.</p><p>The first line should contain a single integer <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-282\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-283\">t</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-60\">t</script> <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-284\"><span class=\"MJXp-mo\" id=\"MJXp-Span-285\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-286\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-287\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-288\">t</span><span class=\"MJXp-mo\" id=\"MJXp-Span-289\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mn\" id=\"MJXp-Span-290\">100</span><span class=\"MJXp-mo\" id=\"MJXp-Span-291\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-61\">(1 \\le t \\le 100)</script>&nbsp;— the number of test cases.</p><p>The first line of each test case must contain exactly two integers <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-292\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-293\">n</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-62\">n</script> and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-294\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-295\">r</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-296\">o</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-297\">o</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-298\">t</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-63\">root</script> <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-299\"><span class=\"MJXp-mo\" id=\"MJXp-Span-300\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-301\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-302\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-303\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-304\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-305\"><span class=\"MJXp-mn\" id=\"MJXp-Span-306\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-307\" style=\"vertical-align: 0.5em;\">3</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-308\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-309\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-310\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-311\">r</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-312\">o</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-313\">o</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-314\">t</span><span class=\"MJXp-mo\" id=\"MJXp-Span-315\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-316\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-317\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-64\">(2 \\le n \\le 10^3, 1 \\le root \\le n)</script>&nbsp;— the size of the tree and the root of the tree.</p><p>The second line of each test case must contain exactly <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-318\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-319\">n</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-65\">n</script> integers <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-320\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-321\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-322\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-323\" style=\"vertical-align: -0.4em;\">1</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-324\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-325\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-326\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-327\" style=\"vertical-align: -0.4em;\">2</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-328\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mo\" id=\"MJXp-Span-329\" style=\"margin-left: 0em; margin-right: 0.222em;\">.</span><span class=\"MJXp-mo\" id=\"MJXp-Span-330\" style=\"margin-left: 0em; margin-right: 0.222em;\">.</span><span class=\"MJXp-mo\" id=\"MJXp-Span-331\" style=\"margin-left: 0em; margin-right: 0.222em;\">.</span><span class=\"MJXp-mo\" id=\"MJXp-Span-332\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-333\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-334\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-335\" style=\"vertical-align: -0.4em;\">n</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-66\">a_1, a_2, ..., a_n</script> <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-336\"><span class=\"MJXp-mo\" id=\"MJXp-Span-337\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-338\"><span class=\"MJXp-mo\" id=\"MJXp-Span-339\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-340\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-341\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-342\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mrow\" id=\"MJXp-Span-343\"><span class=\"MJXp-mo\" id=\"MJXp-Span-344\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-345\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mn\" id=\"MJXp-Span-346\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-347\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-67\">(|a_i| = 1)</script>&nbsp;— where <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-348\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-349\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-350\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-351\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-68\">a_i</script> is the value of node <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-352\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-353\">i</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-69\">i</script>.</p><p>Each of the following <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-354\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-355\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-356\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-357\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-70\">n-1</script> lines must contain exactly two integers <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-358\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-359\">u</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-71\">u</script> and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-360\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-361\">v</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-72\">v</script> <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-362\"><span class=\"MJXp-mo\" id=\"MJXp-Span-363\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-364\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-365\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-366\">u</span><span class=\"MJXp-mo\" id=\"MJXp-Span-367\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-368\">v</span><span class=\"MJXp-mo\" id=\"MJXp-Span-369\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-370\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-371\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-73\">(1 \\le u, v \\le n)</script>&nbsp;— denoting an edge of the tree between nodes <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-372\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-373\">u</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-74\">u</script> and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-374\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-375\">v</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-75\">v</script>.</p><p>The sum of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-376\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-377\">n</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-76\">n</script> over all test cases must not exceed <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-378\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-379\"><span class=\"MJXp-mn\" id=\"MJXp-Span-380\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-381\" style=\"vertical-align: 0.5em;\">3</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-77\">10^3</script> and every graph provided must be a valid tree. <span class=\"tex-font-style-bf\">For this version, every node must be adjacent to node <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-382\"><span class=\"MJXp-mn\" id=\"MJXp-Span-383\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-78\">1</script></span>.</p>",
  "outputSpecHtml": "",
  "noteHtml": "<p>In the example, the root of the tree is node <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-384\"><span class=\"MJXp-mn\" id=\"MJXp-Span-385\">2</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-79\">2</script>, and the values of the nodes are <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-386\"><span class=\"MJXp-mo\" id=\"MJXp-Span-387\" style=\"margin-left: 0em; margin-right: 0em;\">[</span><span class=\"MJXp-mo\" id=\"MJXp-Span-388\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-389\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-390\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-391\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-392\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mo\" id=\"MJXp-Span-393\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-394\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-395\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-396\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-397\" style=\"margin-left: 0em; margin-right: 0em;\">]</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-80\">[-1, 1, -1, 1]</script>. Therefore, <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-398\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-399\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-400\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-401\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-402\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-403\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mn\" id=\"MJXp-Span-404\">0</span><span class=\"MJXp-mo\" id=\"MJXp-Span-405\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-406\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-407\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-408\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-409\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-410\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mn\" id=\"MJXp-Span-411\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-412\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-413\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-414\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-415\">3</span><span class=\"MJXp-mo\" id=\"MJXp-Span-416\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-417\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mo\" id=\"MJXp-Span-418\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-419\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-420\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-421\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-422\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-423\">4</span><span class=\"MJXp-mo\" id=\"MJXp-Span-424\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-425\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mn\" id=\"MJXp-Span-426\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-81\">f(1) = 0, f(2) = 1, f(3) = -1, f(4) = 1</script>.</p><p>First, we query about the sum <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-427\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-428\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-429\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-430\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-431\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-432\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-433\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-434\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-435\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-436\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-437\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-438\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-439\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-440\">3</span><span class=\"MJXp-mo\" id=\"MJXp-Span-441\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-82\">f(1) + f(2) + f(3)</script>, so we receive the value <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-442\"><span class=\"MJXp-mn\" id=\"MJXp-Span-443\">0</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-83\">0</script>. Then, we toggle the value of node <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-444\"><span class=\"MJXp-mn\" id=\"MJXp-Span-445\">2</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-84\">2</script>, and the values are: <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-446\"><span class=\"MJXp-mo\" id=\"MJXp-Span-447\" style=\"margin-left: 0em; margin-right: 0em;\">[</span><span class=\"MJXp-mo\" id=\"MJXp-Span-448\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-449\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-450\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mo\" id=\"MJXp-Span-451\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-452\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-453\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mo\" id=\"MJXp-Span-454\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-455\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-456\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-457\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-458\" style=\"margin-left: 0em; margin-right: 0em;\">]</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-85\">[-1, -1, -1, 1]</script>. Therefore, <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-459\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-460\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-461\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-462\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-463\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-464\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mo\" id=\"MJXp-Span-465\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-466\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-467\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-468\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-469\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-470\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-471\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-472\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mo\" id=\"MJXp-Span-473\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-474\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-475\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-476\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-477\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-478\">3</span><span class=\"MJXp-mo\" id=\"MJXp-Span-479\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-480\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mo\" id=\"MJXp-Span-481\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-482\">3</span><span class=\"MJXp-mo\" id=\"MJXp-Span-483\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-484\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-485\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-486\">4</span><span class=\"MJXp-mo\" id=\"MJXp-Span-487\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-488\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mo\" id=\"MJXp-Span-489\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-490\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-86\">f(1) = -2, f(2) = -1, f(3) = -3, f(4) = -1</script>, and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-491\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-492\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-493\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-494\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-495\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-496\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-497\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-498\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-499\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-500\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-501\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-502\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-503\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-504\">3</span><span class=\"MJXp-mo\" id=\"MJXp-Span-505\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-506\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mo\" id=\"MJXp-Span-507\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-508\">6</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-87\">f(1) + f(2) + f(3) = -6</script>.</p><p>Finally, we figure out that the values of the nodes are <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-509\"><span class=\"MJXp-mo\" id=\"MJXp-Span-510\" style=\"margin-left: 0em; margin-right: 0em;\">[</span><span class=\"MJXp-mo\" id=\"MJXp-Span-511\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-512\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-513\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mo\" id=\"MJXp-Span-514\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-515\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-516\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mo\" id=\"MJXp-Span-517\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-518\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-519\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-520\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-521\" style=\"margin-left: 0em; margin-right: 0em;\">]</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-88\">[-1, -1, -1, 1]</script>, so we answer that.</p><p><span class=\"tex-font-style-bf\">Note that this is just an explanation of how the queries work, and it is not supposed to use any specific strategy to solve the problem.</span></p>",
  "samples": [
    {
      "input": "1\n4\n1 2\n3 1\n1 4\n\n0\n\n\n-6",
      "output": "? 1 3 1 2 3\n\n? 2 2\n? 1 3 1 2 3\n\n! -1 -1 -1 1"
    }
  ],
  "images": [],
  "url": "https://codeforces.com/contest/2106/problem/G1"
}