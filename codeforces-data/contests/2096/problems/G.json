{
  "contestId": 2096,
  "index": "G",
  "title": "Wonderful Guessing Game",
  "timeLimit": "2 seconds",
  "memoryLimit": "256 megabytes",
  "rating": 3200,
  "tags": [
    "bitmasks",
    "constructive algorithms",
    "interactive"
  ],
  "statementHtml": "<p><span class=\"tex-font-style-bf\">This is an interactive problem.</span></p>\n<p>You are a proud teacher at the Millennium Science School. Today, a student named Alice challenges you to a guessing game.</p>\n<p>Alice is thinking of an integer from <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1\"><span class=\"MJXp-mn\" id=\"MJXp-Span-2\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-1\">1</script> to <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-3\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-4\">n</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-2\">n</script>, and you must guess it by asking her some queries.</p>\n<p>To make things harder, she says you must <span class=\"tex-font-style-bf\">ask all the queries first</span>, and she will <span class=\"tex-font-style-bf\">ignore</span> exactly <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-5\"><span class=\"MJXp-mn\" id=\"MJXp-Span-6\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-3\">1</script> query.</p>\n<p>For each query, you choose an array of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-7\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-8\">k</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-4\">k</script> <span class=\"tex-font-style-bf\">distinct</span> integers from <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-9\"><span class=\"MJXp-mn\" id=\"MJXp-Span-10\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-5\">1</script> to <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-11\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-12\">n</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-6\">n</script>, where <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-13\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-14\">k</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-7\">k</script> is even. Then, Alice will respond with one of the following:</p>\n<p>Alice is impatient, so you must find a strategy that <span class=\"tex-font-style-bf\">minimizes</span> the number of queries. Can you do it?</p>\n<p>Formally, let <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-35\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-36\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-37\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-38\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-39\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-14\">f(n)</script> be the minimum number of queries required to determine Alice's number. Then you must find a strategy that uses <span class=\"tex-font-style-bf\">exactly</span> <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-40\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-41\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-42\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-43\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-44\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-15\">f(n)</script> queries.</p>\n<p>Note that the interactor is <span class=\"tex-font-style-bf\">adaptive</span>, which means Alice's number is not fixed at the beginning and may depend on your queries. However, it is guaranteed that there exists at least one number that is consistent with Alice's responses.</p>\n<p>We can show that <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-45\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-46\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-47\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-48\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-49\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-50\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mn\" id=\"MJXp-Span-51\">20</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-16\">f(n) \\leq 20</script> for all <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-52\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-53\">n</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-17\">n</script> such that <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-54\"><span class=\"MJXp-mn\" id=\"MJXp-Span-55\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-56\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-57\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-58\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mn\" id=\"MJXp-Span-59\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-60\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-61\"><span class=\"MJXp-mn\" id=\"MJXp-Span-62\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-63\" style=\"vertical-align: 0.5em;\">5</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-18\">2 \\le n \\le 2 \\cdot 10^5</script>.</p>",
  "inputSpecHtml": "<p>Each test contains multiple test cases. The first line contains the number of test cases <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-64\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-65\">t</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-19\">t</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-66\"><span class=\"MJXp-mn\" id=\"MJXp-Span-67\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-68\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-69\">t</span><span class=\"MJXp-mo\" id=\"MJXp-Span-70\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-71\"><span class=\"MJXp-mn\" id=\"MJXp-Span-72\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-73\" style=\"vertical-align: 0.5em;\">4</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-20\">1 \\le t \\le 10^4</script>). The description of the test cases follows. </p><p>The only line of each test case contains a single integer <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-74\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-75\">n</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-21\">n</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-76\"><span class=\"MJXp-mn\" id=\"MJXp-Span-77\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-78\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-79\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-80\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mn\" id=\"MJXp-Span-81\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-82\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-83\"><span class=\"MJXp-mn\" id=\"MJXp-Span-84\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-85\" style=\"vertical-align: 0.5em;\">5</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-22\">2 \\le n \\le 2 \\cdot 10^5</script>)&nbsp;— the maximum possible value of Alice's number.</p><p>It is guaranteed that the sum of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-86\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-87\">n</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-23\">n</script> over all test cases does not exceed <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-88\"><span class=\"MJXp-mn\" id=\"MJXp-Span-89\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-90\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-91\"><span class=\"MJXp-mn\" id=\"MJXp-Span-92\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-93\" style=\"vertical-align: 0.5em;\">5</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-24\">2 \\cdot 10^5</script>.</p></div><div><div class=\"section-title\">Interaction</div><p>The interaction begins by reading the integer <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-94\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-95\">n</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-25\">n</script>.</p><p>Then, output a single integer <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-96\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-97\">q</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-26\">q</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-98\"><span class=\"MJXp-mn\" id=\"MJXp-Span-99\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-100\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-101\">q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-102\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mn\" id=\"MJXp-Span-103\">20</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-27\">1 \\leq q \\leq 20</script>)&nbsp;— the number of queries.</p><p>To ask a query, output a line in the following format:</p><ul><li> <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-104\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-105\">k</span><span class=\"MJXp-mspace\" id=\"MJXp-Span-106\" style=\"width: 0.167em; height: 0em;\"></span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-107\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-108\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-109\" style=\"vertical-align: -0.4em;\">1</span></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-110\" style=\"width: 0.167em; height: 0em;\"></span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-111\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-112\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-113\" style=\"vertical-align: -0.4em;\">2</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-114\" style=\"margin-left: 0em; margin-right: 0em;\">…</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-115\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-116\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-117\" style=\"vertical-align: -0.4em;\">k</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-28\">k\\,a_1\\,a_2 \\ldots a_k</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-118\"><span class=\"MJXp-mn\" id=\"MJXp-Span-119\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-120\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-121\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-122\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-123\">n</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-29\">2 \\leq k \\leq n</script>, <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-124\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-125\">k</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-30\">k</script> is even, <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-126\"><span class=\"MJXp-mn\" id=\"MJXp-Span-127\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-128\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-129\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-130\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-131\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-132\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-133\">n</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-31\">1 \\leq a_i \\leq n</script>, the <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-134\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-135\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-136\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-137\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-32\">a_i</script> are distinct)&nbsp;— the length of the array, and the array itself. </li></ul><p>Once you've asked all <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-138\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-139\">q</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-33\">q</script> queries, read a string <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-140\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-141\">s</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-34\">s</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-142\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-143\"><span class=\"MJXp-mo\" id=\"MJXp-Span-144\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-145\">s</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-146\"><span class=\"MJXp-mo\" id=\"MJXp-Span-147\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-148\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-149\">q</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-35\">|s| = q</script>)&nbsp;— the responses to the queries as described above.</p><p>When you know Alice's number, output a single integer <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-150\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-151\">x</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-36\">x</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-152\"><span class=\"MJXp-mn\" id=\"MJXp-Span-153\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-154\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-155\">x</span><span class=\"MJXp-mo\" id=\"MJXp-Span-156\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-157\">n</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-37\">1 \\leq x \\leq n</script>)&nbsp;— the value of the number.</p><p>Then, move on to the next test case, or terminate the program if there are no more test cases.</p><p>After outputting all <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-158\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-159\">q</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-38\">q</script> queries, do not forget to output the end of the line and flush the output. Otherwise, you will get <span class=\"tex-font-style-tt\">Idleness limit exceeded</span>. To do this, use: </p><ul> <li> <span class=\"tex-font-style-tt\">fflush(stdout)</span> or <span class=\"tex-font-style-tt\">cout.flush()</span> in C++; </li><li> <span class=\"tex-font-style-tt\">System.out.flush()</span> in Java; </li><li> <span class=\"tex-font-style-tt\">flush(output)</span> in Pascal; </li><li> <span class=\"tex-font-style-tt\">stdout.flush()</span> in Python; </li><li> See the documentation for other languages. </li></ul><p>Note that even if you correctly determine Alice's number but use more than <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-160\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-161\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-162\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-163\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-164\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-39\">f(n)</script> queries, you will get <span class=\"tex-font-style-tt\">Wrong answer</span>.</p><p><span class=\"tex-font-style-bf\">For this problem, hacks are disabled.</span></p>",
  "outputSpecHtml": "",
  "noteHtml": "<p>In the first test case, <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-165\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-166\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-167\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mn\" id=\"MJXp-Span-168\">3</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-40\">n = 3</script>. We ask <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-169\"><span class=\"MJXp-mn\" id=\"MJXp-Span-170\">2</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-41\">2</script> queries: <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-171\"><span class=\"MJXp-mo\" id=\"MJXp-Span-172\" style=\"margin-left: 0em; margin-right: 0em;\">[</span><span class=\"MJXp-mn\" id=\"MJXp-Span-173\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-174\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-175\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-176\" style=\"margin-left: 0em; margin-right: 0em;\">]</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-42\">[1, 2]</script>, and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-177\"><span class=\"MJXp-mo\" id=\"MJXp-Span-178\" style=\"margin-left: 0em; margin-right: 0em;\">[</span><span class=\"MJXp-mn\" id=\"MJXp-Span-179\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-180\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-181\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-182\" style=\"margin-left: 0em; margin-right: 0em;\">]</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-43\">[1, 2]</script> again.</p><ul><li> For the first query, Alice's response is <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-183\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-184\"><span class=\"MJXp-mtext MJXp-mono\" id=\"MJXp-Span-185\">?</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-44\">\\texttt{?}</script>, which means this query is ignored.</li><li> For the second query, Alice's response is <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-186\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-187\"><span class=\"MJXp-mtext MJXp-mono\" id=\"MJXp-Span-188\">N</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-45\">\\texttt{N}</script>, which means her number is not in the array <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-189\"><span class=\"MJXp-mo\" id=\"MJXp-Span-190\" style=\"margin-left: 0em; margin-right: 0em;\">[</span><span class=\"MJXp-mn\" id=\"MJXp-Span-191\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-192\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-193\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-194\" style=\"margin-left: 0em; margin-right: 0em;\">]</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-46\">[1, 2]</script>.</li></ul><p>From the information above, we can determine that Alice's number is <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-195\"><span class=\"MJXp-mn\" id=\"MJXp-Span-196\">3</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-47\">3</script>.</p><p>It can be shown that all valid strategies for <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-197\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-198\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-199\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mn\" id=\"MJXp-Span-200\">3</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-48\">n = 3</script> require at least <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-201\"><span class=\"MJXp-mn\" id=\"MJXp-Span-202\">2</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-49\">2</script> queries.</p><p>In the second test case, <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-203\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-204\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-205\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mn\" id=\"MJXp-Span-206\">5</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-50\">n = 5</script>. We ask <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-207\"><span class=\"MJXp-mn\" id=\"MJXp-Span-208\">3</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-51\">3</script> queries: <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-209\"><span class=\"MJXp-mo\" id=\"MJXp-Span-210\" style=\"margin-left: 0em; margin-right: 0em;\">[</span><span class=\"MJXp-mn\" id=\"MJXp-Span-211\">3</span><span class=\"MJXp-mo\" id=\"MJXp-Span-212\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-213\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-214\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-215\">4</span><span class=\"MJXp-mo\" id=\"MJXp-Span-216\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-217\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-218\" style=\"margin-left: 0em; margin-right: 0em;\">]</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-52\">[3, 2, 4, 1]</script>, <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-219\"><span class=\"MJXp-mo\" id=\"MJXp-Span-220\" style=\"margin-left: 0em; margin-right: 0em;\">[</span><span class=\"MJXp-mn\" id=\"MJXp-Span-221\">5</span><span class=\"MJXp-mo\" id=\"MJXp-Span-222\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-223\">4</span><span class=\"MJXp-mo\" id=\"MJXp-Span-224\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-225\">3</span><span class=\"MJXp-mo\" id=\"MJXp-Span-226\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-227\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-228\" style=\"margin-left: 0em; margin-right: 0em;\">]</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-53\">[5, 4, 3, 1]</script>, and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-229\"><span class=\"MJXp-mo\" id=\"MJXp-Span-230\" style=\"margin-left: 0em; margin-right: 0em;\">[</span><span class=\"MJXp-mn\" id=\"MJXp-Span-231\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-232\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-233\">5</span><span class=\"MJXp-mo\" id=\"MJXp-Span-234\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-235\">3</span><span class=\"MJXp-mo\" id=\"MJXp-Span-236\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-237\">4</span><span class=\"MJXp-mo\" id=\"MJXp-Span-238\" style=\"margin-left: 0em; margin-right: 0em;\">]</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-54\">[1, 5, 3, 4]</script>.</p><ul> <li> For the first query, Alice's response is <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-239\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-240\"><span class=\"MJXp-mtext MJXp-mono\" id=\"MJXp-Span-241\">R</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-55\">\\texttt{R}</script>, which means her number is in the array <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-242\"><span class=\"MJXp-mo\" id=\"MJXp-Span-243\" style=\"margin-left: 0em; margin-right: 0em;\">[</span><span class=\"MJXp-mn\" id=\"MJXp-Span-244\">4</span><span class=\"MJXp-mo\" id=\"MJXp-Span-245\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-246\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-247\" style=\"margin-left: 0em; margin-right: 0em;\">]</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-56\">[4, 1]</script>.</li><li> For the second query, Alice's response is <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-248\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-249\"><span class=\"MJXp-mtext MJXp-mono\" id=\"MJXp-Span-250\">?</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-57\">\\texttt{?}</script>, which means this query is ignored.</li><li> For the third query, Alice's response is <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-251\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-252\"><span class=\"MJXp-mtext MJXp-mono\" id=\"MJXp-Span-253\">L</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-58\">\\texttt{L}</script>, which means her number is in the array <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-254\"><span class=\"MJXp-mo\" id=\"MJXp-Span-255\" style=\"margin-left: 0em; margin-right: 0em;\">[</span><span class=\"MJXp-mn\" id=\"MJXp-Span-256\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-257\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-258\">5</span><span class=\"MJXp-mo\" id=\"MJXp-Span-259\" style=\"margin-left: 0em; margin-right: 0em;\">]</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-59\">[1, 5]</script>. </li></ul><p>From the information above, we can determine that Alice's number is <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-260\"><span class=\"MJXp-mn\" id=\"MJXp-Span-261\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-60\">1</script>.</p><p>It can be shown that all valid strategies for <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-262\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-263\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-264\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mn\" id=\"MJXp-Span-265\">5</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-61\">n = 5</script> require at least <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-266\"><span class=\"MJXp-mn\" id=\"MJXp-Span-267\">3</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-62\">3</script> queries.</p>",
  "samples": [
    {
      "input": "2\n3\n\n\n\n?N\n\n5\n\n\n\n\nR?L",
      "output": "2\n2 1 2\n2 1 2\n\n3\n\n3\n4 3 2 4 1\n4 5 4 3 1\n4 1 5 3 4\n\n1"
    }
  ],
  "images": [],
  "url": "https://codeforces.com/contest/2096/problem/G"
}