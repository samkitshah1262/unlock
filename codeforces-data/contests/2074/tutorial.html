<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tutorial</title>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
      max-width: 900px;
      margin: 0 auto;
      padding: 20px;
      line-height: 1.6;
      color: #333;
      background: #fafafa;
    }
    .ttypography {
      background: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    h3 {
      color: #1a1a1a;
      border-bottom: 2px solid #eee;
      padding-bottom: 10px;
    }
    h3 a {
      color: #0066cc;
      text-decoration: none;
    }
    h3 a:hover {
      text-decoration: underline;
    }
    .spoiler {
      margin: 15px 0;
      border: 1px solid #ddd;
      border-radius: 6px;
      overflow: hidden;
    }
    .spoiler-title {
      display: block;
      padding: 12px 15px;
      background: #f0f0f0;
      cursor: pointer;
      font-weight: 600;
      user-select: none;
      border-bottom: 1px solid #ddd;
    }
    .spoiler-title:hover {
      background: #e8e8e8;
    }
    .spoiler-title::before {
      content: '▶ ';
      font-size: 0.8em;
      transition: transform 0.2s;
      display: inline-block;
    }
    .spoiler.open .spoiler-title::before {
      content: '▼ ';
    }
    .spoiler-content {
      padding: 15px;
      background: #fff;
      display: none;
    }
    .spoiler.open .spoiler-content {
      display: block;
    }
    pre, code {
      background: #f5f5f5;
      font-family: 'Monaco', 'Menlo', 'Consolas', monospace;
      font-size: 0.85em;
    }
    pre {
      padding: 15px;
      border-radius: 4px;
      overflow-x: auto;
    }
    code {
      padding: 2px 5px;
      border-radius: 3px;
    }
    p {
      margin: 10px 0;
    }
    .MathJax {
      font-size: 1.1em;
    }
  </style>
</head>
<body>
  <h1>Editorial</h1>
  <p><a href="https://codeforces.com/blog/entry/140540" target="_blank">View on Codeforces →</a></p>
  
  <div class="ttypography"><p>Well, that was a blast, certainly. I hope that you... learned a lot from the contest. I wouldn't say "enjoy the contest", I know most of you hate geometry, I get you. But please do remember that, at least I did try my best to make every problem as high quality as possible. Like, if you don't get familiar with thinking about geometry now, you might never get familiar with it in the future. Though I apologize that E was quite hard, I suggest you to upsolve or read the editorials of the tasks you could not solve. I am telling you, it will be an experience that will make you improve much more from now.</p><p><strike>Solution codes will be posted after the open hack phase.</strike> They are now added.</p> <div class="spoiler"><b class="spoiler-title">Spoiler</b><div class="spoiler-content" style="display: block;"><p><img alt=" " src="https://codeforces.com/predownloaded/ff/73/ff73b05d3e02d7606b66f2213c0c846aa7d26988.png" style="max-width: 100.0%;max-height: 100.0%;"></p></div></div><h2><a href="https://codeforces.com/contest/2074/problem/A" title="Codeforces Round 1009 (Div. 3)">2074A - Draw a Square</a></h2> <div class="spoiler"><b class="spoiler-title">Editorial</b><div class="spoiler-content" style="display: block;"><div><h3><a href="https://codeforces.com/contest/2074/problem/A" title="Codeforces Round 1009 (Div. 3)">2074A - Draw a Square</a></h3><div class="ttypography"><div class="problem-statement"><div><p>For the given four points to make a square, we can see that the following must hold:</p><ul> <li> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2">l</span></span></span><script type="math/tex" id="MathJax-Element-1">l</script>, <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4">r</span></span></span><script type="math/tex" id="MathJax-Element-2">r</script>, <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-5"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-6">d</span></span></span><script type="math/tex" id="MathJax-Element-3">d</script>, <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-7"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-8">u</span></span></span><script type="math/tex" id="MathJax-Element-4">u</script> must all be equal. </li></ul><p>The proof is left as a practice for the reader, but generally, it can be proved easily by seeing that the square is both a rhombus and a rectangle.</p><p>The problem is solved in <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-9"><span class="MJXp-mrow" id="MJXp-Span-10"><span class="MJXp-mi MJXp-cal" id="MJXp-Span-11">O</span></span><span class="MJXp-mo" id="MJXp-Span-12" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-13">1</span><span class="MJXp-mo" id="MJXp-Span-14" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-5">\mathcal{O}(1)</script> per test case.</p></div></div></div></div></div></div> <div class="spoiler"><b class="spoiler-title">Code</b><div class="spoiler-content" style="display: block;"><pre><code class="prettyprint prettyprinted" style=""><span class="kwd">for</span><span class="pln"> i </span><span class="kwd">in</span><span class="pln"> range</span><span class="pun">(</span><span class="kwd">int</span><span class="pun">(</span><span class="pln">input</span><span class="pun">())):</span><span class="pln">
    l</span><span class="pun">,</span><span class="pln">r</span><span class="pun">,</span><span class="pln">d</span><span class="pun">,</span><span class="pln">u</span><span class="pun">=</span><span class="pln">map</span><span class="pun">(</span><span class="kwd">int</span><span class="pun">,</span><span class="pln">input</span><span class="pun">().</span><span class="pln">split</span><span class="pun">())</span><span class="pln">
    </span><span class="kwd">if</span><span class="pln"> l</span><span class="pun">==</span><span class="pln">r</span><span class="pun">==</span><span class="pln">d</span><span class="pun">==</span><span class="pln">u</span><span class="pun">:</span><span class="pln">
        </span><span class="kwd">print</span><span class="pun">(</span><span class="str">"Yes"</span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">else</span><span class="pun">:</span><span class="pln">
        </span><span class="kwd">print</span><span class="pun">(</span><span class="str">"No"</span><span class="pun">)</span></code></pre></div></div><h2><a href="https://codeforces.com/contest/2074/problem/B" title="Codeforces Round 1009 (Div. 3)">2074B - The Third Side</a></h2> <div class="spoiler"><b class="spoiler-title">Editorial</b><div class="spoiler-content" style="display: block;"><div><h3><a href="https://codeforces.com/contest/2074/problem/B" title="Codeforces Round 1009 (Div. 3)">2074B - The Third Side</a></h3><div class="ttypography"><div class="problem-statement"><div><p>We can solve this problem by observing a property on the sum of elements.</p><p>After each operation, it must hold that <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-15"><span class="MJXp-msubsup" id="MJXp-Span-16"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-17" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-18" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-19" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-20"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-22" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-23" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-24">x</span></span></span><script type="math/tex" id="MathJax-Element-6">a_i+a_j>x</script>, and the new element is at most <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-25"><span class="MJXp-msubsup" id="MJXp-Span-26"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-27" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-28" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-29" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-30"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-31" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-32" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-33" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-34">1</span></span></span><script type="math/tex" id="MathJax-Element-7">a_i+a_j-1</script>. Therefore, the sum decreases by at least <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-35"><span class="MJXp-mn" id="MJXp-Span-36">1</span></span></span><script type="math/tex" id="MathJax-Element-8">1</script>.</p><p>However, we notice that a triangle of side lengths <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-37"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-38">p</span></span></span><script type="math/tex" id="MathJax-Element-9">p</script>, <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-39"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-40">q</span></span></span><script type="math/tex" id="MathJax-Element-10">q</script>, <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-41"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-42">p</span><span class="MJXp-mo" id="MJXp-Span-43" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-44">q</span><span class="MJXp-mo" id="MJXp-Span-45" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-46">1</span></span></span><script type="math/tex" id="MathJax-Element-11">p+q-1</script> is always non-degenerate due to the following:</p><ul> <li> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-47"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-48">p</span><span class="MJXp-mo" id="MJXp-Span-49" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-50">q</span><span class="MJXp-mo" id="MJXp-Span-51" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">p</span><span class="MJXp-mo" id="MJXp-Span-53" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-54">q</span><span class="MJXp-mo" id="MJXp-Span-55" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-56">1</span></span></span><script type="math/tex" id="MathJax-Element-12">p+q>p+q-1</script>; </li><li> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-57"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-58">p</span><span class="MJXp-mo" id="MJXp-Span-59" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-60" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-61">p</span><span class="MJXp-mo" id="MJXp-Span-62" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-63">q</span><span class="MJXp-mo" id="MJXp-Span-64" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-65">1</span><span class="MJXp-mo" id="MJXp-Span-66" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-67" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-68">q</span></span></span><script type="math/tex" id="MathJax-Element-13">p+(p+q-1)>q</script> due to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-69"><span class="MJXp-mn" id="MJXp-Span-70">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71">p</span><span class="MJXp-mo" id="MJXp-Span-72" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-73">1</span><span class="MJXp-mo" id="MJXp-Span-74" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mn" id="MJXp-Span-75">0</span></span></span><script type="math/tex" id="MathJax-Element-14">2p-1>0</script>; </li><li> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-76"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-77">q</span><span class="MJXp-mo" id="MJXp-Span-78" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-79" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80">p</span><span class="MJXp-mo" id="MJXp-Span-81" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-82">q</span><span class="MJXp-mo" id="MJXp-Span-83" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-84">1</span><span class="MJXp-mo" id="MJXp-Span-85" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-86" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-87">p</span></span></span><script type="math/tex" id="MathJax-Element-15">q+(p+q-1)>p</script> due to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-88"><span class="MJXp-mn" id="MJXp-Span-89">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-90">q</span><span class="MJXp-mo" id="MJXp-Span-91" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mn" id="MJXp-Span-92">1</span><span class="MJXp-mo" id="MJXp-Span-93" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mn" id="MJXp-Span-94">0</span></span></span><script type="math/tex" id="MathJax-Element-16">2q-1>0</script>. </li></ul><p>Therefore, you can decrease the sum by exactly <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-95"><span class="MJXp-mn" id="MJXp-Span-96">1</span></span></span><script type="math/tex" id="MathJax-Element-17">1</script> on each operation. The maximum final sum (which is the last element) is thus <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-97"><span class="MJXp-mtext" id="MJXp-Span-98">sum</span><span class="MJXp-mo" id="MJXp-Span-99" style="margin-left: 0em; margin-right: 0.111em;">−</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-100">n</span><span class="MJXp-mo" id="MJXp-Span-101" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-102">1</span></span></span><script type="math/tex" id="MathJax-Element-18">\text{sum}-n+1</script>.</p></div></div></div></div></div></div> <div class="spoiler"><b class="spoiler-title">Code</b><div class="spoiler-content" style="display: block;"><pre><code class="prettyprint prettyprinted" style=""><span class="pln">t </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">int</span><span class="pun">(</span><span class="pln">input</span><span class="pun">())</span><span class="pln">
</span><span class="kwd">for</span><span class="pln"> _ </span><span class="kwd">in</span><span class="pln"> range</span><span class="pun">(</span><span class="pln">t</span><span class="pun">):</span><span class="pln">
    n </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">int</span><span class="pun">(</span><span class="pln">input</span><span class="pun">())</span><span class="pln">
    sm </span><span class="pun">=</span><span class="pln"> sum</span><span class="pun">(</span><span class="pln">map</span><span class="pun">(</span><span class="kwd">int</span><span class="pun">,</span><span class="pln"> input</span><span class="pun">().</span><span class="pln">split</span><span class="pun">()))</span><span class="pln">
    </span><span class="kwd">print</span><span class="pun">(</span><span class="pln">sm </span><span class="pun">-</span><span class="pln"> n </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span></code></pre></div></div><h2><a href="https://codeforces.com/contest/2074/problem/C" title="Codeforces Round 1009 (Div. 3)">2074C - XOR and Triangle</a></h2> <div class="spoiler"><b class="spoiler-title">Editorial</b><div class="spoiler-content" style="display: block;"><div><h3><a href="https://codeforces.com/contest/2074/problem/C" title="Codeforces Round 1009 (Div. 3)">2074C - XOR and Triangle</a></h3><div class="ttypography"><div class="problem-statement"><div><p>Let us interpret the triangle inequality in terms of bitmasking. Then, we get the following. (One is omitted as it is implied in the constraints.)</p><ul> <li> $$$x+y&gt;x \oplus y$$$, $$$(x \oplus y)+2(x \,\&amp;\, y)&gt; x \oplus y$$$, $$$x\,\&amp;\,y&gt;0$$$; </li><li> $$$y+(x \oplus y)&gt;x$$$, $$$y+(x + y) - 2(x\,\&amp;\,y)&gt; x$$$, $$$y &gt; x\,\&amp;\,y$$$. </li></ul><p>In other words, $$$y$$$ satisfies the following conditions.</p><ul> <li> $$$y$$$ contains at least one bit turned on in $$$x$$$; </li><li> $$$y$$$ contains at least one bit <span class="tex-font-style-bf">not</span> turned on in $$$x$$$. </li></ul><p>The smallest values of $$$y$$$ that satisfy this have exactly two bits turned on; one in $$$x$$$ and one not in it. Therefore, if one such value exists, then a smallest one can be found in $$$\mathcal{O}(\log ^2 x)$$$ time by simply bruteforcing all integers with two bits turned on. If any one of them is less than $$$x$$$, then it satisfies all conditions.</p><p>The problem has been solved in $$$\mathcal{O}(\log ^2 x)$$$ per test case. While there exist ways to solve it in $$$\mathcal{O}(\log x)$$$ per test case, they were not required.</p></div></div></div></div></div></div> <div class="spoiler"><b class="spoiler-title">Code</b><div class="spoiler-content" style="display: block;"><pre><code class="prettyprint prettyprinted" style=""><span class="pln">t </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">int</span><span class="pun">(</span><span class="pln">input</span><span class="pun">())</span><span class="pln">
</span><span class="kwd">for</span><span class="pln"> _ </span><span class="kwd">in</span><span class="pln"> range</span><span class="pun">(</span><span class="pln">t</span><span class="pun">):</span><span class="pln">
    x </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">int</span><span class="pun">(</span><span class="pln">input</span><span class="pun">())</span><span class="pln">
    ans </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> i </span><span class="kwd">in</span><span class="pln"> range</span><span class="pun">(</span><span class="lit">30</span><span class="pun">):</span><span class="pln">
        </span><span class="kwd">for</span><span class="pln"> j </span><span class="kwd">in</span><span class="pln"> range</span><span class="pun">(</span><span class="lit">30</span><span class="pun">):</span><span class="pln">
            y </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="lit">1</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> i</span><span class="pun">)</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="pun">(</span><span class="lit">1</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> j</span><span class="pun">)</span><span class="pln">
            </span><span class="kwd">if</span><span class="pln"> y </span><span class="pun">&lt;</span><span class="pln"> x </span><span class="kwd">and</span><span class="pln"> x </span><span class="pun">+</span><span class="pln"> y </span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">x </span><span class="pun">^</span><span class="pln"> y</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">and</span><span class="pln"> y </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">x </span><span class="pun">^</span><span class="pln"> y</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> x</span><span class="pun">:</span><span class="pln">
                ans </span><span class="pun">=</span><span class="pln"> y
    </span><span class="kwd">print</span><span class="pun">(</span><span class="pln">ans</span><span class="pun">)</span></code></pre></div></div><h2><a href="https://codeforces.com/contest/2074/problem/D" title="Codeforces Round 1009 (Div. 3)">2074D - Counting Points</a></h2> <div class="spoiler"><b class="spoiler-title">Editorial</b><div class="spoiler-content" style="display: block;"><div><h3><a href="https://codeforces.com/contest/2074/problem/D" title="Codeforces Round 1009 (Div. 3)">2074D - Counting Points</a></h3><div class="ttypography"><div class="problem-statement"><div><p>For some value of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-103"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-104">x</span></span></span><script type="math/tex" id="MathJax-Element-19">x</script> and a circle centered on <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-105"><span class="MJXp-mo" id="MJXp-Span-106" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-107"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-108" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-109" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-110" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-111">0</span><span class="MJXp-mo" id="MJXp-Span-112" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-20">(x_i,0)</script> with radius <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-113"><span class="MJXp-msubsup" id="MJXp-Span-114"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-115" style="margin-right: 0.05em;">r</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-116" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-21">r_i</script>, we can find the range of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-117"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-118">y</span></span></span><script type="math/tex" id="MathJax-Element-22">y</script> where the points lie on using simple algebra.</p><p><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math MJXp-display" id="MJXp-Span-119"><span class="MJXp-msubsup" id="MJXp-Span-120"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-121" style="margin-right: 0.05em;">y</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-122" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-123" style="margin-left: 0.333em; margin-right: 0.333em;">≤</span><span class="MJXp-msubsup" id="MJXp-Span-124"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-125" style="margin-right: 0.05em;">r</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-127">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-126">i</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-128" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mo" id="MJXp-Span-129" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-130">x</span><span class="MJXp-mo" id="MJXp-Span-131" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-132"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-133" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-134" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-msubsup" id="MJXp-Span-135"><span class="MJXp-mo" id="MJXp-Span-136" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-137" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-138" style="margin-left: 0.333em; margin-right: 0.333em;">⟹</span><span class="MJXp-mo" id="MJXp-Span-139" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msqrt" id="MJXp-Span-140"><span class="MJXp-surd"><span class="MJXp-right MJXp-scale8" style="font-size: 201%; margin-top: 0.07em; margin-left: -0.109em;">√</span></span><span class="MJXp-root"><span class="MJXp-rule" style="border-top: 0.089em solid;"></span><span class="MJXp-box"><span class="MJXp-msubsup" id="MJXp-Span-141"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-142" style="margin-right: 0.05em;">r</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-144">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-143">i</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-145" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mo" id="MJXp-Span-146" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-147">x</span><span class="MJXp-mo" id="MJXp-Span-148" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-149"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-150" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-151" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-msubsup" id="MJXp-Span-152"><span class="MJXp-mo" id="MJXp-Span-153" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-154" style="vertical-align: 0.5em;">2</span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-155" style="margin-left: 0.333em; margin-right: 0.333em;">≤</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-156">y</span><span class="MJXp-mo" id="MJXp-Span-157" style="margin-left: 0.333em; margin-right: 0.333em;">≤</span><span class="MJXp-msqrt" id="MJXp-Span-158"><span class="MJXp-surd"><span class="MJXp-right MJXp-scale8" style="font-size: 201%; margin-top: 0.07em; margin-left: -0.109em;">√</span></span><span class="MJXp-root"><span class="MJXp-rule" style="border-top: 0.089em solid;"></span><span class="MJXp-box"><span class="MJXp-msubsup" id="MJXp-Span-159"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-160" style="margin-right: 0.05em;">r</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-162">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-161">i</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-163" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mo" id="MJXp-Span-164" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-165">x</span><span class="MJXp-mo" id="MJXp-Span-166" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-167"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-168" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-169" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-msubsup" id="MJXp-Span-170"><span class="MJXp-mo" id="MJXp-Span-171" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-172" style="vertical-align: 0.5em;">2</span></span></span></span></span></span></span><script type="math/tex; mode=display" id="MathJax-Element-23">y^2 \le r_i^2-(x-x_i)^2 \Longrightarrow -\sqrt{r_i^2-(x-x_i)^2} \le y \le \sqrt{r_i^2-(x-x_i)^2}</script></p><p>Here, we can see that when <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-173"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-174">a</span><span class="MJXp-mo" id="MJXp-Span-175" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-176"><span class="MJXp-mo" id="MJXp-Span-177" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.389em;"><span class="MJXp-right MJXp-scale5" style="font-size: 2.556em; margin-left: -0.18em;">⌊</span></span><span class="MJXp-mrow" id="MJXp-Span-178"><span class="MJXp-msqrt" id="MJXp-Span-179"><span class="MJXp-surd"><span class="MJXp-right MJXp-scale8" style="font-size: 201%; margin-top: 0.07em; margin-left: -0.109em;">√</span></span><span class="MJXp-root"><span class="MJXp-rule" style="border-top: 0.089em solid;"></span><span class="MJXp-box"><span class="MJXp-msubsup" id="MJXp-Span-180"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-181" style="margin-right: 0.05em;">r</span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mn" id="MJXp-Span-183">2</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-182">i</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-184" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-mo" id="MJXp-Span-185" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-186">x</span><span class="MJXp-mo" id="MJXp-Span-187" style="margin-left: 0.267em; margin-right: 0.267em;">−</span><span class="MJXp-msubsup" id="MJXp-Span-188"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-189" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-190" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-msubsup" id="MJXp-Span-191"><span class="MJXp-mo" id="MJXp-Span-192" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-193" style="vertical-align: 0.5em;">2</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-194" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.389em;"><span class="MJXp-right MJXp-scale5" style="font-size: 2.556em; margin-left: -0.18em;">⌋</span></span></span></span></span><script type="math/tex" id="MathJax-Element-24">a=\left \lfloor {\sqrt{r_i^2-(x-x_i)^2}} \right \rfloor</script>, there are <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-195"><span class="MJXp-mn" id="MJXp-Span-196">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-197">a</span><span class="MJXp-mo" id="MJXp-Span-198" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-199">1</span></span></span><script type="math/tex" id="MathJax-Element-25">2a+1</script> different integer values of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-200"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-201">y</span></span></span><script type="math/tex" id="MathJax-Element-26">y</script> in this range.</p><p>Now, think of how to deal with when multiple circles cover the same value of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-202"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-203">x</span></span></span><script type="math/tex" id="MathJax-Element-27">x</script>. This is not too hard; you can compute the value of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-204"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-205">a</span></span></span><script type="math/tex" id="MathJax-Element-28">a</script> for all of them and take the largest one. The rest can be ignored as the largest value of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-206"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-207">a</span></span></span><script type="math/tex" id="MathJax-Element-29">a</script> covers all of them.</p><p>The implementation is not hard; it simply boils down to using a <span class="tex-font-style-tt">std::map</span> or some data structure to record the maximum value of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-208"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-209">a</span></span></span><script type="math/tex" id="MathJax-Element-30">a</script> for each value of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-210"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-211">x</span></span></span><script type="math/tex" id="MathJax-Element-31">x</script> that holds at least one point. The problem is solved in time complexity <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-212"><span class="MJXp-mrow" id="MJXp-Span-213"><span class="MJXp-mi MJXp-cal" id="MJXp-Span-214">O</span></span><span class="MJXp-mo" id="MJXp-Span-215" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-216">m</span><span class="MJXp-mi" id="MJXp-Span-217">log</span><span class="MJXp-mo" id="MJXp-Span-218" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-219">m</span><span class="MJXp-mo" id="MJXp-Span-220" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-32">\mathcal{O}(m \log m)</script>.</p><p>It is <span class="tex-font-style-it">technically</span> possible to solve the problem by fixing the value of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-221"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-222">y</span></span></span><script type="math/tex" id="MathJax-Element-33">y</script> instead of the value of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-223"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-224">x</span></span></span><script type="math/tex" id="MathJax-Element-34">x</script>, but it is significantly more tedious to implement.</p></div></div></div></div></div></div> <div class="spoiler"><b class="spoiler-title">Code</b><div class="spoiler-content" style="display: block;"><pre><code class="prettyprint prettyprinted" style=""><span class="com">#include</span><span class="pun">&lt;</span><span class="pln">bits</span><span class="pun">/</span><span class="pln">stdc</span><span class="pun">++.</span><span class="pln">h</span><span class="pun">&gt;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> </span><span class="kwd">namespace</span><span class="pln"> std</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> ll</span><span class="pun">=</span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">long</span><span class="pun">;</span><span class="pln">
 
</span><span class="kwd">int</span><span class="pln"> main</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> t</span><span class="pun">;</span><span class="pln">cin</span><span class="pun">&gt;&gt;</span><span class="pln">t</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">t</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> n</span><span class="pun">,</span><span class="pln">m</span><span class="pun">;</span><span class="pln">cin</span><span class="pun">&gt;&gt;</span><span class="pln">n</span><span class="pun">&gt;&gt;</span><span class="pln">m</span><span class="pun">;</span><span class="pln">
        map</span><span class="pun">&lt;</span><span class="pln">ll</span><span class="pun">,</span><span class="pln">ll</span><span class="pun">&gt;</span><span class="pln">cnt</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">auto</span><span class="pln"> isqrt</span><span class="pun">=[&amp;](</span><span class="pln">ll x</span><span class="pun">)</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            ll val</span><span class="pun">=</span><span class="pln">sqrtl</span><span class="pun">(</span><span class="pln">x</span><span class="pun">)+</span><span class="lit">5</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">while</span><span class="pun">(</span><span class="pln">val</span><span class="pun">*</span><span class="pln">val</span><span class="pun">&gt;</span><span class="pln">x</span><span class="pun">)</span><span class="pln">val</span><span class="pun">--;</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> val</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">};</span><span class="pln">
        vector</span><span class="str">&lt;ll&gt;</span><span class="pln">a</span><span class="pun">(</span><span class="pln">n</span><span class="pun">),</span><span class="pln">r</span><span class="pun">(</span><span class="pln">n</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">ll</span><span class="pun">&amp;</span><span class="pln">i</span><span class="pun">:</span><span class="pln">a</span><span class="pun">)</span><span class="pln">cin</span><span class="pun">&gt;&gt;</span><span class="pln">i</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">ll</span><span class="pun">&amp;</span><span class="pln">i</span><span class="pun">:</span><span class="pln">r</span><span class="pun">)</span><span class="pln">cin</span><span class="pun">&gt;&gt;</span><span class="pln">i</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            ll aa</span><span class="pun">=</span><span class="pln">a</span><span class="pun">[</span><span class="pln">i</span><span class="pun">],</span><span class="pln">rr</span><span class="pun">=</span><span class="pln">r</span><span class="pun">[</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
            </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">ll x</span><span class="pun">=</span><span class="pln">aa</span><span class="pun">-</span><span class="pln">rr</span><span class="pun">;</span><span class="pln">x</span><span class="pun">&lt;=</span><span class="pln">aa</span><span class="pun">+</span><span class="pln">rr</span><span class="pun">;</span><span class="pln">x</span><span class="pun">++)</span><span class="pln">
            </span><span class="pun">{</span><span class="pln">
                cnt</span><span class="pun">[</span><span class="pln">x</span><span class="pun">]=</span><span class="pln">max</span><span class="pun">(</span><span class="pln">cnt</span><span class="pun">[</span><span class="pln">x</span><span class="pun">],</span><span class="lit">2</span><span class="pun">*</span><span class="pln">isqrt</span><span class="pun">(</span><span class="pln">rr</span><span class="pun">*</span><span class="pln">rr</span><span class="pun">-(</span><span class="pln">x</span><span class="pun">-</span><span class="pln">aa</span><span class="pun">)*(</span><span class="pln">x</span><span class="pun">-</span><span class="pln">aa</span><span class="pun">))+</span><span class="lit">1</span><span class="pun">);</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        ll ans</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">auto</span><span class="pun">[</span><span class="pln">x</span><span class="pun">,</span><span class="pln">c</span><span class="pun">]:</span><span class="pln">cnt</span><span class="pun">)</span><span class="pln">ans</span><span class="pun">+=</span><span class="pln">c</span><span class="pun">;</span><span class="pln">
        cout</span><span class="pun">&lt;&lt;</span><span class="pln">ans</span><span class="pun">&lt;&lt;</span><span class="str">"\n"</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre></div></div><h2><a href="https://codeforces.com/contest/2074/problem/E" title="Codeforces Round 1009 (Div. 3)">2074E - Empty Triangle</a></h2> <div class="spoiler"><b class="spoiler-title">Editorial</b><div class="spoiler-content" style="display: block;"><div><h3><a href="https://codeforces.com/contest/2074/problem/E" title="Codeforces Round 1009 (Div. 3)">2074E - Empty Triangle</a></h3><div class="ttypography"><div class="problem-statement"><div><p>After querying the triple $$$(i,j,k)$$$ and receiving the index $$$p$$$, we seem to gain almost no info other than the following.</p><ul> <li> The three triples $$$(p,j,k)$$$, $$$(i,p,k)$$$, $$$(i,j,p)$$$ all yield strictly fewer points inside the triangle than $$$(i,j,k)$$$. </li></ul><p>One may think that repeatedly substituting one index arbitrarily with $$$p$$$ gets a worst case of $$$1498$$$ queries needed.</p><p>However, there is also the following information that we gain.</p><ul> <li> If we found $$$c_i$$$, $$$c_j$$$, $$$c_k$$$ points after substituting one index with $$$p$$$, and found $$$c$$$ points after querying $$$(i,j,k)$$$, then $$$c_i+c_j+c_k+1=c$$$. </li></ul><p>So, after finding $$$c_i+c_j+c_k=c-1$$$, we can infer the following facts.</p><ul> <li> Due to the pigeonhole principle, at least one of $$$c_i$$$, $$$c_j$$$, $$$c_k$$$ must be no greater than $$$\frac{c-1}{3}$$$. </li><li> Then, if we substitute one index <span class="tex-font-style-bf">at random with equal probability</span>, we choose this triangle with $$$\frac{1}{3}$$$ probability. </li></ul><p>We can expect to choose the 'good' triangle $$$\frac{75}{3}=25$$$ times on average, and the number of points inside decreases to $$$0$$$ after choosing the 'good' triangle at least $$$\left \lfloor {\log_3(n)} \right \rfloor +1 \le 7$$$ times. As $$$7 \ll 25$$$, we can expect that we will almost certainly find some empty triangle within $$$75$$$ queries.</p><p>Asking Wolfram Alpha for the probability after modeling the number of correct guesses as a binomial distribution, we can estimate the failure probability for one test case to be no greater than $$$2.4 \cdot 10^{-7}$$$. As $$$\left ( {1 - 2.4 \cdot 10^{-7}} \right )^{700} &gt; 0.9998$$$, we find that this solution has strictly less than $$$0.02\%$$$ probability to fail on at least one of the test cases.</p><p>The asymptotic complexity on the number of queries required is $$$\mathcal{O}(\log n)$$$ <a href="https://en.wikipedia.org/wiki/With_high_probability">with high probability</a>.</p><p><span class="tex-font-style-it">Challenge</span>:</p><ul> <li> In fact, this solution's failure probability for one test case is actually much less than given above, around $$$1.8 \cdot 10^{-20}$$$. Why? </li></ul></div></div></div></div></div></div> <div class="spoiler"><b class="spoiler-title">Code</b><div class="spoiler-content" style="display: block;"><pre><code class="prettyprint prettyprinted" style=""><span class="com">#include</span><span class="pun">&lt;</span><span class="pln">bits</span><span class="pun">/</span><span class="pln">stdc</span><span class="pun">++.</span><span class="pln">h</span><span class="pun">&gt;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> </span><span class="kwd">namespace</span><span class="pln"> std</span><span class="pun">;</span><span class="pln">
 
</span><span class="kwd">int</span><span class="pln"> main</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    mt19937 mt</span><span class="pun">(</span><span class="lit">727</span><span class="pun">);</span><span class="pln">
    uniform_int_distribution uni</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="lit">3</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> tc</span><span class="pun">;</span><span class="pln">cin</span><span class="pun">&gt;&gt;</span><span class="pln">tc</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">while</span><span class="pun">(</span><span class="pln">tc</span><span class="pun">--)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> n</span><span class="pun">;</span><span class="pln">cin</span><span class="pun">&gt;&gt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">n</span><span class="pun">&lt;</span><span class="lit">0</span><span class="pun">)</span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        vector</span><span class="str">&lt;int&gt;</span><span class="pln">vec</span><span class="pun">(</span><span class="pln">n</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">vec</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]=</span><span class="pln">i</span><span class="pun">+</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
        shuffle</span><span class="pun">(</span><span class="kwd">begin</span><span class="pun">(</span><span class="pln">vec</span><span class="pun">),</span><span class="kwd">end</span><span class="pun">(</span><span class="pln">vec</span><span class="pun">),</span><span class="pln">mt</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> ii</span><span class="pun">=</span><span class="pln">vec</span><span class="pun">[</span><span class="lit">0</span><span class="pun">],</span><span class="pln">jj</span><span class="pun">=</span><span class="pln">vec</span><span class="pun">[</span><span class="lit">1</span><span class="pun">],</span><span class="pln">kk</span><span class="pun">=</span><span class="pln">vec</span><span class="pun">[</span><span class="lit">2</span><span class="pun">];</span><span class="pln">
        cerr</span><span class="pun">&lt;&lt;</span><span class="pln">n</span><span class="pun">&lt;&lt;</span><span class="pln">endl</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">while</span><span class="pun">(</span><span class="lit">1</span><span class="pun">)</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            cout</span><span class="pun">&lt;&lt;</span><span class="str">"? "</span><span class="pun">&lt;&lt;</span><span class="pln">ii</span><span class="pun">&lt;&lt;</span><span class="str">" "</span><span class="pun">&lt;&lt;</span><span class="pln">jj</span><span class="pun">&lt;&lt;</span><span class="str">" "</span><span class="pun">&lt;&lt;</span><span class="pln">kk</span><span class="pun">&lt;&lt;</span><span class="pln">endl</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">int</span><span class="pln"> id</span><span class="pun">;</span><span class="pln">cin</span><span class="pun">&gt;&gt;</span><span class="pln">id</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">id</span><span class="pun">&lt;</span><span class="lit">0</span><span class="pun">)</span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">id</span><span class="pun">==</span><span class="lit">0</span><span class="pun">)</span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">int</span><span class="pln"> sw</span><span class="pun">=</span><span class="pln">uni</span><span class="pun">(</span><span class="pln">mt</span><span class="pun">);</span><span class="pln">
            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">sw</span><span class="pun">==</span><span class="lit">1</span><span class="pun">)</span><span class="pln">ii</span><span class="pun">=</span><span class="pln">id</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">sw</span><span class="pun">==</span><span class="lit">2</span><span class="pun">)</span><span class="pln">jj</span><span class="pun">=</span><span class="pln">id</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">else</span><span class="pln"> kk</span><span class="pun">=</span><span class="pln">id</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        cout</span><span class="pun">&lt;&lt;</span><span class="str">"! "</span><span class="pun">&lt;&lt;</span><span class="pln">ii</span><span class="pun">&lt;&lt;</span><span class="str">" "</span><span class="pun">&lt;&lt;</span><span class="pln">jj</span><span class="pun">&lt;&lt;</span><span class="str">" "</span><span class="pun">&lt;&lt;</span><span class="pln">kk</span><span class="pun">&lt;&lt;</span><span class="pln">endl</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre></div></div><h2><a href="https://codeforces.com/contest/2074/problem/F" title="Codeforces Round 1009 (Div. 3)">2074F - Counting Necessary Nodes</a></h2> <div class="spoiler"><b class="spoiler-title">Editorial</b><div class="spoiler-content" style="display: block;"><div><h3><a href="https://codeforces.com/contest/2074/problem/F" title="Codeforces Round 1009 (Div. 3)">2074F - Counting Necessary Nodes</a></h3><div class="ttypography"><div class="problem-statement"><div><p>Notice how the interval on each axis corresponds to <a href="https://atcoder.jp/contests/abc349/editorial/9879">those found in nodes of segment trees</a>.</p><p>Let us find the segment tree intervals on each axis and call those sets of intervals <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-225"><span class="MJXp-msubsup" id="MJXp-Span-226"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-227" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-228" style="vertical-align: -0.4em;">x</span></span></span></span><script type="math/tex" id="MathJax-Element-35">I_x</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-229"><span class="MJXp-msubsup" id="MJXp-Span-230"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-231" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-232" style="vertical-align: -0.4em;">y</span></span></span></span><script type="math/tex" id="MathJax-Element-36">I_y</script>.</p><p>Then, for each rectangle formed by some <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-233"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-234">a</span><span class="MJXp-mo" id="MJXp-Span-235" style="margin-left: 0.267em; margin-right: 0.267em;">×</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-236">b</span></span></span><script type="math/tex" id="MathJax-Element-37">a \times b</script> such that <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-237"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-238">a</span><span class="MJXp-mo" id="MJXp-Span-239" style="margin-left: 0.333em; margin-right: 0.333em;">∈</span><span class="MJXp-msubsup" id="MJXp-Span-240"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-242" style="vertical-align: -0.4em;">x</span></span></span></span><script type="math/tex" id="MathJax-Element-38">a \in I_x</script>, <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-243"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-244">b</span><span class="MJXp-mo" id="MJXp-Span-245" style="margin-left: 0.333em; margin-right: 0.333em;">∈</span><span class="MJXp-msubsup" id="MJXp-Span-246"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-247" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-248" style="vertical-align: -0.4em;">y</span></span></span></span><script type="math/tex" id="MathJax-Element-39">b \in I_y</script>, the following holds.</p><ul> <li> No node with side length strictly greater than <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-251"><span class="MJXp-mo" id="MJXp-Span-252" style="margin-left: 0.333em; margin-right: 0.333em;">min</span><span class="MJXp-mo" id="MJXp-Span-253" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mrow" id="MJXp-Span-254"><span class="MJXp-mo" id="MJXp-Span-255" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-256">a</span><span class="MJXp-mrow" id="MJXp-Span-257"><span class="MJXp-mo" id="MJXp-Span-258" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-259" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mrow" id="MJXp-Span-260"><span class="MJXp-mo" id="MJXp-Span-261" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-262">b</span><span class="MJXp-mrow" id="MJXp-Span-263"><span class="MJXp-mo" id="MJXp-Span-264" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-265" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-40">\min(|a|,|b|)</script> can cover this rectangle without moving outside the given region. </li><li> All nodes with side length no greater than <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-266"><span class="MJXp-mo" id="MJXp-Span-267" style="margin-left: 0.333em; margin-right: 0.333em;">min</span><span class="MJXp-mo" id="MJXp-Span-268" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mrow" id="MJXp-Span-269"><span class="MJXp-mo" id="MJXp-Span-270" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-271">a</span><span class="MJXp-mrow" id="MJXp-Span-272"><span class="MJXp-mo" id="MJXp-Span-273" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-274" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mrow" id="MJXp-Span-275"><span class="MJXp-mo" id="MJXp-Span-276" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-277">b</span><span class="MJXp-mrow" id="MJXp-Span-278"><span class="MJXp-mo" id="MJXp-Span-279" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-280" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-41">\min(|a|,|b|)</script> are either completely inside the rectangle or completely outside. </li></ul><p>Thus, we find the following strategy to cover the region optimally.</p><ul> <li> For all <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-281"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-282">a</span><span class="MJXp-mo" id="MJXp-Span-283" style="margin-left: 0.267em; margin-right: 0.267em;">×</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-284">b</span></span></span><script type="math/tex" id="MathJax-Element-42">a \times b</script> such that <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-285"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-286">a</span><span class="MJXp-mo" id="MJXp-Span-287" style="margin-left: 0.333em; margin-right: 0.333em;">∈</span><span class="MJXp-msubsup" id="MJXp-Span-288"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-289" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-290" style="vertical-align: -0.4em;">x</span></span></span></span><script type="math/tex" id="MathJax-Element-43">a \in I_x</script>, <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-291"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-292">b</span><span class="MJXp-mo" id="MJXp-Span-293" style="margin-left: 0.333em; margin-right: 0.333em;">∈</span><span class="MJXp-msubsup" id="MJXp-Span-294"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-295" style="margin-right: 0.05em;">I</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-296" style="vertical-align: -0.4em;">y</span></span></span></span><script type="math/tex" id="MathJax-Element-44">b \in I_y</script>, cover the sub-region with the following method. <ul> <li> As both <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-297"><span class="MJXp-mrow" id="MJXp-Span-298"><span class="MJXp-mo" id="MJXp-Span-299" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-300">a</span><span class="MJXp-mrow" id="MJXp-Span-301"><span class="MJXp-mo" id="MJXp-Span-302" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span></span></span><script type="math/tex" id="MathJax-Element-45">|a|</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-303"><span class="MJXp-mrow" id="MJXp-Span-304"><span class="MJXp-mo" id="MJXp-Span-305" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-306">b</span><span class="MJXp-mrow" id="MJXp-Span-307"><span class="MJXp-mo" id="MJXp-Span-308" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span></span></span><script type="math/tex" id="MathJax-Element-46">|b|</script> are powers of two, the larger one is divisible by the smaller one. </li><li> Therefore, we can cover the sub-region with nodes with side length <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-309"><span class="MJXp-mo" id="MJXp-Span-310" style="margin-left: 0.333em; margin-right: 0.333em;">min</span><span class="MJXp-mo" id="MJXp-Span-311" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mrow" id="MJXp-Span-312"><span class="MJXp-mo" id="MJXp-Span-313" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-314">a</span><span class="MJXp-mrow" id="MJXp-Span-315"><span class="MJXp-mo" id="MJXp-Span-316" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-317" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mrow" id="MJXp-Span-318"><span class="MJXp-mo" id="MJXp-Span-319" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-320">b</span><span class="MJXp-mrow" id="MJXp-Span-321"><span class="MJXp-mo" id="MJXp-Span-322" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-323" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-47">\min(|a|,|b|)</script>. </li><li> This requires us to use <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-324"><span class="MJXp-mfrac" id="MJXp-Span-325" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mo" id="MJXp-Span-326">max</span><span class="MJXp-mo" id="MJXp-Span-327">(</span><span class="MJXp-mrow" id="MJXp-Span-328"><span class="MJXp-mo" id="MJXp-Span-329">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-330">a</span><span class="MJXp-mrow" id="MJXp-Span-331"><span class="MJXp-mo" id="MJXp-Span-332">|</span></span><span class="MJXp-mo" id="MJXp-Span-333">,</span><span class="MJXp-mrow" id="MJXp-Span-334"><span class="MJXp-mo" id="MJXp-Span-335">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-336">b</span><span class="MJXp-mrow" id="MJXp-Span-337"><span class="MJXp-mo" id="MJXp-Span-338">|</span></span><span class="MJXp-mo" id="MJXp-Span-339">)</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mo" id="MJXp-Span-340">min</span><span class="MJXp-mo" id="MJXp-Span-341">(</span><span class="MJXp-mrow" id="MJXp-Span-342"><span class="MJXp-mo" id="MJXp-Span-343">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-344">a</span><span class="MJXp-mrow" id="MJXp-Span-345"><span class="MJXp-mo" id="MJXp-Span-346">|</span></span><span class="MJXp-mo" id="MJXp-Span-347">,</span><span class="MJXp-mrow" id="MJXp-Span-348"><span class="MJXp-mo" id="MJXp-Span-349">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-350">b</span><span class="MJXp-mrow" id="MJXp-Span-351"><span class="MJXp-mo" id="MJXp-Span-352">|</span></span><span class="MJXp-mo" id="MJXp-Span-353">)</span></span></span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-48">\frac{\max(|a|,|b|)}{\min(|a|,|b|)}</script> nodes. </li></ul> </li></ul><p>Implementing this leads to a solution with time complexity <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-354"><span class="MJXp-mrow" id="MJXp-Span-355"><span class="MJXp-mi MJXp-cal" id="MJXp-Span-356">O</span></span><span class="MJXp-mo" id="MJXp-Span-357" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-358"><span class="MJXp-mi" id="MJXp-Span-359" style="margin-right: 0.05em;">log</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-360" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-361" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-362">X</span><span class="MJXp-mo" id="MJXp-Span-363" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-49">\mathcal{O}(\log^2 X)</script>.</p><p>While there are solutions with time complexity <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-364"><span class="MJXp-mrow" id="MJXp-Span-365"><span class="MJXp-mi MJXp-cal" id="MJXp-Span-366">O</span></span><span class="MJXp-mo" id="MJXp-Span-367" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi" id="MJXp-Span-368">log</span><span class="MJXp-mo" id="MJXp-Span-369" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-370">X</span><span class="MJXp-mo" id="MJXp-Span-371" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-50">\mathcal{O}(\log X)</script>, they were not needed.</p></div></div></div></div></div></div> <div class="spoiler"><b class="spoiler-title">Code</b><div class="spoiler-content" style="display: block;"><pre><code class="prettyprint prettyprinted" style=""><span class="com">#include</span><span class="pun">&lt;</span><span class="pln">bits</span><span class="pun">/</span><span class="pln">stdc</span><span class="pun">++.</span><span class="pln">h</span><span class="pun">&gt;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> </span><span class="kwd">namespace</span><span class="pln"> std</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> ll</span><span class="pun">=</span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">long</span><span class="pun">;</span><span class="pln">
 
</span><span class="kwd">int</span><span class="pln"> main</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> t</span><span class="pun">;</span><span class="pln">cin</span><span class="pun">&gt;&gt;</span><span class="pln">t</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">t</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> l1</span><span class="pun">,</span><span class="pln">r1</span><span class="pun">,</span><span class="pln">l2</span><span class="pun">,</span><span class="pln">r2</span><span class="pun">;</span><span class="pln">cin</span><span class="pun">&gt;&gt;</span><span class="pln">l1</span><span class="pun">&gt;&gt;</span><span class="pln">r1</span><span class="pun">&gt;&gt;</span><span class="pln">l2</span><span class="pun">&gt;&gt;</span><span class="pln">r2</span><span class="pun">;</span><span class="pln">
        vector</span><span class="pun">&lt;</span><span class="pln">pair</span><span class="pun">&lt;</span><span class="pln">ll</span><span class="pun">,</span><span class="pln">ll</span><span class="pun">&gt;&gt;</span><span class="pln">it1</span><span class="pun">,</span><span class="pln">it2</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">auto</span><span class="pln"> rec</span><span class="pun">=[&amp;](</span><span class="kwd">auto</span><span class="pln"> rec</span><span class="pun">,</span><span class="kwd">int</span><span class="pln"> L</span><span class="pun">,</span><span class="kwd">int</span><span class="pln"> R</span><span class="pun">,</span><span class="kwd">int</span><span class="pln"> l</span><span class="pun">,</span><span class="kwd">int</span><span class="pln"> r</span><span class="pun">,</span><span class="pln">vector</span><span class="pun">&lt;</span><span class="pln">pair</span><span class="pun">&lt;</span><span class="pln">ll</span><span class="pun">,</span><span class="pln">ll</span><span class="pun">&gt;&gt;&amp;</span><span class="pln">v</span><span class="pun">)-&gt;</span><span class="kwd">void</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">r</span><span class="pun">&lt;=</span><span class="pln">L</span><span class="pun">||</span><span class="pln">l</span><span class="pun">&gt;=</span><span class="pln">R</span><span class="pun">)</span><span class="kwd">return</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">l</span><span class="pun">&lt;=</span><span class="pln">L</span><span class="pun">&amp;&amp;</span><span class="pln">R</span><span class="pun">&lt;=</span><span class="pln">r</span><span class="pun">)</span><span class="pln">
            </span><span class="pun">{</span><span class="pln">
                v</span><span class="pun">.</span><span class="pln">emplace_back</span><span class="pun">(</span><span class="pln">L</span><span class="pun">,</span><span class="pln">R</span><span class="pun">);</span><span class="pln">
                </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            rec</span><span class="pun">(</span><span class="pln">rec</span><span class="pun">,</span><span class="pln">L</span><span class="pun">,(</span><span class="pln">L</span><span class="pun">+</span><span class="pln">R</span><span class="pun">)/</span><span class="lit">2</span><span class="pun">,</span><span class="pln">l</span><span class="pun">,</span><span class="pln">r</span><span class="pun">,</span><span class="pln">v</span><span class="pun">);</span><span class="pln">
            rec</span><span class="pun">(</span><span class="pln">rec</span><span class="pun">,(</span><span class="pln">L</span><span class="pun">+</span><span class="pln">R</span><span class="pun">)/</span><span class="lit">2</span><span class="pun">,</span><span class="pln">R</span><span class="pun">,</span><span class="pln">l</span><span class="pun">,</span><span class="pln">r</span><span class="pun">,</span><span class="pln">v</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">};</span><span class="pln">
        rec</span><span class="pun">(</span><span class="pln">rec</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">&lt;&lt;</span><span class="lit">25</span><span class="pun">,</span><span class="pln">l1</span><span class="pun">,</span><span class="pln">r1</span><span class="pun">,</span><span class="pln">it1</span><span class="pun">);</span><span class="pln">
        rec</span><span class="pun">(</span><span class="pln">rec</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">1</span><span class="pun">&lt;&lt;</span><span class="lit">25</span><span class="pun">,</span><span class="pln">l2</span><span class="pun">,</span><span class="pln">r2</span><span class="pun">,</span><span class="pln">it2</span><span class="pun">);</span><span class="pln">
        ll ans</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">auto</span><span class="pun">[</span><span class="pln">al</span><span class="pun">,</span><span class="pln">ar</span><span class="pun">]:</span><span class="pln">it1</span><span class="pun">)</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">auto</span><span class="pun">[</span><span class="pln">bl</span><span class="pun">,</span><span class="pln">br</span><span class="pun">]:</span><span class="pln">it2</span><span class="pun">)</span><span class="pln">
            </span><span class="pun">{</span><span class="pln">
                ll a</span><span class="pun">=</span><span class="pln">ar</span><span class="pun">-</span><span class="pln">al</span><span class="pun">,</span><span class="pln">b</span><span class="pun">=</span><span class="pln">br</span><span class="pun">-</span><span class="pln">bl</span><span class="pun">;</span><span class="pln">
                </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">a</span><span class="pun">&lt;</span><span class="pln">b</span><span class="pun">)</span><span class="pln">swap</span><span class="pun">(</span><span class="pln">a</span><span class="pun">,</span><span class="pln">b</span><span class="pun">);</span><span class="pln">
                ans</span><span class="pun">+=</span><span class="pln">a</span><span class="pun">/</span><span class="pln">b</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        cout</span><span class="pun">&lt;&lt;</span><span class="pln">ans</span><span class="pun">&lt;&lt;</span><span class="str">"\n"</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre></div></div><h2><a href="https://codeforces.com/contest/2074/problem/G" title="Codeforces Round 1009 (Div. 3)">2074G - Game With Triangles: Season 2</a></h2> <div class="spoiler"><b class="spoiler-title">Editorial</b><div class="spoiler-content" style="display: block;"><div><h3><a href="https://codeforces.com/contest/2074/problem/G" title="Codeforces Round 1009 (Div. 3)">2074G - Game With Triangles: Season 2</a></h3><div class="ttypography"><div class="problem-statement"><div><p>If we cut a single edge and consider the regular polygon as a polyline of $$$n$$$ points, then we can think of using some form of Range DP to solve this problem. This is correct when you simply take the maximum value over all possible edges you can cut. It is not hard to see that doing this should not change the overall time complexity (unless you did recalculate the same state multiple times). However, it is hard to immediately think of a transition that is both correct and efficient.</p><p>Let's find a trivially correct but slow solution and reduce the complexity. A correct $$$\mathcal{O}(n^5)$$$ DP which is (arguably) easy to find is as follows.</p><p>$$$$$$\text{dp}_{[L,R]}=\max_{L \le i &lt; j &lt; k \le R}{\left ({\text{dp}_{[L,i-1]}+\text{dp}_{[i+1,j-1]}+\text{dp}_{[j+1,k-1]}+\text{dp}_{[k+1,R]}+\text{score}(i,j,k)}\right )}$$$$$$</p><p>It is not too hard to prove the correctness of this transition, as it follows from the conditions such that two triangles will not coincide anywhere. It is only tricky for us to improve the complexity.</p><p>First, we can find that $$$\text{score}(i,j,k)$$$ will also be found with $$$L=i$$$ and $$$k=R$$$ later in some smaller subproblem. Then, our transition changes.</p><p>$$$$$$\text{dp}_{[L,R]}=\max\left ({ {\max_{L &lt; i &lt; R}{\left ({\text{dp}_{[L+1,i-1]}+\text{dp}_{[i+1,R-1]}+\text{score}(L,i,R)}\right )}},{\max_{L \le i &lt; j &lt; R}{\left ({\text{dp}_{[L,i]}+\text{dp}_{[i+1,j]}+\text{dp}_{[j+1,R]}}\right )}} }\right)$$$$$$</p><p>This is a correct $$$\mathcal{O}(n^4)$$$ DP which cuts a lot of useless transitions from the $$$\mathcal{O}(n^5)$$$. But it is, in fact, still redundant. It can be reduced further.</p><p>We only wanted to split our range into three disjoint ones. But even by just splitting the range into two, it later splits into two other disjoint ones in our subproblem. Now we don't need to split into three, only two is necessary. So it is as follows.</p><p>$$$$$$\text{dp}_{[L,R]}=\max\left ({ {\max_{L &lt; i &lt; R}{\left ({\text{dp}_{[L+1,i-1]}+\text{dp}_{[i+1,R-1]}+\text{score}(L,i,R)}\right )}},{\max_{L \le i &lt; R}{\left ({\text{dp}_{[L,i]}+\text{dp}_{[i+1,R]}}\right )}} }\right)$$$$$$</p><p>Now this computes the correct answer in $$$\mathcal{O}(n^3)$$$, which is the complexity we needed.</p><p>It is important to note that even though it might be easy to see the similarity to Triangulation DP problems (such as the Matrix Chain Product problem), it is not an immediate transformation from such problems. That is, it is not easy to lead to a correct transition by modifying the transition starting from Triangulation DP, and likely there will be quite an excessive amount of states that you need to compute even if you did.</p></div></div></div></div></div></div> <div class="spoiler"><b class="spoiler-title">Code</b><div class="spoiler-content" style="display: block;"><pre><code class="prettyprint prettyprinted" style=""><span class="com">#include</span><span class="pun">&lt;</span><span class="pln">bits</span><span class="pun">/</span><span class="pln">stdc</span><span class="pun">++.</span><span class="pln">h</span><span class="pun">&gt;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> </span><span class="kwd">namespace</span><span class="pln"> std</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> ll</span><span class="pun">=</span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">long</span><span class="pun">;</span><span class="pln">
 
ll dp</span><span class="pun">[</span><span class="lit">505</span><span class="pun">][</span><span class="lit">505</span><span class="pun">];</span><span class="pln">
 
</span><span class="kwd">int</span><span class="pln"> main</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    cin</span><span class="pun">.</span><span class="pln">tie</span><span class="pun">(</span><span class="lit">0</span><span class="pun">)-&gt;</span><span class="pln">sync_with_stdio</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> t</span><span class="pun">;</span><span class="pln">cin</span><span class="pun">&gt;&gt;</span><span class="pln">t</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> tc</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">tc</span><span class="pun">&lt;</span><span class="pln">t</span><span class="pun">;</span><span class="pln">tc</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        ll n</span><span class="pun">;</span><span class="pln">cin</span><span class="pun">&gt;&gt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln">
        vector</span><span class="str">&lt;ll&gt;</span><span class="pln">vec</span><span class="pun">(</span><span class="pln">n</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">ll</span><span class="pun">&amp;</span><span class="pln">i</span><span class="pun">:</span><span class="pln">vec</span><span class="pun">)</span><span class="pln">cin</span><span class="pun">&gt;&gt;</span><span class="pln">i</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> j</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&lt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln">j</span><span class="pun">++)</span><span class="pln">dp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="pln">j</span><span class="pun">]=-</span><span class="lit">1e18</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">auto</span><span class="pln"> </span><span class="kwd">value</span><span class="pun">=[&amp;](</span><span class="pln">ll i</span><span class="pun">,</span><span class="pln">ll j</span><span class="pun">,</span><span class="pln">ll k</span><span class="pun">)</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> i</span><span class="pun">*</span><span class="pln">j</span><span class="pun">*</span><span class="pln">k</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">};</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> len</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">len</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">len</span><span class="pun">++)</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> L</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">L</span><span class="pun">&lt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln">L</span><span class="pun">++)</span><span class="pln">
            </span><span class="pun">{</span><span class="pln">
                ll ans</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
                ll R</span><span class="pun">=(</span><span class="pln">L</span><span class="pun">+</span><span class="pln">len</span><span class="pun">-</span><span class="lit">1</span><span class="pun">)%</span><span class="pln">n</span><span class="pun">;</span><span class="pln">
                </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">len</span><span class="pun">&lt;=</span><span class="lit">2</span><span class="pun">)</span><span class="pln">
                </span><span class="pun">{</span><span class="pln">
                    dp</span><span class="pun">[</span><span class="pln">L</span><span class="pun">][</span><span class="pln">R</span><span class="pun">]=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
                    </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
                </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">len</span><span class="pun">==</span><span class="lit">3</span><span class="pun">)</span><span class="pln">
                </span><span class="pun">{</span><span class="pln">
                    dp</span><span class="pun">[</span><span class="pln">L</span><span class="pun">][</span><span class="pln">R</span><span class="pun">]=</span><span class="pln">max</span><span class="pun">(</span><span class="lit">0LL</span><span class="pun">,</span><span class="kwd">value</span><span class="pun">(</span><span class="pln">vec</span><span class="pun">[</span><span class="pln">L</span><span class="pun">],</span><span class="pln">vec</span><span class="pun">[(</span><span class="pln">L</span><span class="pun">+</span><span class="lit">1</span><span class="pun">)%</span><span class="pln">n</span><span class="pun">],</span><span class="pln">vec</span><span class="pun">[</span><span class="pln">R</span><span class="pun">]));</span><span class="pln">
                    </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
                </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=(</span><span class="pln">L</span><span class="pun">+</span><span class="lit">1</span><span class="pun">)%</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">!=</span><span class="pln">R</span><span class="pun">;</span><span class="pln">i</span><span class="pun">=(</span><span class="pln">i</span><span class="pun">+</span><span class="lit">1</span><span class="pun">)%</span><span class="pln">n</span><span class="pun">)</span><span class="pln">
                </span><span class="pun">{</span><span class="pln">
                    ll val</span><span class="pun">=</span><span class="kwd">value</span><span class="pun">(</span><span class="pln">vec</span><span class="pun">[</span><span class="pln">L</span><span class="pun">],</span><span class="pln">vec</span><span class="pun">[</span><span class="pln">i</span><span class="pun">],</span><span class="pln">vec</span><span class="pun">[</span><span class="pln">R</span><span class="pun">]);</span><span class="pln">
                    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">i</span><span class="pun">!=(</span><span class="pln">L</span><span class="pun">+</span><span class="lit">1</span><span class="pun">)%</span><span class="pln">n</span><span class="pun">)</span><span class="pln">val</span><span class="pun">+=</span><span class="pln">dp</span><span class="pun">[(</span><span class="pln">L</span><span class="pun">+</span><span class="lit">1</span><span class="pun">)%</span><span class="pln">n</span><span class="pun">][(</span><span class="pln">i</span><span class="pun">+</span><span class="pln">n</span><span class="pun">-</span><span class="lit">1</span><span class="pun">)%</span><span class="pln">n</span><span class="pun">];</span><span class="pln">
                    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">i</span><span class="pun">!=(</span><span class="pln">R</span><span class="pun">+</span><span class="pln">n</span><span class="pun">-</span><span class="lit">1</span><span class="pun">)%</span><span class="pln">n</span><span class="pun">)</span><span class="pln">val</span><span class="pun">+=</span><span class="pln">dp</span><span class="pun">[(</span><span class="pln">i</span><span class="pun">+</span><span class="lit">1</span><span class="pun">)%</span><span class="pln">n</span><span class="pun">][(</span><span class="pln">R</span><span class="pun">+</span><span class="pln">n</span><span class="pun">-</span><span class="lit">1</span><span class="pun">)%</span><span class="pln">n</span><span class="pun">];</span><span class="pln">
                    ans</span><span class="pun">=</span><span class="pln">max</span><span class="pun">(</span><span class="pln">ans</span><span class="pun">,</span><span class="pln">val</span><span class="pun">);</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
                </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="pln">L</span><span class="pun">;</span><span class="pln">i</span><span class="pun">!=</span><span class="pln">R</span><span class="pun">;</span><span class="pln">i</span><span class="pun">=(</span><span class="pln">i</span><span class="pun">+</span><span class="lit">1</span><span class="pun">)%</span><span class="pln">n</span><span class="pun">)</span><span class="pln">
                </span><span class="pun">{</span><span class="pln">
                    ans</span><span class="pun">=</span><span class="pln">max</span><span class="pun">(</span><span class="pln">ans</span><span class="pun">,</span><span class="pln">dp</span><span class="pun">[</span><span class="pln">L</span><span class="pun">][</span><span class="pln">i</span><span class="pun">]+</span><span class="pln">dp</span><span class="pun">[(</span><span class="pln">i</span><span class="pun">+</span><span class="lit">1</span><span class="pun">)%</span><span class="pln">n</span><span class="pun">][</span><span class="pln">R</span><span class="pun">]);</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
                dp</span><span class="pun">[</span><span class="pln">L</span><span class="pun">][</span><span class="pln">R</span><span class="pun">]=</span><span class="pln">ans</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        ll ans</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            ans</span><span class="pun">=</span><span class="pln">max</span><span class="pun">(</span><span class="pln">ans</span><span class="pun">,</span><span class="pln">dp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][(</span><span class="pln">i</span><span class="pun">+</span><span class="pln">n</span><span class="pun">-</span><span class="lit">1</span><span class="pun">)%</span><span class="pln">n</span><span class="pun">]);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        cout</span><span class="pun">&lt;&lt;</span><span class="pln">ans</span><span class="pun">&lt;&lt;</span><span class="str">"\n"</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre></div></div></div>

    </div>


        <div style="font-size: 1.1rem;line-height: 1.1rem;padding-bottom: 0.5em;">
            <img src="https://codeforces.com//codeforces.com/codeforces.org/s/52448/images/icons/paperclip-16x16.png" style="vertical-align: middle;"> <span style="padding: 0 0.35em;">Tutorial of <a href="https://codeforces.com/contest/2074" class="notice" style="text-decoration: none;">Codeforces Round 1009 (Div. 3)</a> </span>
        </div>
        
            

  <script>
    // Make all spoilers toggleable
    document.querySelectorAll('.spoiler-title').forEach(title => {
      title.addEventListener('click', function() {
        const spoiler = this.closest('.spoiler');
        spoiler.classList.toggle('open');
      });
    });
    
    // Open all spoilers by default for easier reading
    document.querySelectorAll('.spoiler').forEach(spoiler => {
      spoiler.classList.add('open');
    });
  </script>
</body>
</html>