{
  "contestId": 2074,
  "index": "E",
  "title": "Empty Triangle",
  "timeLimit": "",
  "memoryLimit": "",
  "rating": 1600,
  "tags": [
    "geometry",
    "interactive",
    "probabilities"
  ],
  "statementHtml": "",
  "inputSpecHtml": "",
  "outputSpecHtml": "",
  "noteHtml": "",
  "samples": [],
  "images": [],
  "url": "https://codeforces.com/contest/2074/problem/E",
  "tutorialHtml": "<div><div class=\"ttypography\"><div class=\"problem-statement\"><div><p>After querying the triple $$$(i,j,k)$$$ and receiving the index $$$p$$$, we seem to gain almost no info other than the following.</p><ul> <li> The three triples $$$(p,j,k)$$$, $$$(i,p,k)$$$, $$$(i,j,p)$$$ all yield strictly fewer points inside the triangle than $$$(i,j,k)$$$. </li></ul><p>One may think that repeatedly substituting one index arbitrarily with $$$p$$$ gets a worst case of $$$1498$$$ queries needed.</p><p>However, there is also the following information that we gain.</p><ul> <li> If we found $$$c_i$$$, $$$c_j$$$, $$$c_k$$$ points after substituting one index with $$$p$$$, and found $$$c$$$ points after querying $$$(i,j,k)$$$, then $$$c_i+c_j+c_k+1=c$$$. </li></ul><p>So, after finding $$$c_i+c_j+c_k=c-1$$$, we can infer the following facts.</p><ul> <li> Due to the pigeonhole principle, at least one of $$$c_i$$$, $$$c_j$$$, $$$c_k$$$ must be no greater than $$$\\frac{c-1}{3}$$$. </li><li> Then, if we substitute one index <span class=\"tex-font-style-bf\">at random with equal probability</span>, we choose this triangle with $$$\\frac{1}{3}$$$ probability. </li></ul><p>We can expect to choose the 'good' triangle $$$\\frac{75}{3}=25$$$ times on average, and the number of points inside decreases to $$$0$$$ after choosing the 'good' triangle at least $$$\\left \\lfloor {\\log_3(n)} \\right \\rfloor +1 \\le 7$$$ times. As $$$7 \\ll 25$$$, we can expect that we will almost certainly find some empty triangle within $$$75$$$ queries.</p><p>Asking Wolfram Alpha for the probability after modeling the number of correct guesses as a binomial distribution, we can estimate the failure probability for one test case to be no greater than $$$2.4 \\cdot 10^{-7}$$$. As $$$\\left ( {1 - 2.4 \\cdot 10^{-7}} \\right )^{700} &gt; 0.9998$$$, we find that this solution has strictly less than $$$0.02\\%$$$ probability to fail on at least one of the test cases.</p><p>The asymptotic complexity on the number of queries required is $$$\\mathcal{O}(\\log n)$$$ <a href=\"https://en.wikipedia.org/wiki/With_high_probability\">with high probability</a>.</p><p><span class=\"tex-font-style-it\">Challenge</span>:</p><ul> <li> In fact, this solution's failure probability for one test case is actually much less than given above, around $$$1.8 \\cdot 10^{-20}$$$. Why? </li></ul></div></div></div></div>"
}