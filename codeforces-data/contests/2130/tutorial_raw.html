<html lang="en"><head>
        <script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script><script type="text/javascript" async="" src="https://www.googletagmanager.com/gtag/js?id=G-K230KVN22K&amp;cx=c&amp;gtm=4e5ca1"></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-743380-5"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'UA-743380-5');
        </script>

    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="X-Csrf-Token" content="8fb16b0623bf1fc4aebab848412185f3">
    <meta id="viewport" name="viewport" content="width=device-width, initial-scale=0.01">
    <meta name="robots" content="noai">
    <meta name="robots" content="noimageai">

    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/jquery-1.8.3.js"></script>
    <script type="application/javascript">
        window.locale = "en";
        window.standaloneContest = false;
        function adjustViewport() {
            var screenWidthPx = Math.min($(window).width(), window.screen.width);
            var siteWidthPx = 1100; // min width of site
            var ratio = Math.min(screenWidthPx / siteWidthPx, 1.0);
            var viewport = "width=device-width, initial-scale=" + ratio;
            $('#viewport').attr('content', viewport);
            var style = $('<style>html * { max-height: 1000000px; }</style>');
            $('html > head').append(style);
        }

        if ( /Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent) ) {
            adjustViewport();
        }

        /* Protection against trailing dot in domain. */
        let hostLength = window.location.host.length;
        if (hostLength > 1 && window.location.host[hostLength - 1] === '.') {
            window.location = window.location.protocol + "//" + window.location.host.substring(0, hostLength - 1);
        }
    </script>

    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="expires" content="-1">
    <meta http-equiv="profileName" content="l3">
    <meta name="google-site-verification" content="OTd2dN5x4nS4OPknPI9JFg36fKxjqY0i1PSfFPv_J90">
    <meta property="fb:admins" content="100001352546622">
    <meta property="og:image" content="//codeforces.com/codeforces.org/s/52448/images/codeforces-sponsored-by-ton.png">
    <link rel="image_src" href="//codeforces.com/codeforces.org/s/52448/images/codeforces-sponsored-by-ton.png">
    <meta property="og:title" content="Codeforces Round 1040 (Div. 1, Div. 2) Editorial - Codeforces">
    <meta property="og:description" content="">
    
    <meta property="og:site_name" content="Codeforces">
    
    
    
    
    
    
    <meta name="utc_offset" content="+03:00">
    <meta name="verify-reformal" content="f56f99fd7e087fb6ccb48ef2">
    <title>Codeforces Round 1040 (Div. 1, Div. 2) Editorial - Codeforces</title>
        <meta name="description" content="Codeforces. Programming competitions and contests, programming community">
        <meta name="keywords" content="programming algorithm contest competition informatics olympiads c++ java graphs vkcup">
    <meta name="robots" content="index, follow">

    <link rel="stylesheet" href="//codeforces.com/codeforces.org/s/52448/css/font-awesome.min.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="//codeforces.com/codeforces.org/s/52448/css/line-awesome.min.css" type="text/css" charset="utf-8">

        <link rel="preconnect" href="https://challenges.cloudflare.com">
        <link rel="dns-prefetch" href="https://challenges.cloudflare.com">
        <link href="//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700&amp;subset=latin,cyrillic" rel="stylesheet" type="text/css">
        <link href="//fonts.googleapis.com/css?family=Cuprum&amp;subset=latin,cyrillic" rel="stylesheet" type="text/css">


    <link rel="apple-touch-icon" sizes="57x57" href="//codeforces.com/codeforces.org/s/52448/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="//codeforces.com/codeforces.org/s/52448/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="//codeforces.com/codeforces.org/s/52448/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="//codeforces.com/codeforces.org/s/52448/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="//codeforces.com/codeforces.org/s/52448/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="//codeforces.com/codeforces.org/s/52448/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="//codeforces.com/codeforces.org/s/52448/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="//codeforces.com/codeforces.org/s/52448/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="//codeforces.com/codeforces.org/s/52448/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="//codeforces.com/codeforces.org/s/52448/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="//codeforces.com/codeforces.org/s/52448/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="//codeforces.com/codeforces.org/s/52448/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="//codeforces.com/codeforces.org/s/52448/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="//codeforces.com/codeforces.org/s/52448/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <!--CombineResourcesFilter-->
    <link rel="stylesheet" href="//codeforces.com/codeforces.org/s/52448/css/prettify.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="//codeforces.com/codeforces.org/s/52448/css/clear.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="//codeforces.com/codeforces.org/s/52448/css/style.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="//codeforces.com/codeforces.org/s/52448/css/ttypography.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="//codeforces.com/codeforces.org/s/52448/css/problem-statement.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="//codeforces.com/codeforces.org/s/52448/css/second-level-menu.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="//codeforces.com/codeforces.org/s/52448/css/roundbox.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="//codeforces.com/codeforces.org/s/52448/css/datatable.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="//codeforces.com/codeforces.org/s/52448/css/table-form.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="//codeforces.com/codeforces.org/s/52448/css/topic.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="//codeforces.com/codeforces.org/s/52448/css/jquery.jgrowl.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="//codeforces.com/codeforces.org/s/52448/css/facebox.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="//codeforces.com/codeforces.org/s/52448/css/jquery.wysiwyg.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="//codeforces.com/codeforces.org/s/52448/css/jquery.autocomplete.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="//codeforces.com/codeforces.org/s/52448/css/codeforces.datepick.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="//codeforces.com/codeforces.org/s/52448/css/colorbox.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="//codeforces.com/codeforces.org/s/52448/css/jquery.drafts.css" type="text/css" charset="utf-8">
        <link rel="stylesheet" href="//codeforces.com/codeforces.org/s/52448/css/community.css" type="text/css" charset="utf-8">

    <!-- MathJax -->
    <script type="text/x-mathjax-config;executed=true">
    MathJax.Hub.Config({
      tex2jax: {inlineMath: [['$$$','$$$']], displayMath: [['$$$$$$','$$$$$$']]}
    });
    MathJax.Hub.Register.StartupHook("End", function () {
        Codeforces.runMathJaxListeners();
    });
    </script>
    <script type="text/javascript" async="" src="https://codeforces.com/mathjax.codeforces.org/MathJax.js?config=TeX-AMS_HTML-full">
    </script>
    <!-- /MathJax -->

    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/prettify/prettify.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/moment-with-locales.min.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/pushstream.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/jquery.easing.min.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/jquery.lavalamp.min.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/jquery.jgrowl.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/jquery.swipe.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/jquery.hotkeys.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/facebox.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/jquery.wysiwyg.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/controls/wysiwyg.colorpicker.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/controls/wysiwyg.table.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/controls/wysiwyg.image.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/controls/wysiwyg.link.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/jquery.autocomplete.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/jquery.datepick.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/jquery.ie6blocker.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/jquery.colorbox-min.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/jquery.ba-bbq.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/jquery.drafts.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/clipboard.min.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/autosize.min.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/sjcl.js"></script>
    <script type="text/javascript" src="/scripts/5913b958cb6e1f2144469a313cc0ac6e/en/codeforces-options.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/codeforces.js?v=20160131"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/EventCatcher.js?v=20160131"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/preparedVerdictFormats-en.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/confetti.min.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/js/purify.min.js"></script>
    <!--/CombineResourcesFilter-->

    <link rel="stylesheet" href="//codeforces.com/codeforces.org/s/52448/markitup/skins/markitup/style.css" type="text/css" charset="utf-8">
    <link rel="stylesheet" href="//codeforces.com/codeforces.org/s/52448/markitup/sets/markdown/style.css" type="text/css" charset="utf-8">


    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/markitup/jquery.markitup.js"></script>
    <script type="text/javascript" src="//codeforces.com/codeforces.org/s/52448/markitup/sets/markdown/set.js"></script>

    <!--[if IE]>
    <style>
        #sidebar {
            padding-left: 1em;
            margin: 1em 1em 1em 0;
        }
    </style>
    <![endif]-->




<style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888; display: contents}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css" media="screen">#swfcontainer {visibility:hidden}</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover, .MJXp-munder {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > *, .MJXp-munder > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><style type="text/css">.MathJax_Display {text-align: center; margin: 1em 0em; position: relative; display: block!important; text-indent: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; width: 100%}
.MathJax .merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MathJax .MJX-monospace {font-family: monospace}
.MathJax .MJX-sans-serif {font-family: sans-serif}
#MathJax_Tooltip {background-color: InfoBackground; color: InfoText; border: 1px solid black; box-shadow: 2px 2px 5px #AAAAAA; -webkit-box-shadow: 2px 2px 5px #AAAAAA; -moz-box-shadow: 2px 2px 5px #AAAAAA; -khtml-box-shadow: 2px 2px 5px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true'); padding: 3px 4px; z-index: 401; position: absolute; left: 0; top: 0; width: auto; height: auto; display: none}
.MathJax {display: inline; font-style: normal; font-weight: normal; line-height: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0; min-height: 0; border: 0; padding: 0; margin: 0}
.MathJax:focus, body :focus .MathJax {display: inline-table}
.MathJax.MathJax_FullWidth {text-align: center; display: table-cell!important; width: 10000em!important}
.MathJax img, .MathJax nobr, .MathJax a {border: 0; padding: 0; margin: 0; max-width: none; max-height: none; min-width: 0; min-height: 0; vertical-align: 0; line-height: normal; text-decoration: none}
img.MathJax_strut {border: 0!important; padding: 0!important; margin: 0!important; vertical-align: 0!important}
.MathJax span {display: inline; position: static; border: 0; padding: 0; margin: 0; vertical-align: 0; line-height: normal; text-decoration: none; box-sizing: content-box}
.MathJax nobr {white-space: nowrap!important}
.MathJax img {display: inline!important; float: none!important}
.MathJax * {transition: none; -webkit-transition: none; -moz-transition: none; -ms-transition: none; -o-transition: none}
.MathJax_Processing {visibility: hidden; position: fixed; width: 0; height: 0; overflow: hidden}
.MathJax_Processed {display: none!important}
.MathJax_test {font-style: normal; font-weight: normal; font-size: 100%; font-size-adjust: none; text-indent: 0; text-transform: none; letter-spacing: normal; word-spacing: normal; overflow: hidden; height: 1px}
.MathJax_test.mjx-test-display {display: table!important}
.MathJax_test.mjx-test-inline {display: inline!important; margin-right: -1px}
.MathJax_test.mjx-test-default {display: block!important; clear: both}
.MathJax_ex_box {display: inline-block!important; position: absolute; overflow: hidden; min-height: 0; max-height: none; padding: 0; border: 0; margin: 0; width: 1px; height: 60ex}
.MathJax_em_box {display: inline-block!important; position: absolute; overflow: hidden; min-height: 0; max-height: none; padding: 0; border: 0; margin: 0; width: 1px; height: 60em}
.mjx-test-inline .MathJax_left_box {display: inline-block; width: 0; float: left}
.mjx-test-inline .MathJax_right_box {display: inline-block; width: 0; float: right}
.mjx-test-display .MathJax_right_box {display: table-cell!important; width: 10000em!important; min-width: 0; max-width: none; padding: 0; border: 0; margin: 0}
.MathJax .MathJax_HitBox {cursor: text; background: white; opacity: 0; filter: alpha(opacity=0)}
.MathJax .MathJax_HitBox * {filter: none; opacity: 1; background: transparent}
#MathJax_Tooltip * {filter: none; opacity: 1; background: transparent}
@font-face {font-family: MathJax_Main; src: url('https://codeforces.com/mathjax.codeforces.org/fonts/HTML-CSS/TeX/woff/MathJax_Main-Regular.woff?V=2.7.9') format('woff'), url('https://codeforces.com/mathjax.codeforces.org/fonts/HTML-CSS/TeX/otf/MathJax_Main-Regular.otf?V=2.7.9') format('opentype')}
@font-face {font-family: MathJax_Main-bold; src: url('https://codeforces.com/mathjax.codeforces.org/fonts/HTML-CSS/TeX/woff/MathJax_Main-Bold.woff?V=2.7.9') format('woff'), url('https://codeforces.com/mathjax.codeforces.org/fonts/HTML-CSS/TeX/otf/MathJax_Main-Bold.otf?V=2.7.9') format('opentype')}
@font-face {font-family: MathJax_Main-italic; src: url('https://codeforces.com/mathjax.codeforces.org/fonts/HTML-CSS/TeX/woff/MathJax_Main-Italic.woff?V=2.7.9') format('woff'), url('https://codeforces.com/mathjax.codeforces.org/fonts/HTML-CSS/TeX/otf/MathJax_Main-Italic.otf?V=2.7.9') format('opentype')}
@font-face {font-family: MathJax_Math-italic; src: url('https://codeforces.com/mathjax.codeforces.org/fonts/HTML-CSS/TeX/woff/MathJax_Math-Italic.woff?V=2.7.9') format('woff'), url('https://codeforces.com/mathjax.codeforces.org/fonts/HTML-CSS/TeX/otf/MathJax_Math-Italic.otf?V=2.7.9') format('opentype')}
@font-face {font-family: MathJax_Caligraphic; src: url('https://codeforces.com/mathjax.codeforces.org/fonts/HTML-CSS/TeX/woff/MathJax_Caligraphic-Regular.woff?V=2.7.9') format('woff'), url('https://codeforces.com/mathjax.codeforces.org/fonts/HTML-CSS/TeX/otf/MathJax_Caligraphic-Regular.otf?V=2.7.9') format('opentype')}
@font-face {font-family: MathJax_Size1; src: url('https://codeforces.com/mathjax.codeforces.org/fonts/HTML-CSS/TeX/woff/MathJax_Size1-Regular.woff?V=2.7.9') format('woff'), url('https://codeforces.com/mathjax.codeforces.org/fonts/HTML-CSS/TeX/otf/MathJax_Size1-Regular.otf?V=2.7.9') format('opentype')}
@font-face {font-family: MathJax_Size2; src: url('https://codeforces.com/mathjax.codeforces.org/fonts/HTML-CSS/TeX/woff/MathJax_Size2-Regular.woff?V=2.7.9') format('woff'), url('https://codeforces.com/mathjax.codeforces.org/fonts/HTML-CSS/TeX/otf/MathJax_Size2-Regular.otf?V=2.7.9') format('opentype')}
@font-face {font-family: MathJax_Size3; src: url('https://codeforces.com/mathjax.codeforces.org/fonts/HTML-CSS/TeX/woff/MathJax_Size3-Regular.woff?V=2.7.9') format('woff'), url('https://codeforces.com/mathjax.codeforces.org/fonts/HTML-CSS/TeX/otf/MathJax_Size3-Regular.otf?V=2.7.9') format('opentype')}
@font-face {font-family: MathJax_Size4; src: url('https://codeforces.com/mathjax.codeforces.org/fonts/HTML-CSS/TeX/woff/MathJax_Size4-Regular.woff?V=2.7.9') format('woff'), url('https://codeforces.com/mathjax.codeforces.org/fonts/HTML-CSS/TeX/otf/MathJax_Size4-Regular.otf?V=2.7.9') format('opentype')}
.MathJax .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body class=" "><div style="visibility: hidden; overflow: hidden; position: absolute; top: 0px; height: 1px; width: auto; padding: 0px; border: 0px; margin: 0px; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal;"><div id="MathJax_Hidden"><span class="MathJax MathJax_Processing" id="MathJax-Element-1-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-2-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-3-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-4-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-5-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-6-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-7-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-8-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-9-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-10-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-11-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-12-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-13-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-14-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-15-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-16-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-17-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-18-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-19-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-20-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-21-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-22-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-23-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-24-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-25-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-26-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-27-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-28-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-29-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-30-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-31-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-32-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-33-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-34-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-35-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-36-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-37-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-38-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-39-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-40-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-41-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-42-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-43-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-44-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-45-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-46-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-47-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-48-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-49-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-50-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-51-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-52-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-53-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-54-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-55-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-56-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-57-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-58-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-59-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-60-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-61-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-62-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-63-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-64-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-65-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-66-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-67-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-68-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-69-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-70-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-71-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-72-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-73-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-74-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-75-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-76-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-77-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-78-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-79-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-80-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-81-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-82-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-83-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-84-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-85-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-86-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-87-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-88-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-89-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-90-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-91-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-92-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-93-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-94-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-95-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-96-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-97-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-98-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-99-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-100-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-101-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-102-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-103-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-104-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-105-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-106-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-107-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-108-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-109-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-110-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-111-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-112-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-113-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-114-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-115-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-116-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-117-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-118-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-119-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-120-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-121-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-122-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-123-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-124-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-125-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-126-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-127-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-128-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-129-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-130-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-131-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-132-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-133-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-134-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-135-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-136-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-137-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-138-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-139-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-140-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-141-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-142-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-143-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-144-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-145-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-146-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-147-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-148-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-149-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-150-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-151-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-152-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-153-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-154-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-155-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-156-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-157-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-158-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-159-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-160-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-161-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-162-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-163-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-164-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-165-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-166-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-167-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-168-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-169-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-170-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-171-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-172-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-173-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-174-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-175-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-176-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-177-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-178-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-179-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-180-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-181-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-182-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-183-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-184-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-185-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-186-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-187-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-188-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-189-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-190-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-191-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-192-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-193-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-194-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-195-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-196-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-197-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-198-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-199-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-200-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-201-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-202-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-203-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-204-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-205-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-206-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-207-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-208-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-209-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-210-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-211-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-212-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-213-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-214-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-215-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-216-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-217-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-218-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-219-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-220-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-221-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-222-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-223-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-224-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-225-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-226-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-227-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-228-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-229-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-230-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-231-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-232-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-233-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-234-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-235-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-236-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-237-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-238-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-239-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-240-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-241-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-242-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-243-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-244-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-245-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-246-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-247-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-248-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-249-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-250-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-251-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-252-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-253-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-254-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-255-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-256-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-257-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-258-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-259-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-260-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-261-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-262-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-263-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-264-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-265-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-266-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-267-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-268-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-269-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-270-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-271-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-272-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-273-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-274-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-275-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-276-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-277-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-278-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-279-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-280-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-281-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-282-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-283-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-284-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-285-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-286-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-287-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-288-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-289-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-290-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-291-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-292-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-293-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-294-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-295-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-296-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-297-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-298-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-299-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-300-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-301-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-302-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-303-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-304-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-305-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-306-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-307-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-308-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-309-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-310-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-311-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-312-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-313-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-314-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-315-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-316-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-317-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-318-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-319-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-320-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-321-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-322-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-323-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-324-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-325-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-326-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-327-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-328-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-329-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-330-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-331-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-332-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-333-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-334-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-335-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-336-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-337-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-338-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-339-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-340-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-341-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-342-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-343-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-344-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-345-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-346-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-347-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-348-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-349-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-350-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-351-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-352-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-353-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-354-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-355-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-356-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-357-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-358-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-359-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-360-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-361-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-362-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-363-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-364-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-365-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-366-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-367-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-368-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-369-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-370-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-371-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-372-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-373-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-374-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-375-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-376-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-377-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-378-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-379-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-380-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-381-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-382-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-383-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-384-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-385-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-386-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-387-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-388-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-389-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-390-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-391-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-392-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-393-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-394-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-395-Frame" tabindex="0"></span><br><span class="MathJax MathJax_Processing" id="MathJax-Element-396-Frame" tabindex="0"></span><br></div></div><div id="MathJax_Message" style="">Processing math: 100%</div><span style="display:none;" class="csrf-token" data-csrf="8fb16b0623bf1fc4aebab848412185f3">&nbsp;</span>

<!-- .notificationTextCleaner used in Codeforces.showAnnouncements() -->
<div class="notificationTextCleaner" style="font-size: 0"></div>
<div class="button-up" style="display: none; opacity: 0.7; width: 50px; height:100%; position: fixed; left: 0; top: 0; cursor: pointer; text-align: center; line-height: 35px; color: #d3dbe4; font-weight: bold; font-size: 3.0rem;"><i class="icon-circle-arrow-up"></i></div>
<div class="verdictPrototypeDiv" style="display: none;"></div>

<!-- Codeforces JavaScripts. -->
<script type="text/javascript">
    String.prototype.hashCode = function() {
        var hash = 0, i, chr;
        if (this.length === 0) return hash;
        for (i = 0; i < this.length; i++) {
            chr   = this.charCodeAt(i);
            hash  = ((hash << 5) - hash) + chr;
            hash |= 0; // Convert to 32bit integer
        }
        return hash;
    };

    var queryMobile = Codeforces.queryString.mobile;
    if (queryMobile === "true" || queryMobile === "false") {
        Codeforces.putToStorage("useMobile", queryMobile === "true");
    } else {
        var useMobile = Codeforces.getFromStorage("useMobile");
        if (useMobile === true || useMobile === false) {
            if (useMobile != false) {
                Codeforces.redirect(Codeforces.updateUrlParameter(document.location.href, "mobile", useMobile));
            }
        }
    }
</script>

<script type="text/javascript">
    if (window.parent.frames.length > 0) {
        window.stop();
    }
</script>





    <script type="text/javascript">
        $(document).ready(function () {
    (function () {
        jQuery.expr[':'].containsCI = function(elem, index, match) {
            return !match || !match.length || match.length < 4 || !match[3] || (
                    elem.textContent || elem.innerText || jQuery(elem).text() || ''
            ).toLowerCase().indexOf(match[3].toLowerCase()) >= 0;
        }
    }(jQuery));

    $.ajaxPrefilter(function(options, originalOptions, xhr) {
        var csrf = Codeforces.getCsrfToken();

        if (csrf) {
            var data = originalOptions.data;
            if (originalOptions.data !== undefined) {
                if (Object.prototype.toString.call(originalOptions.data) === '[object String]') {
                    data = $.deparam(originalOptions.data);
                }
            } else {
                data = {};
            }
            options.data = $.param($.extend(data, { csrf_token: csrf }));
        }
    });

    window.getCodeforcesServerTime = function(callback) {
        $.post("/data/time", {}, callback, "json");
    }

    window.updateTypography = function () {
        $("div.ttypography code").addClass("tt");
        $("div.ttypography pre>code").addClass("prettyprint").removeClass("tt");
        $("div.ttypography table").addClass("bordertable");
        prettyPrint();
    }

    $.ajaxSetup({ scriptCharset: "utf-8" ,contentType: "application/x-www-form-urlencoded; charset=UTF-8", headers: {
        'X-Csrf-Token': Codeforces.getCsrfToken()
    }, beforeSend: function(jqXHR, settings) {
        const url = new URL(settings.url, window.location.href);
        const urlHref = url.href;
        url.searchParams.set('rv', Math.random().toString(36).substr(2, 9)); // Generate a random value
        settings.url = url.href;
    }});

    window.updateTypography();
    Codeforces.signForms();
    Codeforces.applyDatatableJs("Hold Ctrl+Alt and click to hide column. Also, you can drag&drop columns to reorder them.");

    setTimeout(function() {
        $(".second-level-menu-list").lavaLamp({
            fx: "backout",
            speed: 700
        });
    }, 100);


    Codeforces.countdown();
    $("a[rel='photobox']").colorbox();


    function showAnnouncements(json) {
        if (json.t === "a") {
            setTimeout(function() {
               Codeforces.showAnnouncements(json.d, "en");
            }, Math.random() * 500);
        }
    }

    function showEventCatcherUserMessage(json) {
        if (json.t === "s") {
            var points = json.d[5];
            var passedTestCount = json.d[7];
            var judgedTestCount = json.d[8];
            var verdict = preparedVerdictFormats[json.d[12]];
            var verdictPrototypeDiv = $(".verdictPrototypeDiv");
            verdictPrototypeDiv.html(verdict);
            if (judgedTestCount != null && judgedTestCount != undefined) {
                verdictPrototypeDiv.find(".verdict-format-judged").text(judgedTestCount);
            }
            if (passedTestCount != null && passedTestCount != undefined) {
                verdictPrototypeDiv.find(".verdict-format-passed").text(passedTestCount);
            }
            if (points != null && points != undefined) {
                verdictPrototypeDiv.find(".verdict-format-points").text(points);
            }
            Codeforces.showMessage(verdictPrototypeDiv.text());
        }
    }

    $(".clickable-title").each(function() {
        var title = $(this).attr("data-title");
        if (title) {
            var tmp = document.createElement("DIV");
            tmp.innerHTML = title;
            $(this).attr("title", tmp.textContent || tmp.innerText || "");
        }
    });

    $(".clickable-title").click(function() {
        const title = $(this).attr("data-title");
        const clazz = $(this).attr("data-clazz");
        const props = {};
        if (typeof (clazz) !== 'undefined') {
            props['clazz'] = clazz;
        }
        if (title) {
            Codeforces.alert(title, null, null, props);
        } else {
            Codeforces.alert($(this).attr("title"), null, null, props);
        }
    }).css("position", "relative").css("bottom", "3px");

        Codeforces.showDelayedMessage();

    Codeforces.reformatTimes();

    //Codeforces.initializePubSub();
    if (window.codeforcesOptions.subscribeServerUrl) {
        window.eventCatcher = new EventCatcher(
            window.codeforcesOptions.subscribeServerUrl,
            [
                Codeforces.getGlobalChannel(),
                Codeforces.getUserChannel(),
                Codeforces.getUserShowMessageChannel(),
                Codeforces.getContestChannel(),
                Codeforces.getParticipantChannel(),
                Codeforces.getTalkChannel()
            ]
        );

        if (Codeforces.getParticipantChannel()) {
            window.eventCatcher.subscribe(Codeforces.getParticipantChannel(), function(json) {
                showAnnouncements(json);
            });
        }

        if (Codeforces.getContestChannel()) {
            window.eventCatcher.subscribe(Codeforces.getContestChannel(), function(json) {
                showAnnouncements(json);
            });
        }

        if (Codeforces.getGlobalChannel()) {
            window.eventCatcher.subscribe(Codeforces.getGlobalChannel(), function(json) {
                showAnnouncements(json);
            });
        }

        if (Codeforces.getUserChannel()) {
            window.eventCatcher.subscribe(Codeforces.getUserChannel(), function(json) {
                showAnnouncements(json);
            });
        }

        if (Codeforces.getUserShowMessageChannel()) {
            window.eventCatcher.subscribe(Codeforces.getUserShowMessageChannel(), function(json) {
                showEventCatcherUserMessage(json);
            });
        }
    }

    Codeforces.setupContestTimes("/data/contests");
    Codeforces.setupSpoilers();
    Codeforces.setupTutorials("/data/problemTutorial");
        });
    </script>


<div id="body">
        

<div class="side-bell" style="visibility: hidden; display: none; opacity: 0.7; width: 40px; position: fixed; right: 0; top: 0; cursor: pointer; text-align: center; line-height: 35px; color: #d3dbe4; font-weight: bold; font-size: 1.5rem;">
    <span class="icon-stack" style="width: 100%;">
        <i class="icon-circle icon-stack-base"></i>
        <i class="icon-bell-alt icon-light"></i>
    </span>
    <br>
    <span class="side-bell__count" style="position: relative; top: -10px;"></span>
</div>


<div id="header" style="position: relative;">

    <div style="float:left; max-height: 60px;">
                            <a href="/"><img height="65" style="height: 65px;" alt="Codeforces" title="Codeforces" src="//codeforces.com/codeforces.org/s/52448/images/codeforces-sponsored-by-ton.png"></a>
    </div>
    <div class="lang-chooser">
            <div style="text-align: right;">
                <a href="?locale=en"><img src="//codeforces.com/codeforces.org/s/52448/images/flags/24/gb.png" title="In English" alt="In English"></a>
                <a href="?locale=ru"><img src="//codeforces.com/codeforces.org/s/52448/images/flags/24/ru.png" title="-" alt="-"></a>
            </div>

        <div>
                        <a href="/enter?back=%2Fblog%2Fentry%2F145152">Enter</a>
                     | 
                        <a href="/register">Register</a>
                    
        </div>

    </div>
    <br style="clear: both;">
</div>

        


    <div class="roundbox menu-box borderTopRound borderBottomRound" style="">
    <div class="menu-list-container">
    <ul class="menu-list main-menu-list">
                <li class=""><a href="/">Home</a></li>
                <li class=""><a href="/top">Top</a></li>
                <li class=""><a href="/catalog">Catalog</a></li>
                <li class=""><a href="/contests">Contests</a></li>
                <li class=""><a href="/gyms">Gym</a></li>
                <li class=""><a href="/problemset">Problemset</a></li>
                <li class=""><a href="/groups">Groups</a></li>
                <li class=""><a href="/ratings">Rating</a></li>
                <li class=""><a href="/edu/courses"><span class="edu-menu-item">Edu</span></a></li>
                <li class=""><a href="/apiHelp">API</a></li>
                <li class=""><a href="/calendar">Calendar</a></li>
                <li class=""><a href="/help">Help</a></li>
    </ul>
        <form method="post" action="/search"><input type="hidden" name="csrf_token" value="8fb16b0623bf1fc4aebab848412185f3">
            <input class="search" name="query" data-isplaceholder="true" value="">
        <input type="hidden" name="_tta" value="354"></form>
    <br style="clear: both;">
</div>

    </div>

    <script type="text/javascript">
        $(document).ready(function () {
            $("input.search").focus(function () {
                if ($(this).attr("data-isPlaceholder") === "true") {
                    $(this).val("");
                    $(this).removeAttr("data-isPlaceholder");
                }
            });
        });
    </script>
        
            <br style="height: 3em; clear: both;">

        <div style="position: relative;">
                        <div id="sidebar">

    <div class="roundbox sidebox borderTopRound " style="">
        <div class="caption titled"> Pay attention
            <div class="top-links">
            </div>
        </div>
<div style="padding: 0.5em;">
        <div style="text-align:center;">
            <span class="contest-state-phase">Before contest</span><br><a href="/contests/2181">2025-2026 ICPC, NERC, Northern Eurasia Finals (Unrated, Online Mirror, ICPC Rules, Teams Preferred)</a><br><span class="countdown" home="//codeforces.com/codeforces.org/s/52448" noredirection="true" textbeforeredirect="" cdid="i1"><span title="67:44:29">3 days</span></span><br><a href="/contestRegistration/2181">Register now </a>
        </div>
</div>
    </div>

<style data-nocturne="true" type="text/css">
._StreamsSidebarFrame_frame {
  padding: 0.5em 0.5em 0 0.5em;
}
._StreamsSidebarFrame_frame ._StreamsSidebarFrame_stream {
  text-align: center;
  border-bottom: 1px solid #b9b9b9;
  margin: 0 -0.5em 0.5em -0.5em;
  padding: 0 1em 0.5em 1em;
}
._StreamsSidebarFrame_frame ._StreamsSidebarFrame_stream ._StreamsSidebarFrame_user {
  margin: 0 0 0.5em 0;
  font-size: 0.8em;
}
._StreamsSidebarFrame_frame ._StreamsSidebarFrame_stream ._StreamsSidebarFrame_timeMark {
  color: #777;
  font-size: 0.9em;
}
._StreamsSidebarFrame_frame ._StreamsSidebarFrame_stream:last-of-type {
  border-bottom: unset;
  margin: unset;
  padding: 0 0.5em 0.5em 1em;
}
._StreamsSidebarFrame_frame ._viewAll {
  text-align: right;
}
.moreRunningStreamsSidebarNote {
  color: #777 !important;
  text-decoration: none;
}
</style>




    <div class="roundbox sidebox borderTopRound " style="">
        <div class="caption titled"> Streams
            <div class="top-links">
            </div>
        </div>
            <div class="_StreamsSidebarFrame_frame">
                    <div class="_StreamsSidebarFrame_stream">
                        <div class="_StreamsSidebarFrame_name">
        <p class="_englishName _name">
            
            <a href="/stream/865">Repovive Opening Contest  Solution Discussion</a>
        </p>

                        </div>

                        <div class="_StreamsSidebarFrame_user">
                            By <a href="/profile/Shayan" title="International Grandmaster Shayan" class="rated-user user-red">Shayan</a>
                        </div>

                            <div class="_StreamsSidebarFrame_countdown _StreamsSidebarFrame_timeMark">
                                Before stream
                                <span class="countdown" noredirection="true" cdid="i2">05:19:28</span>
                            </div>
                    </div>
            </div>
            <div class="bottom-links">
                <table style="width:100%;">
                    <tbody>
                        <tr>
                            <td style="text-align:left;">
                            </td>
                            <td style="text-align:right;">
                                    <a href="/streams">View all </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
    </div>

<script data-nocturne="true"> $(function () {

}); </script>

<div class="roundbox sidebox top-contributed borderTopRound " style="">
<div class="caption titled"> Top rated
<div class="top-links">
</div>
</div>
<table class="rtable ">
<tbody>
<tr>
<th class="left" style="width:2.25em;">#</th>
<th class="">User</th>
<th class="" style="width:5em;">Rating</th>
</tr>
<tr>
<td class="left dark">1</td>
<td class=" dark"><a href="/profile/Kevin114514" title="Legendary Grandmaster Kevin114514" class="rated-user user-legendary"><span class="legendary-user-first-letter">K</span>evin114514</a></td>
<td class=" dark">3765</td>
</tr>
<tr>
<td class="left ">2</td>
<td class=""><a href="/profile/tourist" title="Legendary Grandmaster tourist" class="rated-user user-legendary"><span class="legendary-user-first-letter">t</span>ourist</a></td>
<td class="">3757</td>
</tr>
<tr>
<td class="left dark">3</td>
<td class=" dark"><a href="/profile/Benq" title="Legendary Grandmaster Benq" class="rated-user user-legendary"><span class="legendary-user-first-letter">B</span>enq</a></td>
<td class=" dark">3738</td>
</tr>
<tr>
<td class="left ">4</td>
<td class=""><a href="/profile/jiangly" title="Legendary Grandmaster jiangly" class="rated-user user-legendary"><span class="legendary-user-first-letter">j</span>iangly</a></td>
<td class="">3705</td>
</tr>
<tr>
<td class="left dark">5</td>
<td class=" dark"><a href="/profile/orzdevinwang" title="Legendary Grandmaster orzdevinwang" class="rated-user user-legendary"><span class="legendary-user-first-letter">o</span>rzdevinwang</a></td>
<td class=" dark">3670</td>
</tr>
<tr>
<td class="left ">6</td>
<td class=""><a href="/profile/ksun48" title="Legendary Grandmaster ksun48" class="rated-user user-legendary"><span class="legendary-user-first-letter">k</span>sun48</a></td>
<td class="">3668</td>
</tr>
<tr>
<td class="left dark">7</td>
<td class=" dark"><a href="/profile/Radewoosh" title="Legendary Grandmaster Radewoosh" class="rated-user user-legendary"><span class="legendary-user-first-letter">R</span>adewoosh</a></td>
<td class=" dark">3531</td>
</tr>
<tr>
<td class="left ">8</td>
<td class=""><a href="/profile/maroonrk" title="Legendary Grandmaster maroonrk" class="rated-user user-legendary"><span class="legendary-user-first-letter">m</span>aroonrk</a></td>
<td class="">3443</td>
</tr>
<tr>
<td class="left dark">9</td>
<td class=" dark"><a href="/profile/dXqwq" title="Legendary Grandmaster dXqwq" class="rated-user user-legendary"><span class="legendary-user-first-letter">d</span>Xqwq</a></td>
<td class=" dark">3436</td>
</tr>
<tr>
<td class="left bottom">10</td>
<td class="bottom"><a href="/profile/Nachia" title="Legendary Grandmaster Nachia" class="rated-user user-legendary"><span class="legendary-user-first-letter">N</span>achia</a></td>
<td class="bottom">3432</td>
</tr>
</tbody>
</table>
<div class="bottom-links">
<table style="width:100%;">
<tbody>
<tr>
<td style="text-align:left;">
<a href="/ratings/countries">Countries</a> |
<a href="/ratings/cities">Cities</a> |
<a href="/ratings/organizations">Organizations</a>
</td>
<td style="text-align:right;">
<a href="/ratings">View all </a>
</td>
</tr>
</tbody>
</table>
</div>
</div><div class="roundbox sidebox top-contributed borderTopRound " style="">
        <div class="caption titled"> Top contributors
            <div class="top-links">
            </div>
        </div>
        <table class="rtable ">
            <tbody>
                <tr>
                            <th class="left" style="width:2.25em;">#</th>
                            <th class="">User</th>
                            <th class="" style="width:5em;">Contrib.</th>
                </tr>
                    <tr>
                                <td class="left  dark">1</td>
                                <td class=" dark"><a href="/profile/Um_nik" title="Legendary Grandmaster Um_nik" class="rated-user user-legendary"><span class="legendary-user-first-letter">U</span>m_nik</a></td>
                                <td class=" dark">169</td>
                    </tr>
                    <tr>
                                <td class="left ">2</td>
                                <td class=""><a href="/profile/Qingyu" title="Legendary Grandmaster Qingyu" class="rated-user user-legendary"><span class="legendary-user-first-letter">Q</span>ingyu</a></td>
                                <td class="">166</td>
                    </tr>
                    <tr>
                                <td class="left  dark">3</td>
                                <td class=" dark"><a href="/profile/errorgorn" title="Legendary Grandmaster errorgorn" class="rated-user user-legendary"><span class="legendary-user-first-letter">e</span>rrorgorn</a></td>
                                <td class=" dark">163</td>
                    </tr>
                    <tr>
                                <td class="left ">4</td>
                                <td class=""><a href="/profile/adamant" title="Master adamant" class="rated-user user-orange">adamant</a></td>
                                <td class="">156</td>
                    </tr>
                    <tr>
                                <td class="left  dark">5</td>
                                <td class=" dark"><a href="/profile/Proof_by_QED" title="Master Proof_by_QED" class="rated-user user-orange">Proof_by_QED</a></td>
                                <td class=" dark">152</td>
                    </tr>
                    <tr>
                                <td class="left ">6</td>
                                <td class=""><a href="/profile/Dominater069" title="Legendary Grandmaster Dominater069" class="rated-user user-legendary"><span class="legendary-user-first-letter">D</span>ominater069</a></td>
                                <td class="">150</td>
                    </tr>
                    <tr>
                                <td class="left  dark">7</td>
                                <td class=" dark"><a href="/profile/cry" title="International Master cry" class="rated-user user-orange">cry</a></td>
                                <td class=" dark">149</td>
                    </tr>
                    <tr>
                                <td class="left ">8</td>
                                <td class=""><a href="/profile/TheScrasse" title="Grandmaster TheScrasse" class="rated-user user-red">TheScrasse</a></td>
                                <td class="">144</td>
                    </tr>
                    <tr>
                                <td class="left  dark">9</td>
                                <td class=" dark"><a href="/profile/soullless" title="Master soullless" class="rated-user user-orange">soullless</a></td>
                                <td class=" dark">143</td>
                    </tr>
                    <tr>
                                <td class="left bottom">10</td>
                                <td class="bottom"><a href="/profile/Arpa" title="International Master Arpa" class="rated-user user-orange">Arpa</a></td>
                                <td class="bottom">141</td>
                    </tr>
            </tbody>
        </table>
            <div class="bottom-links">
                <table style="width:100%;">
                    <tbody>
                        <tr>
                            <td style="text-align:left;">
                            </td>
                            <td style="text-align:right;">
                                    <a href="/top-contributed">View all </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
    </div>

    <script type="text/javascript">
        $(document).ready(function () {
        });
    </script>


    <div class="roundbox sidebox borderTopRound " style="">
        <div class="caption titled"> Find user
            <div class="top-links">
            </div>
        </div>
        <form class="handleForm" method="post" autocomplete="off"><input type="hidden" name="csrf_token" value="8fb16b0623bf1fc4aebab848412185f3">
            <div style="padding:1em;text-align:right;">
                <label style="padding-right:1em;">Handle:
                    <input style="width:12em;" type="text" class="handleBox ac_input" autocomplete="off">
                </label>
            </div>
            <div style="padding: 0 1em 1em 1em;text-align:right;">
                <input style="height:1.65em;padding:0 0.75em;" type="submit" value="Find">
            </div>
        <input type="hidden" name="_tta" value="354"></form>
    </div>
    <script type="text/javascript">
        $(document).ready(function () {
    $(".handleBox").autocompleteHandle();
    $(".handleForm").attr("autocomplete", "off").submit(function () {
        var link = "/profile/userHandle".replace(
            "userHandle", $(this).find(".handleBox").val()
        );
        window.location = link;
        return false;
    });
        });
    </script>





    <div class="roundbox sidebox borderTopRound " style="">
        <div class="caption titled"> Recent actions
            <div class="top-links">
            </div>
        </div>
        <div class="recent-actions">
            <ul>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/ko_osaga" title="Legendary Grandmaster ko_osaga" class="rated-user user-legendary"><span class="legendary-user-first-letter">k</span>o_osaga</a>        
        <a href="/blog/entry/146988">Squarepoint Challenge (Codeforces Round 1055, Div. 1 + Div. 2) Editorial</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="//codeforces.com/codeforces.org/s/52448/images/icons/comment-12x12.png" style="vertical-align:middle;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/chenhongrui" title="Master chenhongrui" class="rated-user user-orange">chenhongrui</a>        
        <a href="/blog/entry/149032">A Concern Regarding AI</a>
&nbsp;&nbsp;<img alt="Text created or updated" title="Text created or updated" src="//codeforces.com/codeforces.org/s/52448/images/icons/x-update-12x12.png" style="vertical-align:middle;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/SecondThread" title="Grandmaster SecondThread" class="rated-user user-red">SecondThread</a>        
        <a href="/blog/entry/147893">Hacker Cup Round 1 Recap</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="//codeforces.com/codeforces.org/s/52448/images/icons/comment-12x12.png" style="vertical-align:middle;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/kisuke_007" title="Pupil kisuke_007" class="rated-user user-green">kisuke_007</a>        
        <a href="/blog/entry/110589">How to fix this?</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="//codeforces.com/codeforces.org/s/52448/images/icons/comment-12x12.png" style="vertical-align:middle;">
        <img alt="Necropost" title="Necropost" src="//codeforces.com/codeforces.org/s/52448/images/icons/hourglass.png" style="vertical-align:middle; position: relative; top: 1px;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/ABalobanov" title="Expert ABalobanov" class="rated-user user-blue">ABalobanov</a>        
        <a href="/blog/entry/149154">Codeforces Round 1070 (Div.2) Editorial</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="//codeforces.com/codeforces.org/s/52448/images/icons/comment-12x12.png" style="vertical-align:middle;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/atcoder_official" title="Unrated, atcoder_official" class="rated-user user-black">atcoder_official</a>        
        <a href="/blog/entry/149183">AtCoder Beginner Contest 436 Announcement</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="//codeforces.com/codeforces.org/s/52448/images/icons/comment-12x12.png" style="vertical-align:middle;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/MathModel" title="Expert MathModel" class="rated-user user-blue">MathModel</a>        
        <a href="/blog/entry/149013">Invitation to Eolymp Blitz #8 (Rating Upto 1750)</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="//codeforces.com/codeforces.org/s/52448/images/icons/comment-12x12.png" style="vertical-align:middle;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/Coxin_Hor" title="Expert Coxin_Hor" class="rated-user user-blue">Coxin_Hor</a>        
        <a href="/blog/entry/149220">A fun contest I created myself.</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="//codeforces.com/codeforces.org/s/52448/images/icons/comment-12x12.png" style="vertical-align:middle;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/saPaul" title="Pupil saPaul" class="rated-user user-green">saPaul</a>        
        <a href="/blog/entry/149221">[Update] CF FetchCodes v25.12.7: Smart Retries, Lazy Loading &amp; Instant Caching!</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="//codeforces.com/codeforces.org/s/52448/images/icons/comment-12x12.png" style="vertical-align:middle;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/adamant" title="Master adamant" class="rated-user user-orange">adamant</a>        
        <a href="/blog/entry/149218">Finding all primes up to half a billion in 83 ms</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="//codeforces.com/codeforces.org/s/52448/images/icons/comment-12x12.png" style="vertical-align:middle;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/awoo" title="Grandmaster awoo" class="rated-user user-red">awoo</a>        
        <a href="/blog/entry/117791">Educational Codeforces Round 151 Editorial</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="//codeforces.com/codeforces.org/s/52448/images/icons/comment-12x12.png" style="vertical-align:middle;">
        <img alt="Necropost" title="Necropost" src="//codeforces.com/codeforces.org/s/52448/images/icons/hourglass.png" style="vertical-align:middle; position: relative; top: 1px;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/alireza_kaviani" title="International Grandmaster alireza_kaviani" class="rated-user user-red">alireza_kaviani</a>        
        <a href="/blog/entry/148411">Repovive Opening Contest</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="//codeforces.com/codeforces.org/s/52448/images/icons/comment-12x12.png" style="vertical-align:middle;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/flamestorm" title="International Master flamestorm" class="rated-user user-orange">flamestorm</a>        
        <a href="/blog/entry/104310">Codeforces Round #803 (Div. 2) Editorial</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="//codeforces.com/codeforces.org/s/52448/images/icons/comment-12x12.png" style="vertical-align:middle;">
        <img alt="Necropost" title="Necropost" src="//codeforces.com/codeforces.org/s/52448/images/icons/hourglass.png" style="vertical-align:middle; position: relative; top: 1px;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/SilverTongue1729" title="Candidate Master SilverTongue1729" class="rated-user user-violet">SilverTongue1729</a>        
        <a href="/blog/entry/149213">Codeforces Profile Preview  Chrome Extension</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="//codeforces.com/codeforces.org/s/52448/images/icons/comment-12x12.png" style="vertical-align:middle;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/Xiaohuba" title="Master Xiaohuba" class="rated-user user-orange">Xiaohuba</a>        
        <a href="/blog/entry/148062">Codeforces Global Round 30</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="//codeforces.com/codeforces.org/s/52448/images/icons/comment-12x12.png" style="vertical-align:middle;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/Ashwanth.K" title="Master Ashwanth.K" class="rated-user user-orange">Ashwanth.K</a>        
        <a href="/blog/entry/149201">SOS DP easy understanding</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="//codeforces.com/codeforces.org/s/52448/images/icons/comment-12x12.png" style="vertical-align:middle;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/BreakingNut" title="Specialist BreakingNut" class="rated-user user-cyan">BreakingNut</a>        
        <a href="/blog/entry/149177">Solved the Problem, Lost the Girlfriend</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="//codeforces.com/codeforces.org/s/52448/images/icons/comment-12x12.png" style="vertical-align:middle;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/ProblemTerminator" title="International Master ProblemTerminator" class="rated-user user-orange">ProblemTerminator</a>        
        <a href="/blog/entry/149005">pls ban cheater sinha_yash and rollback the rating</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="//codeforces.com/codeforces.org/s/52448/images/icons/comment-12x12.png" style="vertical-align:middle;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/cry" title="International Master cry" class="rated-user user-orange">cry</a>        
        <a href="/blog/entry/137325">GIFs in Problem Statements are Broken</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="//codeforces.com/codeforces.org/s/52448/images/icons/comment-12x12.png" style="vertical-align:middle;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/Um_nik" title="Legendary Grandmaster Um_nik" class="rated-user user-legendary"><span class="legendary-user-first-letter">U</span>m_nik</a>        
        <a href="/blog/entry/146705">On AI ruining "solving math problems with computer" [a year later]</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="//codeforces.com/codeforces.org/s/52448/images/icons/comment-12x12.png" style="vertical-align:middle;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/m_manasc" title="Pupil m_manasc" class="rated-user user-green">m_manasc</a>        
        <a href="/blog/entry/149219">An interesting problem</a>
&nbsp;&nbsp;<img alt="Text created or updated" title="Text created or updated" src="//codeforces.com/codeforces.org/s/52448/images/icons/x-update-12x12.png" style="vertical-align:middle;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/SecondThread" title="Grandmaster SecondThread" class="rated-user user-red">SecondThread</a>        
        <a href="/blog/entry/148802">Meta Hacker Cup Round 3</a>
&nbsp;&nbsp;<img alt="Text created or updated" title="Text created or updated" src="//codeforces.com/codeforces.org/s/52448/images/icons/x-update-12x12.png" style="vertical-align:middle;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/Top12" title="Expert Top12" class="rated-user user-blue">Top12</a>        
        <a href="/blog/entry/149216">From TLE to AC using magic!</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="//codeforces.com/codeforces.org/s/52448/images/icons/comment-12x12.png" style="vertical-align:middle;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/TheScrasse" title="Grandmaster TheScrasse" class="rated-user user-red">TheScrasse</a>        
        <a href="/blog/entry/148631">Codeforces Round 1066 (Div. 1 + Div. 2) Editorial</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="//codeforces.com/codeforces.org/s/52448/images/icons/comment-12x12.png" style="vertical-align:middle;">
</div>
</li>
                        <li><div style="font-size:0.9em;padding:0.5em 0;">
<a href="/profile/MohamedAboOkail" title="Specialist MohamedAboOkail" class="rated-user user-cyan">MohamedAboOkail</a>        
        <a href="/blog/entry/149116">Removing the cheaters</a>
&nbsp;&nbsp;<img alt="New comment(s)" title="New comment(s)" src="//codeforces.com/codeforces.org/s/52448/images/icons/comment-12x12.png" style="vertical-align:middle;">
</div>
</li>
            </ul>
        </div>
            <div class="bottom-links">
                <table style="width:100%;">
                    <tbody>
                        <tr>
                            <td style="text-align:left;">
                            </td>
                            <td style="text-align:right;">
                                    <a href="/recent-actions">Detailed </a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
    </div>
</div>
                        <div id="pageContent" class="content-with-sidebar">
                    <div class="second-level-menu">
<ul class="second-level-menu-list"><li class="backLava" style="position: absolute; display: block; margin: 0px; padding: 0px; left: 63.0312px; top: 0px; width: 39px; height: 20px;"><div class="leftLava"></div><div class="bottomLava"></div><div class="cornerLava"></div></li>
        <li><a href="/profile/wuhudsm">wuhudsm</a></li>
        <li class="current selectedLava"><a href="/blog/wuhudsm">Blog</a></li>
        <li><a href="/teams/with/wuhudsm">Teams</a></li>
        <li><a href="/submissions/wuhudsm">Submissions</a></li>
        <li><a href="/groups/with/wuhudsm">Groups</a></li>
        <li><a href="/contests/with/wuhudsm">Contests</a></li>
        <li><a href="/contests/writer/wuhudsm">Problemsetting</a></li>
</ul>
</div>
    <div style="margin-top:0;">
    <div>
        <h3><a href="/blog/wuhudsm" style="text-decoration:none;color:black !important;">wuhudsm's blog</a></h3>
    </div>
        <div style="margin-top:2em;">


<div class="has-topic-id topic" topicid="145786">
    <div class="title">
            <a href="/blog/entry/145152">            <p>Codeforces Round 1040 (Div. 1, Div. 2) Editorial</p>
</a>
    </div>

        <div class="info" style="position:relative;">
                By&nbsp;<a href="/profile/wuhudsm" title="Candidate Master wuhudsm" class="rated-user user-violet">wuhudsm</a>,
                    <a href="/topic/145786/en41">history</a>,
                    <span class="format-humantime" title="Jul/30/2025 02:42 UTC">5 months ago</span>,
                
                <img style="position: relative;top: 5px;" src="//codeforces.com/codeforces.org/s/52448/images/flags/24/gb.png" alt="In English" title="In English">



            <div class="topic-actions smaller">
                <ul>


                </ul>
            </div>
        </div>

    <div class="content">
        <div class="ttypography"><p>Thank you for participation and we hope you enjoy this round :)</p> <div class="spoiler"><b class="spoiler-title">How did you find the contest?</b><div class="spoiler-content" style="display: none;"><ul>   <li>Great: 
<style data-nocturne="true" type="text/css">

</style>

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11099">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="415">415</span>
            </i>
        </a>
    </span>

    <script>
        $(function() {
            const likeFormUtil = {};
            likeFormUtil.getCount = function ($count) {
                return Number($count.attr("data-value"));
            };
            likeFormUtil.setCount = function ($count, value) {
                $count.attr("data-value", value);
                $count.text(value);
            };
            likeFormUtil.like = function ($likeForm) {
                $likeForm.find(".likeState").addClass("liked");
                const $likeCount = $likeForm.find(".likeCount");
                likeFormUtil.setCount($likeCount, likeFormUtil.getCount($likeCount) + 1);
            };
            likeFormUtil.unLike = function ($likeForm) {
                if ($likeForm.find(".likeState").hasClass("liked")) {
                    $likeForm.find(".likeState").removeClass("liked");
                    const $likeCount = $likeForm.find(".likeCount");
                    likeFormUtil.setCount($likeCount, likeFormUtil.getCount($likeCount) - 1);
                }
            };
            likeFormUtil.dislike = function ($likeForm) {
                $likeForm.find(".dislikeState").addClass("disliked");
                const $dislikeCount = $likeForm.find(".dislikeCount");
                likeFormUtil.setCount($dislikeCount, likeFormUtil.getCount($dislikeCount) + 1);
            };
            likeFormUtil.unDislike = function ($likeForm) {
                if ($likeForm.find(".dislikeState").hasClass("disliked")) {
                    $likeForm.find(".dislikeState").removeClass("disliked");
                    const $dislikeCount = $likeForm.find(".dislikeCount");
                    likeFormUtil.setCount($dislikeCount, likeFormUtil.getCount($dislikeCount) - 1);
                }
            };
            likeFormUtil.disable = function ($likeForm) {
                $likeForm.find(".likeActionLink").off("click");
                $likeForm.find(".likeActionLink").on("click", function () {
                    return false;
                });
                $likeForm.find(".dislikeActionLink").off("click");
                $likeForm.find(".dislikeActionLink").on("click", function () {
                    return false;
                });
            };
            likeFormUtil.enable = function ($likeForm) {
                $likeForm.find(".likeActionLink").off("click");
                $likeForm.find(".likeActionLink").on("click", onLike);
                $likeForm.find(".dislikeActionLink").off("click");
                $likeForm.find(".dislikeActionLink").on("click", onDislike);
            };
            likeFormUtil.applyLikeableInformation = function(likeableInformation) {
                const id = likeableInformation.likeable.id;
                console.log(id);
                const $likeForm = $(".likeActionLink[data-likeableId='" + id + "']").closest(".likeForm");
                console.log($likeForm);
                likeFormUtil.setCount($likeForm.find(".likeCount"), likeableInformation.likeCount);
                likeFormUtil.setCount($likeForm.find(".dislikeCount"), likeableInformation.dislikeCount);
                if (likeableInformation.liked) {
                    $likeForm.find(".likeState").addClass("liked");
                } else {
                    $likeForm.find(".likeState").removeClass("liked");
                }
                if (likeableInformation.disliked) {
                    $likeForm.find(".likeState").addClass("disliked");
                } else {
                    $likeForm.find(".likeState").removeClass("disliked");
                }
            }
            likeFormUtil.applyLikeableInformations = function(likeableInformations) {
                likeableInformations.forEach((applyLikeableInformation) => {
                    likeFormUtil.applyLikeableInformation(applyLikeableInformation);
                });
            }

            function onLike() {
                const $likeActionLink = $(this);
                const likeableId = $likeActionLink.attr("data-likeableId");
                const $likeForm = $likeActionLink.parent();

                likeFormUtil.disable($likeForm);
                $.post("/data/like", {
                    action: "like",
                    likeableId: likeableId
                }, function (data) {
                    if (data["success"] === true) {
                        if (data["liked"]) {
                            Codeforces.showMessage('Added to liked');
                        } else {
                            Codeforces.showMessage('Removed from liked');
                        }
                        likeFormUtil.applyLikeableInformations(data["likeableInformations"]);
                    } else {
                        Codeforces.showMessage(data["message"] || "Error");
                    }
                    likeFormUtil.enable($likeForm);
                }, "json");
                return false;
            }

            function onDislike() {
                const $dislikeActionLink = $(this);
                const likeableId = $dislikeActionLink.attr("data-likeableId");
                const $likeForm = $dislikeActionLink.parent();

                likeFormUtil.disable($likeForm);
                $.post("/data/like", {
                    action: "dislike",
                    likeableId: likeableId
                }, function (data) {
                    if (data["success"] === true) {
                        if (data["disliked"]) {
                            Codeforces.showMessage('Added to disliked');
                        } else {
                            Codeforces.showMessage('Removed from disliked');
                        }
                        likeFormUtil.applyLikeableInformations(data["likeableInformations"]);
                    } else {
                        Codeforces.showMessage(data["message"] || "Error");
                    }
                    likeFormUtil.enable($likeForm);
                }, "json");
                return false;
            }

            $(".likeActionLink").click(onLike);
            $(".dislikeActionLink").click(onDislike);

            $(".likeCount").add(".dislikeCount").each(function () {
                const $count = $(this);
                likeFormUtil.setCount($count, likeFormUtil.getCount($count));
            });
        });
    </script>

<script data-nocturne="true"> $(function () {
}); </script>

</li>   <li>Good: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11100">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="186">186</span>
            </i>
        </a>
    </span>


</li>   <li>Average: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11101">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="65">65</span>
            </i>
        </a>
    </span>


</li>   <li>Bad: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11102">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="23">23</span>
            </i>
        </a>
    </span>


</li>   <li>Trash: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11103">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="62">62</span>
            </i>
        </a>
    </span>


</li> </ul></div></div> <div class="spoiler"><b class="spoiler-title">Which problem is your most favourite?</b><div class="spoiler-content" style="display: none;"><ul>   <li>D2A: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11104">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="15">15</span>
            </i>
        </a>
    </span>


</li>   <li>D2B: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11105">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="31">31</span>
            </i>
        </a>
    </span>


</li>   <li>D1A: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11126">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="72">72</span>
            </i>
        </a>
    </span>


</li>   <li>D1B: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11108">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="55">55</span>
            </i>
        </a>
    </span>


</li>   <li>D1C1: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11127">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="43">43</span>
            </i>
        </a>
    </span>


</li>   <li>D1C2: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11128">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="8">8</span>
            </i>
        </a>
    </span>


</li>   <li>D1C3: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11129">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="71">71</span>
            </i>
        </a>
    </span>


</li>   <li>D1D: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11130">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="8">8</span>
            </i>
        </a>
    </span>


</li>   <li>D1E: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11112">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="7">7</span>
            </i>
        </a>
    </span>


</li>   <li>D1F1: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11110">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="1">1</span>
            </i>
        </a>
    </span>


</li>   <li>D1F2: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11111">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="2">2</span>
            </i>
        </a>
    </span>


</li> </ul></div></div> <div class="spoiler"><b class="spoiler-title">Which problem you hate the most?</b><div class="spoiler-content" style="display: none;"><ul>   <li>D2A: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11131">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="17">17</span>
            </i>
        </a>
    </span>


</li>   <li>D2B: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11132">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="142">142</span>
            </i>
        </a>
    </span>


</li>   <li>D1A: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11133">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="23">23</span>
            </i>
        </a>
    </span>


</li>   <li>D1B: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11134">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="153">153</span>
            </i>
        </a>
    </span>


</li>   <li>D1C1: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11135">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="23">23</span>
            </i>
        </a>
    </span>


</li>   <li>D1C2: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11136">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="3">3</span>
            </i>
        </a>
    </span>


</li>   <li>D1C3: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11137">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="14">14</span>
            </i>
        </a>
    </span>


</li>   <li>D1D: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11138">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="17">17</span>
            </i>
        </a>
    </span>


</li>   <li>D1E: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11139">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="14">14</span>
            </i>
        </a>
    </span>


</li>   <li>D1F1: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11140">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="3">3</span>
            </i>
        </a>
    </span>


</li>   <li>D1F2: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11141">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="3">3</span>
            </i>
        </a>
    </span>


</li> </ul></div></div><h4><a href="https://codeforces.com/contest/2130/problem/A">D2A Submission is All You Need</a></h4> <div class="spoiler"><b class="spoiler-title">Fun</b><div class="spoiler-content" style="display: none;"><p>Do you know the source of the title?</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint 1</b><div class="spoiler-content" style="display: none;"><p>Assuming that choosing <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1"><span class="MJXp-mtext" id="MJXp-Span-2">mex(S')</span></span></span><script type="math/tex" id="MathJax-Element-1">\text{mex(S')}</script> is optimal, what conditions does <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3"><span class="MJXp-msup" id="MJXp-Span-4"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-5" style="margin-right: 0.05em;">S</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-6" style="vertical-align: 0.5em;"></span></span></span></span><script type="math/tex" id="MathJax-Element-2">S'</script> need to satisfy?</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint 2</b><div class="spoiler-content" style="display: none;"><p>Are there duplicate numbers in <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-7"><span class="MJXp-msup" id="MJXp-Span-8"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-9" style="margin-right: 0.05em;">S</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-10" style="vertical-align: 0.5em;"></span></span></span></span><script type="math/tex" id="MathJax-Element-3">S'</script>? Is there a number greater than <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-11"><span class="MJXp-mtext" id="MJXp-Span-12">mex(S')</span></span></span><script type="math/tex" id="MathJax-Element-4">\text{mex(S')}</script> in <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-13"><span class="MJXp-msup" id="MJXp-Span-14"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-15" style="margin-right: 0.05em;">S</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-16" style="vertical-align: 0.5em;"></span></span></span></span><script type="math/tex" id="MathJax-Element-5">S'</script>?</p></div></div> <div class="spoiler"><b class="spoiler-title">Tutorial</b><div class="spoiler-content" style="display: none;"><p>Assuming that choosing <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-17"><span class="MJXp-mtext" id="MJXp-Span-18">mex(S')</span></span></span><script type="math/tex" id="MathJax-Element-6">\text{mex(S')}</script> is optimal, there are no duplicate numbers in <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-19"><span class="MJXp-msup" id="MJXp-Span-20"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-21" style="margin-right: 0.05em;">S</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-22" style="vertical-align: 0.5em;"></span></span></span></span><script type="math/tex" id="MathJax-Element-7">S'</script>. And thers is not a number greater than <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-23"><span class="MJXp-mtext" id="MJXp-Span-24">mex(S')</span></span></span><script type="math/tex" id="MathJax-Element-8">\text{mex(S')}</script>. Otherwise, we can easily construct a better answer.</p><p>Consider <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-25"><span class="MJXp-mtext" id="MJXp-Span-26">S={0,1,...,x}</span></span></span><script type="math/tex" id="MathJax-Element-9">\text{S={0,1,...,x}}</script>. We can see <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-27"><span class="MJXp-mtext" id="MJXp-Span-28">mex(S')</span><span class="MJXp-mo" id="MJXp-Span-29" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mtext" id="MJXp-Span-30">max(S')</span></span></span><script type="math/tex" id="MathJax-Element-10">\text{mex(S')}>\text{max(S')}</script> when <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-31"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-32">x</span></span></span><script type="math/tex" id="MathJax-Element-11">x</script> is <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-33"><span class="MJXp-mn" id="MJXp-Span-34">0</span></span></span><script type="math/tex" id="MathJax-Element-12">0</script> or <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-35"><span class="MJXp-mn" id="MJXp-Span-36">1</span></span></span><script type="math/tex" id="MathJax-Element-13">1</script>. And <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-37"><span class="MJXp-mtext" id="MJXp-Span-38">mex({0,1})</span><span class="MJXp-mo" id="MJXp-Span-39" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-40">mex({0})</span><span class="MJXp-mo" id="MJXp-Span-41" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mtext" id="MJXp-Span-42">sum({1})</span></span></span><script type="math/tex" id="MathJax-Element-14">\text{mex({0,1})}=\text{mex({0})}+\text{sum({1})}</script>. Thus, we only use <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-43"><span class="MJXp-mtext" id="MJXp-Span-44">mex</span></span></span><script type="math/tex" id="MathJax-Element-15">\text{mex}</script> operation for each single <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-45"><span class="MJXp-mn" id="MJXp-Span-46">0</span></span></span><script type="math/tex" id="MathJax-Element-16">0</script>.</p><p>The answer is <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-47"><span class="MJXp-mtext" id="MJXp-Span-48">sum(S)</span></span></span><script type="math/tex" id="MathJax-Element-17">\text{sum(S)}</script> add the number of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-49"><span class="MJXp-mn" id="MJXp-Span-50">0</span></span></span><script type="math/tex" id="MathJax-Element-18">0</script> in <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-51"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-52">S</span></span></span><script type="math/tex" id="MathJax-Element-19">S</script>.</p></div></div> <div class="spoiler"><b class="spoiler-title">solution</b><div class="spoiler-content" style="display: none;"><pre><code class="prettyprint prettyprinted" style=""><span class="com">#include</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln">bits</span><span class="pun">/</span><span class="pln">stdc</span><span class="pun">++.</span><span class="pln">h</span><span class="pun">&gt;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> </span><span class="kwd">namespace</span><span class="pln"> std</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">void</span><span class="pln"> solve</span><span class="pun">(){</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> n</span><span class="pun">,</span><span class="pln"> tmp</span><span class="pun">,</span><span class="pln"> ans </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
    cin </span><span class="pun">&gt;&gt;</span><span class="pln"> n</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++){</span><span class="pln">cin </span><span class="pun">&gt;&gt;</span><span class="pln"> tmp</span><span class="pun">;</span><span class="pln"> ans </span><span class="pun">+=</span><span class="pln"> tmp </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">tmp </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);}</span><span class="pln">
    cout </span><span class="pun">&lt;&lt;</span><span class="pln"> ans </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">'\n'</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">int</span><span class="pln"> main</span><span class="pun">(){</span><span class="pln">
    ios</span><span class="pun">::</span><span class="pln">sync_with_stdio</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln">
    cin</span><span class="pun">.</span><span class="pln">tie</span><span class="pun">(</span><span class="pln">NULL</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> t</span><span class="pun">;</span><span class="pln">
    cin </span><span class="pun">&gt;&gt;</span><span class="pln"> t</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">while</span><span class="pun">(</span><span class="pln">t</span><span class="pun">--)</span><span class="pln"> solve</span><span class="pun">();</span><span class="pln">
</span><span class="pun">}</span></code></pre></div></div> <div class="spoiler"><b class="spoiler-title">Rate the Problem</b><div class="spoiler-content" style="display: none;"><p>Amazing problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11059">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="60">60</span>
            </i>
        </a>
    </span>


</p><p>Good problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11060">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="237">237</span>
            </i>
        </a>
    </span>


</p><p>Average problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11061">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="17">17</span>
            </i>
        </a>
    </span>


</p><p>Bad problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11062">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="26">26</span>
            </i>
        </a>
    </span>


</p><p>Didn't solve: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11063">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="23">23</span>
            </i>
        </a>
    </span>


</p></div></div><h4><a href="https://codeforces.com/contest/2130/problem/B">D2B Pathless</a></h4> <div class="spoiler"><b class="spoiler-title">Hint1</b><div class="spoiler-content" style="display: none;"><p>Casework. Consider two easy cases first: <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-53"><span class="MJXp-mi" id="MJXp-Span-54"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-55">a</span><span class="MJXp-mo" id="MJXp-Span-56" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-57">s</span></span></span><script type="math/tex" id="MathJax-Element-20">\Sigma a>s</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-58"><span class="MJXp-mi" id="MJXp-Span-59"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-60">a</span><span class="MJXp-mo" id="MJXp-Span-61" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-62">s</span></span></span><script type="math/tex" id="MathJax-Element-21">\Sigma a=s</script>.</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint2</b><div class="spoiler-content" style="display: none;"><p>What if there is an index <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-63"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-64">i</span></span></span><script type="math/tex" id="MathJax-Element-22">i</script> such that <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-65"><span class="MJXp-msubsup" id="MJXp-Span-66"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-67" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-68" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-69" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-70"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-71" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-72" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-73">i</span><span class="MJXp-mo" id="MJXp-Span-74">+</span><span class="MJXp-mn" id="MJXp-Span-75">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-76" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-77">1</span></span></span><script type="math/tex" id="MathJax-Element-23">a_i+a_{i+1}=1</script>?</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint3</b><div class="spoiler-content" style="display: none;"><p>To "block" <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-78"><span class="MJXp-msubsup" id="MJXp-Span-79"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-80" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-81" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-82" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-83"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-84" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-85" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-86">i</span><span class="MJXp-mo" id="MJXp-Span-87">+</span><span class="MJXp-mn" id="MJXp-Span-88">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-89" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-90">1</span></span></span><script type="math/tex" id="MathJax-Element-24">a_i+a_{i+1}=1</script>, what should Bob do?</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint4</b><div class="spoiler-content" style="display: none;"><p>Consider cases of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-91"><span class="MJXp-mi" id="MJXp-Span-92"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-93">a</span><span class="MJXp-mo" id="MJXp-Span-94" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-95">s</span><span class="MJXp-mo" id="MJXp-Span-96" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-97">1</span></span></span><script type="math/tex" id="MathJax-Element-25">\Sigma a=s+1</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-98"><span class="MJXp-mi" id="MJXp-Span-99"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-100">a</span><span class="MJXp-mo" id="MJXp-Span-101" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-102">s</span><span class="MJXp-mo" id="MJXp-Span-103" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-104">1</span></span></span><script type="math/tex" id="MathJax-Element-26">\Sigma a>s+1</script>.</p></div></div> <div class="spoiler"><b class="spoiler-title">Tutorial</b><div class="spoiler-content" style="display: none;"><p>The minimum path sum is the sum of the simple path from <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-105"><span class="MJXp-mn" id="MJXp-Span-106">1</span></span></span><script type="math/tex" id="MathJax-Element-27">1</script> to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-107"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-108">n</span></span></span><script type="math/tex" id="MathJax-Element-28">n</script> (i.e., <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-109"><span class="MJXp-mn" id="MJXp-Span-110">1</span><span class="MJXp-mo" id="MJXp-Span-111" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-112">2</span><span class="MJXp-mo" id="MJXp-Span-113" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mo" id="MJXp-Span-114" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-115" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-116">n</span></span></span><script type="math/tex" id="MathJax-Element-29">1 \rightarrow 2 \rightarrow \dots \rightarrow n</script>), denoted as <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-117"><span class="MJXp-mtext" id="MJXp-Span-118">base_sum</span><span class="MJXp-mo" id="MJXp-Span-119" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-120"><span class="MJXp-mo" id="MJXp-Span-121" style="margin-left: 0.111em; margin-right: 0.05em;"></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-126"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-127">n</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-122"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-123">i</span><span class="MJXp-mo" id="MJXp-Span-124">=</span><span class="MJXp-mn" id="MJXp-Span-125">1</span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-128"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-129" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-130" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-30">\text{base_sum} = \sum_{i=1}^{n} a_i</script>.</p><p>The path can include back-and-forth movements (e.g., from <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-131"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-132">i</span></span></span><script type="math/tex" id="MathJax-Element-31">i</script> to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-133"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-134">i</span><span class="MJXp-mo" id="MJXp-Span-135" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-136">1</span></span></span><script type="math/tex" id="MathJax-Element-32">i+1</script> and back to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-137"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-138">i</span></span></span><script type="math/tex" id="MathJax-Element-33">i</script>), which increases the path length and the path sum. Specifically, each back-and-forth movement between adjacent positions <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-139"><span class="MJXp-mo" id="MJXp-Span-140" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-141">i</span><span class="MJXp-mo" id="MJXp-Span-142" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-143">i</span><span class="MJXp-mo" id="MJXp-Span-144" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-145">1</span><span class="MJXp-mo" id="MJXp-Span-146" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-34">(i, i+1)</script> adds <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-147"><span class="MJXp-msubsup" id="MJXp-Span-148"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-149" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-150" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-151" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-152"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-153" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-154" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-155">i</span><span class="MJXp-mo" id="MJXp-Span-156">+</span><span class="MJXp-mn" id="MJXp-Span-157">1</span></span></span></span></span><script type="math/tex" id="MathJax-Element-35">a_i + a_{i+1}</script> to the path sum.</p><p>Thus, the total path sum can be expressed as <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-158"><span class="MJXp-mtext" id="MJXp-Span-159">base_sum</span><span class="MJXp-mo" id="MJXp-Span-160" style="margin-left: 0em; margin-right: 0.111em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-161">d</span></span></span><script type="math/tex" id="MathJax-Element-36">\text{base_sum} + d</script>, where <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-162"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-163">d</span></span></span><script type="math/tex" id="MathJax-Element-37">d</script> is the additional sum contributed by zero or more back-and-forth movements. Here, <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-164"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-165">d</span></span></span><script type="math/tex" id="MathJax-Element-38">d</script> can be represented as a non-negative integer linear combination of the sums of adjacent pairs.</p><p>Casework:</p> <ul>   <li><p>If <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-166"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-167">s</span><span class="MJXp-mo" id="MJXp-Span-168" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-mtext" id="MJXp-Span-169">base_sum</span></span></span><script type="math/tex" id="MathJax-Element-39">s < \text{base_sum}</script>, no path sum can equal <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-170"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-171">s</span></span></span><script type="math/tex" id="MathJax-Element-40">s</script> (since the base sum already exceeds <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-172"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-173">k</span></span></span><script type="math/tex" id="MathJax-Element-41">k</script>, and any additional movements will further increase the sum).</p></li>   <li><p>If <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-174"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-175">s</span><span class="MJXp-mo" id="MJXp-Span-176" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mtext" id="MJXp-Span-177">base_sum</span></span></span><script type="math/tex" id="MathJax-Element-42">s = \text{base_sum}</script>, the simple path (<span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-178"><span class="MJXp-mn" id="MJXp-Span-179">1</span><span class="MJXp-mo" id="MJXp-Span-180" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-181">2</span><span class="MJXp-mo" id="MJXp-Span-182" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mo" id="MJXp-Span-183" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-184" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-185">n</span></span></span><script type="math/tex" id="MathJax-Element-43">1 \rightarrow 2 \rightarrow \dots \rightarrow n</script>) already satisfies the condition, so Alice cannot be stopped.</p></li>   <li><p>If <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-186"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-187">s</span><span class="MJXp-mo" id="MJXp-Span-188" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mtext" id="MJXp-Span-189">base_sum</span></span></span><script type="math/tex" id="MathJax-Element-44">s > \text{base_sum}</script>, let <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-190"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-191">d</span><span class="MJXp-mo" id="MJXp-Span-192" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-193">s</span><span class="MJXp-mo" id="MJXp-Span-194" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mtext" id="MJXp-Span-195">base_sum</span></span></span><script type="math/tex" id="MathJax-Element-45">d = s - \text{base_sum}</script>:</p>   <ul>     <li>If <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-196"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-197">d</span><span class="MJXp-mo" id="MJXp-Span-198" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-199">1</span></span></span><script type="math/tex" id="MathJax-Element-46">d = 1</script>, we can rearrange the array to avoid adjacent pairs summing to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-200"><span class="MJXp-mn" id="MJXp-Span-201">1</span></span></span><script type="math/tex" id="MathJax-Element-47">1</script> (i.e., avoid <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-202"><span class="MJXp-mn" id="MJXp-Span-203">0</span></span></span><script type="math/tex" id="MathJax-Element-48">0</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-204"><span class="MJXp-mn" id="MJXp-Span-205">1</span></span></span><script type="math/tex" id="MathJax-Element-49">1</script> being adjacent). Specifically, place all <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-206"><span class="MJXp-mn" id="MJXp-Span-207">0</span></span></span><script type="math/tex" id="MathJax-Element-50">0</script>s first, followed by all <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-208"><span class="MJXp-mn" id="MJXp-Span-209">2</span></span></span><script type="math/tex" id="MathJax-Element-51">2</script>s, and then all <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-210"><span class="MJXp-mn" id="MJXp-Span-211">1</span></span></span><script type="math/tex" id="MathJax-Element-52">1</script>s (e.g., <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-212"><span class="MJXp-mo" id="MJXp-Span-213" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-214">0</span><span class="MJXp-mo" id="MJXp-Span-215" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-216">0</span><span class="MJXp-mo" id="MJXp-Span-217" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-218" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-219" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-220">0</span><span class="MJXp-mo" id="MJXp-Span-221" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-222">2</span><span class="MJXp-mo" id="MJXp-Span-223" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-224">2</span><span class="MJXp-mo" id="MJXp-Span-225" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-226" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-227" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-228">2</span><span class="MJXp-mo" id="MJXp-Span-229" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-230">1</span><span class="MJXp-mo" id="MJXp-Span-231" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-232">1</span><span class="MJXp-mo" id="MJXp-Span-233" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-234" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-235" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-236">1</span><span class="MJXp-mo" id="MJXp-Span-237" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><script type="math/tex" id="MathJax-Element-53">[0, 0, \dots, 0, 2, 2, \dots, 2, 1, 1, \dots, 1]</script>). This ensures no adjacent pair sums to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-238"><span class="MJXp-mn" id="MJXp-Span-239">1</span></span></span><script type="math/tex" id="MathJax-Element-54">1</script>, making <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-240"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-241">d</span><span class="MJXp-mo" id="MJXp-Span-242" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-243">1</span></span></span><script type="math/tex" id="MathJax-Element-55">d = 1</script> unachievable.</li>   </ul>   <ul>     <li>If <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-244"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-245">d</span><span class="MJXp-mo" id="MJXp-Span-246" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-247">1</span></span></span><script type="math/tex" id="MathJax-Element-56">d \neq 1</script>, no rearrangement can prevent Alice from achieving the path sum <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-248"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-249">s</span></span></span><script type="math/tex" id="MathJax-Element-57">s</script> (since sums of adjacent pairs can cover all <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-250"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-251">T</span><span class="MJXp-mo" id="MJXp-Span-252" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-253">2</span></span></span><script type="math/tex" id="MathJax-Element-58">T \geq 2</script> through linear combinations).</li>   </ul></li> </ul></div></div> <div class="spoiler"><b class="spoiler-title">solution</b><div class="spoiler-content" style="display: none;"><pre><code class="prettyprint prettyprinted" style=""><span class="com">#include</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln">bits</span><span class="pun">/</span><span class="pln">stdc</span><span class="pun">++.</span><span class="pln">h</span><span class="pun">&gt;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> </span><span class="kwd">namespace</span><span class="pln"> std</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">void</span><span class="pln"> solve</span><span class="pun">(){</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> n</span><span class="pun">,</span><span class="pln"> k</span><span class="pun">,</span><span class="pln"> tmp</span><span class="pun">;</span><span class="pln">
    cin </span><span class="pun">&gt;&gt;</span><span class="pln"> n </span><span class="pun">&gt;&gt;</span><span class="pln"> k</span><span class="pun">;</span><span class="pln">
    vector</span><span class="str">&lt;int&gt;</span><span class="pln"> a</span><span class="pun">(</span><span class="lit">3</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++){</span><span class="pln">cin </span><span class="pun">&gt;&gt;</span><span class="pln"> tmp</span><span class="pun">;</span><span class="pln"> a</span><span class="pun">[</span><span class="pln">tmp</span><span class="pun">]++;}</span><span class="pln">
    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">k </span><span class="pun">==</span><span class="pln"> a</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">2</span><span class="pun">*</span><span class="pln">a</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> k </span><span class="pun">&gt;=</span><span class="pln"> a</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">2</span><span class="pun">*</span><span class="pln">a</span><span class="pun">[</span><span class="lit">2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">2</span><span class="pun">){</span><span class="pln">cout </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">'\n'</span><span class="pun">;</span><span class="pln"> </span><span class="kwd">return</span><span class="pun">;}</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;</span><span class="pln">a</span><span class="pun">[</span><span class="lit">0</span><span class="pun">];</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> cout </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">' '</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;</span><span class="pln">a</span><span class="pun">[</span><span class="lit">2</span><span class="pun">];</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> cout </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">' '</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;</span><span class="pln">a</span><span class="pun">[</span><span class="lit">1</span><span class="pun">];</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> cout </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">' '</span><span class="pun">;</span><span class="pln">
    cout </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">'\n'</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">int</span><span class="pln"> main</span><span class="pun">(){</span><span class="pln">
    ios</span><span class="pun">::</span><span class="pln">sync_with_stdio</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln">
    cin</span><span class="pun">.</span><span class="pln">tie</span><span class="pun">(</span><span class="pln">NULL</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> t</span><span class="pun">;</span><span class="pln">
    cin </span><span class="pun">&gt;&gt;</span><span class="pln"> t</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">while</span><span class="pun">(</span><span class="pln">t</span><span class="pun">--)</span><span class="pln"> solve</span><span class="pun">();</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span></code></pre></div></div> <div class="spoiler"><b class="spoiler-title">Rate the Problem</b><div class="spoiler-content" style="display: none;"><p>Amazing problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11064">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="228">228</span>
            </i>
        </a>
    </span>


</p><p>Good problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11065">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="75">75</span>
            </i>
        </a>
    </span>


</p><p>Average problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11066">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="16">16</span>
            </i>
        </a>
    </span>


</p><p>Bad problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11067">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="123">123</span>
            </i>
        </a>
    </span>


</p><p>Didn't solve: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11068">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="53">53</span>
            </i>
        </a>
    </span>


</p></div></div><h4><a href="https://codeforces.com/contest/2129/problem/A">D1A Double Perspective</a></h4> <div class="spoiler"><b class="spoiler-title">Hint1</b><div class="spoiler-content" style="display: none;"><p>Assuming that choosing <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-254"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-255">S</span></span></span><script type="math/tex" id="MathJax-Element-59">S</script> is optimal, what is the value of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-256"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-257">g</span><span class="MJXp-mo" id="MJXp-Span-258" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-259">S</span><span class="MJXp-mo" id="MJXp-Span-260" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-60">g(S)</script>?</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint2</b><div class="spoiler-content" style="display: none;"><p>In the case of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-261"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-262">g</span><span class="MJXp-mo" id="MJXp-Span-263" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-264">S</span><span class="MJXp-mo" id="MJXp-Span-265" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-266" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-267">0</span></span></span><script type="math/tex" id="MathJax-Element-61">g(S)=0</script>, make <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-268"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-269">f</span><span class="MJXp-mo" id="MJXp-Span-270" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-271">S</span><span class="MJXp-mo" id="MJXp-Span-272" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-62">f(S)</script> the length of the union of the entire set.</p></div></div> <div class="spoiler"><b class="spoiler-title">Tutorial</b><div class="spoiler-content" style="display: none;"><p>Assuming that choosing <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-273"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-274">S</span></span></span><script type="math/tex" id="MathJax-Element-63">S</script> is optimal, <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-275"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-276">g</span><span class="MJXp-mo" id="MJXp-Span-277" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-278">S</span><span class="MJXp-mo" id="MJXp-Span-279" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-64">g(S)</script> must be <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-280"><span class="MJXp-mn" id="MJXp-Span-281">0</span></span></span><script type="math/tex" id="MathJax-Element-65">0</script> because removing an edge on the cycle will not change <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-282"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-283">f</span><span class="MJXp-mo" id="MJXp-Span-284" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-285">S</span><span class="MJXp-mo" id="MJXp-Span-286" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-66">f(S)</script>.</p><p>In the case of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-287"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-288">g</span><span class="MJXp-mo" id="MJXp-Span-289" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-290">S</span><span class="MJXp-mo" id="MJXp-Span-291" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-292" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-293">0</span></span></span><script type="math/tex" id="MathJax-Element-67">g(S)=0</script>, we need to make <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-294"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-295">f</span><span class="MJXp-mo" id="MJXp-Span-296" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-297">S</span><span class="MJXp-mo" id="MJXp-Span-298" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-68">f(S)</script> the length of the union of the entire set. There are many approaches. </p><p>An easiest <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-299"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-300">O</span><span class="MJXp-mo" id="MJXp-Span-301" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-302"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-303" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-304" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-305" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-69">O(n^2)</script> approach is to remove all segments contained by other segments. Afterwards, it can be proven that there are no cycles with a length greater than or equal to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-306"><span class="MJXp-mn" id="MJXp-Span-307">3</span></span></span><script type="math/tex" id="MathJax-Element-70">3</script> in the graph. If there is a cycle, note it as <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-308"><span class="MJXp-msubsup" id="MJXp-Span-309"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-310" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-311" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-312" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-msubsup" id="MJXp-Span-313"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-314" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-315" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-316" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-msubsup" id="MJXp-Span-317"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-318" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-319" style="vertical-align: -0.4em;">3</span></span><span class="MJXp-mo" id="MJXp-Span-320" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mo" id="MJXp-Span-321" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-322" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-323" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-324" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-msubsup" id="MJXp-Span-325"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-326" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-327" style="vertical-align: -0.4em;">1</span></span></span></span><script type="math/tex" id="MathJax-Element-71">x_1 \rightarrow x_2 \rightarrow x_3 \rightarrow ... \rightarrow x_1</script>, we can always find <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-328"><span class="MJXp-msubsup" id="MJXp-Span-329"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-330" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-331" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-332">i</span><span class="MJXp-mo" id="MJXp-Span-333"></span><span class="MJXp-mn" id="MJXp-Span-334">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-335" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-msubsup" id="MJXp-Span-336"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-337" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-338" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-339" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-msubsup" id="MJXp-Span-340"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-341" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-342" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-343">i</span><span class="MJXp-mo" id="MJXp-Span-344">+</span><span class="MJXp-mn" id="MJXp-Span-345">1</span></span></span></span></span><script type="math/tex" id="MathJax-Element-72">x_{i-1}<x_i>x_{i+1}</script>, where either <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-346"><span class="MJXp-mo" id="MJXp-Span-347" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-348"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-349" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-350" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-351">i</span><span class="MJXp-mo" id="MJXp-Span-352"></span><span class="MJXp-mn" id="MJXp-Span-353">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-354" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-355"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-356" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-357" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-358" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-359" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mo" id="MJXp-Span-360" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-361"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-362" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-363" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-364" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-365"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-366" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-367" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-368">i</span><span class="MJXp-mo" id="MJXp-Span-369">+</span><span class="MJXp-mn" id="MJXp-Span-370">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-371" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><script type="math/tex" id="MathJax-Element-73">[x_{i-1},x_i] \subseteq [x_i,x_{i+1}]</script> or <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-372"><span class="MJXp-mo" id="MJXp-Span-373" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-374"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-375" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-376" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-377" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-378"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-379" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-380" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-381">i</span><span class="MJXp-mo" id="MJXp-Span-382">+</span><span class="MJXp-mn" id="MJXp-Span-383">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-384" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-385" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mo" id="MJXp-Span-386" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-387"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-388" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-389" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-390">i</span><span class="MJXp-mo" id="MJXp-Span-391"></span><span class="MJXp-mn" id="MJXp-Span-392">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-393" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-394"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-395" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-396" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-397" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><script type="math/tex" id="MathJax-Element-74">[x_i,x_{i+1}] \subseteq [x_{i-1},x_i]</script>. At this point, we have deduced the contradiction, so there are no cycles with a length greater than or equal to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-398"><span class="MJXp-mn" id="MJXp-Span-399">3</span></span></span><script type="math/tex" id="MathJax-Element-75">3</script> in the graph.</p><p>Another approach is to use DSU to maintain the generate forest.</p></div></div> <div class="spoiler"><b class="spoiler-title">solution</b><div class="spoiler-content" style="display: none;"><pre><code class="prettyprint prettyprinted" style=""><br><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;map&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;set&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cmath&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;ctime&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;queue&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;stack&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cstdio&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cstdlib&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;vector&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cstring&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;algorithm&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;iostream&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;bitset&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;unordered_map&gt;</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> fastio ios_base</span><span class="pun">::</span><span class="pln">sync_with_stdio</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln">cin</span><span class="pun">.</span><span class="pln">tie</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">cout</span><span class="pun">.</span><span class="pln">tie</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> </span><span class="kwd">namespace</span><span class="pln"> std</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">typedef</span><span class="pln"> </span><span class="kwd">double</span><span class="pln"> db</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">typedef</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> ll</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">typedef</span><span class="pln"> </span><span class="kwd">unsigned</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> ull</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> N</span><span class="pun">=</span><span class="lit">1000010</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> T</span><span class="pun">,</span><span class="pln">n</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> a</span><span class="pun">[</span><span class="pln">N</span><span class="pun">],</span><span class="pln">b</span><span class="pun">[</span><span class="pln">N</span><span class="pun">];</span><span class="pln">

</span><span class="kwd">void</span><span class="pln"> init</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    cin</span><span class="pun">&gt;&gt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
        cin</span><span class="pun">&gt;&gt;</span><span class="pln">a</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]&gt;&gt;</span><span class="pln">b</span><span class="pun">[</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">void</span><span class="pln"> solve</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    vector</span><span class="str">&lt;int&gt;</span><span class="pln"> tag</span><span class="pun">(</span><span class="pln">n</span><span class="pun">+</span><span class="lit">4</span><span class="pun">,</span><span class="lit">1</span><span class="pun">),</span><span class="pln">ans</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> j</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">j</span><span class="pun">++)</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">i</span><span class="pun">==</span><span class="pln">j</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">a</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]&lt;=</span><span class="pln">a</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]&amp;&amp;</span><span class="pln">b</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]&lt;=</span><span class="pln">b</span><span class="pun">[</span><span class="pln">j</span><span class="pun">])</span><span class="pln"> tag</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">tag</span><span class="pun">[</span><span class="pln">i</span><span class="pun">])</span><span class="pln"> ans</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    cout</span><span class="pun">&lt;&lt;</span><span class="pln">ans</span><span class="pun">.</span><span class="pln">size</span><span class="pun">()&lt;&lt;</span><span class="str">"\n"</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">ans</span><span class="pun">.</span><span class="pln">size</span><span class="pun">();</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
        cout</span><span class="pun">&lt;&lt;</span><span class="pln">ans</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]&lt;&lt;(</span><span class="pln">i</span><span class="pun">+</span><span class="lit">1</span><span class="pun">==</span><span class="pln">ans</span><span class="pun">.</span><span class="pln">size</span><span class="pun">()?</span><span class="str">"\n"</span><span class="pun">:</span><span class="str">" "</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">int</span><span class="pln"> main</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    fastio</span><span class="pun">;</span><span class="pln">

    cin</span><span class="pun">&gt;&gt;</span><span class="pln">T</span><span class="pun">;</span><span class="pln">
	</span><span class="kwd">while</span><span class="pun">(</span><span class="pln">T</span><span class="pun">--)</span><span class="pln">
	</span><span class="pun">{</span><span class="pln">
		init</span><span class="pun">();</span><span class="pln">
		solve</span><span class="pun">();</span><span class="pln">
	</span><span class="pun">}</span><span class="pln">

	</span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">


</span></code></pre></div></div> <div class="spoiler"><b class="spoiler-title">Rate the Problem</b><div class="spoiler-content" style="display: none;"><p>Amazing problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11069">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="109">109</span>
            </i>
        </a>
    </span>


</p><p>Good problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11070">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="169">169</span>
            </i>
        </a>
    </span>


</p><p>Average problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11071">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="31">31</span>
            </i>
        </a>
    </span>


</p><p>Bad problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11072">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="63">63</span>
            </i>
        </a>
    </span>


</p><p>Didn't solve: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11073">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="18">18</span>
            </i>
        </a>
    </span>


</p></div></div><h4><a href="https://codeforces.com/contest/2129/problem/B">D1B Stay or Mirror</a></h4> <div class="spoiler"><b class="spoiler-title">Hint1</b><div class="spoiler-content" style="display: none;"><p>Consider <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-400"><span class="MJXp-msubsup" id="MJXp-Span-401"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-402" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-403" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-404" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-405">1</span></span></span><script type="math/tex" id="MathJax-Element-76">p_i=1</script>. If <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-406"><span class="MJXp-msubsup" id="MJXp-Span-407"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-408" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-409" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-410" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-411">1</span></span></span><script type="math/tex" id="MathJax-Element-77">a_i=1</script>, what are inversions containing <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-412"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-413">i</span></span></span><script type="math/tex" id="MathJax-Element-78">i</script>? If <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-414"><span class="MJXp-msubsup" id="MJXp-Span-415"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-416" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-417" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-418" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-419">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-420">n</span><span class="MJXp-mo" id="MJXp-Span-421" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-422">1</span></span></span><script type="math/tex" id="MathJax-Element-79">a_i=2n-1</script>, what are inversions containing <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-423"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-424">i</span></span></span><script type="math/tex" id="MathJax-Element-80">i</script>?</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint2</b><div class="spoiler-content" style="display: none;"><p>Attempt to generalize the conclusion to any pair <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-425"><span class="MJXp-mo" id="MJXp-Span-426" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-427">i</span><span class="MJXp-mo" id="MJXp-Span-428" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-429">j</span><span class="MJXp-mo" id="MJXp-Span-430" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-81">(i, j)</script>.</p></div></div> <div class="spoiler"><b class="spoiler-title">Tutorial</b><div class="spoiler-content" style="display: none;"><p>Consider <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-431"><span class="MJXp-msubsup" id="MJXp-Span-432"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-433" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-434" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-435" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-436">1</span></span></span><script type="math/tex" id="MathJax-Element-82">p_i=1</script> and inversions containing <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-437"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-438">i</span></span></span><script type="math/tex" id="MathJax-Element-83">i</script>. If <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-439"><span class="MJXp-msubsup" id="MJXp-Span-440"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-441" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-442" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-443" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-444">1</span></span></span><script type="math/tex" id="MathJax-Element-84">a_i=1</script>, it is the minimum value, and the inversions containing <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-445"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-446">i</span></span></span><script type="math/tex" id="MathJax-Element-85">i</script> are <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-447"><span class="MJXp-mo" id="MJXp-Span-448" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-449">1</span><span class="MJXp-mo" id="MJXp-Span-450" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-451">i</span><span class="MJXp-mo" id="MJXp-Span-452" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-453" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-454" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-455">2</span><span class="MJXp-mo" id="MJXp-Span-456" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-457">i</span><span class="MJXp-mo" id="MJXp-Span-458" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-459" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-460" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-461" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-462" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-463" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-464">i</span><span class="MJXp-mo" id="MJXp-Span-465" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-466">1</span><span class="MJXp-mo" id="MJXp-Span-467" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-468">i</span><span class="MJXp-mo" id="MJXp-Span-469" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-86">(1, i), (2, i),... (i-1, i)</script>; If <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-470"><span class="MJXp-msubsup" id="MJXp-Span-471"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-472" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-473" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-474" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-475">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-476">n</span><span class="MJXp-mo" id="MJXp-Span-477" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-478">1</span></span></span><script type="math/tex" id="MathJax-Element-87">a_i=2n-1</script>, it is the maximum value, and the inversions containing <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-479"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-480">i</span></span></span><script type="math/tex" id="MathJax-Element-88">i</script> are <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-481"><span class="MJXp-mo" id="MJXp-Span-482" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-483">i</span><span class="MJXp-mo" id="MJXp-Span-484" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-485">i</span><span class="MJXp-mo" id="MJXp-Span-486" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-487">1</span><span class="MJXp-mo" id="MJXp-Span-488" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-489" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-490" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-491" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-492" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-493" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-494">i</span><span class="MJXp-mo" id="MJXp-Span-495" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-496">n</span><span class="MJXp-mo" id="MJXp-Span-497" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-89">(i, i+1),... (i, n)</script>. The key observation is the number of inversions containing <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-498"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-499">i</span></span></span><script type="math/tex" id="MathJax-Element-90">i</script> is only related to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-500"><span class="MJXp-msubsup" id="MJXp-Span-501"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-502" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-503" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-91">a_i</script>, and completely unrelated to other elements.</p><p>At this point, the problem has actually been solved. We can greedily choose <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-506"><span class="MJXp-mo" id="MJXp-Span-507" style="margin-left: 0.333em; margin-right: 0.333em;">min</span><span class="MJXp-mo" id="MJXp-Span-508" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-509">i</span><span class="MJXp-mo" id="MJXp-Span-510" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-511">1</span><span class="MJXp-mo" id="MJXp-Span-512" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-513">n</span><span class="MJXp-mo" id="MJXp-Span-514" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-515">i</span><span class="MJXp-mo" id="MJXp-Span-516" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-92">\min(i-1,n-i)</script> and remove <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-517"><span class="MJXp-mn" id="MJXp-Span-518">1</span></span></span><script type="math/tex" id="MathJax-Element-93">1</script> from <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-519"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-520">p</span></span></span><script type="math/tex" id="MathJax-Element-94">p</script>, and the remaining part is a completely identical subproblem with a size of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-521"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-522">n</span><span class="MJXp-mo" id="MJXp-Span-523" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-524">1</span></span></span><script type="math/tex" id="MathJax-Element-95">n-1</script>.</p><p>It can be implemented as follows: for each index <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-525"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-526">i</span></span></span><script type="math/tex" id="MathJax-Element-96">i</script>, calculate the number of elements to the left that are bigger than <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-527"><span class="MJXp-msubsup" id="MJXp-Span-528"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-529" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-530" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-97">p_i</script> (note it as <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-531"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-532">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-533">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-534">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-535">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-536">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-537">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-538">r</span></span></span><script type="math/tex" id="MathJax-Element-98">lbigger</script>), and the number of elements to the right that are bigger than <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-539"><span class="MJXp-msubsup" id="MJXp-Span-540"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-541" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-542" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-99">p_i</script> (note it as <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-543"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-544">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-545">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-546">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-547">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-548">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-549">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-550">r</span></span></span><script type="math/tex" id="MathJax-Element-100">rbigger</script>). Then greedily add <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-551"><span class="MJXp-mo" id="MJXp-Span-552" style="margin-left: 0.333em; margin-right: 0.333em;">min</span><span class="MJXp-mo" id="MJXp-Span-553" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-554">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-555">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-556">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-557">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-558">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-559">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-560">r</span><span class="MJXp-mo" id="MJXp-Span-561" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-562">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-563">b</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-564">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-565">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-566">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-567">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-568">r</span><span class="MJXp-mo" id="MJXp-Span-569" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-101">\min(lbigger,rbigger)</script> to the answer.</p></div></div> <div class="spoiler"><b class="spoiler-title">solution</b><div class="spoiler-content" style="display: none;"><pre><code class="prettyprint prettyprinted" style=""><br><span class="com">#include</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln">bits</span><span class="pun">/</span><span class="pln">stdc</span><span class="pun">++.</span><span class="pln">h</span><span class="pun">&gt;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> </span><span class="kwd">namespace</span><span class="pln"> std</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">void</span><span class="pln"> solve</span><span class="pun">(){</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> n</span><span class="pun">,</span><span class="pln"> ans </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
    cin </span><span class="pun">&gt;&gt;</span><span class="pln"> n</span><span class="pun">;</span><span class="pln">
    vector</span><span class="str">&lt;int&gt;</span><span class="pln"> p</span><span class="pun">(</span><span class="pln">n</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> cin </span><span class="pun">&gt;&gt;</span><span class="pln"> p</span><span class="pun">[</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++){</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> left </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> right </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> j</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> j</span><span class="pun">&lt;</span><span class="pln">i</span><span class="pun">;</span><span class="pln"> j</span><span class="pun">++)</span><span class="pln"> </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">p</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> p</span><span class="pun">[</span><span class="pln">i</span><span class="pun">])</span><span class="pln"> left</span><span class="pun">++;</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> j</span><span class="pun">=</span><span class="pln">i</span><span class="pun">+</span><span class="lit">1</span><span class="pun">;</span><span class="pln"> j</span><span class="pun">&lt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln"> j</span><span class="pun">++)</span><span class="pln"> </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">p</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> p</span><span class="pun">[</span><span class="pln">i</span><span class="pun">])</span><span class="pln"> right</span><span class="pun">++;</span><span class="pln">
        ans </span><span class="pun">+=</span><span class="pln"> min</span><span class="pun">(</span><span class="pln">left</span><span class="pun">,</span><span class="pln"> right</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    cout </span><span class="pun">&lt;&lt;</span><span class="pln"> ans </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">'\n'</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">int</span><span class="pln"> main</span><span class="pun">(){</span><span class="pln">
    ios</span><span class="pun">::</span><span class="pln">sync_with_stdio</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln">
    cin</span><span class="pun">.</span><span class="pln">tie</span><span class="pun">(</span><span class="pln">NULL</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> t</span><span class="pun">;</span><span class="pln">
    cin </span><span class="pun">&gt;&gt;</span><span class="pln"> t</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">while</span><span class="pun">(</span><span class="pln">t</span><span class="pun">--)</span><span class="pln"> solve</span><span class="pun">();</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span></code></pre></div></div> <div class="spoiler"><b class="spoiler-title">Rate the Problem</b><div class="spoiler-content" style="display: none;"><p>Amazing problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11074">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="334">334</span>
            </i>
        </a>
    </span>


</p><p>Good problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11075">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="40">40</span>
            </i>
        </a>
    </span>


</p><p>Average problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11076">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="27">27</span>
            </i>
        </a>
    </span>


</p><p>Bad problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11077">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="126">126</span>
            </i>
        </a>
    </span>


</p><p>Didn't solve: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11078">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="32">32</span>
            </i>
        </a>
    </span>


</p></div></div><h4><a href="https://codeforces.com/contest/2129/problem/C1">D1C1 Interactive RBS (Easy Version)</a>, <a href="https://codeforces.com/contest/2129/problem/C2">D1C2 Interactive RBS (Medium Version)</a> and <a href="https://codeforces.com/contest/2129/problem/C3">D1C3 Interactive RBS (Hard Version)</a></h4> <div class="spoiler"><b class="spoiler-title">Hint1</b><div class="spoiler-content" style="display: none;"><p>Try to Perform binary search to find a <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-570"><span class="MJXp-mrow" id="MJXp-Span-571"><span class="MJXp-mtext MJXp-mono" id="MJXp-Span-572">'('</span></span></span></span><script type="math/tex" id="MathJax-Element-102">\texttt{'('}</script> and a <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-573"><span class="MJXp-mrow" id="MJXp-Span-574"><span class="MJXp-mtext MJXp-mono" id="MJXp-Span-575">')'</span></span></span></span><script type="math/tex" id="MathJax-Element-103">\texttt{')'}</script> using <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-576"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-577">O</span><span class="MJXp-mo" id="MJXp-Span-578" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi" id="MJXp-Span-579">log</span><span class="MJXp-mo" id="MJXp-Span-580" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-581">n</span><span class="MJXp-mo" id="MJXp-Span-582" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-104">O(\log n)</script> queries. It is best to complete it within <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-583"><span class="MJXp-mn" id="MJXp-Span-584">10</span></span></span><script type="math/tex" id="MathJax-Element-105">10</script> operations (to pass the hard version).</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint2</b><div class="spoiler-content" style="display: none;"><p>Consider the easy version. Constraint implies that we use one query to determine <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-585"><span class="MJXp-mn" id="MJXp-Span-586">2</span></span></span><script type="math/tex" id="MathJax-Element-106">2</script> characters.</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint3</b><div class="spoiler-content" style="display: none;"><p>Construct a string <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-587"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-588">x</span></span></span><script type="math/tex" id="MathJax-Element-107">x</script>, insert <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-589"><span class="MJXp-msubsup" id="MJXp-Span-590"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-591" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-592" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-108">s_i</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-593"><span class="MJXp-msubsup" id="MJXp-Span-594"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-595" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-596" style="vertical-align: -0.4em;">j</span></span></span></span><script type="math/tex" id="MathJax-Element-109">s_j</script> into certain positions of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-597"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-598">x</span></span></span><script type="math/tex" id="MathJax-Element-110">x</script> to obtain string <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-599"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-600">y</span></span></span><script type="math/tex" id="MathJax-Element-111">y</script>, so that <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-601"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-602">f</span><span class="MJXp-mo" id="MJXp-Span-603" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-604">y</span><span class="MJXp-mo" id="MJXp-Span-605" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-112">f(y)</script> can produce <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-606"><span class="MJXp-mn" id="MJXp-Span-607">4</span></span></span><script type="math/tex" id="MathJax-Element-113">4</script> different values.</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint4</b><div class="spoiler-content" style="display: none;"><p>Consider the medium version. Effectively utilizing the conditions of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-608"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-609">k</span><span class="MJXp-mo" id="MJXp-Span-610" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-611">1000</span></span></span><script type="math/tex" id="MathJax-Element-114">k \le 1000</script>.</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint5</b><div class="spoiler-content" style="display: none;"><p>Consider binary code.</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint6</b><div class="spoiler-content" style="display: none;"><p>Consider the hard version. The number of substrings in a string of length <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-612"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-613">l</span></span></span><script type="math/tex" id="MathJax-Element-115">l</script> is <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-614"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-615">O</span><span class="MJXp-mo" id="MJXp-Span-616" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-617"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-618" style="margin-right: 0.05em;">l</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-619" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-620" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-116">O(l ^ 2)</script>. How to utilize this?</p></div></div> <div class="spoiler"><b class="spoiler-title">Tutorial (easy version)</b><div class="spoiler-content" style="display: none;"><p>At first, we need to find <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-621"><span class="MJXp-msubsup" id="MJXp-Span-622"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-623" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-624" style="vertical-align: -0.4em;">x</span></span><span class="MJXp-mo" id="MJXp-Span-625" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-626"><span class="MJXp-mtext MJXp-mono" id="MJXp-Span-627">(</span></span></span></span><script type="math/tex" id="MathJax-Element-117">s_x=\texttt{(}</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-628"><span class="MJXp-msubsup" id="MJXp-Span-629"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-630" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-631" style="vertical-align: -0.4em;">y</span></span><span class="MJXp-mo" id="MJXp-Span-632" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-633"><span class="MJXp-mtext MJXp-mono" id="MJXp-Span-634">)</span></span></span></span><script type="math/tex" id="MathJax-Element-118">s_y=\texttt{)}</script>. Do binary search to find the smallest <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-635"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-636">i</span></span></span><script type="math/tex" id="MathJax-Element-119">i</script> such that <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-637"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-638">f</span><span class="MJXp-mo" id="MJXp-Span-639" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-640"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-641" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-642" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-msubsup" id="MJXp-Span-643"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-644" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-645" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-646" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-647" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-648" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-msubsup" id="MJXp-Span-649"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-650" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-651" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-652" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-653" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mn" id="MJXp-Span-654">0</span></span></span><script type="math/tex" id="MathJax-Element-120">f(s_1s_2...s_i)>0</script>. Then we get <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-655"><span class="MJXp-msubsup" id="MJXp-Span-656"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-657" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-658" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-659">i</span><span class="MJXp-mo" id="MJXp-Span-660"></span><span class="MJXp-mn" id="MJXp-Span-661">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-662" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-663"><span class="MJXp-mtext MJXp-mono" id="MJXp-Span-664">(</span></span></span></span><script type="math/tex" id="MathJax-Element-121">s_{i-1}=\texttt{(}</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-665"><span class="MJXp-msubsup" id="MJXp-Span-666"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-667" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-668" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-669" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-670"><span class="MJXp-mtext MJXp-mono" id="MJXp-Span-671">)</span></span></span></span><script type="math/tex" id="MathJax-Element-122">s_i=\texttt{)}</script>. A corner case is <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-672"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-673">f</span><span class="MJXp-mo" id="MJXp-Span-674" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-675">s</span><span class="MJXp-mo" id="MJXp-Span-676" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-677" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-678">0</span></span></span><script type="math/tex" id="MathJax-Element-123">f(s)=0</script>. In this case, <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-679"><span class="MJXp-msubsup" id="MJXp-Span-680"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-681" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-682" style="vertical-align: -0.4em;">n</span></span><span class="MJXp-mo" id="MJXp-Span-683" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-684"><span class="MJXp-mtext MJXp-mono" id="MJXp-Span-685">(</span></span></span></span><script type="math/tex" id="MathJax-Element-124">s_n=\texttt{(}</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-686"><span class="MJXp-msubsup" id="MJXp-Span-687"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-688" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-689" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-690" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-691"><span class="MJXp-mtext MJXp-mono" id="MJXp-Span-692">)</span></span></span></span><script type="math/tex" id="MathJax-Element-125">s_1=\texttt{)}</script>.</p><p>Ask <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-693"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-694">f</span><span class="MJXp-mo" id="MJXp-Span-695" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mrow" id="MJXp-Span-696"><span class="MJXp-mtext MJXp-mono" id="MJXp-Span-697">"s1)s2)()"</span></span><span class="MJXp-mo" id="MJXp-Span-698" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-126">f(\texttt{"s1)s2)()"})</script>:</p> <ul>   <li><p>If <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-699"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-700">f</span><span class="MJXp-mo" id="MJXp-Span-701" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mrow" id="MJXp-Span-702"><span class="MJXp-mtext MJXp-mono" id="MJXp-Span-703">"s1)s2)()"</span></span><span class="MJXp-mo" id="MJXp-Span-704" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-705" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-706">6</span></span></span><script type="math/tex" id="MathJax-Element-127">f(\texttt{"s1)s2)()"})=6</script>, <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-707"><span class="MJXp-msubsup" id="MJXp-Span-708"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-709" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-710" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-711" style="margin-left: 0.333em; margin-right: 0.333em;">=</span></span></span><script type="math/tex" id="MathJax-Element-128">s_1=</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-712"><span class="MJXp-mrow" id="MJXp-Span-713"><span class="MJXp-mtext MJXp-mono" id="MJXp-Span-714">'('</span></span></span></span><script type="math/tex" id="MathJax-Element-129">\texttt{'('}</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-715"><span class="MJXp-msubsup" id="MJXp-Span-716"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-717" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-718" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-719" style="margin-left: 0.333em; margin-right: 0.333em;">=</span></span></span><script type="math/tex" id="MathJax-Element-130">s_2=</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-720"><span class="MJXp-mrow" id="MJXp-Span-721"><span class="MJXp-mtext MJXp-mono" id="MJXp-Span-722">'('</span></span></span></span><script type="math/tex" id="MathJax-Element-131">\texttt{'('}</script>.</p></li>   <li><p>If <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-723"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-724">f</span><span class="MJXp-mo" id="MJXp-Span-725" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mrow" id="MJXp-Span-726"><span class="MJXp-mtext MJXp-mono" id="MJXp-Span-727">"s1)s2)()"</span></span><span class="MJXp-mo" id="MJXp-Span-728" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-729" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-730">2</span></span></span><script type="math/tex" id="MathJax-Element-132">f(\texttt{"s1)s2)()"})=2</script>, <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-731"><span class="MJXp-msubsup" id="MJXp-Span-732"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-733" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-734" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-735" style="margin-left: 0.333em; margin-right: 0.333em;">=</span></span></span><script type="math/tex" id="MathJax-Element-133">s_1=</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-736"><span class="MJXp-mrow" id="MJXp-Span-737"><span class="MJXp-mtext MJXp-mono" id="MJXp-Span-738">'('</span></span></span></span><script type="math/tex" id="MathJax-Element-134">\texttt{'('}</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-739"><span class="MJXp-msubsup" id="MJXp-Span-740"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-741" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-742" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-743" style="margin-left: 0.333em; margin-right: 0.333em;">=</span></span></span><script type="math/tex" id="MathJax-Element-135">s_2=</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-744"><span class="MJXp-mrow" id="MJXp-Span-745"><span class="MJXp-mtext MJXp-mono" id="MJXp-Span-746">')'</span></span></span></span><script type="math/tex" id="MathJax-Element-136">\texttt{')'}</script>.</p></li>   <li><p>If <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-747"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-748">f</span><span class="MJXp-mo" id="MJXp-Span-749" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mrow" id="MJXp-Span-750"><span class="MJXp-mtext MJXp-mono" id="MJXp-Span-751">"s1)s2)()"</span></span><span class="MJXp-mo" id="MJXp-Span-752" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-753" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-754">3</span></span></span><script type="math/tex" id="MathJax-Element-137">f(\texttt{"s1)s2)()"})=3</script>, <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-755"><span class="MJXp-msubsup" id="MJXp-Span-756"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-757" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-758" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-759" style="margin-left: 0.333em; margin-right: 0.333em;">=</span></span></span><script type="math/tex" id="MathJax-Element-138">s_1=</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-760"><span class="MJXp-mrow" id="MJXp-Span-761"><span class="MJXp-mtext MJXp-mono" id="MJXp-Span-762">')'</span></span></span></span><script type="math/tex" id="MathJax-Element-139">\texttt{')'}</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-763"><span class="MJXp-msubsup" id="MJXp-Span-764"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-765" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-766" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-767" style="margin-left: 0.333em; margin-right: 0.333em;">=</span></span></span><script type="math/tex" id="MathJax-Element-140">s_2=</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-768"><span class="MJXp-mrow" id="MJXp-Span-769"><span class="MJXp-mtext MJXp-mono" id="MJXp-Span-770">'('</span></span></span></span><script type="math/tex" id="MathJax-Element-141">\texttt{'('}</script>.</p></li>   <li><p>If <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-771"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-772">f</span><span class="MJXp-mo" id="MJXp-Span-773" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mrow" id="MJXp-Span-774"><span class="MJXp-mtext MJXp-mono" id="MJXp-Span-775">"s1)s2)()"</span></span><span class="MJXp-mo" id="MJXp-Span-776" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-777" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-778">1</span></span></span><script type="math/tex" id="MathJax-Element-142">f(\texttt{"s1)s2)()"})=1</script>, <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-779"><span class="MJXp-msubsup" id="MJXp-Span-780"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-781" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-782" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-783" style="margin-left: 0.333em; margin-right: 0.333em;">=</span></span></span><script type="math/tex" id="MathJax-Element-143">s_1=</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-784"><span class="MJXp-mrow" id="MJXp-Span-785"><span class="MJXp-mtext MJXp-mono" id="MJXp-Span-786">')'</span></span></span></span><script type="math/tex" id="MathJax-Element-144">\texttt{')'}</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-787"><span class="MJXp-msubsup" id="MJXp-Span-788"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-789" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-790" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-791" style="margin-left: 0.333em; margin-right: 0.333em;">=</span></span></span><script type="math/tex" id="MathJax-Element-145">s_2=</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-792"><span class="MJXp-mrow" id="MJXp-Span-793"><span class="MJXp-mtext MJXp-mono" id="MJXp-Span-794">')'</span></span></span></span><script type="math/tex" id="MathJax-Element-146">\texttt{')'}</script>.</p></li> </ul><p>In this way, we can determine two characters with one query.</p></div></div> <div class="spoiler"><b class="spoiler-title">Tutorial (medium version)</b><div class="spoiler-content" style="display: none;"><p>Read the tutorial in easy version first.</p><p>Note <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-795"><span class="MJXp-msubsup" id="MJXp-Span-796"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-797" style="margin-right: 0.05em;">f</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-798" style="vertical-align: -0.4em;">0</span></span></span></span><script type="math/tex" id="MathJax-Element-147">f_0</script> as the <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-799"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-800">f</span></span></span><script type="math/tex" id="MathJax-Element-148">f</script> value of the following string:</p><p><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-801"><span class="MJXp-munderover" id="MJXp-Span-802"><span class=""><span class="MJXp-mrow" id="MJXp-Span-803"><span class="MJXp-munderover" id="MJXp-Span-804"><span class=""><span class="MJXp-mo" id="MJXp-Span-805" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-806" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-807" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-808" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-809" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-810" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-811" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class=""><span class="MJXp-mo" id="MJXp-Span-812" style="margin-left: 0px; margin-right: 0em;"></span></span></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-813" style="margin-left: 0px;"><span class="MJXp-mn" id="MJXp-Span-814">128</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-815">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-816">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-817">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-818">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-819">s</span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-149">\underbrace{()()\ldots()}_{128 pairs}</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-820"><span class="MJXp-mo" id="MJXp-Span-821" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-150">)</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-822"><span class="MJXp-munderover" id="MJXp-Span-823"><span class=""><span class="MJXp-mrow" id="MJXp-Span-824"><span class="MJXp-munderover" id="MJXp-Span-825"><span class=""><span class="MJXp-mo" id="MJXp-Span-826" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-827" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-828" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-829" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-830" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-831" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-832" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class=""><span class="MJXp-mo" id="MJXp-Span-833" style="margin-left: 0px; margin-right: 0em;"></span></span></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-834" style="margin-left: 0px;"><span class="MJXp-mn" id="MJXp-Span-835">64</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-836">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-837">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-838">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-839">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-840">s</span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-151">\underbrace{()()\ldots()}_{64 pairs}</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-841"><span class="MJXp-mo" id="MJXp-Span-842" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-152">)</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-843"><span class="MJXp-mo" id="MJXp-Span-844" style="margin-left: 0em; margin-right: 0em;"></span></span></span><script type="math/tex" id="MathJax-Element-153">\dots</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-845"><span class="MJXp-mo" id="MJXp-Span-846" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-847" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-848" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-154">)()</script></p><p>Then ask for the <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-849"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-850">f</span></span></span><script type="math/tex" id="MathJax-Element-155">f</script> value of the following string (note it as <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-851"><span class="MJXp-msubsup" id="MJXp-Span-852"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-853" style="margin-right: 0.05em;">f</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-854" style="vertical-align: -0.4em;">1</span></span></span></span><script type="math/tex" id="MathJax-Element-156">f_1</script>):</p><p><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-855"><span class="MJXp-munderover" id="MJXp-Span-856"><span class=""><span class="MJXp-mrow" id="MJXp-Span-857"><span class="MJXp-munderover" id="MJXp-Span-858"><span class=""><span class="MJXp-msubsup" id="MJXp-Span-859"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-860" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-861" style="vertical-align: -0.4em;">8</span></span><span class="MJXp-mo" id="MJXp-Span-862" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-863" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-864" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-865" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-866" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-867" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class=""><span class="MJXp-mo" id="MJXp-Span-868" style="margin-left: 0px; margin-right: 0em;"></span></span></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-869" style="margin-left: 0px;"><span class="MJXp-mn" id="MJXp-Span-870">128</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-871">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-872">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-873">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-874">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-875">s</span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-157">\underbrace{s_8)()\ldots()}_{128 pairs}</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-876"><span class="MJXp-mo" id="MJXp-Span-877" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-158">)</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-878"><span class="MJXp-munderover" id="MJXp-Span-879"><span class=""><span class="MJXp-mrow" id="MJXp-Span-880"><span class="MJXp-munderover" id="MJXp-Span-881"><span class=""><span class="MJXp-msubsup" id="MJXp-Span-882"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-883" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-884" style="vertical-align: -0.4em;">7</span></span><span class="MJXp-mo" id="MJXp-Span-885" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-886" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-887" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-888" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-889" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-890" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class=""><span class="MJXp-mo" id="MJXp-Span-891" style="margin-left: 0px; margin-right: 0em;"></span></span></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-892" style="margin-left: 0px;"><span class="MJXp-mn" id="MJXp-Span-893">64</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-894">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-895">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-896">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-897">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-898">s</span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-159">\underbrace{s_7)()\ldots()}_{64 pairs}</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-899"><span class="MJXp-mo" id="MJXp-Span-900" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-160">)</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-901"><span class="MJXp-mo" id="MJXp-Span-902" style="margin-left: 0em; margin-right: 0em;"></span></span></span><script type="math/tex" id="MathJax-Element-161">\dots</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-903"><span class="MJXp-mo" id="MJXp-Span-904" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-905"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-906" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-907" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-908" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-162">)s_1)</script></p><p>By checking the binary bits of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-909"><span class="MJXp-msubsup" id="MJXp-Span-910"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-911" style="margin-right: 0.05em;">f</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-912" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mo" id="MJXp-Span-913" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-msubsup" id="MJXp-Span-914"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-915" style="margin-right: 0.05em;">f</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-916" style="vertical-align: -0.4em;">1</span></span></span></span><script type="math/tex" id="MathJax-Element-163">f_0-f_1</script>, we can determine <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-917"><span class="MJXp-mn" id="MJXp-Span-918">8</span></span></span><script type="math/tex" id="MathJax-Element-164">8</script> positions with one query. For example, if <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-919"><span class="MJXp-msubsup" id="MJXp-Span-920"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-921" style="margin-right: 0.05em;">f</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-922" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mo" id="MJXp-Span-923" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-msubsup" id="MJXp-Span-924"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-925" style="margin-right: 0.05em;">f</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-926" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-927" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-928" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-929">10000101</span><span class="MJXp-msubsup" id="MJXp-Span-930"><span class="MJXp-mo" id="MJXp-Span-931" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-932" style="vertical-align: -0.4em;">2</span></span></span></span><script type="math/tex" id="MathJax-Element-165">f_0-f_1=(10000101)_2</script>, we can get <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-933"><span class="MJXp-msubsup" id="MJXp-Span-934"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-935" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-936" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-937" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-938"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-939" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-940" style="vertical-align: -0.4em;">3</span></span><span class="MJXp-mo" id="MJXp-Span-941" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-942"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-943" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-944" style="vertical-align: -0.4em;">8</span></span><span class="MJXp-msup" id="MJXp-Span-945"><span class="MJXp-mo" id="MJXp-Span-946" style="margin-left: 0.333em; margin-right: 0.05em;">=</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-947" style="vertical-align: 0.5em;"></span></span><span class="MJXp-msup" id="MJXp-Span-948"><span class="MJXp-mo" id="MJXp-Span-949" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-950" style="vertical-align: 0.5em;"></span></span></span></span><script type="math/tex" id="MathJax-Element-166">s_1=s_3=s_8=')'</script>.</p></div></div> <div class="spoiler"><b class="spoiler-title">Tutorial (hard version)</b><div class="spoiler-content" style="display: none;"><p>Read the tutorial of the medium version first.</p><p>We can optimize</p><p><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-951"><span class="MJXp-munderover" id="MJXp-Span-952"><span class=""><span class="MJXp-mrow" id="MJXp-Span-953"><span class="MJXp-munderover" id="MJXp-Span-954"><span class=""><span class="MJXp-msubsup" id="MJXp-Span-955"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-956" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-957" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-958" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-959" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-960" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-961" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-962" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-963" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class=""><span class="MJXp-mo" id="MJXp-Span-964" style="margin-left: 0px; margin-right: 0em;"></span></span></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-965" style="margin-left: 0px;"><span class="MJXp-msubsup" id="MJXp-Span-966"><span class="MJXp-mn" id="MJXp-Span-967" style="margin-right: 0.05em;">2</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-968" style="vertical-align: 0.5em;">k</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-969">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-970">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-971">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-972">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-973">s</span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-167">\underbrace{s_i)()\ldots()}_{2^k pairs}</script></p><p>to</p><p><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-974"><span class="MJXp-munderover" id="MJXp-Span-975"><span class=""><span class="MJXp-mrow" id="MJXp-Span-976"><span class="MJXp-munderover" id="MJXp-Span-977"><span class=""><span class="MJXp-mo" id="MJXp-Span-978" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-979" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-980" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-981" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-982" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-983" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-984" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class=""><span class="MJXp-mo" id="MJXp-Span-985" style="margin-left: 0px; margin-right: 0em;"></span></span></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-986" style="margin-left: 0px;"><span class="MJXp-msubsup" id="MJXp-Span-987"><span class="MJXp-mn" id="MJXp-Span-988" style="margin-right: 0.05em;">2</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-989" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-990"></span><span class="MJXp-mfrac" id="MJXp-Span-991" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-992">k</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-993">2</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-994"></span></span></span><span class="MJXp-mo" id="MJXp-Span-995"></span><span class="MJXp-mn" id="MJXp-Span-996">1</span><span class="MJXp-mtext" id="MJXp-Span-997">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-998">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-999">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1000">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1001">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1002">s</span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-168">\underbrace{()()\ldots()}_{2^{\lfloor \frac{k}{2} \rfloor}-1\ pairs}</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1003"><span class="MJXp-msubsup" id="MJXp-Span-1004"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1005" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1006" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-1007" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-169">s_i)</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1008"><span class="MJXp-munderover" id="MJXp-Span-1009"><span class=""><span class="MJXp-mrow" id="MJXp-Span-1010"><span class="MJXp-munderover" id="MJXp-Span-1011"><span class=""><span class="MJXp-mo" id="MJXp-Span-1012" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-1013" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1014" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-1015" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1016" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-1017" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-1018" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class=""><span class="MJXp-mo" id="MJXp-Span-1019" style="margin-left: 0px; margin-right: 0em;"></span></span></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-1020" style="margin-left: 0px;"><span class="MJXp-msubsup" id="MJXp-Span-1021"><span class="MJXp-mn" id="MJXp-Span-1022" style="margin-right: 0.05em;">2</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1023" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-1024"></span><span class="MJXp-mfrac" id="MJXp-Span-1025" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1026">k</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-1027">2</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1028"></span></span></span><span class="MJXp-mo" id="MJXp-Span-1029"></span><span class="MJXp-mn" id="MJXp-Span-1030">1</span><span class="MJXp-mtext" id="MJXp-Span-1031">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1032">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1033">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1034">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1035">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1036">s</span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-170">\underbrace{()()\ldots()}_{2^{\lceil \frac{k}{2} \rceil}-1\ pairs}</script></p><p>With this optimization, we can determine <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1037"><span class="MJXp-mn" id="MJXp-Span-1038">12</span></span></span><script type="math/tex" id="MathJax-Element-171">12</script> locations in one query.</p><p>Another construction also works:</p><p><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1039"><span class="MJXp-munderover" id="MJXp-Span-1040"><span class=""><span class="MJXp-mrow" id="MJXp-Span-1041"><span class="MJXp-munderover" id="MJXp-Span-1042"><span class=""><span class="MJXp-msubsup" id="MJXp-Span-1043"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1044" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1045" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-1046" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-1047"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1048" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1049" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-1050" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1051" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-msubsup" id="MJXp-Span-1052"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1053" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1054" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-1055" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class=""><span class="MJXp-mo" id="MJXp-Span-1056" style="margin-left: 0px; margin-right: 0em;"></span></span></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-1057" style="margin-left: 0px;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1058">g</span><span class="MJXp-mo" id="MJXp-Span-1059">(</span><span class="MJXp-mn" id="MJXp-Span-1060">1</span><span class="MJXp-mo" id="MJXp-Span-1061">)</span><span class="MJXp-mtext" id="MJXp-Span-1062">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1063">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1064">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1065">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1066">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1067">s</span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-172">\underbrace{s_1)s_1)\ldots s_1)}_{g(1)\ pairs}</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1068"><span class="MJXp-mo" id="MJXp-Span-1069" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-173">)</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1070"><span class="MJXp-munderover" id="MJXp-Span-1071"><span class=""><span class="MJXp-mrow" id="MJXp-Span-1072"><span class="MJXp-munderover" id="MJXp-Span-1073"><span class=""><span class="MJXp-msubsup" id="MJXp-Span-1074"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1075" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1076" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1077" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-1078"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1079" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1080" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1081" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1082" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-msubsup" id="MJXp-Span-1083"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1084" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1085" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1086" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class=""><span class="MJXp-mo" id="MJXp-Span-1087" style="margin-left: 0px; margin-right: 0em;"></span></span></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-1088" style="margin-left: 0px;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1089">g</span><span class="MJXp-mo" id="MJXp-Span-1090">(</span><span class="MJXp-mn" id="MJXp-Span-1091">2</span><span class="MJXp-mo" id="MJXp-Span-1092">)</span><span class="MJXp-mtext" id="MJXp-Span-1093">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1094">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1095">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1096">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1097">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1098">s</span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-174">\underbrace{s_2)s_2)\ldots s_2)}_{g(2)\ pairs}</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1099"><span class="MJXp-mo" id="MJXp-Span-1100" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-175">)</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1101"><span class="MJXp-munderover" id="MJXp-Span-1102"><span class=""><span class="MJXp-mrow" id="MJXp-Span-1103"><span class="MJXp-munderover" id="MJXp-Span-1104"><span class=""><span class="MJXp-msubsup" id="MJXp-Span-1105"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1106" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1107" style="vertical-align: -0.4em;">3</span></span><span class="MJXp-mo" id="MJXp-Span-1108" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-1109"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1110" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1111" style="vertical-align: -0.4em;">3</span></span><span class="MJXp-mo" id="MJXp-Span-1112" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1113" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-msubsup" id="MJXp-Span-1114"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1115" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1116" style="vertical-align: -0.4em;">3</span></span><span class="MJXp-mo" id="MJXp-Span-1117" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class=""><span class="MJXp-mo" id="MJXp-Span-1118" style="margin-left: 0px; margin-right: 0em;"></span></span></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-1119" style="margin-left: 0px;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1120">g</span><span class="MJXp-mo" id="MJXp-Span-1121">(</span><span class="MJXp-mn" id="MJXp-Span-1122">3</span><span class="MJXp-mo" id="MJXp-Span-1123">)</span><span class="MJXp-mtext" id="MJXp-Span-1124">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1125">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1126">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1127">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1128">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1129">s</span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-176">\underbrace{s_3)s_3)\ldots s_3)}_{g(3)\ pairs}</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1130"><span class="MJXp-mo" id="MJXp-Span-1131" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-177">)</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1132"><span class="MJXp-mo" id="MJXp-Span-1133" style="margin-left: 0em; margin-right: 0em;"></span></span></span><script type="math/tex" id="MathJax-Element-178">\ldots</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1134"><span class="MJXp-munderover" id="MJXp-Span-1135"><span class=""><span class="MJXp-mrow" id="MJXp-Span-1136"><span class="MJXp-munderover" id="MJXp-Span-1137"><span class=""><span class="MJXp-msubsup" id="MJXp-Span-1138"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1139" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1140" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1141">12</span></span></span><span class="MJXp-mo" id="MJXp-Span-1142" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-1143"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1144" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1145" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1146">12</span></span></span><span class="MJXp-mo" id="MJXp-Span-1147" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1148" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-msubsup" id="MJXp-Span-1149"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1150" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1151" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-1152">12</span></span></span><span class="MJXp-mo" id="MJXp-Span-1153" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class=""><span class="MJXp-mo" id="MJXp-Span-1154" style="margin-left: 0px; margin-right: 0em;"></span></span></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-1155" style="margin-left: 0px;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1156">g</span><span class="MJXp-mo" id="MJXp-Span-1157">(</span><span class="MJXp-mn" id="MJXp-Span-1158">12</span><span class="MJXp-mo" id="MJXp-Span-1159">)</span><span class="MJXp-mtext" id="MJXp-Span-1160">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1161">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1162">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1163">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1164">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1165">s</span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-179">\underbrace{s_{12})s_{12})\ldots s_{12})}_{g(12)\ pairs}</script></p><p>where <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1166"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1167">g</span><span class="MJXp-mo" id="MJXp-Span-1168" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-1169">1</span><span class="MJXp-mo" id="MJXp-Span-1170" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-1171" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-1172">1</span></span></span><script type="math/tex" id="MathJax-Element-180">g(1)=1</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1173"><span class="MJXp-mfrac" id="MJXp-Span-1174" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1175">g</span><span class="MJXp-mo" id="MJXp-Span-1176">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1177">i</span><span class="MJXp-mo" id="MJXp-Span-1178">+</span><span class="MJXp-mn" id="MJXp-Span-1179">1</span><span class="MJXp-mo" id="MJXp-Span-1180">)</span><span class="MJXp-mo" id="MJXp-Span-1181"></span><span class="MJXp-mo" id="MJXp-Span-1182">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1183">g</span><span class="MJXp-mo" id="MJXp-Span-1184">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1185">i</span><span class="MJXp-mo" id="MJXp-Span-1186">+</span><span class="MJXp-mn" id="MJXp-Span-1187">1</span><span class="MJXp-mo" id="MJXp-Span-1188">)</span><span class="MJXp-mo" id="MJXp-Span-1189">+</span><span class="MJXp-mn" id="MJXp-Span-1190">1</span><span class="MJXp-mo" id="MJXp-Span-1191">)</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-1192">2</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1193" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mfrac" id="MJXp-Span-1194" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1195">g</span><span class="MJXp-mo" id="MJXp-Span-1196">(</span><span class="MJXp-mn" id="MJXp-Span-1197">1</span><span class="MJXp-mo" id="MJXp-Span-1198">)</span><span class="MJXp-mo" id="MJXp-Span-1199"></span><span class="MJXp-mo" id="MJXp-Span-1200">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1201">g</span><span class="MJXp-mo" id="MJXp-Span-1202">(</span><span class="MJXp-mn" id="MJXp-Span-1203">1</span><span class="MJXp-mo" id="MJXp-Span-1204">)</span><span class="MJXp-mo" id="MJXp-Span-1205">+</span><span class="MJXp-mn" id="MJXp-Span-1206">1</span><span class="MJXp-mo" id="MJXp-Span-1207">)</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-1208">2</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1209" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mfrac" id="MJXp-Span-1210" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1211">g</span><span class="MJXp-mo" id="MJXp-Span-1212">(</span><span class="MJXp-mn" id="MJXp-Span-1213">2</span><span class="MJXp-mo" id="MJXp-Span-1214">)</span><span class="MJXp-mo" id="MJXp-Span-1215"></span><span class="MJXp-mo" id="MJXp-Span-1216">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1217">g</span><span class="MJXp-mo" id="MJXp-Span-1218">(</span><span class="MJXp-mn" id="MJXp-Span-1219">2</span><span class="MJXp-mo" id="MJXp-Span-1220">)</span><span class="MJXp-mo" id="MJXp-Span-1221">+</span><span class="MJXp-mn" id="MJXp-Span-1222">1</span><span class="MJXp-mo" id="MJXp-Span-1223">)</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-1224">2</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1225" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-1226" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-1227" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mfrac" id="MJXp-Span-1228" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1229">g</span><span class="MJXp-mo" id="MJXp-Span-1230">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1231">i</span><span class="MJXp-mo" id="MJXp-Span-1232">)</span><span class="MJXp-mo" id="MJXp-Span-1233"></span><span class="MJXp-mo" id="MJXp-Span-1234">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1235">g</span><span class="MJXp-mo" id="MJXp-Span-1236">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1237">i</span><span class="MJXp-mo" id="MJXp-Span-1238">)</span><span class="MJXp-mo" id="MJXp-Span-1239">+</span><span class="MJXp-mn" id="MJXp-Span-1240">1</span><span class="MJXp-mo" id="MJXp-Span-1241">)</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-1242">2</span></span></span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-181">\frac{g(i+1) \cdot (g(i+1)+1)}{2}>\frac{g(1) \cdot (g(1)+1)}{2}+\frac{g(2) \cdot (g(2)+1)}{2}+\ldots+\frac{g(i) \cdot (g(i)+1)}{2}</script>.</p></div></div> <div class="spoiler"><b class="spoiler-title">solution (easy version)</b><div class="spoiler-content" style="display: none;"><pre><code class="prettyprint prettyprinted" style=""><br><span class="com">#include</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln">bits</span><span class="pun">/</span><span class="pln">stdc</span><span class="pun">++.</span><span class="pln">h</span><span class="pun">&gt;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> </span><span class="kwd">namespace</span><span class="pln"> std</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">typedef</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> ll</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">typedef</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">long</span><span class="pln">       ll</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">typedef</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">double</span><span class="pln">     ld</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">typedef</span><span class="pln"> pair</span><span class="pun">&lt;</span><span class="pln">ll</span><span class="pun">,</span><span class="pln"> ll</span><span class="pun">&gt;</span><span class="pln">   pll</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">typedef</span><span class="pln"> pair</span><span class="pun">&lt;</span><span class="kwd">int</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pun">&gt;</span><span class="pln"> pii</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">typedef</span><span class="pln"> vector</span><span class="str">&lt;int&gt;</span><span class="pln"> vi</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">typedef</span><span class="pln"> vector</span><span class="str">&lt;ll&gt;</span><span class="pln"> vll</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> kk </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1000</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> ml </span><span class="pun">=</span><span class="pln"> kk </span><span class="pun">*</span><span class="pln"> kk</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> mod </span><span class="pun">=</span><span class="pln"> ml </span><span class="pun">*</span><span class="pln"> kk </span><span class="pun">+</span><span class="pln"> </span><span class="lit">7</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> inf </span><span class="pun">=</span><span class="pln"> ml </span><span class="pun">*</span><span class="pln"> ml </span><span class="pun">*</span><span class="pln"> ml </span><span class="pun">+</span><span class="pln"> </span><span class="lit">7</span><span class="pun">;</span><span class="pln">

</span><span class="com">#define</span><span class="pln"> T</span><span class="pun">(</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> i</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">get</span><span class="str">&lt;i&gt;</span><span class="pun">(</span><span class="pln">x</span><span class="pun">)</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> F first
</span><span class="com">#define</span><span class="pln"> S second
</span><span class="com">#define</span><span class="pln"> all</span><span class="pun">(</span><span class="pln">v</span><span class="pun">)</span><span class="pln"> v</span><span class="pun">.</span><span class="kwd">begin</span><span class="pun">(),</span><span class="pln"> v</span><span class="pun">.</span><span class="kwd">end</span><span class="pun">()</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> </span><span class="kwd">forn</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln"> n</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> n</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln">

</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">class</span><span class="pln"> T</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> U</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">inline</span><span class="pln"> istream</span><span class="pun">&amp;</span><span class="pln"> </span><span class="kwd">operator</span><span class="pun">&gt;&gt;(</span><span class="pln">istream</span><span class="pun">&amp;</span><span class="pln"> str</span><span class="pun">,</span><span class="pln"> pair</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">,</span><span class="pln"> U</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">p</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> str </span><span class="pun">&gt;&gt;</span><span class="pln"> p</span><span class="pun">.</span><span class="pln">F </span><span class="pun">&gt;&gt;</span><span class="pln"> p</span><span class="pun">.</span><span class="pln">S</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">class</span><span class="pln"> T</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> U</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">inline</span><span class="pln"> ostream</span><span class="pun">&amp;</span><span class="pln"> </span><span class="kwd">operator</span><span class="pun">&lt;&lt;(</span><span class="pln">ostream</span><span class="pun">&amp;</span><span class="pln"> str</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> pair</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">,</span><span class="pln"> U</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">p</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> str </span><span class="pun">&lt;&lt;</span><span class="pln"> p</span><span class="pun">.</span><span class="pln">F </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">' '</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> p</span><span class="pun">.</span><span class="pln">S </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">' '</span><span class="pun">;</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> str</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">class</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">inline</span><span class="pln"> istream</span><span class="pun">&amp;</span><span class="pln"> </span><span class="kwd">operator</span><span class="pun">&gt;&gt;(</span><span class="pln">istream</span><span class="pun">&amp;</span><span class="pln"> str</span><span class="pun">,</span><span class="pln"> vector</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">a</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">auto</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">i </span><span class="pun">:</span><span class="pln"> a</span><span class="pun">)</span><span class="pln"> str </span><span class="pun">&gt;&gt;</span><span class="pln"> i</span><span class="pun">;</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> str</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">class</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">inline</span><span class="pln"> ostream</span><span class="pun">&amp;</span><span class="pln"> </span><span class="kwd">operator</span><span class="pun">&lt;&lt;(</span><span class="pln">ostream</span><span class="pun">&amp;</span><span class="pln"> str</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> vector</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">a</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">auto</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">i </span><span class="pun">:</span><span class="pln"> a</span><span class="pun">)</span><span class="pln"> str </span><span class="pun">&lt;&lt;</span><span class="pln"> i </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">' '</span><span class="pun">;</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> str</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">

</span><span class="kwd">void</span><span class="pln"> flush</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> cout </span><span class="pun">&lt;&lt;</span><span class="pln"> flush</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="kwd">void</span><span class="pln"> flushln</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> cout </span><span class="pun">&lt;&lt;</span><span class="pln"> endl</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">class</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> read</span><span class="pun">(</span><span class="pln">T </span><span class="pun">&amp;</span><span class="pln">x</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> cin </span><span class="pun">&gt;&gt;</span><span class="pln"> x</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">class</span><span class="pln"> T</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="pun">...</span><span class="pln">U</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> read</span><span class="pun">(</span><span class="pln">T </span><span class="pun">&amp;</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> U</span><span class="pun">&amp;...</span><span class="pln"> u</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> read</span><span class="pun">(</span><span class="pln">x</span><span class="pun">);</span><span class="pln"> read</span><span class="pun">(</span><span class="pln">u</span><span class="pun">...);</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">class</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="kwd">print</span><span class="pun">(</span><span class="kwd">const</span><span class="pln"> T </span><span class="pun">&amp;</span><span class="pln">x</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> cout </span><span class="pun">&lt;&lt;</span><span class="pln"> x</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">class</span><span class="pln"> T</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="pun">...</span><span class="pln">U</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="kwd">print</span><span class="pun">(</span><span class="kwd">const</span><span class="pln"> T </span><span class="pun">&amp;</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> U</span><span class="pun">&amp;...</span><span class="pln"> u</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">print</span><span class="pun">(</span><span class="pln">x</span><span class="pun">);</span><span class="pln"> </span><span class="kwd">print</span><span class="pun">(</span><span class="pln">u</span><span class="pun">...);</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">class</span><span class="pln"> </span><span class="pun">...</span><span class="pln">T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> println</span><span class="pun">(</span><span class="kwd">const</span><span class="pln"> T</span><span class="pun">&amp;...</span><span class="pln"> u</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">print</span><span class="pun">(</span><span class="pln">u</span><span class="pun">...,</span><span class="pln"> </span><span class="str">'\n'</span><span class="pun">);</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">class</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> eprint</span><span class="pun">(</span><span class="kwd">const</span><span class="pln"> T </span><span class="pun">&amp;</span><span class="pln">x</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> cerr </span><span class="pun">&lt;&lt;</span><span class="pln"> x</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">class</span><span class="pln"> T</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="pun">...</span><span class="pln">U</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> eprint</span><span class="pun">(</span><span class="kwd">const</span><span class="pln"> T </span><span class="pun">&amp;</span><span class="pln">x</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> U</span><span class="pun">&amp;...</span><span class="pln"> u</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> eprint</span><span class="pun">(</span><span class="pln">x</span><span class="pun">);</span><span class="pln"> eprint</span><span class="pun">(</span><span class="pln">u</span><span class="pun">...);</span><span class="pln"> </span><span class="pun">}</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">class</span><span class="pln"> </span><span class="pun">...</span><span class="pln">T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> eprintln</span><span class="pun">(</span><span class="kwd">const</span><span class="pln"> T</span><span class="pun">&amp;...</span><span class="pln"> u</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> eprint</span><span class="pun">(</span><span class="pln">u</span><span class="pun">...,</span><span class="pln"> </span><span class="str">'\n'</span><span class="pun">);</span><span class="pln"> </span><span class="pun">}</span><span class="pln">

</span><span class="com">#ifdef</span><span class="pln"> DEBUG
	mt19937 rng</span><span class="pun">(</span><span class="lit">1033</span><span class="pun">);</span><span class="pln">
	</span><span class="com">#define</span><span class="pln"> </span><span class="kwd">var</span><span class="pun">(</span><span class="pln">x</span><span class="pun">)</span><span class="pln"> cerr </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="com">#x &lt;&lt; ": " &lt;&lt; x &lt;&lt; '\n';</span><span class="pln">
	</span><span class="com">#define</span><span class="pln"> range</span><span class="pun">(</span><span class="pln">a</span><span class="pun">,</span><span class="pln"> b</span><span class="pun">)</span><span class="pln"> cerr </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="com">#a &lt;&lt; ", " &lt;&lt; #b &lt;&lt; ": "; for (auto _it = a; _it != b; ++_it) cerr &lt;&lt; *_it &lt;&lt; ' '; cerr &lt;&lt; '\n';</span><span class="pln">
</span><span class="com">#else</span><span class="pln">
	mt19937 rng</span><span class="pun">(</span><span class="pln">chrono</span><span class="pun">::</span><span class="pln">steady_clock</span><span class="pun">::</span><span class="pln">now</span><span class="pun">().</span><span class="pln">time_since_epoch</span><span class="pun">().</span><span class="pln">count</span><span class="pun">());</span><span class="pln">
	</span><span class="com">#define</span><span class="pln"> cerr </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">false</span><span class="pun">)</span><span class="pln"> cerr
	</span><span class="com">#define</span><span class="pln"> </span><span class="kwd">var</span><span class="pun">(</span><span class="pln">x</span><span class="pun">)</span><span class="pln">
	</span><span class="com">#define</span><span class="pln"> range</span><span class="pun">(</span><span class="pln">a</span><span class="pun">,</span><span class="pln"> b</span><span class="pun">)</span><span class="pln">
	</span><span class="com">#define</span><span class="pln"> eprintln </span><span class="kwd">if</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">)</span><span class="pln">eprintln
	</span><span class="com">#define</span><span class="pln"> eprint </span><span class="kwd">if</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">)</span><span class="pln">eprint
</span><span class="com">#endif</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> rnd</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> mod</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> uniform_int_distribution</span><span class="str">&lt;int&gt;</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> mod </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)(</span><span class="pln">rng</span><span class="pun">);</span><span class="pln"> </span><span class="pun">}</span><span class="pln">


</span><span class="kwd">int</span><span class="pln"> n</span><span class="pun">;</span><span class="pln">

map</span><span class="pun">&lt;</span><span class="pln">vector</span><span class="str">&lt;int&gt;</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pun">&gt;</span><span class="pln"> mem</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">int</span><span class="pln"> ask</span><span class="pun">(</span><span class="pln">vector</span><span class="str">&lt;int&gt;</span><span class="pln"> ind</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">mem</span><span class="pun">.</span><span class="pln">count</span><span class="pun">(</span><span class="pln">ind</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		cout </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"? "</span><span class="pun">;</span><span class="pln">
		cout </span><span class="pun">&lt;&lt;</span><span class="pln"> ind</span><span class="pun">.</span><span class="pln">size</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">' '</span><span class="pun">;</span><span class="pln">
		</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">auto</span><span class="pln"> i </span><span class="pun">:</span><span class="pln"> ind</span><span class="pun">)</span><span class="pln">
			cout </span><span class="pun">&lt;&lt;</span><span class="pln"> i </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">' '</span><span class="pun">;</span><span class="pln">
		cout </span><span class="pun">&lt;&lt;</span><span class="pln"> endl</span><span class="pun">;</span><span class="pln">

		</span><span class="kwd">int</span><span class="pln"> res</span><span class="pun">;</span><span class="pln">
		cin </span><span class="pun">&gt;&gt;</span><span class="pln"> res</span><span class="pun">;</span><span class="pln">
		mem</span><span class="pun">[</span><span class="pln">ind</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> res</span><span class="pun">;</span><span class="pln">
	</span><span class="pun">}</span><span class="pln">

	</span><span class="kwd">return</span><span class="pln"> mem</span><span class="pun">[</span><span class="pln">ind</span><span class="pun">];</span><span class="pln">
</span><span class="pun">}</span><span class="pln">


</span><span class="kwd">bool</span><span class="pln"> same</span><span class="pun">(</span><span class="pln">vector</span><span class="str">&lt;int&gt;</span><span class="pln"> ind</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ask</span><span class="pun">(</span><span class="pln">ind</span><span class="pun">))</span><span class="pln">
		</span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
	ind</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">ind</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]);</span><span class="pln">
	ind</span><span class="pun">.</span><span class="pln">erase</span><span class="pun">(</span><span class="pln">ind</span><span class="pun">.</span><span class="kwd">begin</span><span class="pun">());</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ask</span><span class="pun">(</span><span class="pln">ind</span><span class="pun">))</span><span class="pln">
		</span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln">
	</span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

pii search</span><span class="pun">(</span><span class="pln">vector</span><span class="str">&lt;int&gt;</span><span class="pln"> ind</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ind</span><span class="pun">.</span><span class="pln">size</span><span class="pun">()</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ask</span><span class="pun">(</span><span class="pln">ind</span><span class="pun">))</span><span class="pln">
			</span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">ind</span><span class="pun">[</span><span class="lit">0</span><span class="pun">],</span><span class="pln"> ind</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]};</span><span class="pln">
		</span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">ind</span><span class="pun">[</span><span class="lit">1</span><span class="pun">],</span><span class="pln"> ind</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]};</span><span class="pln">
	</span><span class="pun">}</span><span class="pln">

	vector</span><span class="str">&lt;int&gt;</span><span class="pln"> inda</span><span class="pun">,</span><span class="pln"> indb</span><span class="pun">;</span><span class="pln">
	</span><span class="kwd">int</span><span class="pln"> sz </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ind</span><span class="pun">.</span><span class="pln">size</span><span class="pun">()</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> </span><span class="lit">2</span><span class="pun">;</span><span class="pln">
	</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> sz</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		inda</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">ind</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span><span class="pln">
		indb</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">ind</span><span class="pun">[</span><span class="pln">ind</span><span class="pun">.</span><span class="pln">size</span><span class="pun">()</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> i</span><span class="pun">]);</span><span class="pln">
	</span><span class="pun">}</span><span class="pln">

	</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">same</span><span class="pun">(</span><span class="pln">inda</span><span class="pun">))</span><span class="pln">
		</span><span class="kwd">return</span><span class="pln"> search</span><span class="pun">(</span><span class="pln">inda</span><span class="pun">);</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">same</span><span class="pun">(</span><span class="pln">indb</span><span class="pun">))</span><span class="pln">
		</span><span class="kwd">return</span><span class="pln"> search</span><span class="pun">(</span><span class="pln">indb</span><span class="pun">);</span><span class="pln">
	inda</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">indb</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]);</span><span class="pln">
	</span><span class="kwd">return</span><span class="pln"> search</span><span class="pun">(</span><span class="pln">inda</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

pii find_reg2</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
	vector</span><span class="str">&lt;int&gt;</span><span class="pln"> ind</span><span class="pun">(</span><span class="pln">n</span><span class="pun">);</span><span class="pln">
	iota</span><span class="pun">(</span><span class="pln">all</span><span class="pun">(</span><span class="pln">ind</span><span class="pun">),</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
	shuffle</span><span class="pun">(</span><span class="pln">all</span><span class="pun">(</span><span class="pln">ind</span><span class="pun">),</span><span class="pln"> rng</span><span class="pun">);</span><span class="pln">
	</span><span class="kwd">return</span><span class="pln"> search</span><span class="pun">(</span><span class="pln">ind</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">void</span><span class="pln"> solve</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
	mem</span><span class="pun">.</span><span class="pln">clear</span><span class="pun">();</span><span class="pln">
	</span><span class="kwd">auto</span><span class="pln"> </span><span class="pun">[</span><span class="pln">po</span><span class="pun">,</span><span class="pln"> pc</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> find_reg2</span><span class="pun">();</span><span class="pln">

	vector</span><span class="str">&lt;int&gt;</span><span class="pln"> to_ask</span><span class="pun">(</span><span class="pln">n</span><span class="pun">);</span><span class="pln">
	iota</span><span class="pun">(</span><span class="pln">all</span><span class="pun">(</span><span class="pln">to_ask</span><span class="pun">),</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">to_ask</span><span class="pun">.</span><span class="pln">size</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln">
		to_ask</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">


	</span><span class="kwd">string</span><span class="pln"> ans </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">string</span><span class="pun">(</span><span class="pln">n</span><span class="pun">,</span><span class="pln"> </span><span class="str">'.'</span><span class="pun">);</span><span class="pln">
	ans</span><span class="pun">[</span><span class="pln">po</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">'('</span><span class="pun">;</span><span class="pln">
	ans</span><span class="pun">[</span><span class="pln">pc</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="str">')'</span><span class="pun">;</span><span class="pln">
		
	</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> to_ask</span><span class="pun">.</span><span class="pln">size</span><span class="pun">();</span><span class="pln"> i </span><span class="pun">+=</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		</span><span class="kwd">int</span><span class="pln"> a </span><span class="pun">=</span><span class="pln"> to_ask</span><span class="pun">[</span><span class="pln">i</span><span class="pun">],</span><span class="pln"> b </span><span class="pun">=</span><span class="pln"> to_ask</span><span class="pun">[</span><span class="pln">i </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">];</span><span class="pln">

		vector</span><span class="str">&lt;int&gt;</span><span class="pln"> q </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">po</span><span class="pun">,</span><span class="pln"> pc</span><span class="pun">,</span><span class="pln"> po</span><span class="pun">,</span><span class="pln"> a</span><span class="pun">,</span><span class="pln"> b</span><span class="pun">,</span><span class="pln"> pc</span><span class="pun">};</span><span class="pln">
		</span><span class="kwd">int</span><span class="pln"> res </span><span class="pun">=</span><span class="pln"> ask</span><span class="pun">(</span><span class="pln">q</span><span class="pun">);</span><span class="pln">

		</span><span class="com">// ()(ab) - x ab</span><span class="pln">
		</span><span class="com">// ()(()) - 4 ()</span><span class="pln">
		</span><span class="com">// ()((() - 2 ((</span><span class="pln">
		</span><span class="com">// ()())) - 3 ))</span><span class="pln">
		</span><span class="com">// ()()() - 6 )(</span><span class="pln">
		map</span><span class="pun">&lt;</span><span class="kwd">int</span><span class="pun">,</span><span class="pln"> pair</span><span class="pun">&lt;</span><span class="kwd">char</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">char</span><span class="pun">&gt;&gt;</span><span class="pln"> results </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
			</span><span class="pun">{</span><span class="lit">4</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="str">'('</span><span class="pun">,</span><span class="pln"> </span><span class="str">')'</span><span class="pun">}},</span><span class="pln">
			</span><span class="pun">{</span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="str">'('</span><span class="pun">,</span><span class="pln"> </span><span class="str">'('</span><span class="pun">}},</span><span class="pln">
			</span><span class="pun">{</span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="str">')'</span><span class="pun">,</span><span class="pln"> </span><span class="str">')'</span><span class="pun">}},</span><span class="pln">
			</span><span class="pun">{</span><span class="lit">6</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="str">')'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'('</span><span class="pun">}},</span><span class="pln">
		</span><span class="pun">};</span><span class="pln">

		</span><span class="kwd">assert</span><span class="pun">(</span><span class="pln">results</span><span class="pun">.</span><span class="pln">count</span><span class="pun">(</span><span class="pln">res</span><span class="pun">));</span><span class="pln">
		</span><span class="kwd">auto</span><span class="pln"> </span><span class="pun">[</span><span class="pln">resa</span><span class="pun">,</span><span class="pln"> resb</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> results</span><span class="pun">[</span><span class="pln">res</span><span class="pun">];</span><span class="pln">
		ans</span><span class="pun">[</span><span class="pln">a</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> resa</span><span class="pun">;</span><span class="pln">
		ans</span><span class="pun">[</span><span class="pln">b</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> resb</span><span class="pun">;</span><span class="pln">
	</span><span class="pun">}</span><span class="pln">

	cout </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"! "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> ans </span><span class="pun">&lt;&lt;</span><span class="pln"> endl</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">signed</span><span class="pln"> main</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
	</span><span class="com">#ifdef</span><span class="pln"> DEBUG
	</span><span class="com">// freopen("input.txt", "r", stdin);</span><span class="pln">
	</span><span class="com">// freopen("output.txt", "w", stdout);</span><span class="pln">
	</span><span class="com">#endif</span><span class="pln">
	ios_base</span><span class="pun">::</span><span class="pln">sync_with_stdio</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln"> cin</span><span class="pun">.</span><span class="pln">tie</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">
	cout </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="kwd">fixed</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> setprecision</span><span class="pun">(</span><span class="lit">20</span><span class="pun">);</span><span class="pln">
	</span><span class="kwd">int</span><span class="pln"> t </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
	cin </span><span class="pun">&gt;&gt;</span><span class="pln"> t</span><span class="pun">;</span><span class="pln">
	</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> t</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
		cin </span><span class="pun">&gt;&gt;</span><span class="pln"> n</span><span class="pun">;</span><span class="pln">
		solve</span><span class="pun">();</span><span class="pln">
	</span><span class="pun">}</span><span class="pln">
	</span><span class="com">#ifdef</span><span class="pln"> DEBUG
		cerr </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"Runtime is: "</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> clock</span><span class="pun">()</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">1.0</span><span class="pln"> </span><span class="pun">/</span><span class="pln"> CLOCKS_PER_SEC </span><span class="pun">&lt;&lt;</span><span class="pln"> endl</span><span class="pun">;</span><span class="pln">
	</span><span class="com">#endif</span><span class="pln">
</span><span class="pun">}</span><span class="pln">


</span><span class="com">/*


()(ab)
()(()) - 4 ()
()((() - 2 ((
()())) - 3 ))
()()() - 6 )(

2
3
)((
2
()


*/</span><span class="pln">



</span></code></pre></div></div> <div class="spoiler"><b class="spoiler-title">solution (medium version)</b><div class="spoiler-content" style="display: none;"><pre><code class="prettyprint prettyprinted" style=""><br><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;vector&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;list&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;map&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;set&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;deque&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;vector&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;list&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;map&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;set&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;deque&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;queue&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;stack&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;bitset&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;algorithm&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;functional&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;numeric&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;utility&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;sstream&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;iostream&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;iomanip&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cstdio&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cmath&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cstdlib&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cctype&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;string&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cstring&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;ctime&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;random&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;chrono&gt;</span><span class="pln">
 
</span><span class="kwd">using</span><span class="pln"> </span><span class="kwd">namespace</span><span class="pln"> std</span><span class="pun">;</span><span class="pln">
 
</span><span class="com">#define</span><span class="pln"> _int64 </span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">long</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> mo </span><span class="lit">998244353</span><span class="pln">

</span><span class="kwd">char</span><span class="pln"> tar</span><span class="pun">[</span><span class="lit">110000</span><span class="pun">];</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> cnt</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">int</span><span class="pln"> doask</span><span class="pun">(</span><span class="pln">vector</span><span class="str">&lt;int&gt;</span><span class="pun">&amp;</span><span class="pln"> a</span><span class="pun">)</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
	</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">,</span><span class="pln">ret</span><span class="pun">;</span><span class="pln">
	</span><span class="com">/*
	{
		int v,tmp,j;
		string ss;
		cnt++;
		ss="";
		for (i=0;i&lt;a.size();i++)
		{
			ss.push_back(tar[a[i]]);
		}
		tmp=0;
		for (i=0;i&lt;ss.length();i++)
		{
			v=0;
			for (j=i;j&lt;ss.length();j++)
			{
				if (ss[j]=='(') v++;
				else v--;
				if (v&lt;0) break;
				if (v==0) tmp++;
			}
		}
		return tmp;
	}
	*/</span><span class="pln">
	
	printf</span><span class="pun">(</span><span class="str">"? %d"</span><span class="pun">,(</span><span class="kwd">int</span><span class="pun">)</span><span class="pln">a</span><span class="pun">.</span><span class="pln">size</span><span class="pun">());</span><span class="pln">
	</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">a</span><span class="pun">.</span><span class="pln">size</span><span class="pun">();</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
		printf</span><span class="pun">(</span><span class="str">" %d"</span><span class="pun">,</span><span class="pln">a</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]+</span><span class="lit">1</span><span class="pun">);</span><span class="pln">
	printf</span><span class="pun">(</span><span class="str">"\n"</span><span class="pun">);</span><span class="pln">
	fflush</span><span class="pun">(</span><span class="pln">stdout</span><span class="pun">);</span><span class="pln">
	scanf</span><span class="pun">(</span><span class="str">"%d"</span><span class="pun">,&amp;</span><span class="pln">ret</span><span class="pun">);</span><span class="pln">
	</span><span class="kwd">return</span><span class="pln"> ret</span><span class="pun">;</span><span class="pln">
	
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">char</span><span class="pln"> ans</span><span class="pun">[</span><span class="lit">1100</span><span class="pun">];</span><span class="pln">

</span><span class="kwd">void</span><span class="pln"> doanswer</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
	printf</span><span class="pun">(</span><span class="str">"! %s\n"</span><span class="pun">,</span><span class="pln">ans</span><span class="pun">);</span><span class="pln">
	cerr</span><span class="pun">&lt;&lt;</span><span class="str">"T "</span><span class="pun">&lt;&lt;</span><span class="pln">tar</span><span class="pun">&lt;&lt;</span><span class="pln">endl</span><span class="pun">;</span><span class="pln">
	cerr</span><span class="pun">&lt;&lt;</span><span class="str">"cnt:"</span><span class="pun">&lt;&lt;</span><span class="pln">cnt</span><span class="pun">&lt;&lt;</span><span class="pln">endl</span><span class="pun">;</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">string</span><span class="pun">(</span><span class="pln">ans</span><span class="pun">)==</span><span class="kwd">string</span><span class="pun">(</span><span class="pln">tar</span><span class="pun">))</span><span class="pln">
	</span><span class="pun">{</span><span class="pln">
		cerr</span><span class="pun">&lt;&lt;</span><span class="str">"good"</span><span class="pun">&lt;&lt;</span><span class="pln">endl</span><span class="pun">;</span><span class="pln">
	</span><span class="pun">}</span><span class="pln">
	</span><span class="kwd">else</span><span class="pln"> cerr</span><span class="pun">&lt;&lt;</span><span class="str">"bad"</span><span class="pun">&lt;&lt;</span><span class="pln">endl</span><span class="pun">;</span><span class="pln">
	fflush</span><span class="pun">(</span><span class="pln">stdout</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">int</span><span class="pln"> main</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
	</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">,</span><span class="pln">j</span><span class="pun">,</span><span class="pln">k</span><span class="pun">,</span><span class="pln">n</span><span class="pun">,</span><span class="pln">l</span><span class="pun">,</span><span class="pln">t</span><span class="pun">,</span><span class="pln">m</span><span class="pun">,</span><span class="pln">x</span><span class="pun">,</span><span class="pln">y</span><span class="pun">,</span><span class="pln">o</span><span class="pun">,</span><span class="pln">b1</span><span class="pun">,</span><span class="pln">indl</span><span class="pun">,</span><span class="pln">indr</span><span class="pun">,</span><span class="pln">ll</span><span class="pun">,</span><span class="pln">rr</span><span class="pun">,</span><span class="pln">mid</span><span class="pun">,</span><span class="pln">tmp</span><span class="pun">,</span><span class="pln">v</span><span class="pun">,</span><span class="pln">st</span><span class="pun">;</span><span class="pln">
	vector</span><span class="str">&lt;int&gt;</span><span class="pln"> a</span><span class="pun">;</span><span class="pln">
	scanf</span><span class="pun">(</span><span class="str">"%d"</span><span class="pun">,&amp;</span><span class="pln">t</span><span class="pun">);</span><span class="pln">
	</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">l</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">l</span><span class="pun">&lt;</span><span class="pln">t</span><span class="pun">;</span><span class="pln">l</span><span class="pun">++)</span><span class="pln">
	</span><span class="pun">{</span><span class="pln">
		scanf</span><span class="pun">(</span><span class="str">"%d"</span><span class="pun">,&amp;</span><span class="pln">n</span><span class="pun">);</span><span class="pln">
		</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
		</span><span class="pun">{</span><span class="pln">
			x</span><span class="pun">=</span><span class="pln">rand</span><span class="pun">()%</span><span class="lit">2</span><span class="pun">;</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">x</span><span class="pun">==</span><span class="lit">0</span><span class="pun">)</span><span class="pln"> tar</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]=</span><span class="str">'('</span><span class="pun">;</span><span class="pln">
			</span><span class="kwd">else</span><span class="pln"> tar</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]=</span><span class="str">')'</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">}</span><span class="pln">
		tar</span><span class="pun">[</span><span class="pln">n</span><span class="pun">]=</span><span class="str">'\0'</span><span class="pun">;</span><span class="pln">
		cnt</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		st</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">ans</span><span class="pun">[</span><span class="pln">n</span><span class="pun">]=</span><span class="str">'\0'</span><span class="pun">;</span><span class="pln">
		indl</span><span class="pun">=-</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		indr</span><span class="pun">=-</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		</span><span class="com">// while (st&lt;n)</span><span class="pln">
		</span><span class="com">// {</span><span class="pln">
			ll</span><span class="pun">=</span><span class="pln">st</span><span class="pun">;</span><span class="pln">rr</span><span class="pun">=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">
			</span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">rr</span><span class="pun">-</span><span class="pln">ll</span><span class="pun">&gt;</span><span class="lit">1</span><span class="pun">)</span><span class="pln">
			</span><span class="pun">{</span><span class="pln">
				mid</span><span class="pun">=(</span><span class="pln">ll</span><span class="pun">+</span><span class="pln">rr</span><span class="pun">)/</span><span class="lit">2</span><span class="pun">;</span><span class="pln">
				a</span><span class="pun">.</span><span class="pln">clear</span><span class="pun">();</span><span class="pln">
				</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i</span><span class="pun">=</span><span class="pln">st</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="pln">mid</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
					a</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span><span class="pln">
				tmp</span><span class="pun">=</span><span class="pln">doask</span><span class="pun">(</span><span class="pln">a</span><span class="pun">);</span><span class="pln">
				</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">tmp</span><span class="pun">==</span><span class="lit">0</span><span class="pun">)</span><span class="pln"> ll</span><span class="pun">=</span><span class="pln">mid</span><span class="pun">;</span><span class="pln">
				</span><span class="kwd">else</span><span class="pln"> rr</span><span class="pun">=</span><span class="pln">mid</span><span class="pun">;</span><span class="pln">
			</span><span class="pun">}</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">rr</span><span class="pun">==</span><span class="pln">n</span><span class="pun">)</span><span class="pln">
			</span><span class="pun">{</span><span class="pln">
				indr</span><span class="pun">=</span><span class="pln">st</span><span class="pun">;</span><span class="pln">
				</span><span class="com">/*
				if ((indl==-1)&amp;&amp;(indr==-1))
				{
					indr=st;
				}
				ll=st-1;rr=n;
				while (rr-ll&gt;1)
				{
					mid=(ll+rr)/2;
					a.clear();
					a.push_back(mid);
					a.push_back(indr);
					tmp=doask(a);
					if (tmp==0) ll=mid;
					else rr=mid;
				}
				for (i=st;i&lt;=ll;i++)
					ans[i]=')';
				for (i=rr;i&lt;n;i++)
					ans[i]='(';
				st=n;
				break;
				*/</span><span class="pln">
			</span><span class="pun">}</span><span class="pln">
			</span><span class="kwd">else</span><span class="pln">
			</span><span class="pun">{</span><span class="pln">
				indr</span><span class="pun">=</span><span class="pln">rr</span><span class="pun">;</span><span class="pln">
				</span><span class="com">/*
				v=rr;
				ans[v]=')';
				ll=st-1;rr=v-1;
				while (rr-ll&gt;1)
				{
					mid=(ll+rr)/2;
					a.clear();
					a.push_back(mid);
					a.push_back(v);
					tmp=doask(a);
					if (tmp==0) ll=mid;
					else rr=mid;
				}
				for (i=st;i&lt;=ll;i++)
					ans[i]=')';
				for (i=rr;i&lt;v;i++)
					ans[i]='(';
				st=v+1;
				indl=v-1;
				indr=v;
				*/</span><span class="pln">
			</span><span class="pun">}</span><span class="pln">
		</span><span class="com">// }</span><span class="pln">
		</span><span class="com">//cerr&lt;&lt;"indr:"&lt;&lt;indr&lt;&lt;endl;</span><span class="pln">
		</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">+=</span><span class="lit">8</span><span class="pun">)</span><span class="pln">
		</span><span class="pun">{</span><span class="pln">
			a</span><span class="pun">.</span><span class="pln">clear</span><span class="pun">();</span><span class="pln">
			</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">j</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&lt;</span><span class="lit">8</span><span class="pun">;</span><span class="pln">j</span><span class="pun">++)</span><span class="pln">
			</span><span class="pun">{</span><span class="pln">
				</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i</span><span class="pun">+</span><span class="pln">j</span><span class="pun">&gt;=</span><span class="pln">n</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
				</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">k</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">k</span><span class="pun">&lt;(</span><span class="lit">1</span><span class="pun">&lt;&lt;</span><span class="pln">j</span><span class="pun">);</span><span class="pln">k</span><span class="pun">++)</span><span class="pln">
				</span><span class="pun">{</span><span class="pln">
					a</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">i</span><span class="pun">+</span><span class="pln">j</span><span class="pun">);</span><span class="pln">
					a</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">indr</span><span class="pun">);</span><span class="pln">
					a</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">indr</span><span class="pun">);</span><span class="pln">
				</span><span class="pun">}</span><span class="pln">
			</span><span class="pun">}</span><span class="pln">
			tmp</span><span class="pun">=</span><span class="pln">doask</span><span class="pun">(</span><span class="pln">a</span><span class="pun">);</span><span class="pln">
			</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">j</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&lt;</span><span class="lit">8</span><span class="pun">;</span><span class="pln">j</span><span class="pun">++)</span><span class="pln">
			</span><span class="pun">{</span><span class="pln">
				</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i</span><span class="pun">+</span><span class="pln">j</span><span class="pun">&gt;=</span><span class="pln">n</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
				</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(((</span><span class="lit">1</span><span class="pun">&lt;&lt;</span><span class="pln">j</span><span class="pun">)&amp;</span><span class="pln">tmp</span><span class="pun">)!=</span><span class="lit">0</span><span class="pun">)</span><span class="pln"> ans</span><span class="pun">[</span><span class="pln">i</span><span class="pun">+</span><span class="pln">j</span><span class="pun">]=</span><span class="str">'('</span><span class="pun">;</span><span class="pln">
				</span><span class="kwd">else</span><span class="pln"> ans</span><span class="pun">[</span><span class="pln">i</span><span class="pun">+</span><span class="pln">j</span><span class="pun">]=</span><span class="str">')'</span><span class="pun">;</span><span class="pln">
			</span><span class="pun">}</span><span class="pln">
		</span><span class="pun">}</span><span class="pln">

		doanswer</span><span class="pun">();</span><span class="pln">
	</span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span></code></pre></div></div> <div class="spoiler"><b class="spoiler-title">solution (hard version)</b><div class="spoiler-content" style="display: none;"><pre><code class="prettyprint prettyprinted" style=""><br><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;vector&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;list&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;map&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;set&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;deque&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;vector&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;list&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;map&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;set&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;deque&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;queue&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;stack&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;bitset&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;algorithm&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;functional&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;numeric&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;utility&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;sstream&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;iostream&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;iomanip&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cstdio&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cmath&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cstdlib&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cctype&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;string&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cstring&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;ctime&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;random&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;chrono&gt;</span><span class="pln">
 
</span><span class="kwd">using</span><span class="pln"> </span><span class="kwd">namespace</span><span class="pln"> std</span><span class="pun">;</span><span class="pln">
 
</span><span class="com">#define</span><span class="pln"> _int64 </span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">long</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> mo </span><span class="lit">998244353</span><span class="pln">

</span><span class="kwd">char</span><span class="pln"> tar</span><span class="pun">[</span><span class="lit">110000</span><span class="pun">];</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> cnt</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">int</span><span class="pln"> doask</span><span class="pun">(</span><span class="pln">vector</span><span class="str">&lt;int&gt;</span><span class="pun">&amp;</span><span class="pln"> a</span><span class="pun">)</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
	</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">,</span><span class="pln">ret</span><span class="pun">;</span><span class="pln">
	</span><span class="com">/*
	{
		int v,tmp,j;
		string ss;
		cnt++;
		ss="";
		for (i=0;i&lt;a.size();i++)
		{
			ss.push_back(tar[a[i]]);
		}
		tmp=0;
		for (i=0;i&lt;ss.length();i++)
		{
			v=0;
			for (j=i;j&lt;ss.length();j++)
			{
				if (ss[j]=='(') v++;
				else v--;
				if (v&lt;0) break;
				if (v==0) tmp++;
			}
		}
		return tmp;
	}
	*/</span><span class="pln">
	
	printf</span><span class="pun">(</span><span class="str">"? %d"</span><span class="pun">,(</span><span class="kwd">int</span><span class="pun">)</span><span class="pln">a</span><span class="pun">.</span><span class="pln">size</span><span class="pun">());</span><span class="pln">
	</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">a</span><span class="pun">.</span><span class="pln">size</span><span class="pun">();</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
		printf</span><span class="pun">(</span><span class="str">" %d"</span><span class="pun">,</span><span class="pln">a</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]+</span><span class="lit">1</span><span class="pun">);</span><span class="pln">
	printf</span><span class="pun">(</span><span class="str">"\n"</span><span class="pun">);</span><span class="pln">
	fflush</span><span class="pun">(</span><span class="pln">stdout</span><span class="pun">);</span><span class="pln">
	scanf</span><span class="pun">(</span><span class="str">"%d"</span><span class="pun">,&amp;</span><span class="pln">ret</span><span class="pun">);</span><span class="pln">
	</span><span class="kwd">return</span><span class="pln"> ret</span><span class="pun">;</span><span class="pln">
	
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">char</span><span class="pln"> ans</span><span class="pun">[</span><span class="lit">1100</span><span class="pun">];</span><span class="pln">

</span><span class="kwd">void</span><span class="pln"> doanswer</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
	printf</span><span class="pun">(</span><span class="str">"! %s\n"</span><span class="pun">,</span><span class="pln">ans</span><span class="pun">);</span><span class="pln">
	cerr</span><span class="pun">&lt;&lt;</span><span class="str">"T "</span><span class="pun">&lt;&lt;</span><span class="pln">tar</span><span class="pun">&lt;&lt;</span><span class="pln">endl</span><span class="pun">;</span><span class="pln">
	cerr</span><span class="pun">&lt;&lt;</span><span class="str">"cnt:"</span><span class="pun">&lt;&lt;</span><span class="pln">cnt</span><span class="pun">&lt;&lt;</span><span class="pln">endl</span><span class="pun">;</span><span class="pln">
	</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">string</span><span class="pun">(</span><span class="pln">ans</span><span class="pun">)==</span><span class="kwd">string</span><span class="pun">(</span><span class="pln">tar</span><span class="pun">))</span><span class="pln">
	</span><span class="pun">{</span><span class="pln">
		cerr</span><span class="pun">&lt;&lt;</span><span class="str">"good"</span><span class="pun">&lt;&lt;</span><span class="pln">endl</span><span class="pun">;</span><span class="pln">
	</span><span class="pun">}</span><span class="pln">
	</span><span class="kwd">else</span><span class="pln"> cerr</span><span class="pun">&lt;&lt;</span><span class="str">"bad"</span><span class="pun">&lt;&lt;</span><span class="pln">endl</span><span class="pun">;</span><span class="pln">
	fflush</span><span class="pun">(</span><span class="pln">stdout</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">int</span><span class="pln"> main</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
	</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">,</span><span class="pln">j</span><span class="pun">,</span><span class="pln">k</span><span class="pun">,</span><span class="pln">n</span><span class="pun">,</span><span class="pln">l</span><span class="pun">,</span><span class="pln">t</span><span class="pun">,</span><span class="pln">m</span><span class="pun">,</span><span class="pln">x</span><span class="pun">,</span><span class="pln">y</span><span class="pun">,</span><span class="pln">o</span><span class="pun">,</span><span class="pln">b1</span><span class="pun">,</span><span class="pln">indl</span><span class="pun">,</span><span class="pln">indr</span><span class="pun">,</span><span class="pln">ll</span><span class="pun">,</span><span class="pln">rr</span><span class="pun">,</span><span class="pln">mid</span><span class="pun">,</span><span class="pln">tmp</span><span class="pun">,</span><span class="pln">v</span><span class="pun">,</span><span class="pln">st</span><span class="pun">,</span><span class="pln">sum</span><span class="pun">,</span><span class="pln">len</span><span class="pun">;</span><span class="pln">
	vector</span><span class="str">&lt;int&gt;</span><span class="pln"> a</span><span class="pun">;</span><span class="pln">
	vector</span><span class="str">&lt;int&gt;</span><span class="pln"> p</span><span class="pun">;</span><span class="pln">
	sum</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">len</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
	</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="lit">130</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
	</span><span class="pun">{</span><span class="pln">
		tmp</span><span class="pun">=</span><span class="pln">i</span><span class="pun">*(</span><span class="pln">i</span><span class="pun">+</span><span class="lit">1</span><span class="pun">)/</span><span class="lit">2</span><span class="pun">;</span><span class="pln">
		</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">tmp</span><span class="pun">&gt;</span><span class="pln">sum</span><span class="pun">)</span><span class="pln">
		</span><span class="pun">{</span><span class="pln">
			p</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span><span class="pln">
			</span><span class="com">//cerr&lt;&lt;"i:"&lt;&lt;i&lt;&lt;endl;</span><span class="pln">
			sum</span><span class="pun">+=</span><span class="pln">tmp</span><span class="pun">;</span><span class="pln">
			len</span><span class="pun">+=</span><span class="pln">i</span><span class="pun">+</span><span class="pln">i</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">}</span><span class="pln">
	</span><span class="pun">}</span><span class="pln">
	</span><span class="com">//cerr&lt;&lt;"p.sz:"&lt;&lt;p.size()&lt;&lt;" "&lt;&lt;len&lt;&lt;endl;</span><span class="pln">
	scanf</span><span class="pun">(</span><span class="str">"%d"</span><span class="pun">,&amp;</span><span class="pln">t</span><span class="pun">);</span><span class="pln">
	</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">l</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">l</span><span class="pun">&lt;</span><span class="pln">t</span><span class="pun">;</span><span class="pln">l</span><span class="pun">++)</span><span class="pln">
	</span><span class="pun">{</span><span class="pln">
		scanf</span><span class="pun">(</span><span class="str">"%d"</span><span class="pun">,&amp;</span><span class="pln">n</span><span class="pun">);</span><span class="pln">
		</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
		</span><span class="pun">{</span><span class="pln">
			x</span><span class="pun">=</span><span class="pln">rand</span><span class="pun">()%</span><span class="lit">2</span><span class="pun">;</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">x</span><span class="pun">==</span><span class="lit">0</span><span class="pun">)</span><span class="pln"> tar</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]=</span><span class="str">'('</span><span class="pun">;</span><span class="pln">
			</span><span class="kwd">else</span><span class="pln"> tar</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]=</span><span class="str">')'</span><span class="pun">;</span><span class="pln">
		</span><span class="pun">}</span><span class="pln">
		tar</span><span class="pun">[</span><span class="pln">n</span><span class="pun">]=</span><span class="str">'\0'</span><span class="pun">;</span><span class="pln">
		cnt</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
		st</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">ans</span><span class="pun">[</span><span class="pln">n</span><span class="pun">]=</span><span class="str">'\0'</span><span class="pun">;</span><span class="pln">
		indl</span><span class="pun">=-</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		indr</span><span class="pun">=-</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
		</span><span class="com">// while (st&lt;n)</span><span class="pln">
		</span><span class="com">// {</span><span class="pln">
			ll</span><span class="pun">=</span><span class="pln">st</span><span class="pun">;</span><span class="pln">rr</span><span class="pun">=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">
			</span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">rr</span><span class="pun">-</span><span class="pln">ll</span><span class="pun">&gt;</span><span class="lit">1</span><span class="pun">)</span><span class="pln">
			</span><span class="pun">{</span><span class="pln">
				mid</span><span class="pun">=(</span><span class="pln">ll</span><span class="pun">+</span><span class="pln">rr</span><span class="pun">)/</span><span class="lit">2</span><span class="pun">;</span><span class="pln">
				a</span><span class="pun">.</span><span class="pln">clear</span><span class="pun">();</span><span class="pln">
				</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i</span><span class="pun">=</span><span class="pln">st</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="pln">mid</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
					a</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span><span class="pln">
				tmp</span><span class="pun">=</span><span class="pln">doask</span><span class="pun">(</span><span class="pln">a</span><span class="pun">);</span><span class="pln">
				</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">tmp</span><span class="pun">==</span><span class="lit">0</span><span class="pun">)</span><span class="pln"> ll</span><span class="pun">=</span><span class="pln">mid</span><span class="pun">;</span><span class="pln">
				</span><span class="kwd">else</span><span class="pln"> rr</span><span class="pun">=</span><span class="pln">mid</span><span class="pun">;</span><span class="pln">
			</span><span class="pun">}</span><span class="pln">
			</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">rr</span><span class="pun">==</span><span class="pln">n</span><span class="pun">)</span><span class="pln">
			</span><span class="pun">{</span><span class="pln">
				indr</span><span class="pun">=</span><span class="pln">st</span><span class="pun">;</span><span class="pln">
				</span><span class="com">/*
				if ((indl==-1)&amp;&amp;(indr==-1))
				{
					indr=st;
				}
				ll=st-1;rr=n;
				while (rr-ll&gt;1)
				{
					mid=(ll+rr)/2;
					a.clear();
					a.push_back(mid);
					a.push_back(indr);
					tmp=doask(a);
					if (tmp==0) ll=mid;
					else rr=mid;
				}
				for (i=st;i&lt;=ll;i++)
					ans[i]=')';
				for (i=rr;i&lt;n;i++)
					ans[i]='(';
				st=n;
				break;
				*/</span><span class="pln">
			</span><span class="pun">}</span><span class="pln">
			</span><span class="kwd">else</span><span class="pln">
			</span><span class="pun">{</span><span class="pln">
				indr</span><span class="pun">=</span><span class="pln">rr</span><span class="pun">;</span><span class="pln">
				</span><span class="com">/*
				v=rr;
				ans[v]=')';
				ll=st-1;rr=v-1;
				while (rr-ll&gt;1)
				{
					mid=(ll+rr)/2;
					a.clear();
					a.push_back(mid);
					a.push_back(v);
					tmp=doask(a);
					if (tmp==0) ll=mid;
					else rr=mid;
				}
				for (i=st;i&lt;=ll;i++)
					ans[i]=')';
				for (i=rr;i&lt;v;i++)
					ans[i]='(';
				st=v+1;
				indl=v-1;
				indr=v;
				*/</span><span class="pln">
			</span><span class="pun">}</span><span class="pln">
		</span><span class="com">// }</span><span class="pln">
		</span><span class="com">//cerr&lt;&lt;"indr:"&lt;&lt;indr&lt;&lt;endl;</span><span class="pln">
		</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">+=</span><span class="pln">p</span><span class="pun">.</span><span class="pln">size</span><span class="pun">())</span><span class="pln">
		</span><span class="pun">{</span><span class="pln">
			a</span><span class="pun">.</span><span class="pln">clear</span><span class="pun">();</span><span class="pln">
			</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">j</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&lt;</span><span class="pln">p</span><span class="pun">.</span><span class="pln">size</span><span class="pun">();</span><span class="pln">j</span><span class="pun">++)</span><span class="pln">
			</span><span class="pun">{</span><span class="pln">
				</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i</span><span class="pun">+</span><span class="pln">j</span><span class="pun">&gt;=</span><span class="pln">n</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
				</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">k</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">k</span><span class="pun">&lt;</span><span class="pln">p</span><span class="pun">[</span><span class="pln">j</span><span class="pun">];</span><span class="pln">k</span><span class="pun">++)</span><span class="pln">
				</span><span class="pun">{</span><span class="pln">
					a</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">i</span><span class="pun">+</span><span class="pln">j</span><span class="pun">);</span><span class="pln">
					a</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">indr</span><span class="pun">);</span><span class="pln">
				</span><span class="pun">}</span><span class="pln">
				a</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">indr</span><span class="pun">);</span><span class="pln">
			</span><span class="pun">}</span><span class="pln">
			tmp</span><span class="pun">=</span><span class="pln">doask</span><span class="pun">(</span><span class="pln">a</span><span class="pun">);</span><span class="pln">
			</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln">j</span><span class="pun">=</span><span class="pln">p</span><span class="pun">.</span><span class="pln">size</span><span class="pun">()-</span><span class="lit">1</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&gt;=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">j</span><span class="pun">--)</span><span class="pln">
			</span><span class="pun">{</span><span class="pln">
				</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">i</span><span class="pun">+</span><span class="pln">j</span><span class="pun">&gt;=</span><span class="pln">n</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
				v</span><span class="pun">=</span><span class="pln">p</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]*(</span><span class="pln">p</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]+</span><span class="lit">1</span><span class="pun">)/</span><span class="lit">2</span><span class="pun">;</span><span class="pln">
				</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">tmp</span><span class="pun">&gt;=</span><span class="pln">v</span><span class="pun">)</span><span class="pln">
				</span><span class="pun">{</span><span class="pln">
					tmp</span><span class="pun">-=</span><span class="pln">v</span><span class="pun">;</span><span class="pln">ans</span><span class="pun">[</span><span class="pln">i</span><span class="pun">+</span><span class="pln">j</span><span class="pun">]=</span><span class="str">'('</span><span class="pun">;</span><span class="pln">
				</span><span class="pun">}</span><span class="pln">
				</span><span class="kwd">else</span><span class="pln"> ans</span><span class="pun">[</span><span class="pln">i</span><span class="pun">+</span><span class="pln">j</span><span class="pun">]=</span><span class="str">')'</span><span class="pun">;</span><span class="pln">
			</span><span class="pun">}</span><span class="pln">
		</span><span class="pun">}</span><span class="pln">

		doanswer</span><span class="pun">();</span><span class="pln">
	</span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span></code></pre></div></div> <div class="spoiler"><b class="spoiler-title">Rate the Problem</b><div class="spoiler-content" style="display: none;"><p>Amazing problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11079">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="350">350</span>
            </i>
        </a>
    </span>


</p><p>Good problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11080">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="16">16</span>
            </i>
        </a>
    </span>


</p><p>Average problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11081">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="3">3</span>
            </i>
        </a>
    </span>


</p><p>Bad problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11082">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="46">46</span>
            </i>
        </a>
    </span>


</p><p>Didn't solve: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11083">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="17">17</span>
            </i>
        </a>
    </span>


</p></div></div><h4><a href="https://codeforces.com/contest/2129/problem/D">D1D Permutation Blackhole</a></h4> <div class="spoiler"><b class="spoiler-title">Hint1</b><div class="spoiler-content" style="display: none;"><p>Consider enumerating <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1243"><span class="MJXp-msubsup" id="MJXp-Span-1244"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1245" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1246" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-1247" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-1248">1</span></span></span><script type="math/tex" id="MathJax-Element-182">p_i = 1</script>. After that, will the cells to the left of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1249"><span class="MJXp-msubsup" id="MJXp-Span-1250"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1251" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1252" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-183">p_i</script> affect the cells to the right of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1253"><span class="MJXp-msubsup" id="MJXp-Span-1254"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1255" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1256" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-184">p_i</script>?</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint2</b><div class="spoiler-content" style="display: none;"><p>Consider range DP.</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint3</b><div class="spoiler-content" style="display: none;"><p>Can you find the upper bound of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1257"><span class="MJXp-msubsup" id="MJXp-Span-1258"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1259" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1260" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-185">s_i</script>?</p></div></div> <div class="spoiler"><b class="spoiler-title">Tutorial</b><div class="spoiler-content" style="display: none;"><p>Consider range DP.</p><p>Note <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1261"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1262">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1263">p</span><span class="MJXp-mo" id="MJXp-Span-1264" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1265">l</span><span class="MJXp-mo" id="MJXp-Span-1266" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1267" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1268">r</span><span class="MJXp-mo" id="MJXp-Span-1269" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1270" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1271">x</span><span class="MJXp-mo" id="MJXp-Span-1272" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1273" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1274">y</span><span class="MJXp-mo" id="MJXp-Span-1275" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><script type="math/tex" id="MathJax-Element-186">dp[l][r][x][y]</script> as the number of scheme ensureing <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1276"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1277">s</span><span class="MJXp-mo" id="MJXp-Span-1278" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1279">l</span><span class="MJXp-mo" id="MJXp-Span-1280" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-1281">1</span><span class="MJXp-mo" id="MJXp-Span-1282" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1283" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-1284" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1285">x</span></span></span><script type="math/tex" id="MathJax-Element-187">s[l-1]+=x</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1286"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1287">s</span><span class="MJXp-mo" id="MJXp-Span-1288" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1289">r</span><span class="MJXp-mo" id="MJXp-Span-1290" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-1291">1</span><span class="MJXp-mo" id="MJXp-Span-1292" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1293" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-1294" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1295">y</span></span></span><script type="math/tex" id="MathJax-Element-188">s[r+1]+=y</script>.</p><p>Transform:</p> <center><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1296"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1297">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1298">p</span><span class="MJXp-mo" id="MJXp-Span-1299" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1300">l</span><span class="MJXp-mo" id="MJXp-Span-1301" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1302" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1303">r</span><span class="MJXp-mo" id="MJXp-Span-1304" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1305" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1306">x</span><span class="MJXp-mo" id="MJXp-Span-1307" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1308" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1309">y</span><span class="MJXp-mo" id="MJXp-Span-1310" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1311" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-1312"><span class="MJXp-mo" id="MJXp-Span-1313" style="margin-left: 0em; margin-right: 0em; vertical-align: -2.861em;"><span class="MJXp-right MJXp-scale2" style="font-size: 12.444em; margin-left: -0.394em;">{</span></span><span class="MJXp-mtable" id="MJXp-Span-1314"><span><span class="MJXp-mtr" id="MJXp-Span-1315" style="vertical-align: baseline;"><span class="MJXp-mtd" id="MJXp-Span-1316" style="text-align: left;"><span class="MJXp-msubsup" id="MJXp-Span-1317"><span class="MJXp-mi" id="MJXp-Span-1318" style="margin-right: 0.05em;"></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1319" style="vertical-align: -0.4em;"><span class="MJXp-mtext" id="MJXp-Span-1320">i is nearer to l</span></span></span><span class="MJXp-mrow" id="MJXp-Span-1321"><span class="MJXp-TeXmathchoice" id="MJXp-Span-1322"><span class="MJXp-mstyle" id="MJXp-Span-1323"><span class="MJXp-mrow" id="MJXp-Span-1324"><span class="MJXp-mo" id="MJXp-Span-1325" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.083em;"><span class="MJXp-right MJXp-scale10" style="font-size: 1.333em; margin-left: 0.07em;">(</span></span></span></span></span><span class="MJXp-mfrac" id="MJXp-Span-1326"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1327">r</span><span class="MJXp-mo" id="MJXp-Span-1328"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1329">l</span></span><span class="MJXp-box" style="margin-top: -0.7em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1330">i</span><span class="MJXp-mo" id="MJXp-Span-1331"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1332">l</span></span></span></span></span></span><span class="MJXp-TeXmathchoice" id="MJXp-Span-1333"><span class="MJXp-mstyle" id="MJXp-Span-1334"><span class="MJXp-mrow" id="MJXp-Span-1335"><span class="MJXp-mo" id="MJXp-Span-1336" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.083em;"><span class="MJXp-right MJXp-scale10" style="font-size: 1.333em; margin-left: 0.07em;">)</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1337" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1338">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1339">p</span><span class="MJXp-mo" id="MJXp-Span-1340" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1341">l</span><span class="MJXp-mo" id="MJXp-Span-1342" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1343" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1344">i</span><span class="MJXp-mo" id="MJXp-Span-1345" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-1346">1</span><span class="MJXp-mo" id="MJXp-Span-1347" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1348" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1349">x</span><span class="MJXp-mo" id="MJXp-Span-1350" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-1351">1</span><span class="MJXp-mo" id="MJXp-Span-1352" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1353" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1354">j</span><span class="MJXp-mo" id="MJXp-Span-1355" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1356" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1357">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1358">p</span><span class="MJXp-mo" id="MJXp-Span-1359" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1360">i</span><span class="MJXp-mo" id="MJXp-Span-1361" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-1362">1</span><span class="MJXp-mo" id="MJXp-Span-1363" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1364" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1365">r</span><span class="MJXp-mo" id="MJXp-Span-1366" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1367" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1368">k</span><span class="MJXp-mo" id="MJXp-Span-1369" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1370" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1371">y</span><span class="MJXp-mo" id="MJXp-Span-1372" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MJXp-mtr" id="MJXp-Span-1373" style="vertical-align: baseline;"><span class="MJXp-mtd" id="MJXp-Span-1374" style="padding-top: 0.4em; text-align: left;"><span class="MJXp-mo" id="MJXp-Span-1375" style="margin-left: 0em; margin-right: 0.111em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-1376"><span class="MJXp-mi" id="MJXp-Span-1377" style="margin-right: 0.05em;"></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1378" style="vertical-align: -0.4em;"><span class="MJXp-mtext" id="MJXp-Span-1379">i is nearer to r</span></span></span><span class="MJXp-mrow" id="MJXp-Span-1380"><span class="MJXp-TeXmathchoice" id="MJXp-Span-1381"><span class="MJXp-mstyle" id="MJXp-Span-1382"><span class="MJXp-mrow" id="MJXp-Span-1383"><span class="MJXp-mo" id="MJXp-Span-1384" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.083em;"><span class="MJXp-right MJXp-scale10" style="font-size: 1.333em; margin-left: 0.07em;">(</span></span></span></span></span><span class="MJXp-mfrac" id="MJXp-Span-1385"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1386">r</span><span class="MJXp-mo" id="MJXp-Span-1387"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1388">l</span></span><span class="MJXp-box" style="margin-top: -0.7em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1389">i</span><span class="MJXp-mo" id="MJXp-Span-1390"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1391">l</span></span></span></span></span></span><span class="MJXp-TeXmathchoice" id="MJXp-Span-1392"><span class="MJXp-mstyle" id="MJXp-Span-1393"><span class="MJXp-mrow" id="MJXp-Span-1394"><span class="MJXp-mo" id="MJXp-Span-1395" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.083em;"><span class="MJXp-right MJXp-scale10" style="font-size: 1.333em; margin-left: 0.07em;">)</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1396" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1397">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1398">p</span><span class="MJXp-mo" id="MJXp-Span-1399" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1400">l</span><span class="MJXp-mo" id="MJXp-Span-1401" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1402" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1403">i</span><span class="MJXp-mo" id="MJXp-Span-1404" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-1405">1</span><span class="MJXp-mo" id="MJXp-Span-1406" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1407" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1408">x</span><span class="MJXp-mo" id="MJXp-Span-1409" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1410" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1411">j</span><span class="MJXp-mo" id="MJXp-Span-1412" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1413" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1414">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1415">p</span><span class="MJXp-mo" id="MJXp-Span-1416" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1417">i</span><span class="MJXp-mo" id="MJXp-Span-1418" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-1419">1</span><span class="MJXp-mo" id="MJXp-Span-1420" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1421" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1422">r</span><span class="MJXp-mo" id="MJXp-Span-1423" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1424" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1425">k</span><span class="MJXp-mo" id="MJXp-Span-1426" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1427" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1428">y</span><span class="MJXp-mo" id="MJXp-Span-1429" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-1430">1</span><span class="MJXp-mo" id="MJXp-Span-1431" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mtext" id="MJXp-Span-1432">&nbsp;</span><span class="MJXp-mo" id="MJXp-Span-1433" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1434"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1435" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1436" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-1437" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-1438" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-1439">1</span><span class="MJXp-mo" id="MJXp-Span-1440" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MJXp-mtr" id="MJXp-Span-1441" style="vertical-align: baseline;"><span class="MJXp-mtd" id="MJXp-Span-1442" style="padding-top: 0.4em; text-align: left;"><span class="MJXp-msubsup" id="MJXp-Span-1443"><span class="MJXp-mi" id="MJXp-Span-1444" style="margin-right: 0.05em;"></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1445" style="vertical-align: -0.4em;"><span class="MJXp-mtext" id="MJXp-Span-1446">i is nearer to l</span><span class="MJXp-mo" id="MJXp-Span-1447">,</span><span class="MJXp-mtext" id="MJXp-Span-1448">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1449">j</span><span class="MJXp-mo" id="MJXp-Span-1450">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1451">k</span><span class="MJXp-mo" id="MJXp-Span-1452">=</span><span class="MJXp-msubsup" id="MJXp-Span-1453"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1454" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1455" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-1456"><span class="MJXp-TeXmathchoice" id="MJXp-Span-1457"><span class="MJXp-mstyle" id="MJXp-Span-1458"><span class="MJXp-mrow" id="MJXp-Span-1459"><span class="MJXp-mo" id="MJXp-Span-1460" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.083em;"><span class="MJXp-right MJXp-scale10" style="font-size: 1.333em; margin-left: 0.07em;">(</span></span></span></span></span><span class="MJXp-mfrac" id="MJXp-Span-1461"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1462">r</span><span class="MJXp-mo" id="MJXp-Span-1463"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1464">l</span></span><span class="MJXp-box" style="margin-top: -0.7em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1465">i</span><span class="MJXp-mo" id="MJXp-Span-1466"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1467">l</span></span></span></span></span></span><span class="MJXp-TeXmathchoice" id="MJXp-Span-1468"><span class="MJXp-mstyle" id="MJXp-Span-1469"><span class="MJXp-mrow" id="MJXp-Span-1470"><span class="MJXp-mo" id="MJXp-Span-1471" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.083em;"><span class="MJXp-right MJXp-scale10" style="font-size: 1.333em; margin-left: 0.07em;">)</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1472" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1473">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1474">p</span><span class="MJXp-mo" id="MJXp-Span-1475" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1476">l</span><span class="MJXp-mo" id="MJXp-Span-1477" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1478" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1479">i</span><span class="MJXp-mo" id="MJXp-Span-1480" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-1481">1</span><span class="MJXp-mo" id="MJXp-Span-1482" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1483" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1484">x</span><span class="MJXp-mo" id="MJXp-Span-1485" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-1486">1</span><span class="MJXp-mo" id="MJXp-Span-1487" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1488" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1489">j</span><span class="MJXp-mo" id="MJXp-Span-1490" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1491" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1492">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1493">p</span><span class="MJXp-mo" id="MJXp-Span-1494" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1495">i</span><span class="MJXp-mo" id="MJXp-Span-1496" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-1497">1</span><span class="MJXp-mo" id="MJXp-Span-1498" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1499" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1500">r</span><span class="MJXp-mo" id="MJXp-Span-1501" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1502" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1503">k</span><span class="MJXp-mo" id="MJXp-Span-1504" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1505" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1506">y</span><span class="MJXp-mo" id="MJXp-Span-1507" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MJXp-mtr" id="MJXp-Span-1508" style="vertical-align: baseline;"><span class="MJXp-mtd" id="MJXp-Span-1509" style="padding-top: 0.4em; text-align: left;"><span class="MJXp-mo" id="MJXp-Span-1510" style="margin-left: 0em; margin-right: 0.111em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-1511"><span class="MJXp-mi" id="MJXp-Span-1512" style="margin-right: 0.05em;"></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1513" style="vertical-align: -0.4em;"><span class="MJXp-mtext" id="MJXp-Span-1514">i is nearer to r</span><span class="MJXp-mo" id="MJXp-Span-1515">,</span><span class="MJXp-mtext" id="MJXp-Span-1516">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1517">j</span><span class="MJXp-mo" id="MJXp-Span-1518">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1519">k</span><span class="MJXp-mo" id="MJXp-Span-1520">=</span><span class="MJXp-msubsup" id="MJXp-Span-1521"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1522" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1523" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-1524"><span class="MJXp-TeXmathchoice" id="MJXp-Span-1525"><span class="MJXp-mstyle" id="MJXp-Span-1526"><span class="MJXp-mrow" id="MJXp-Span-1527"><span class="MJXp-mo" id="MJXp-Span-1528" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.083em;"><span class="MJXp-right MJXp-scale10" style="font-size: 1.333em; margin-left: 0.07em;">(</span></span></span></span></span><span class="MJXp-mfrac" id="MJXp-Span-1529"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1530">r</span><span class="MJXp-mo" id="MJXp-Span-1531"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1532">l</span></span><span class="MJXp-box" style="margin-top: -0.7em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1533">i</span><span class="MJXp-mo" id="MJXp-Span-1534"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1535">l</span></span></span></span></span></span><span class="MJXp-TeXmathchoice" id="MJXp-Span-1536"><span class="MJXp-mstyle" id="MJXp-Span-1537"><span class="MJXp-mrow" id="MJXp-Span-1538"><span class="MJXp-mo" id="MJXp-Span-1539" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.083em;"><span class="MJXp-right MJXp-scale10" style="font-size: 1.333em; margin-left: 0.07em;">)</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1540" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1541">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1542">p</span><span class="MJXp-mo" id="MJXp-Span-1543" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1544">l</span><span class="MJXp-mo" id="MJXp-Span-1545" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1546" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1547">i</span><span class="MJXp-mo" id="MJXp-Span-1548" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-1549">1</span><span class="MJXp-mo" id="MJXp-Span-1550" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1551" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1552">x</span><span class="MJXp-mo" id="MJXp-Span-1553" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1554" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1555">j</span><span class="MJXp-mo" id="MJXp-Span-1556" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1557" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1558">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1559">p</span><span class="MJXp-mo" id="MJXp-Span-1560" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1561">i</span><span class="MJXp-mo" id="MJXp-Span-1562" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-1563">1</span><span class="MJXp-mo" id="MJXp-Span-1564" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1565" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1566">r</span><span class="MJXp-mo" id="MJXp-Span-1567" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1568" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1569">k</span><span class="MJXp-mo" id="MJXp-Span-1570" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-1571" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1572">y</span><span class="MJXp-mo" id="MJXp-Span-1573" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-1574">1</span><span class="MJXp-mo" id="MJXp-Span-1575" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mtext" id="MJXp-Span-1576">&nbsp;</span><span class="MJXp-mo" id="MJXp-Span-1577" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1578"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1579" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1580" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-1581" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mo" id="MJXp-Span-1582" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-1583">1</span><span class="MJXp-mo" id="MJXp-Span-1584" style="margin-left: 0em; margin-right: 0em;">)</span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1585" style="margin-left: 0em; margin-right: 0em;"></span></span></span></span><script type="math/tex" id="MathJax-Element-189">  dp[l][r][x][y] = \left\{ \begin{array}{l} \Sigma_{\text{i is nearer to l}} \binom{r-l}{i-l} \cdot dp[l][i-1][x-1][j] \cdot dp[i+1][r][k][y] \\ + \Sigma_{\text{i is nearer to r}} \binom{r-l}{i-l} \cdot dp[l][i-1][x][j] \cdot dp[i+1][r][k][y-1]\ (s_i = -1) \\ \Sigma_{\text{i is nearer to l},\ j+k=s_i} \binom{r-l}{i-l}\cdot dp[l][i-1][x-1][j] \cdot dp[i+1][r][k][y] \\ + \Sigma_{ \text{i is nearer to r},\ j+k=s_i} \binom{r-l}{i-l}\cdot dp[l][i-1][x][j] \cdot dp[i+1][r][k][y-1]\ (s_i \neq -1) \end{array} \right.   </script></center><p>For simplicity, this formula omits some edge cases. Readers are encouraged to fill in the details themselves.</p><p>The complexity seems high, but the problem can be solved with one key observation: the upper bound of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1586"><span class="MJXp-msubsup" id="MJXp-Span-1587"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1588" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1589" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-190">s_i</script> is <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1590"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1591">O</span><span class="MJXp-mo" id="MJXp-Span-1592" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi" id="MJXp-Span-1593">log</span><span class="MJXp-mo" id="MJXp-Span-1594" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1595">n</span><span class="MJXp-mo" id="MJXp-Span-1596" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-191">O( \log n)</script>.</p><p>Proof: let's fix a position <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1597"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1598">i</span></span></span><script type="math/tex" id="MathJax-Element-192">i</script> and only consider the cells <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1599"><span class="MJXp-msubsup" id="MJXp-Span-1600"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1601" style="margin-right: 0.05em;">c</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1602" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-1603" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-1604"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1605" style="margin-right: 0.05em;">c</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1606" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1607" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-1608" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-1609" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-1610" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-1611" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-1612"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1613" style="margin-right: 0.05em;">c</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1614" style="vertical-align: -0.4em;">k</span></span></span></span><script type="math/tex" id="MathJax-Element-193">c_1, c_2, ..., c_k</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1615"><span class="MJXp-mo" id="MJXp-Span-1616" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1617"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1618" style="margin-right: 0.05em;">c</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1619" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-1620" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-msubsup" id="MJXp-Span-1621"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1622" style="margin-right: 0.05em;">c</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1623" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-1624" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-mo" id="MJXp-Span-1625" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-1626" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-1627" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-1628" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-msubsup" id="MJXp-Span-1629"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1630" style="margin-right: 0.05em;">c</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1631" style="vertical-align: -0.4em;">k</span></span><span class="MJXp-mo" id="MJXp-Span-1632" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-194">(c_1 < c_2 < ... < c_k)</script> to the left of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1633"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1634">i</span></span></span><script type="math/tex" id="MathJax-Element-195">i</script> that cause <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1635"><span class="MJXp-msubsup" id="MJXp-Span-1636"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1637" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1638" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-196">s_i</script> to increase. We can see that <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1639"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1640">i</span><span class="MJXp-mo" id="MJXp-Span-1641" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-msubsup" id="MJXp-Span-1642"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1643" style="margin-right: 0.05em;">c</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1644" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-1645" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mn" id="MJXp-Span-1646">2</span><span class="MJXp-mo" id="MJXp-Span-1647" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1648">i</span><span class="MJXp-mo" id="MJXp-Span-1649" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-msubsup" id="MJXp-Span-1650"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1651" style="margin-right: 0.05em;">c</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1652" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1653">j</span><span class="MJXp-mo" id="MJXp-Span-1654">+</span><span class="MJXp-mn" id="MJXp-Span-1655">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-1656" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-197">i - c_j > 2(i - c_{j+1})</script>. Otherwise, <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1657"><span class="MJXp-msubsup" id="MJXp-Span-1658"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1659" style="margin-right: 0.05em;">c</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1660" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1661">j</span><span class="MJXp-mo" id="MJXp-Span-1662">+</span><span class="MJXp-mn" id="MJXp-Span-1663">1</span></span></span></span></span><script type="math/tex" id="MathJax-Element-198">c_{j+1}</script> would cause <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1664"><span class="MJXp-msubsup" id="MJXp-Span-1665"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1666" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1667" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-1668"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1669" style="margin-right: 0.05em;">c</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1670" style="vertical-align: -0.4em;">j</span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-199">s_{c_j}</script> to increase by <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1671"><span class="MJXp-mn" id="MJXp-Span-1672">1</span></span></span><script type="math/tex" id="MathJax-Element-200">1</script> instead of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1673"><span class="MJXp-msubsup" id="MJXp-Span-1674"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1675" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1676" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-201">s_i</script>. Thus, We can get <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1677"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1678">k</span></span></span><script type="math/tex" id="MathJax-Element-202">k</script> is <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1679"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1680">O</span><span class="MJXp-mo" id="MJXp-Span-1681" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi" id="MJXp-Span-1682">log</span><span class="MJXp-mo" id="MJXp-Span-1683" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1684">n</span><span class="MJXp-mo" id="MJXp-Span-1685" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-203">O( \log n)</script>.</p><p>Complexity: <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1686"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1687">O</span><span class="MJXp-mo" id="MJXp-Span-1688" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-1689"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1690" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1691" style="vertical-align: 0.5em;">3</span></span><span class="MJXp-msubsup" id="MJXp-Span-1692"><span class="MJXp-mi" id="MJXp-Span-1693" style="margin-right: 0.05em;">log</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-1694" style="vertical-align: 0.5em;">3</span></span><span class="MJXp-mo" id="MJXp-Span-1695" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1696">n</span><span class="MJXp-mo" id="MJXp-Span-1697" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-204">O(n^3 \log^3n)</script>.</p></div></div> <div class="spoiler"><b class="spoiler-title">solution</b><div class="spoiler-content" style="display: none;"><pre><code class="prettyprint prettyprinted" style=""><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;map&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;set&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cmath&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;ctime&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;queue&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;stack&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cstdio&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cstdlib&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;vector&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cstring&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;algorithm&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;iostream&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;bitset&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;unordered_map&gt;</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> fastio ios_base</span><span class="pun">::</span><span class="pln">sync_with_stdio</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln">cin</span><span class="pun">.</span><span class="pln">tie</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">cout</span><span class="pun">.</span><span class="pln">tie</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> </span><span class="kwd">namespace</span><span class="pln"> std</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">typedef</span><span class="pln"> </span><span class="kwd">double</span><span class="pln"> db</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">typedef</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> ll</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">typedef</span><span class="pln"> </span><span class="kwd">unsigned</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> ull</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> N</span><span class="pun">=</span><span class="lit">110</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> LOGN</span><span class="pun">=</span><span class="lit">10</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> ll  TMD</span><span class="pun">=</span><span class="lit">998244353</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> ll  INF</span><span class="pun">=</span><span class="lit">2147483647</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> T</span><span class="pun">,</span><span class="pln">n</span><span class="pun">;</span><span class="pln">
ll s</span><span class="pun">[</span><span class="pln">N</span><span class="pun">],</span><span class="pln">fac</span><span class="pun">[</span><span class="pln">N</span><span class="pun">],</span><span class="pln">inv</span><span class="pun">[</span><span class="pln">N</span><span class="pun">];</span><span class="pln">
ll dp</span><span class="pun">[</span><span class="pln">N</span><span class="pun">][</span><span class="pln">N</span><span class="pun">][</span><span class="pln">LOGN</span><span class="pun">][</span><span class="pln">LOGN</span><span class="pun">];</span><span class="pln">

</span><span class="kwd">void</span><span class="pln"> init_C</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
	fac</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
	</span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">N</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln"> fac</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]=(</span><span class="pln">fac</span><span class="pun">[</span><span class="pln">i</span><span class="pun">-</span><span class="lit">1</span><span class="pun">]*</span><span class="pln">i</span><span class="pun">)%</span><span class="pln">TMD</span><span class="pun">;</span><span class="pln">
	inv</span><span class="pun">[</span><span class="pln">N</span><span class="pun">-</span><span class="lit">1</span><span class="pun">]=</span><span class="pln">pw</span><span class="pun">(</span><span class="pln">fac</span><span class="pun">[</span><span class="pln">N</span><span class="pun">-</span><span class="lit">1</span><span class="pun">],</span><span class="pln">TMD</span><span class="pun">-</span><span class="lit">2</span><span class="pun">);</span><span class="pln">
 	</span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="pln">N</span><span class="pun">-</span><span class="lit">2</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&gt;=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">--)</span><span class="pln"> inv</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]=(</span><span class="pln">inv</span><span class="pun">[</span><span class="pln">i</span><span class="pun">+</span><span class="lit">1</span><span class="pun">]*(</span><span class="pln">i</span><span class="pun">+</span><span class="lit">1</span><span class="pun">))%</span><span class="pln">TMD</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

ll C</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> n</span><span class="pun">,</span><span class="kwd">int</span><span class="pln"> m</span><span class="pun">)</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
	</span><span class="kwd">if</span><span class="pun">(</span><span class="pln">n</span><span class="pun">&lt;</span><span class="pln">m</span><span class="pun">||</span><span class="pln">n</span><span class="pun">&lt;</span><span class="lit">0</span><span class="pun">||</span><span class="pln">m</span><span class="pun">&lt;</span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
	</span><span class="kwd">return</span><span class="pln"> fac</span><span class="pun">[</span><span class="pln">n</span><span class="pun">]*</span><span class="pln">inv</span><span class="pun">[</span><span class="pln">m</span><span class="pun">]%</span><span class="pln">TMD</span><span class="pun">*</span><span class="pln">inv</span><span class="pun">[</span><span class="pln">n</span><span class="pun">-</span><span class="pln">m</span><span class="pun">]%</span><span class="pln">TMD</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">void</span><span class="pln"> init</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    cin</span><span class="pun">&gt;&gt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln"> cin</span><span class="pun">&gt;&gt;</span><span class="pln">s</span><span class="pun">[</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">+</span><span class="lit">4</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> j</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">+</span><span class="lit">4</span><span class="pun">;</span><span class="pln">j</span><span class="pun">++)</span><span class="pln">
            </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> ii</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">ii</span><span class="pun">&lt;</span><span class="pln">LOGN</span><span class="pun">;</span><span class="pln">ii</span><span class="pun">++)</span><span class="pln">
                </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> jj</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">jj</span><span class="pun">&lt;</span><span class="pln">LOGN</span><span class="pun">;</span><span class="pln">jj</span><span class="pun">++)</span><span class="pln">
                    dp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="pln">j</span><span class="pun">][</span><span class="pln">ii</span><span class="pun">][</span><span class="pln">jj</span><span class="pun">]=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
    dp</span><span class="pun">[</span><span class="lit">1</span><span class="pun">][</span><span class="lit">1</span><span class="pun">][</span><span class="lit">0</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]=(</span><span class="pln">s</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]&lt;</span><span class="lit">1</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">2</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
        dp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="pln">i</span><span class="pun">][</span><span class="lit">1</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]=(</span><span class="pln">s</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]&lt;</span><span class="lit">1</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">   </span><span class="com">//auxiliary value</span><span class="pln">
        dp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="pln">i</span><span class="pun">-</span><span class="lit">1</span><span class="pun">][</span><span class="lit">0</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]=</span><span class="pln">dp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">+</span><span class="lit">1</span><span class="pun">][</span><span class="pln">i</span><span class="pun">][</span><span class="lit">0</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">int</span><span class="pln"> ABS</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> x</span><span class="pun">)</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> x</span><span class="pun">&lt;</span><span class="lit">0</span><span class="pun">?-</span><span class="pln">x</span><span class="pun">:</span><span class="pln">x</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">void</span><span class="pln"> solve</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">2</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> j</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">j</span><span class="pun">+</span><span class="pln">i</span><span class="pun">-</span><span class="lit">1</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">j</span><span class="pun">++)</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> ii</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">ii</span><span class="pun">&lt;</span><span class="pln">LOGN</span><span class="pun">;</span><span class="pln">ii</span><span class="pun">++)</span><span class="pln">
            </span><span class="pun">{</span><span class="pln">
                </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> jj</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">jj</span><span class="pun">&lt;</span><span class="pln">LOGN</span><span class="pun">;</span><span class="pln">jj</span><span class="pun">++)</span><span class="pln">
                </span><span class="pun">{</span><span class="pln">
                     </span><span class="kwd">int</span><span class="pln"> l</span><span class="pun">=</span><span class="pln">j</span><span class="pun">,</span><span class="pln">r</span><span class="pun">=</span><span class="pln">j</span><span class="pun">+</span><span class="pln">i</span><span class="pun">-</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
                     </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> k</span><span class="pun">=</span><span class="pln">l</span><span class="pun">;</span><span class="pln">k</span><span class="pun">&lt;=</span><span class="pln">r</span><span class="pun">;</span><span class="pln">k</span><span class="pun">++)</span><span class="pln">
                     </span><span class="pun">{</span><span class="pln">
                         </span><span class="kwd">int</span><span class="pln"> tagl</span><span class="pun">=</span><span class="lit">0</span><span class="pun">,</span><span class="pln">tagr</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
                         </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">l</span><span class="pun">==</span><span class="lit">1</span><span class="pun">&amp;&amp;</span><span class="pln">r</span><span class="pun">==</span><span class="pln">n</span><span class="pun">)</span><span class="pln"> tagl</span><span class="pun">=</span><span class="pln">tagr</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
                         </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">l</span><span class="pun">==</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> tagr</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
                         </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">r</span><span class="pun">==</span><span class="pln">n</span><span class="pun">)</span><span class="pln"> tagl</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
                         </span><span class="kwd">else</span><span class="pln">
                         </span><span class="pun">{</span><span class="pln">
                             </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">ABS</span><span class="pun">(</span><span class="pln">l</span><span class="pun">-</span><span class="lit">1</span><span class="pun">-</span><span class="pln">k</span><span class="pun">)&lt;=</span><span class="pln">ABS</span><span class="pun">(</span><span class="pln">k</span><span class="pun">-(</span><span class="pln">r</span><span class="pun">+</span><span class="lit">1</span><span class="pun">)))</span><span class="pln"> tagl</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
                             </span><span class="kwd">else</span><span class="pln"> tagr</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
                         </span><span class="pun">}</span><span class="pln">
                         </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">ii</span><span class="pun">-</span><span class="pln">tagl</span><span class="pun">&lt;</span><span class="lit">0</span><span class="pun">||</span><span class="pln">jj</span><span class="pun">-</span><span class="pln">tagr</span><span class="pun">&lt;</span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
                         </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">s</span><span class="pun">[</span><span class="pln">k</span><span class="pun">]==-</span><span class="lit">1</span><span class="pun">)</span><span class="pln">
                         </span><span class="pun">{</span><span class="pln">
                             ll suml</span><span class="pun">=</span><span class="lit">0</span><span class="pun">,</span><span class="pln">sumr</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
                             </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> kk</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">kk</span><span class="pun">&lt;</span><span class="pln">LOGN</span><span class="pun">;</span><span class="pln">kk</span><span class="pun">++)</span><span class="pln"> suml</span><span class="pun">=(</span><span class="pln">suml</span><span class="pun">+</span><span class="pln">dp</span><span class="pun">[</span><span class="pln">l</span><span class="pun">][</span><span class="pln">k</span><span class="pun">-</span><span class="lit">1</span><span class="pun">][</span><span class="pln">ii</span><span class="pun">-</span><span class="pln">tagl</span><span class="pun">][</span><span class="pln">kk</span><span class="pun">])%</span><span class="pln">TMD</span><span class="pun">;</span><span class="pln">
                             </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> kk</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">kk</span><span class="pun">&lt;</span><span class="pln">LOGN</span><span class="pun">;</span><span class="pln">kk</span><span class="pun">++)</span><span class="pln"> sumr</span><span class="pun">=(</span><span class="pln">sumr</span><span class="pun">+</span><span class="pln">dp</span><span class="pun">[</span><span class="pln">k</span><span class="pun">+</span><span class="lit">1</span><span class="pun">][</span><span class="pln">r</span><span class="pun">][</span><span class="pln">kk</span><span class="pun">][</span><span class="pln">jj</span><span class="pun">-</span><span class="pln">tagr</span><span class="pun">])%</span><span class="pln">TMD</span><span class="pun">;</span><span class="pln">
                            dp</span><span class="pun">[</span><span class="pln">l</span><span class="pun">][</span><span class="pln">r</span><span class="pun">][</span><span class="pln">ii</span><span class="pun">][</span><span class="pln">jj</span><span class="pun">]=(</span><span class="pln">dp</span><span class="pun">[</span><span class="pln">l</span><span class="pun">][</span><span class="pln">r</span><span class="pun">][</span><span class="pln">ii</span><span class="pun">][</span><span class="pln">jj</span><span class="pun">]+</span><span class="pln">suml</span><span class="pun">*</span><span class="pln">sumr</span><span class="pun">%</span><span class="pln">TMD</span><span class="pun">*</span><span class="pln">C</span><span class="pun">(</span><span class="pln">r</span><span class="pun">-</span><span class="pln">l</span><span class="pun">,</span><span class="pln">k</span><span class="pun">-</span><span class="pln">l</span><span class="pun">))%</span><span class="pln">TMD</span><span class="pun">;</span><span class="pln">
                        </span><span class="pun">}</span><span class="pln">
                         </span><span class="kwd">else</span><span class="pln">
                         </span><span class="pun">{</span><span class="pln">
                             </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> kk</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">kk</span><span class="pun">&lt;</span><span class="pln">LOGN</span><span class="pun">;</span><span class="pln">kk</span><span class="pun">++)</span><span class="pln">
                             </span><span class="pun">{</span><span class="pln">
                                 </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">s</span><span class="pun">[</span><span class="pln">k</span><span class="pun">]-</span><span class="pln">kk</span><span class="pun">&lt;</span><span class="lit">0</span><span class="pun">||</span><span class="pln">s</span><span class="pun">[</span><span class="pln">k</span><span class="pun">]-</span><span class="pln">kk</span><span class="pun">&gt;=</span><span class="pln">LOGN</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
                                 dp</span><span class="pun">[</span><span class="pln">l</span><span class="pun">][</span><span class="pln">r</span><span class="pun">][</span><span class="pln">ii</span><span class="pun">][</span><span class="pln">jj</span><span class="pun">]=(</span><span class="pln">dp</span><span class="pun">[</span><span class="pln">l</span><span class="pun">][</span><span class="pln">r</span><span class="pun">][</span><span class="pln">ii</span><span class="pun">][</span><span class="pln">jj</span><span class="pun">]+</span><span class="pln">dp</span><span class="pun">[</span><span class="pln">l</span><span class="pun">][</span><span class="pln">k</span><span class="pun">-</span><span class="lit">1</span><span class="pun">][</span><span class="pln">ii</span><span class="pun">-</span><span class="pln">tagl</span><span class="pun">][</span><span class="pln">kk</span><span class="pun">]*</span><span class="pln">dp</span><span class="pun">[</span><span class="pln">k</span><span class="pun">+</span><span class="lit">1</span><span class="pun">][</span><span class="pln">r</span><span class="pun">][</span><span class="pln">s</span><span class="pun">[</span><span class="pln">k</span><span class="pun">]-</span><span class="pln">kk</span><span class="pun">][</span><span class="pln">jj</span><span class="pun">-</span><span class="pln">tagr</span><span class="pun">]%</span><span class="pln">TMD</span><span class="pun">*</span><span class="pln">C</span><span class="pun">(</span><span class="pln">r</span><span class="pun">-</span><span class="pln">l</span><span class="pun">,</span><span class="pln">k</span><span class="pun">-</span><span class="pln">l</span><span class="pun">))%</span><span class="pln">TMD</span><span class="pun">;</span><span class="pln">
                             </span><span class="pun">}</span><span class="pln">
                         </span><span class="pun">}</span><span class="pln">
                     </span><span class="pun">}</span><span class="pln">
                </span><span class="pun">}</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    cout</span><span class="pun">&lt;&lt;</span><span class="pln">dp</span><span class="pun">[</span><span class="lit">1</span><span class="pun">][</span><span class="pln">n</span><span class="pun">][</span><span class="lit">0</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]&lt;&lt;</span><span class="str">'\n'</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">int</span><span class="pln"> main</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    fastio</span><span class="pun">;</span><span class="pln">

    init_C</span><span class="pun">();</span><span class="pln">

    cin</span><span class="pun">&gt;&gt;</span><span class="pln">T</span><span class="pun">;</span><span class="pln">
	</span><span class="kwd">while</span><span class="pun">(</span><span class="pln">T</span><span class="pun">--)</span><span class="pln">
	</span><span class="pun">{</span><span class="pln">
		init</span><span class="pun">();</span><span class="pln">
		solve</span><span class="pun">();</span><span class="pln">
	</span><span class="pun">}</span><span class="pln">

	</span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span></code></pre></div></div> <div class="spoiler"><b class="spoiler-title">Rate the Problem</b><div class="spoiler-content" style="display: none;"><p>Amazing problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11084">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="20">20</span>
            </i>
        </a>
    </span>


</p><p>Good problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11085">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="25">25</span>
            </i>
        </a>
    </span>


</p><p>Average problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11086">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="13">13</span>
            </i>
        </a>
    </span>


</p><p>Bad problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11087">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="66">66</span>
            </i>
        </a>
    </span>


</p><p>Didn't solve: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11088">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="15">15</span>
            </i>
        </a>
    </span>


</p></div></div><h4><a href="https://codeforces.com/contest/2129/problem/E">D1E Induced Graph Queries</a></h4> <div class="spoiler"><b class="spoiler-title">Fun</b><div class="spoiler-content" style="display: none;"><p><span style="text-decoration: line-through;">Come up with an O(n log^4 n) solution using a persistent multidimensional segment tree with Trie that supports rectangle update XOR.</span></p></div></div> <div class="spoiler"><b class="spoiler-title">Hint1</b><div class="spoiler-content" style="display: none;"><p>Find the nature of the problem and recall the data structures and algorithms learned. What can we utilize?</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint2</b><div class="spoiler-content" style="display: none;"><p>Consider a standard Mo's algorithm. Why it doesn't work in this problem?</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint3</b><div class="spoiler-content" style="display: none;"><p>Recalling the Handshake Theorem: <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1698"><span class="MJXp-msubsup" id="MJXp-Span-1699"><span class="MJXp-mi" id="MJXp-Span-1700" style="margin-right: 0.05em;"></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1705">n</span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1701"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1702">i</span><span class="MJXp-mo" id="MJXp-Span-1703">=</span><span class="MJXp-mn" id="MJXp-Span-1704">1</span></span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1706">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1707">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1708">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1709">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1710">e</span><span class="MJXp-msubsup" id="MJXp-Span-1711"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1712" style="margin-right: 0.05em;">e</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1713" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-1714" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-1715">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1716">m</span></span></span><script type="math/tex" id="MathJax-Element-205">\Sigma_{i=1}^n degree_i=2m</script>.</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint4</b><div class="spoiler-content" style="display: none;"><p>Consider a variation of Mo's algorithm.</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint5</b><div class="spoiler-content" style="display: none;"><p>How to find the <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1717"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1718">k</span></span></span><script type="math/tex" id="MathJax-Element-206">k</script>-th smallest value without <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1719"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1720">O</span><span class="MJXp-mo" id="MJXp-Span-1721" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi" id="MJXp-Span-1722">log</span><span class="MJXp-mo" id="MJXp-Span-1723" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1724">n</span><span class="MJXp-mo" id="MJXp-Span-1725" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-207">O( \log n)</script> complexity?</p></div></div> <div class="spoiler"><b class="spoiler-title">Tutorial</b><div class="spoiler-content" style="display: none;"><p>We found that merging the <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1726"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1727">f</span></span></span><script type="math/tex" id="MathJax-Element-208">f</script> values of two intervals is a bit difficult. However, if we want to add a single node to the graph, it is relatively easy to update the <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1728"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1729">f</span></span></span><script type="math/tex" id="MathJax-Element-209">f</script> value using brute force. This inspires us to use the Mo's algorithm.</p><p>If we use the standard Mo's Algorithm, when expanding the interval from <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1730"><span class="MJXp-mo" id="MJXp-Span-1731" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1732">l</span><span class="MJXp-mo" id="MJXp-Span-1733" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1734">r</span><span class="MJXp-mo" id="MJXp-Span-1735" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><script type="math/tex" id="MathJax-Element-210">[l, r]</script> to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1736"><span class="MJXp-mo" id="MJXp-Span-1737" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1738">l</span><span class="MJXp-mo" id="MJXp-Span-1739" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1740">r</span><span class="MJXp-mo" id="MJXp-Span-1741" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-1742">1</span><span class="MJXp-mo" id="MJXp-Span-1743" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><script type="math/tex" id="MathJax-Element-211">[l, r+1]</script>, we need to examine all edges connected to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1744"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1745">r</span><span class="MJXp-mo" id="MJXp-Span-1746" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-1747">1</span></span></span><script type="math/tex" id="MathJax-Element-212">r+1</script> and update the node degrees accordingly. We define a cost array: <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1748"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1749">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1750">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1751">s</span><span class="MJXp-msubsup" id="MJXp-Span-1752"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1753" style="margin-right: 0.05em;">t</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1754" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-1755" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1756">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1757">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1758">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1759">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1760">e</span><span class="MJXp-msubsup" id="MJXp-Span-1761"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1762" style="margin-right: 0.05em;">e</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1763" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-1764" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-1765">1</span></span></span><script type="math/tex" id="MathJax-Element-213">cost_i=degree_i+1</script>. The cost of update node <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1766"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1767">r</span><span class="MJXp-mo" id="MJXp-Span-1768" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-1769">1</span></span></span><script type="math/tex" id="MathJax-Element-214">r+1</script> is <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1770"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1771">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1772">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1773">s</span><span class="MJXp-msubsup" id="MJXp-Span-1774"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1775" style="margin-right: 0.05em;">t</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-1776" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1777">r</span><span class="MJXp-mo" id="MJXp-Span-1778">+</span><span class="MJXp-mn" id="MJXp-Span-1779">1</span></span></span></span></span><script type="math/tex" id="MathJax-Element-215">cost_{r+1}</script>.</p><p>However, if a node has a high degree, repeatedly processing it in Mo's Algorithm could lead to big time complexity.</p><p>We leverage the Handshaking Lemma to use modified Mo's Algorithm to efficiently handle the queries.</p><p>Recall that the Mo's algorithm relatively evenly divides array indices into blocks according to array length and assigns block numbers. Here, our dividinging strategy is different: we "relatively evenly" divide the array into blocks based on the prefix sum value of the <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1780"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1781">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1782">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1783">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1784">t</span></span></span><script type="math/tex" id="MathJax-Element-216">cost</script> array. Specifically, we calculate the prefix sum of the cost array <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1785"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1786">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1787">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1788">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1789">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1790">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1791">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1792">t</span></span></span><script type="math/tex" id="MathJax-Element-217">precost</script>, using <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1793"><span class="MJXp-mfrac" id="MJXp-Span-1794" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1795">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1796">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1797">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1798">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1799">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1800">s</span><span class="MJXp-msubsup" id="MJXp-Span-1801"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1802" style="margin-right: 0.05em;">t</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1803" style="vertical-align: -0.4em;">i</span></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1804">B</span></span></span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-218">\frac{precost_i}{B}</script> as the block number of node <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1805"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1806">i</span></span></span><script type="math/tex" id="MathJax-Element-219">i</script>, where <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1807"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1808">B</span></span></span><script type="math/tex" id="MathJax-Element-220">B</script> is the block length parameter.</p><p>Assuming we have a data structure that can maintain the value of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1809"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1810">k</span></span></span><script type="math/tex" id="MathJax-Element-221">k</script>-th smallest value in <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1811"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1812">O</span><span class="MJXp-mo" id="MJXp-Span-1813" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-1814">1</span><span class="MJXp-mo" id="MJXp-Span-1815" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-222">O(1)</script>, using the same analysis method as standard Mo's algorithm, we can get the complexity is <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1816"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1817">O</span><span class="MJXp-mo" id="MJXp-Span-1818" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-1819" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1820">n</span><span class="MJXp-mo" id="MJXp-Span-1821" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1822">m</span><span class="MJXp-mo" id="MJXp-Span-1823" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1824">q</span><span class="MJXp-mo" id="MJXp-Span-1825" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msqrt" id="MJXp-Span-1826"><span class="MJXp-surd"><span style="font-size: 134%; margin-top: 0.104em;"></span></span><span class="MJXp-root"><span class="MJXp-rule" style="border-top: 0.08em solid;"></span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1827">n</span><span class="MJXp-mo" id="MJXp-Span-1828" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1829">m</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1830" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-223">O((n+m+q)\sqrt{n+m})</script>.</p><p>To find the <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1831"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1832">k</span></span></span><script type="math/tex" id="MathJax-Element-224">k</script>-th smallest value without <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1833"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1834">O</span><span class="MJXp-mo" id="MJXp-Span-1835" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi" id="MJXp-Span-1836">log</span><span class="MJXp-mo" id="MJXp-Span-1837" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1838">n</span><span class="MJXp-mo" id="MJXp-Span-1839" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-225">O( \log n)</script> complexity, we only need to maintain two arrays <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1840"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1841">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1842">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1843">t</span></span></span><script type="math/tex" id="MathJax-Element-226">cnt</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1844"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1845">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1846">u</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1847">m</span></span></span><script type="math/tex" id="MathJax-Element-227">sum</script>, where <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1848"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1849">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1850">n</span><span class="MJXp-msubsup" id="MJXp-Span-1851"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1852" style="margin-right: 0.05em;">t</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1853" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-228">cnt_i</script> is the occurrence of value <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1854"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1855">i</span></span></span><script type="math/tex" id="MathJax-Element-229">i</script>, and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1856"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1857">s</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1858">u</span><span class="MJXp-msubsup" id="MJXp-Span-1859"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1860" style="margin-right: 0.05em;">m</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1861" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-1862" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-1863"><span class="MJXp-mi" id="MJXp-Span-1864" style="margin-right: 0.05em;"></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-1876"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1877">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1878">B</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-1865"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1866">j</span><span class="MJXp-mo" id="MJXp-Span-1867">=</span><span class="MJXp-mo" id="MJXp-Span-1868">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1869">i</span><span class="MJXp-mo" id="MJXp-Span-1870"></span><span class="MJXp-mn" id="MJXp-Span-1871">1</span><span class="MJXp-mo" id="MJXp-Span-1872">)</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1873">B</span><span class="MJXp-mo" id="MJXp-Span-1874">+</span><span class="MJXp-mn" id="MJXp-Span-1875">1</span></span></span></span></span></span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1879">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1880">n</span><span class="MJXp-msubsup" id="MJXp-Span-1881"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1882" style="margin-right: 0.05em;">t</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1883" style="vertical-align: -0.4em;">j</span></span></span></span><script type="math/tex" id="MathJax-Element-230">sum_i=\Sigma_{j=(i-1)B+1}^{iB}cnt_j</script> (<span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1884"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1885">B</span></span></span><script type="math/tex" id="MathJax-Element-231">B</script> is the block length parameter). We can perform modification in <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1886"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1887">O</span><span class="MJXp-mo" id="MJXp-Span-1888" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-1889">1</span><span class="MJXp-mo" id="MJXp-Span-1890" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-232">O(1)</script> and query in <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1891"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1892">O</span><span class="MJXp-mo" id="MJXp-Span-1893" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msqrt" id="MJXp-Span-1894"><span class="MJXp-surd"><span style="font-size: 134%; margin-top: 0.104em;"></span></span><span class="MJXp-root"><span class="MJXp-rule" style="border-top: 0.08em solid;"></span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1895">n</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1896" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-233">O(\sqrt{n})</script>. The complexity is <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1897"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1898">O</span><span class="MJXp-mo" id="MJXp-Span-1899" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-1900" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1901">n</span><span class="MJXp-mo" id="MJXp-Span-1902" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1903">q</span><span class="MJXp-mo" id="MJXp-Span-1904" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msqrt" id="MJXp-Span-1905"><span class="MJXp-surd"><span style="font-size: 134%; margin-top: 0.104em;"></span></span><span class="MJXp-root"><span class="MJXp-rule" style="border-top: 0.08em solid;"></span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1906">n</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-1907" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-234">O((n+q)\sqrt{n})</script>.</p><p>Regarding implementation, you need to pay attention to two common pitfalls: </p> <ul>   <li><p>If you use <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1908"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1909">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1910">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1911">s</span><span class="MJXp-msubsup" id="MJXp-Span-1912"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1913" style="margin-right: 0.05em;">t</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1914" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-1915" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1916">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1917">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1918">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1919">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1920">e</span><span class="MJXp-msubsup" id="MJXp-Span-1921"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1922" style="margin-right: 0.05em;">e</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1923" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-235">cost_i=degree_i</script> instead of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1924"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1925">c</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1926">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1927">s</span><span class="MJXp-msubsup" id="MJXp-Span-1928"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1929" style="margin-right: 0.05em;">t</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1930" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-1931" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1932">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1933">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1934">g</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1935">r</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1936">e</span><span class="MJXp-msubsup" id="MJXp-Span-1937"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1938" style="margin-right: 0.05em;">e</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1939" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-1940" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-1941">1</span></span></span><script type="math/tex" id="MathJax-Element-236">cost_i=degree_i+1</script>, the dividing algorithm doesn't work for the graph with many nodes with degree <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1942"><span class="MJXp-mn" id="MJXp-Span-1943">0</span></span></span><script type="math/tex" id="MathJax-Element-237">0</script>.</p></li>   <li><p>Similarly, you can not set <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1944"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1945">B</span><span class="MJXp-mo" id="MJXp-Span-1946" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msqrt" id="MJXp-Span-1947"><span class="MJXp-surd"><span style="font-size: 134%; margin-top: 0.104em;"></span></span><span class="MJXp-root"><span class="MJXp-rule" style="border-top: 0.08em solid;"></span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1948">m</span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-238">B=\sqrt{m}</script>. </p></li> </ul></div></div> <div class="spoiler"><b class="spoiler-title">solution</b><div class="spoiler-content" style="display: none;"><pre><code class="prettyprint prettyprinted" style=""><span class="com">#include</span><span class="pun">&lt;</span><span class="pln">bits</span><span class="pun">/</span><span class="pln">stdc</span><span class="pun">++.</span><span class="pln">h</span><span class="pun">&gt;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> </span><span class="kwd">namespace</span><span class="pln"> std</span><span class="pun">;</span><span class="pln">

</span><span class="com">#define</span><span class="pln"> all</span><span class="pun">(</span><span class="pln">a</span><span class="pun">)</span><span class="pln"> a</span><span class="pun">.</span><span class="kwd">begin</span><span class="pun">(),</span><span class="pln">a</span><span class="pun">.</span><span class="kwd">end</span><span class="pun">()</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> pb push_back
</span><span class="com">#define</span><span class="pln"> sz</span><span class="pun">(</span><span class="pln">a</span><span class="pun">)</span><span class="pln"> </span><span class="pun">((</span><span class="kwd">int</span><span class="pun">)</span><span class="pln">a</span><span class="pun">.</span><span class="pln">size</span><span class="pun">())</span><span class="pln">

</span><span class="kwd">using</span><span class="pln"> ll</span><span class="pun">=</span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">long</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> u32</span><span class="pun">=</span><span class="kwd">unsigned</span><span class="pln"> </span><span class="kwd">int</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> u64</span><span class="pun">=</span><span class="kwd">unsigned</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">long</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> i128</span><span class="pun">=</span><span class="pln">__int128</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> u128</span><span class="pun">=</span><span class="kwd">unsigned</span><span class="pln"> __int128</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> f128</span><span class="pun">=</span><span class="pln">__float128</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">using</span><span class="pln"> pii</span><span class="pun">=</span><span class="pln">pair</span><span class="pun">&lt;</span><span class="kwd">int</span><span class="pun">,</span><span class="kwd">int</span><span class="pun">&gt;;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> pll</span><span class="pun">=</span><span class="pln">pair</span><span class="pun">&lt;</span><span class="pln">ll</span><span class="pun">,</span><span class="pln">ll</span><span class="pun">&gt;;</span><span class="pln">

</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">using</span><span class="pln"> vc</span><span class="pun">=</span><span class="pln">vector</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;;</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">using</span><span class="pln"> vvc</span><span class="pun">=</span><span class="pln">vc</span><span class="pun">&lt;</span><span class="pln">vc</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;&gt;;</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">using</span><span class="pln"> vvvc</span><span class="pun">=</span><span class="pln">vc</span><span class="pun">&lt;</span><span class="pln">vvc</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;&gt;;</span><span class="pln">

</span><span class="kwd">using</span><span class="pln"> vi</span><span class="pun">=</span><span class="pln">vc</span><span class="str">&lt;int&gt;</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> vll</span><span class="pun">=</span><span class="pln">vc</span><span class="str">&lt;ll&gt;</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> vvi</span><span class="pun">=</span><span class="pln">vc</span><span class="str">&lt;vi&gt;</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> vvll</span><span class="pun">=</span><span class="pln">vc</span><span class="str">&lt;vll&gt;</span><span class="pun">;</span><span class="pln">

</span><span class="com">#define</span><span class="pln"> vv</span><span class="pun">(</span><span class="pln">type</span><span class="pun">,</span><span class="pln">name</span><span class="pun">,</span><span class="pln">n</span><span class="pun">,...)</span><span class="pln"> \
    vector</span><span class="pun">&lt;</span><span class="pln">vector</span><span class="str">&lt;type&gt;</span><span class="pun">&gt;</span><span class="pln"> name</span><span class="pun">(</span><span class="pln">n</span><span class="pun">,</span><span class="pln">vector</span><span class="str">&lt;type&gt;</span><span class="pun">(</span><span class="pln">__VA_ARGS__</span><span class="pun">))</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> vvv</span><span class="pun">(</span><span class="pln">type</span><span class="pun">,</span><span class="pln">name</span><span class="pun">,</span><span class="pln">n</span><span class="pun">,</span><span class="pln">m</span><span class="pun">,...)</span><span class="pln"> \
    vector</span><span class="pun">&lt;</span><span class="pln">vector</span><span class="pun">&lt;</span><span class="pln">vector</span><span class="str">&lt;type&gt;</span><span class="pun">&gt;&gt;</span><span class="pln"> name</span><span class="pun">(</span><span class="pln">n</span><span class="pun">,</span><span class="pln">vector</span><span class="pun">&lt;</span><span class="pln">vector</span><span class="str">&lt;type&gt;</span><span class="pun">&gt;(</span><span class="pln">m</span><span class="pun">,</span><span class="pln">vector</span><span class="str">&lt;type&gt;</span><span class="pun">(</span><span class="pln">__VA_ARGS__</span><span class="pun">)))</span><span class="pln">

</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">using</span><span class="pln"> min_heap</span><span class="pun">=</span><span class="pln">priority_queue</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">,</span><span class="pln">vector</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;,</span><span class="pln">greater</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;&gt;;</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">using</span><span class="pln"> max_heap</span><span class="pun">=</span><span class="pln">priority_queue</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;;</span><span class="pln">

</span><span class="com">// https://trap.jp/post/1224/</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> rep1</span><span class="pun">(</span><span class="pln">n</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">ll i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;(</span><span class="pln">ll</span><span class="pun">)(</span><span class="pln">n</span><span class="pun">);</span><span class="pln"> </span><span class="pun">++</span><span class="pln">i</span><span class="pun">)</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> rep2</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln">n</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">ll i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;(</span><span class="pln">ll</span><span class="pun">)(</span><span class="pln">n</span><span class="pun">);</span><span class="pln"> </span><span class="pun">++</span><span class="pln">i</span><span class="pun">)</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> rep3</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln">a</span><span class="pun">,</span><span class="pln">b</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">ll i</span><span class="pun">=(</span><span class="pln">ll</span><span class="pun">)(</span><span class="pln">a</span><span class="pun">);</span><span class="pln"> i</span><span class="pun">&lt;(</span><span class="pln">ll</span><span class="pun">)(</span><span class="pln">b</span><span class="pun">);</span><span class="pln"> </span><span class="pun">++</span><span class="pln">i</span><span class="pun">)</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> rep4</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln">a</span><span class="pun">,</span><span class="pln">b</span><span class="pun">,</span><span class="pln">c</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">ll i</span><span class="pun">=(</span><span class="pln">ll</span><span class="pun">)(</span><span class="pln">a</span><span class="pun">);</span><span class="pln"> i</span><span class="pun">&lt;(</span><span class="pln">ll</span><span class="pun">)(</span><span class="pln">b</span><span class="pun">);</span><span class="pln"> i</span><span class="pun">+=(</span><span class="pln">c</span><span class="pun">))</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> cut4</span><span class="pun">(</span><span class="pln">a</span><span class="pun">,</span><span class="pln">b</span><span class="pun">,</span><span class="pln">c</span><span class="pun">,</span><span class="pln">d</span><span class="pun">,</span><span class="pln">e</span><span class="pun">,...)</span><span class="pln"> e
</span><span class="com">#define</span><span class="pln"> rep</span><span class="pun">(...)</span><span class="pln"> cut4</span><span class="pun">(</span><span class="pln">__VA_ARGS__</span><span class="pun">,</span><span class="pln">rep4</span><span class="pun">,</span><span class="pln">rep3</span><span class="pun">,</span><span class="pln">rep2</span><span class="pun">,</span><span class="pln">rep1</span><span class="pun">)(</span><span class="pln">__VA_ARGS__</span><span class="pun">)</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> per1</span><span class="pun">(</span><span class="pln">n</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">ll i</span><span class="pun">=((</span><span class="pln">ll</span><span class="pun">)</span><span class="pln">n</span><span class="pun">)-</span><span class="lit">1</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&gt;=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> </span><span class="pun">--</span><span class="pln">i</span><span class="pun">)</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> per2</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln">n</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">ll i</span><span class="pun">=((</span><span class="pln">ll</span><span class="pun">)</span><span class="pln">n</span><span class="pun">)-</span><span class="lit">1</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&gt;=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> </span><span class="pun">--</span><span class="pln">i</span><span class="pun">)</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> per3</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln">a</span><span class="pun">,</span><span class="pln">b</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">ll i</span><span class="pun">=((</span><span class="pln">ll</span><span class="pun">)</span><span class="pln">a</span><span class="pun">)-</span><span class="lit">1</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&gt;=(</span><span class="pln">ll</span><span class="pun">)(</span><span class="pln">b</span><span class="pun">);</span><span class="pln"> </span><span class="pun">--</span><span class="pln">i</span><span class="pun">)</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> per4</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln">a</span><span class="pun">,</span><span class="pln">b</span><span class="pun">,</span><span class="pln">c</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">ll i</span><span class="pun">=((</span><span class="pln">ll</span><span class="pun">)</span><span class="pln">a</span><span class="pun">)-</span><span class="lit">1</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&gt;=(</span><span class="pln">ll</span><span class="pun">)(</span><span class="pln">b</span><span class="pun">);</span><span class="pln"> i</span><span class="pun">-=(</span><span class="pln">c</span><span class="pun">))</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> per</span><span class="pun">(...)</span><span class="pln"> cut4</span><span class="pun">(</span><span class="pln">__VA_ARGS__</span><span class="pun">,</span><span class="pln">per4</span><span class="pun">,</span><span class="pln">per3</span><span class="pun">,</span><span class="pln">per2</span><span class="pun">,</span><span class="pln">per1</span><span class="pun">)(</span><span class="pln">__VA_ARGS__</span><span class="pun">)</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> rep_subset</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln">s</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">ll i</span><span class="pun">=(</span><span class="pln">s</span><span class="pun">);</span><span class="pln"> i</span><span class="pun">&gt;=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">=(</span><span class="pln">i</span><span class="pun">==</span><span class="lit">0</span><span class="pun">?-</span><span class="lit">1</span><span class="pun">:(</span><span class="pln">i</span><span class="pun">-</span><span class="lit">1</span><span class="pun">)&amp;(</span><span class="pln">s</span><span class="pun">)))</span><span class="pln">

</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">typename</span><span class="pln"> S</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">constexpr</span><span class="pln"> T ifloor</span><span class="pun">(</span><span class="kwd">const</span><span class="pln"> T a</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> S b</span><span class="pun">){</span><span class="kwd">return</span><span class="pln"> a</span><span class="pun">/</span><span class="pln">b</span><span class="pun">-(</span><span class="pln">a</span><span class="pun">%</span><span class="pln">b</span><span class="pun">&amp;&amp;(</span><span class="pln">a</span><span class="pun">^</span><span class="pln">b</span><span class="pun">)&lt;</span><span class="lit">0</span><span class="pun">);}</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">typename</span><span class="pln"> S</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">constexpr</span><span class="pln"> T iceil</span><span class="pun">(</span><span class="kwd">const</span><span class="pln"> T a</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> S b</span><span class="pun">){</span><span class="kwd">return</span><span class="pln"> ifloor</span><span class="pun">(</span><span class="pln">a</span><span class="pun">+</span><span class="pln">b</span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="pln">b</span><span class="pun">);}</span><span class="pln">

</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln">
</span><span class="kwd">void</span><span class="pln"> sort_unique</span><span class="pun">(</span><span class="pln">vector</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">vec</span><span class="pun">){</span><span class="pln">
    sort</span><span class="pun">(</span><span class="pln">vec</span><span class="pun">.</span><span class="kwd">begin</span><span class="pun">(),</span><span class="pln">vec</span><span class="pun">.</span><span class="kwd">end</span><span class="pun">());</span><span class="pln">
    vec</span><span class="pun">.</span><span class="pln">resize</span><span class="pun">(</span><span class="pln">unique</span><span class="pun">(</span><span class="pln">vec</span><span class="pun">.</span><span class="kwd">begin</span><span class="pun">(),</span><span class="pln">vec</span><span class="pun">.</span><span class="kwd">end</span><span class="pun">())-</span><span class="pln">vec</span><span class="pun">.</span><span class="kwd">begin</span><span class="pun">());</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">typename</span><span class="pln"> S</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">constexpr</span><span class="pln"> </span><span class="kwd">bool</span><span class="pln"> chmin</span><span class="pun">(</span><span class="pln">T </span><span class="pun">&amp;</span><span class="pln">a</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> S b</span><span class="pun">){</span><span class="kwd">if</span><span class="pun">(</span><span class="pln">a</span><span class="pun">&gt;</span><span class="pln">b</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> a</span><span class="pun">=</span><span class="pln">b</span><span class="pun">,</span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;}</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">typename</span><span class="pln"> S</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">constexpr</span><span class="pln"> </span><span class="kwd">bool</span><span class="pln"> chmax</span><span class="pun">(</span><span class="pln">T </span><span class="pun">&amp;</span><span class="pln">a</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> S b</span><span class="pun">){</span><span class="kwd">if</span><span class="pun">(</span><span class="pln">a</span><span class="pun">&lt;</span><span class="pln">b</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> a</span><span class="pun">=</span><span class="pln">b</span><span class="pun">,</span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;}</span><span class="pln">

</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">typename</span><span class="pln"> S</span><span class="pun">&gt;</span><span class="pln"> istream</span><span class="pun">&amp;</span><span class="pln"> </span><span class="kwd">operator</span><span class="pln"> </span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">istream</span><span class="pun">&amp;</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> pair</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">,</span><span class="pln">S</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">p</span><span class="pun">){</span><span class="kwd">return</span><span class="pln"> i </span><span class="pun">&gt;&gt;</span><span class="pln"> p</span><span class="pun">.</span><span class="pln">first </span><span class="pun">&gt;&gt;</span><span class="pln"> p</span><span class="pun">.</span><span class="pln">second</span><span class="pun">;}</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">typename</span><span class="pln"> S</span><span class="pun">&gt;</span><span class="pln"> ostream</span><span class="pun">&amp;</span><span class="pln"> </span><span class="kwd">operator</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ostream</span><span class="pun">&amp;</span><span class="pln"> o</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> pair</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">,</span><span class="pln">S</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">p</span><span class="pun">){</span><span class="kwd">return</span><span class="pln"> o </span><span class="pun">&lt;&lt;</span><span class="pln"> p</span><span class="pun">.</span><span class="pln">first </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">' '</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> p</span><span class="pun">.</span><span class="pln">second</span><span class="pun">;}</span><span class="pln">

</span><span class="com">#ifdef</span><span class="pln"> i_am_noob
</span><span class="com">#define</span><span class="pln"> bug</span><span class="pun">(...)</span><span class="pln"> cerr </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"#"</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> __LINE__ </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">' '</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="com">#__VA_ARGS__ &lt;&lt; "- ", _do(__VA_ARGS__)</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> _do</span><span class="pun">(</span><span class="pln">vector</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;</span><span class="pln"> x</span><span class="pun">){</span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">auto</span><span class="pln"> i</span><span class="pun">:</span><span class="pln"> x</span><span class="pun">)</span><span class="pln"> cerr </span><span class="pun">&lt;&lt;</span><span class="pln"> i </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">' '</span><span class="pun">;</span><span class="pln">cerr </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"\n"</span><span class="pun">;}</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> _do</span><span class="pun">(</span><span class="kwd">set</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;</span><span class="pln"> x</span><span class="pun">){</span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">auto</span><span class="pln"> i</span><span class="pun">:</span><span class="pln"> x</span><span class="pun">)</span><span class="pln"> cerr </span><span class="pun">&lt;&lt;</span><span class="pln"> i </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">' '</span><span class="pun">;</span><span class="pln">cerr </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"\n"</span><span class="pun">;}</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> _do</span><span class="pun">(</span><span class="pln">unordered_set</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;</span><span class="pln"> x</span><span class="pun">){</span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">auto</span><span class="pln"> i</span><span class="pun">:</span><span class="pln"> x</span><span class="pun">)</span><span class="pln"> cerr </span><span class="pun">&lt;&lt;</span><span class="pln"> i </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">' '</span><span class="pun">;</span><span class="pln">cerr </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"\n"</span><span class="pun">;}</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> _do</span><span class="pun">(</span><span class="pln">T </span><span class="pun">&amp;&amp;</span><span class="pln"> x</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">cerr </span><span class="pun">&lt;&lt;</span><span class="pln"> x </span><span class="pun">&lt;&lt;</span><span class="pln"> endl</span><span class="pun">;}</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">typename</span><span class="pln"> </span><span class="pun">...</span><span class="pln">S</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> _do</span><span class="pun">(</span><span class="pln">T </span><span class="pun">&amp;&amp;</span><span class="pln"> x</span><span class="pun">,</span><span class="pln"> S</span><span class="pun">&amp;&amp;...</span><span class="pln">y</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">cerr </span><span class="pun">&lt;&lt;</span><span class="pln"> x </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">", "</span><span class="pun">;</span><span class="pln"> _do</span><span class="pun">(</span><span class="pln">y</span><span class="pun">...);}</span><span class="pln">
</span><span class="com">#else</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> bug</span><span class="pun">(...)</span><span class="pln"> </span><span class="lit">777771449</span><span class="pln">
</span><span class="com">#endif</span><span class="pln">

</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="kwd">print</span><span class="pun">(</span><span class="pln">vector</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;</span><span class="pln"> x</span><span class="pun">){</span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">auto</span><span class="pln"> i</span><span class="pun">:</span><span class="pln"> x</span><span class="pun">)</span><span class="pln"> cout </span><span class="pun">&lt;&lt;</span><span class="pln"> i </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">' '</span><span class="pun">;</span><span class="pln">cout </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"\n"</span><span class="pun">;}</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="kwd">print</span><span class="pun">(</span><span class="kwd">set</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;</span><span class="pln"> x</span><span class="pun">){</span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">auto</span><span class="pln"> i</span><span class="pun">:</span><span class="pln"> x</span><span class="pun">)</span><span class="pln"> cout </span><span class="pun">&lt;&lt;</span><span class="pln"> i </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">' '</span><span class="pun">;</span><span class="pln">cout </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"\n"</span><span class="pun">;}</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="kwd">print</span><span class="pun">(</span><span class="pln">unordered_set</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;</span><span class="pln"> x</span><span class="pun">){</span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">auto</span><span class="pln"> i</span><span class="pun">:</span><span class="pln"> x</span><span class="pun">)</span><span class="pln"> cout </span><span class="pun">&lt;&lt;</span><span class="pln"> i </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">' '</span><span class="pun">;</span><span class="pln">cout </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"\n"</span><span class="pun">;}</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="kwd">print</span><span class="pun">(</span><span class="pln">T </span><span class="pun">&amp;&amp;</span><span class="pln"> x</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">cout </span><span class="pun">&lt;&lt;</span><span class="pln"> x </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">"\n"</span><span class="pun">;}</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">typename</span><span class="pun">...</span><span class="pln"> S</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> </span><span class="kwd">print</span><span class="pun">(</span><span class="pln">T </span><span class="pun">&amp;&amp;</span><span class="pln"> x</span><span class="pun">,</span><span class="pln"> S</span><span class="pun">&amp;&amp;...</span><span class="pln"> y</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">cout </span><span class="pun">&lt;&lt;</span><span class="pln"> x </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">' '</span><span class="pun">;</span><span class="kwd">print</span><span class="pun">(</span><span class="pln">y</span><span class="pun">...);}</span><span class="pln">

</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> istream</span><span class="pun">&amp;</span><span class="pln"> </span><span class="kwd">operator</span><span class="pln"> </span><span class="pun">&gt;&gt;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">istream</span><span class="pun">&amp;</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> vector</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">vec</span><span class="pun">){</span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">auto</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">x</span><span class="pun">:</span><span class="pln"> vec</span><span class="pun">)</span><span class="pln"> i </span><span class="pun">&gt;&gt;</span><span class="pln"> x</span><span class="pun">;</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> i</span><span class="pun">;}</span><span class="pln">

vvi read_graph</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> n</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> m</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> </span><span class="kwd">base</span><span class="pun">=</span><span class="lit">1</span><span class="pun">){</span><span class="pln">
    vvi adj</span><span class="pun">(</span><span class="pln">n</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">,</span><span class="pln">u</span><span class="pun">,</span><span class="pln">v</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;</span><span class="pln">m</span><span class="pun">;</span><span class="pln"> </span><span class="pun">++</span><span class="pln">i</span><span class="pun">){</span><span class="pln">
        cin </span><span class="pun">&gt;&gt;</span><span class="pln"> u </span><span class="pun">&gt;&gt;</span><span class="pln"> v</span><span class="pun">,</span><span class="pln">u</span><span class="pun">-=</span><span class="kwd">base</span><span class="pun">,</span><span class="pln">v</span><span class="pun">-=</span><span class="kwd">base</span><span class="pun">;</span><span class="pln">
        adj</span><span class="pun">[</span><span class="pln">u</span><span class="pun">].</span><span class="pln">pb</span><span class="pun">(</span><span class="pln">v</span><span class="pun">),</span><span class="pln">adj</span><span class="pun">[</span><span class="pln">v</span><span class="pun">].</span><span class="pln">pb</span><span class="pun">(</span><span class="pln">u</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> adj</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

vvi read_tree</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> n</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> </span><span class="kwd">base</span><span class="pun">=</span><span class="lit">1</span><span class="pun">){</span><span class="kwd">return</span><span class="pln"> read_graph</span><span class="pun">(</span><span class="pln">n</span><span class="pun">,</span><span class="pln">n</span><span class="pun">-</span><span class="lit">1</span><span class="pun">,</span><span class="kwd">base</span><span class="pun">);}</span><span class="pln">

</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">typename</span><span class="pln"> S</span><span class="pun">&gt;</span><span class="pln"> pair</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">,</span><span class="pln">S</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">operator</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">const</span><span class="pln"> pair</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">,</span><span class="pln">S</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">a</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">const</span><span class="pln"> pair</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">,</span><span class="pln">S</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">b</span><span class="pun">){</span><span class="kwd">return</span><span class="pln"> </span><span class="pun">{</span><span class="pln">a</span><span class="pun">.</span><span class="pln">first</span><span class="pun">+</span><span class="pln">b</span><span class="pun">.</span><span class="pln">first</span><span class="pun">,</span><span class="pln">a</span><span class="pun">.</span><span class="pln">second</span><span class="pun">+</span><span class="pln">b</span><span class="pun">.</span><span class="pln">second</span><span class="pun">};}</span><span class="pln">

</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">constexpr</span><span class="pln"> T inf</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;&gt;</span><span class="pln"> </span><span class="kwd">constexpr</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> inf</span><span class="str">&lt;int&gt;</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0x3f3f3f3f</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">template</span><span class="pun">&lt;&gt;</span><span class="pln"> </span><span class="kwd">constexpr</span><span class="pln"> ll inf</span><span class="str">&lt;ll&gt;</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0x3f3f3f3f3f3f3f3f</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> vector</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="kwd">operator</span><span class="pln"> </span><span class="pun">+=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">vector</span><span class="pun">&lt;</span><span class="pln">T</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">a</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> val</span><span class="pun">){</span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">auto</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">i</span><span class="pun">:</span><span class="pln"> a</span><span class="pun">)</span><span class="pln"> i</span><span class="pun">+=</span><span class="pln">val</span><span class="pun">;</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> a</span><span class="pun">;}</span><span class="pln">

</span><span class="kwd">template</span><span class="pun">&lt;</span><span class="kwd">typename</span><span class="pln"> T</span><span class="pun">&gt;</span><span class="pln"> T isqrt</span><span class="pun">(</span><span class="kwd">const</span><span class="pln"> T </span><span class="pun">&amp;</span><span class="pln">x</span><span class="pun">){</span><span class="pln">T y</span><span class="pun">=</span><span class="pln">sqrt</span><span class="pun">(</span><span class="pln">x</span><span class="pun">+</span><span class="lit">2</span><span class="pun">);</span><span class="pln"> </span><span class="kwd">while</span><span class="pun">(</span><span class="pln">y</span><span class="pun">*</span><span class="pln">y</span><span class="pun">&gt;</span><span class="pln">x</span><span class="pun">)</span><span class="pln"> y</span><span class="pun">--;</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> y</span><span class="pun">;}</span><span class="pln">

</span><span class="com">#define</span><span class="pln"> ykh mt19937 rng</span><span class="pun">(</span><span class="pln">chrono</span><span class="pun">::</span><span class="pln">steady_clock</span><span class="pun">::</span><span class="pln">now</span><span class="pun">().</span><span class="pln">time_since_epoch</span><span class="pun">().</span><span class="pln">count</span><span class="pun">())</span><span class="pln">

</span><span class="com">//#include&lt;atcoder/all&gt;</span><span class="pln">
</span><span class="com">//using namespace atcoder;</span><span class="pln">

</span><span class="com">//using mint=modint998244353;</span><span class="pln">
</span><span class="com">//using mint=modint1000000007;</span><span class="pln">

</span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> N</span><span class="pun">=</span><span class="lit">1</span><span class="pun">&lt;&lt;</span><span class="lit">18</span><span class="pun">,</span><span class="pln">K</span><span class="pun">=</span><span class="lit">1</span><span class="pun">&lt;&lt;</span><span class="lit">10</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">struct</span><span class="pln"> DS</span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> big</span><span class="pun">[</span><span class="pln">N</span><span class="pun">/</span><span class="pln">K</span><span class="pun">],</span><span class="pln">small</span><span class="pun">[</span><span class="pln">N</span><span class="pun">];</span><span class="pln">
    </span><span class="kwd">void</span><span class="pln"> ins</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> x</span><span class="pun">){</span><span class="pln">
        small</span><span class="pun">[</span><span class="pln">x</span><span class="pun">]++;</span><span class="pln">
        big</span><span class="pun">[</span><span class="pln">x</span><span class="pun">&gt;&gt;</span><span class="lit">10</span><span class="pun">]++;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">void</span><span class="pln"> </span><span class="kwd">del</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> x</span><span class="pun">){</span><span class="pln">
        small</span><span class="pun">[</span><span class="pln">x</span><span class="pun">]--;</span><span class="pln">
        big</span><span class="pun">[</span><span class="pln">x</span><span class="pun">&gt;&gt;</span><span class="lit">10</span><span class="pun">]--;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> kth</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> k</span><span class="pun">){</span><span class="pln">
        k</span><span class="pun">--;</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> cur</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">while</span><span class="pun">(</span><span class="pln">big</span><span class="pun">[</span><span class="pln">cur</span><span class="pun">]&lt;=</span><span class="pln">k</span><span class="pun">)</span><span class="pln"> k</span><span class="pun">-=</span><span class="pln">big</span><span class="pun">[</span><span class="pln">cur</span><span class="pun">++];</span><span class="pln">
        cur</span><span class="pun">&lt;&lt;=</span><span class="lit">10</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">while</span><span class="pun">(</span><span class="pln">small</span><span class="pun">[</span><span class="pln">cur</span><span class="pun">]&lt;=</span><span class="pln">k</span><span class="pun">)</span><span class="pln"> k</span><span class="pun">-=</span><span class="pln">small</span><span class="pun">[</span><span class="pln">cur</span><span class="pun">++];</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> cur</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">ds</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">void</span><span class="pln"> ahcorz</span><span class="pun">(){</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> n</span><span class="pun">,</span><span class="pln">m</span><span class="pun">;</span><span class="pln"> cin </span><span class="pun">&gt;&gt;</span><span class="pln"> n </span><span class="pun">&gt;&gt;</span><span class="pln"> m</span><span class="pun">;</span><span class="pln">
    vvi adj</span><span class="pun">=</span><span class="pln">read_graph</span><span class="pun">(</span><span class="pln">n</span><span class="pun">,</span><span class="pln">m</span><span class="pun">);</span><span class="pln">
    vi block</span><span class="pun">(</span><span class="pln">n</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> cur</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
    rep</span><span class="pun">(</span><span class="pln">n</span><span class="pun">){</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">cur</span><span class="pun">&gt;=</span><span class="pln">n</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> tot</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">while</span><span class="pun">(</span><span class="pln">cur</span><span class="pun">&lt;</span><span class="pln">n</span><span class="pun">&amp;&amp;</span><span class="pln">tot</span><span class="pun">&lt;</span><span class="pln">K</span><span class="pun">){</span><span class="pln">
            tot</span><span class="pun">+=</span><span class="pln">sz</span><span class="pun">(</span><span class="pln">adj</span><span class="pun">[</span><span class="pln">cur</span><span class="pun">])+</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
            block</span><span class="pun">[</span><span class="pln">cur</span><span class="pun">++]=</span><span class="pln">i</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> q</span><span class="pun">;</span><span class="pln"> cin </span><span class="pun">&gt;&gt;</span><span class="pln"> q</span><span class="pun">;</span><span class="pln">
    vc</span><span class="pun">&lt;</span><span class="pln">array</span><span class="pun">&lt;</span><span class="kwd">int</span><span class="pun">,</span><span class="lit">4</span><span class="pun">&gt;&gt;</span><span class="pln"> qq</span><span class="pun">(</span><span class="pln">q</span><span class="pun">);</span><span class="pln">
    vi res</span><span class="pun">(</span><span class="pln">q</span><span class="pun">);</span><span class="pln">
    rep</span><span class="pun">(</span><span class="pln">q</span><span class="pun">){</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> l</span><span class="pun">,</span><span class="pln">r</span><span class="pun">,</span><span class="pln">k</span><span class="pun">;</span><span class="pln"> cin </span><span class="pun">&gt;&gt;</span><span class="pln"> l </span><span class="pun">&gt;&gt;</span><span class="pln"> r </span><span class="pun">&gt;&gt;</span><span class="pln"> k</span><span class="pun">;</span><span class="pln"> l</span><span class="pun">--,</span><span class="pln">r</span><span class="pun">--;</span><span class="pln">
        qq</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]={</span><span class="pln">l</span><span class="pun">,</span><span class="pln">r</span><span class="pun">,</span><span class="pln">k</span><span class="pun">,</span><span class="pln">i</span><span class="pun">};</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    sort</span><span class="pun">(</span><span class="pln">all</span><span class="pun">(</span><span class="pln">qq</span><span class="pun">),[&amp;](</span><span class="pln">array</span><span class="pun">&lt;</span><span class="kwd">int</span><span class="pun">,</span><span class="lit">4</span><span class="pun">&gt;</span><span class="pln"> arr1</span><span class="pun">,</span><span class="pln"> array</span><span class="pun">&lt;</span><span class="kwd">int</span><span class="pun">,</span><span class="lit">4</span><span class="pun">&gt;</span><span class="pln"> arr2</span><span class="pun">){</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">block</span><span class="pun">[</span><span class="pln">arr1</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]]!=</span><span class="pln">block</span><span class="pun">[</span><span class="pln">arr2</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]])</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> block</span><span class="pun">[</span><span class="pln">arr1</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]]&lt;</span><span class="pln">block</span><span class="pun">[</span><span class="pln">arr2</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]];</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">block</span><span class="pun">[</span><span class="pln">arr1</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]]&amp;</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> arr1</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]&gt;</span><span class="pln">arr2</span><span class="pun">[</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
        </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> arr1</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]&lt;</span><span class="pln">arr2</span><span class="pun">[</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
    </span><span class="pun">});</span><span class="pln">
    vi val</span><span class="pun">(</span><span class="pln">n</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> l</span><span class="pun">=</span><span class="lit">0</span><span class="pun">,</span><span class="pln">r</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
    ds</span><span class="pun">.</span><span class="pln">ins</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">auto</span><span class="pln"> ins</span><span class="pun">=[&amp;](</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">){</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">auto</span><span class="pln"> j</span><span class="pun">:</span><span class="pln"> adj</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]){</span><span class="pln">
            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">j</span><span class="pun">&gt;=</span><span class="pln">l</span><span class="pun">&amp;&amp;</span><span class="pln">j</span><span class="pun">&lt;=</span><span class="pln">r</span><span class="pun">){</span><span class="pln">
                ds</span><span class="pun">.</span><span class="kwd">del</span><span class="pun">(</span><span class="pln">val</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]);</span><span class="pln">
                val</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]^=</span><span class="pln">i</span><span class="pun">+</span><span class="lit">1</span><span class="pun">,</span><span class="pln">val</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]^=</span><span class="pln">j</span><span class="pun">+</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
                ds</span><span class="pun">.</span><span class="pln">ins</span><span class="pun">(</span><span class="pln">val</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]);</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        ds</span><span class="pun">.</span><span class="pln">ins</span><span class="pun">(</span><span class="pln">val</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">
    </span><span class="kwd">auto</span><span class="pln"> </span><span class="kwd">del</span><span class="pun">=[&amp;](</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">){</span><span class="pln">
        ds</span><span class="pun">.</span><span class="kwd">del</span><span class="pun">(</span><span class="pln">val</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">auto</span><span class="pln"> j</span><span class="pun">:</span><span class="pln"> adj</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]){</span><span class="pln">
            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">j</span><span class="pun">&gt;=</span><span class="pln">l</span><span class="pun">&amp;&amp;</span><span class="pln">j</span><span class="pun">&lt;=</span><span class="pln">r</span><span class="pun">){</span><span class="pln">
                ds</span><span class="pun">.</span><span class="kwd">del</span><span class="pun">(</span><span class="pln">val</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]);</span><span class="pln">
                val</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]^=</span><span class="pln">i</span><span class="pun">+</span><span class="lit">1</span><span class="pun">,</span><span class="pln">val</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]^=</span><span class="pln">j</span><span class="pun">+</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
                ds</span><span class="pun">.</span><span class="pln">ins</span><span class="pun">(</span><span class="pln">val</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]);</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">
    </span><span class="kwd">auto</span><span class="pln"> gogo</span><span class="pun">=[&amp;](</span><span class="kwd">int</span><span class="pln"> l2</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> r2</span><span class="pun">){</span><span class="pln">
        </span><span class="kwd">while</span><span class="pun">(</span><span class="pln">l</span><span class="pun">&gt;</span><span class="pln">l2</span><span class="pun">){</span><span class="pln">
            ins</span><span class="pun">(</span><span class="pln">l</span><span class="pun">-</span><span class="lit">1</span><span class="pun">);</span><span class="pln">
            l</span><span class="pun">--;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">while</span><span class="pun">(</span><span class="pln">r</span><span class="pun">&lt;</span><span class="pln">r2</span><span class="pun">){</span><span class="pln">
            ins</span><span class="pun">(</span><span class="pln">r</span><span class="pun">+</span><span class="lit">1</span><span class="pun">);</span><span class="pln">
            r</span><span class="pun">++;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">while</span><span class="pun">(</span><span class="pln">l</span><span class="pun">&lt;</span><span class="pln">l2</span><span class="pun">){</span><span class="pln">
            l</span><span class="pun">++;</span><span class="pln">
            </span><span class="kwd">del</span><span class="pun">(</span><span class="pln">l</span><span class="pun">-</span><span class="lit">1</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">while</span><span class="pun">(</span><span class="pln">r</span><span class="pun">&gt;</span><span class="pln">r2</span><span class="pun">){</span><span class="pln">
            r</span><span class="pun">--;</span><span class="pln">
            </span><span class="kwd">del</span><span class="pun">(</span><span class="pln">r</span><span class="pun">+</span><span class="lit">1</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">};</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">auto</span><span class="pln"> </span><span class="pun">[</span><span class="pln">l2</span><span class="pun">,</span><span class="pln">r2</span><span class="pun">,</span><span class="pln">k</span><span class="pun">,</span><span class="pln">i</span><span class="pun">]:</span><span class="pln"> qq</span><span class="pun">){</span><span class="pln">
        gogo</span><span class="pun">(</span><span class="pln">l2</span><span class="pun">,</span><span class="pln">r2</span><span class="pun">);</span><span class="pln">
        res</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]=</span><span class="pln">ds</span><span class="pun">.</span><span class="pln">kth</span><span class="pun">(</span><span class="pln">k</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    rep</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln">l</span><span class="pun">,</span><span class="pln">r</span><span class="pun">+</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> ds</span><span class="pun">.</span><span class="kwd">del</span><span class="pun">(</span><span class="pln">val</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span><span class="pln">
    rep</span><span class="pun">(</span><span class="pln">q</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">print</span><span class="pun">(</span><span class="pln">res</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">signed</span><span class="pln"> main</span><span class="pun">(){</span><span class="pln">
    ios_base</span><span class="pun">::</span><span class="pln">sync_with_stdio</span><span class="pun">(</span><span class="lit">0</span><span class="pun">),</span><span class="pln">cin</span><span class="pun">.</span><span class="pln">tie</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">
    cout </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="kwd">fixed</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> setprecision</span><span class="pun">(</span><span class="lit">20</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> t</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
    cin </span><span class="pun">&gt;&gt;</span><span class="pln"> t</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">while</span><span class="pun">(</span><span class="pln">t</span><span class="pun">--)</span><span class="pln"> ahcorz</span><span class="pun">();</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span></code></pre></div></div> <div class="spoiler"><b class="spoiler-title">Rate the Problem</b><div class="spoiler-content" style="display: none;"><p>Amazing problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11089">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="17">17</span>
            </i>
        </a>
    </span>


</p><p>Good problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11090">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="6">6</span>
            </i>
        </a>
    </span>


</p><p>Average problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11091">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="4">4</span>
            </i>
        </a>
    </span>


</p><p>Bad problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11092">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="59">59</span>
            </i>
        </a>
    </span>


</p><p>Didn't solve: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11093">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="6">6</span>
            </i>
        </a>
    </span>


</p></div></div><h4><a href="https://codeforces.com/contest/2129/problem/F1">D1F1 Top-K Tracker (Easy Version)</a> and <a href="https://codeforces.com/contest/2129/problem/F2">D1F2 Top-K Tracker (Hard Version)</a></h4> <div class="spoiler"><b class="spoiler-title">Fun</b><div class="spoiler-content" style="display: none;"><p>Did you notice the double meaning of the title?</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint1</b><div class="spoiler-content" style="display: none;"><p>Consider easy version. Try to use only operation <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1949"><span class="MJXp-mn" id="MJXp-Span-1950">1</span></span></span><script type="math/tex" id="MathJax-Element-239">1</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1951"><span class="MJXp-mn" id="MJXp-Span-1952">3</span></span></span><script type="math/tex" id="MathJax-Element-240">3</script> (Due to symmetry, using operation <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1953"><span class="MJXp-mn" id="MJXp-Span-1954">2</span></span></span><script type="math/tex" id="MathJax-Element-241">2</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1955"><span class="MJXp-mn" id="MJXp-Span-1956">4</span></span></span><script type="math/tex" id="MathJax-Element-242">4</script> is the same), and only use <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1957"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1958">m</span><span class="MJXp-mo" id="MJXp-Span-1959" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-1960">30</span></span></span><script type="math/tex" id="MathJax-Element-243">m=30</script> in operation <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1961"><span class="MJXp-mn" id="MJXp-Span-1962">1</span></span></span><script type="math/tex" id="MathJax-Element-244">1</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1963"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1964">m</span><span class="MJXp-mo" id="MJXp-Span-1965" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-1966">300</span></span></span><script type="math/tex" id="MathJax-Element-245">m=300</script> in operation <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1967"><span class="MJXp-mn" id="MJXp-Span-1968">3</span></span></span><script type="math/tex" id="MathJax-Element-246">3</script>.</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint2</b><div class="spoiler-content" style="display: none;"><p>Let <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1969"><span class="MJXp-msubsup" id="MJXp-Span-1970"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1971" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1972" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-247">S_i</script> represent the set in which queries element <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1973"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1974">i</span></span></span><script type="math/tex" id="MathJax-Element-248">i</script> is accessed. Make all <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1975"><span class="MJXp-msubsup" id="MJXp-Span-1976"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1977" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1978" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-249">S_i</script> different to distinguish all elements.</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint3</b><div class="spoiler-content" style="display: none;"><p>Greedily choose all <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1979"><span class="MJXp-msubsup" id="MJXp-Span-1980"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1981" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1982" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-250">S_i</script> such that <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1983"><span class="MJXp-mrow" id="MJXp-Span-1984"><span class="MJXp-mo" id="MJXp-Span-1985" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-msubsup" id="MJXp-Span-1986"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-1987" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-1988" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mrow" id="MJXp-Span-1989"><span class="MJXp-mo" id="MJXp-Span-1990" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-1991" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-mn" id="MJXp-Span-1992">3</span></span></span><script type="math/tex" id="MathJax-Element-251">|S_i|<3</script>. Afterwards, carefully construct a set of size <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1993"><span class="MJXp-mn" id="MJXp-Span-1994">3</span></span></span><script type="math/tex" id="MathJax-Element-252">3</script> to reach the upper bound. </p></div></div> <div class="spoiler"><b class="spoiler-title">Hint4</b><div class="spoiler-content" style="display: none;"><p>Suppose there are <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1995"><span class="MJXp-mn" id="MJXp-Span-1996">30</span></span></span><script type="math/tex" id="MathJax-Element-253">30</script> numbers <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-1997"><span class="MJXp-mn" id="MJXp-Span-1998">1</span><span class="MJXp-mo" id="MJXp-Span-1999" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2000">2</span><span class="MJXp-mo" id="MJXp-Span-2001" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2002" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-2003" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2004">30</span></span></span><script type="math/tex" id="MathJax-Element-254">1, 2, , 30</script>, and each number can be used up to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2005"><span class="MJXp-mn" id="MJXp-Span-2006">30</span></span></span><script type="math/tex" id="MathJax-Element-255">30</script> times. Can you construct <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2007"><span class="MJXp-mn" id="MJXp-Span-2008">900</span></span></span><script type="math/tex" id="MathJax-Element-256">900</script> distinct triplets?</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint5</b><div class="spoiler-content" style="display: none;"><p>Consider hard version. How to efficiently utilize the four operations, and the condition <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2009"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2010">m</span><span class="MJXp-mo" id="MJXp-Span-2011" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2012">k</span></span></span><script type="math/tex" id="MathJax-Element-257">m > k</script>?</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint6</b><div class="spoiler-content" style="display: none;"><p>Using operation <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2013"><span class="MJXp-mn" id="MJXp-Span-2014">1</span></span></span><script type="math/tex" id="MathJax-Element-258">1</script> and operation <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2015"><span class="MJXp-mn" id="MJXp-Span-2016">4</span></span></span><script type="math/tex" id="MathJax-Element-259">4</script> is enough. Due to symmetry, using operation <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2017"><span class="MJXp-mn" id="MJXp-Span-2018">2</span></span></span><script type="math/tex" id="MathJax-Element-260">2</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2019"><span class="MJXp-mn" id="MJXp-Span-2020">3</span></span></span><script type="math/tex" id="MathJax-Element-261">3</script> is the same.</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint7</b><div class="spoiler-content" style="display: none;"><p>Recall the bottleneck of the easy version. We used too many sets of size <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2021"><span class="MJXp-mn" id="MJXp-Span-2022">3</span></span></span><script type="math/tex" id="MathJax-Element-262">3</script>. Lets say it another way  too many elements were determined at the cost of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2023"><span class="MJXp-mn" id="MJXp-Span-2024">3</span></span></span><script type="math/tex" id="MathJax-Element-263">3</script>. How to optimize it?</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint8</b><div class="spoiler-content" style="display: none;"><p>Consider <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2025"><span class="MJXp-msubsup" id="MJXp-Span-2026"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2027" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2028" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-2029" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-2030"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2031" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2032" style="vertical-align: -0.4em;">j</span></span></span></span><script type="math/tex" id="MathJax-Element-264">S_i=S_j</script>. This actually provides an unordered pair. In other words, we know unordered pair <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2033"><span class="MJXp-mo" id="MJXp-Span-2034" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-2035"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2036" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2037" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-2038" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-2039"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2040" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2041" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-2042" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2043" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-2044" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2045">x</span><span class="MJXp-mo" id="MJXp-Span-2046" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2047">y</span><span class="MJXp-mo" id="MJXp-Span-2048" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-265">(p_i,p_j)=(x,y)</script>, but we can not determine whether <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2049"><span class="MJXp-msubsup" id="MJXp-Span-2050"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2051" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2052" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-2053" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2054">x</span></span></span><script type="math/tex" id="MathJax-Element-266">p_i=x</script> or <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2055"><span class="MJXp-msubsup" id="MJXp-Span-2056"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2057" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2058" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-2059" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2060">x</span></span></span><script type="math/tex" id="MathJax-Element-267">p_j=x</script>. To determine it, we can add one of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2061"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2062">x</span></span></span><script type="math/tex" id="MathJax-Element-268">x</script> or <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2063"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2064">y</span></span></span><script type="math/tex" id="MathJax-Element-269">y</script> to the query of type <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2065"><span class="MJXp-mn" id="MJXp-Span-2066">4</span></span></span><script type="math/tex" id="MathJax-Element-270">4</script>.</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint9</b><div class="spoiler-content" style="display: none;"><p>Suppose there are <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2067"><span class="MJXp-mn" id="MJXp-Span-2068">300</span></span></span><script type="math/tex" id="MathJax-Element-271">300</script> unordered pairs <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2069"><span class="MJXp-mo" id="MJXp-Span-2070" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-2071"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2072" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2073" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-2074" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-2075"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2076" style="margin-right: 0.05em;">y</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2077" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-2078" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2079" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2080" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-2081"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2082" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2083" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-2084" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-2085"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2086" style="margin-right: 0.05em;">y</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2087" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-2088" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2089" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2090" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-2091" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2092" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-2093"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2094" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2095" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-2096">300</span></span></span><span class="MJXp-mo" id="MJXp-Span-2097" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-2098"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2099" style="margin-right: 0.05em;">y</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2100" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-2101">300</span></span></span><span class="MJXp-mo" id="MJXp-Span-2102" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-272">(x_1, y_1), (x_2, y_2), , (x_{300}, y_{300})</script>. We can add one element of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2103"><span class="MJXp-mo" id="MJXp-Span-2104" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-2105"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2106" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2107" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-2108" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-2109"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2110" style="margin-right: 0.05em;">y</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2111" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-2112" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-273">(x_i, y_i)</script> into query <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2113"><span class="MJXp-mn" id="MJXp-Span-2114">4</span></span></span><script type="math/tex" id="MathJax-Element-274">4</script>, then query to determine all unordered pairs. However, the average cost is still near to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2115"><span class="MJXp-mn" id="MJXp-Span-2116">3</span></span></span><script type="math/tex" id="MathJax-Element-275">3</script>, which is no better than the easy version.</p></div></div> <div class="spoiler"><b class="spoiler-title">Hint10</b><div class="spoiler-content" style="display: none;"><p>Try to determine <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2117"><span class="MJXp-mn" id="MJXp-Span-2118">435</span></span></span><script type="math/tex" id="MathJax-Element-276">435</script> unordered pairs using single query <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2119"><span class="MJXp-mn" id="MJXp-Span-2120">4</span></span></span><script type="math/tex" id="MathJax-Element-277">4</script>.</p></div></div> <div class="spoiler"><b class="spoiler-title">Tutorial (easy version)</b><div class="spoiler-content" style="display: none;"><p>Use only operation <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2121"><span class="MJXp-mn" id="MJXp-Span-2122">1</span></span></span><script type="math/tex" id="MathJax-Element-278">1</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2123"><span class="MJXp-mn" id="MJXp-Span-2124">3</span></span></span><script type="math/tex" id="MathJax-Element-279">3</script>, with <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2125"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2126">m</span><span class="MJXp-mo" id="MJXp-Span-2127" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-2128">30</span></span></span><script type="math/tex" id="MathJax-Element-280">m=30</script> in operation <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2129"><span class="MJXp-mn" id="MJXp-Span-2130">1</span></span></span><script type="math/tex" id="MathJax-Element-281">1</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2131"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2132">m</span><span class="MJXp-mo" id="MJXp-Span-2133" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-2134">300</span></span></span><script type="math/tex" id="MathJax-Element-282">m=300</script> in operation <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2135"><span class="MJXp-mn" id="MJXp-Span-2136">3</span></span></span><script type="math/tex" id="MathJax-Element-283">3</script>. </p><p>Let <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2137"><span class="MJXp-msubsup" id="MJXp-Span-2138"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2139" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2140" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-284">S_i</script> represent the set accessed by query element <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2141"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2142">i</span></span></span><script type="math/tex" id="MathJax-Element-285">i</script>. To distinguish all elements, we need to ensure that all <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2143"><span class="MJXp-msubsup" id="MJXp-Span-2144"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2145" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2146" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-286">S_i</script> (<span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2147"><span class="MJXp-mn" id="MJXp-Span-2148">1</span><span class="MJXp-mo" id="MJXp-Span-2149" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2150">i</span><span class="MJXp-mo" id="MJXp-Span-2151" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2152">n</span></span></span><script type="math/tex" id="MathJax-Element-287">1 \le i \le n</script>) are distinct. </p><p>After selecting all <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2153"><span class="MJXp-msubsup" id="MJXp-Span-2154"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2155" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2156" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-288">S_i</script> such that <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2157"><span class="MJXp-mrow" id="MJXp-Span-2158"><span class="MJXp-mo" id="MJXp-Span-2159" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-msubsup" id="MJXp-Span-2160"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2161" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2162" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mrow" id="MJXp-Span-2163"><span class="MJXp-mo" id="MJXp-Span-2164" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-2165" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-mn" id="MJXp-Span-2166">3</span></span></span><script type="math/tex" id="MathJax-Element-289">|S_i| < 3</script>, we must also construct a set of size <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2167"><span class="MJXp-mn" id="MJXp-Span-2168">3</span></span></span><script type="math/tex" id="MathJax-Element-290">3</script> to reach the upper bound. </p><p>Another way to phrase this: We have <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2169"><span class="MJXp-mn" id="MJXp-Span-2170">30</span></span></span><script type="math/tex" id="MathJax-Element-291">30</script> numbers <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2171"><span class="MJXp-mn" id="MJXp-Span-2172">1</span><span class="MJXp-mo" id="MJXp-Span-2173" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2174">2</span><span class="MJXp-mo" id="MJXp-Span-2175" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2176" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-2177" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2178">30</span></span></span><script type="math/tex" id="MathJax-Element-292">1, 2, \ldots, 30</script>, where <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2179"><span class="MJXp-mn" id="MJXp-Span-2180">1</span></span></span><script type="math/tex" id="MathJax-Element-293">1</script> through <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2181"><span class="MJXp-mn" id="MJXp-Span-2182">29</span></span></span><script type="math/tex" id="MathJax-Element-294">29</script> can each be used <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2183"><span class="MJXp-mn" id="MJXp-Span-2184">30</span></span></span><script type="math/tex" id="MathJax-Element-295">30</script> times, and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2185"><span class="MJXp-mn" id="MJXp-Span-2186">30</span></span></span><script type="math/tex" id="MathJax-Element-296">30</script> can be used <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2187"><span class="MJXp-mn" id="MJXp-Span-2188">270</span></span></span><script type="math/tex" id="MathJax-Element-297">270</script> times. The goal is to construct as many distinct triplets as possible to maximize the count. </p><p>A natural approach is to prioritize consuming the usage count of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2189"><span class="MJXp-mn" id="MJXp-Span-2190">30</span></span></span><script type="math/tex" id="MathJax-Element-298">30</script>. Since <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2191"><span class="MJXp-mn" id="MJXp-Span-2192">29</span></span></span><script type="math/tex" id="MathJax-Element-299">29</script> is prime, the sequence <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2193"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2194">x</span><span class="MJXp-mo" id="MJXp-Span-2195" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-2196" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-2197">1</span><span class="MJXp-mo" id="MJXp-Span-2198" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2199">k</span><span class="MJXp-TeXmathchoice" id="MJXp-Span-2200"><span class="MJXp-mspace" id="MJXp-Span-2201" style="width: 0.667em; height: 0em;"></span></span><span class="MJXp-mi" id="MJXp-Span-2202">mod</span><span class="MJXp-mspace" id="MJXp-Span-2203" style="width: 0.167em; height: 0em;"></span><span class="MJXp-mspace" id="MJXp-Span-2204" style="width: 0.167em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-2205">29</span><span class="MJXp-mo" id="MJXp-Span-2206" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-2207">1</span><span class="MJXp-mo" id="MJXp-Span-2208" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2209">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2210">k</span><span class="MJXp-TeXmathchoice" id="MJXp-Span-2211"><span class="MJXp-mspace" id="MJXp-Span-2212" style="width: 0.667em; height: 0em;"></span></span><span class="MJXp-mi" id="MJXp-Span-2213">mod</span><span class="MJXp-mspace" id="MJXp-Span-2214" style="width: 0.167em; height: 0em;"></span><span class="MJXp-mspace" id="MJXp-Span-2215" style="width: 0.167em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-2216">29</span><span class="MJXp-mo" id="MJXp-Span-2217" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-2218">1</span><span class="MJXp-mo" id="MJXp-Span-2219" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2220" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-2221" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2222">28</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2223">k</span><span class="MJXp-TeXmathchoice" id="MJXp-Span-2224"><span class="MJXp-mspace" id="MJXp-Span-2225" style="width: 0.667em; height: 0em;"></span></span><span class="MJXp-mi" id="MJXp-Span-2226">mod</span><span class="MJXp-mspace" id="MJXp-Span-2227" style="width: 0.167em; height: 0em;"></span><span class="MJXp-mspace" id="MJXp-Span-2228" style="width: 0.167em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-2229">29</span><span class="MJXp-mo" id="MJXp-Span-2230" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-2231">1</span><span class="MJXp-mo" id="MJXp-Span-2232" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><script type="math/tex" id="MathJax-Element-300">x = [1, k \mod 29 + 1, 2k \mod 29 + 1, \ldots, 28k \mod 29 + 1]</script> ensures all elements are distinct. For <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2233"><span class="MJXp-mn" id="MJXp-Span-2234">1</span><span class="MJXp-mo" id="MJXp-Span-2235" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2236">k</span><span class="MJXp-mo" id="MJXp-Span-2237" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-2238">9</span></span></span><script type="math/tex" id="MathJax-Element-301">1 \le k \le 9</script>, we can construct triplets <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2239"><span class="MJXp-mo" id="MJXp-Span-2240" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-2241"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2242" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2243" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-2244" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-2245"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2246" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2247" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-2248" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2249">30</span><span class="MJXp-mo" id="MJXp-Span-2250" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2251" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2252" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-2253"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2254" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2255" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-2256" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-2257"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2258" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2259" style="vertical-align: -0.4em;">3</span></span><span class="MJXp-mo" id="MJXp-Span-2260" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2261">30</span><span class="MJXp-mo" id="MJXp-Span-2262" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2263" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2264" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-2265" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2266" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-2267"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2268" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2269" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-2270">29</span></span></span><span class="MJXp-mo" id="MJXp-Span-2271" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-2272"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2273" style="margin-right: 0.05em;">x</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2274" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-2275" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2276">30</span><span class="MJXp-mo" id="MJXp-Span-2277" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-302">(x_1, x_2, 30), (x_2, x_3, 30), \ldots, (x_{29}, x_1, 30)</script>. </p><p>After this, <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2278"><span class="MJXp-mn" id="MJXp-Span-2279">1</span></span></span><script type="math/tex" id="MathJax-Element-303">1</script> through <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2280"><span class="MJXp-mn" id="MJXp-Span-2281">29</span></span></span><script type="math/tex" id="MathJax-Element-304">29</script> will each have <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2282"><span class="MJXp-mn" id="MJXp-Span-2283">12</span></span></span><script type="math/tex" id="MathJax-Element-305">12</script> remaining uses, and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2284"><span class="MJXp-mn" id="MJXp-Span-2285">30</span></span></span><script type="math/tex" id="MathJax-Element-306">30</script> will have <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2286"><span class="MJXp-mn" id="MJXp-Span-2287">9</span></span></span><script type="math/tex" id="MathJax-Element-307">9</script> remaining uses. This distribution is not ideal. Instead, we can use <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2288"><span class="MJXp-mo" id="MJXp-Span-2289" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-2290">1</span><span class="MJXp-mo" id="MJXp-Span-2291" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2292">2</span><span class="MJXp-mo" id="MJXp-Span-2293" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2294">3</span><span class="MJXp-mo" id="MJXp-Span-2295" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-308">(1, 2, 3)</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2296"><span class="MJXp-mo" id="MJXp-Span-2297" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-2298">4</span><span class="MJXp-mo" id="MJXp-Span-2299" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2300">5</span><span class="MJXp-mo" id="MJXp-Span-2301" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2302">6</span><span class="MJXp-mo" id="MJXp-Span-2303" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-309">(4, 5, 6)</script> in place of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2304"><span class="MJXp-mo" id="MJXp-Span-2305" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-2306">1</span><span class="MJXp-mo" id="MJXp-Span-2307" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2308">2</span><span class="MJXp-mo" id="MJXp-Span-2309" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2310">30</span><span class="MJXp-mo" id="MJXp-Span-2311" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2312" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2313" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-2314">3</span><span class="MJXp-mo" id="MJXp-Span-2315" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2316">4</span><span class="MJXp-mo" id="MJXp-Span-2317" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2318">30</span><span class="MJXp-mo" id="MJXp-Span-2319" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2320" style="margin-left: 0em; margin-right: 0.222em;">,</span></span></span><script type="math/tex" id="MathJax-Element-310">(1, 2, 30), (3, 4, 30),</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2321"><span class="MJXp-mo" id="MJXp-Span-2322" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-2323">5</span><span class="MJXp-mo" id="MJXp-Span-2324" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2325">6</span><span class="MJXp-mo" id="MJXp-Span-2326" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2327">30</span><span class="MJXp-mo" id="MJXp-Span-2328" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-311">(5, 6, 30)</script>. This adjustment ensures that <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2329"><span class="MJXp-mn" id="MJXp-Span-2330">1</span></span></span><script type="math/tex" id="MathJax-Element-312">1</script> through <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2331"><span class="MJXp-mn" id="MJXp-Span-2332">30</span></span></span><script type="math/tex" id="MathJax-Element-313">30</script> each have <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2333"><span class="MJXp-mn" id="MJXp-Span-2334">12</span></span></span><script type="math/tex" id="MathJax-Element-314">12</script> remaining uses. </p><p>Define a <strong>perfect set</strong> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2335"><span class="MJXp-msubsup" id="MJXp-Span-2336"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2337" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2338" style="vertical-align: -0.4em;">x</span></span></span></span><script type="math/tex" id="MathJax-Element-315">S_x</script> as a set of triplets where each number from <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2339"><span class="MJXp-mn" id="MJXp-Span-2340">1</span></span></span><script type="math/tex" id="MathJax-Element-316">1</script> to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2341"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2342">x</span></span></span><script type="math/tex" id="MathJax-Element-317">x</script> appears exactly once. </p><p>For numbers <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2343"><span class="MJXp-mn" id="MJXp-Span-2344">1</span><span class="MJXp-mo" id="MJXp-Span-2345" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2346">2</span><span class="MJXp-mo" id="MJXp-Span-2347" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2348" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-2349" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2350">3</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2351">l</span></span></span><script type="math/tex" id="MathJax-Element-318">1, 2, \ldots, 3l</script>, define: </p> <ul>   <li><p><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2352"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2353">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2354">l</span><span class="MJXp-mo" id="MJXp-Span-2355" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-2356" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-2357">1</span><span class="MJXp-mo" id="MJXp-Span-2358" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2359">2</span><span class="MJXp-mo" id="MJXp-Span-2360" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2361" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-2362" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2363">l</span><span class="MJXp-mo" id="MJXp-Span-2364" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><script type="math/tex" id="MathJax-Element-319">al = [1, 2, \ldots, l]</script>,</p></li>   <li><p><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2365"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2366">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2367">m</span><span class="MJXp-mo" id="MJXp-Span-2368" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-2369" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2370">l</span><span class="MJXp-mo" id="MJXp-Span-2371" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-2372">1</span><span class="MJXp-mo" id="MJXp-Span-2373" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2374">l</span><span class="MJXp-mo" id="MJXp-Span-2375" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-2376">2</span><span class="MJXp-mo" id="MJXp-Span-2377" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2378" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-2379" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2380">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2381">l</span><span class="MJXp-mo" id="MJXp-Span-2382" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><script type="math/tex" id="MathJax-Element-320">am = [l+1, l+2, \ldots, 2l]</script>, </p></li>   <li><p><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2383"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2384">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2385">r</span><span class="MJXp-mo" id="MJXp-Span-2386" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-2387" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-2388">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2389">l</span><span class="MJXp-mo" id="MJXp-Span-2390" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-2391">1</span><span class="MJXp-mo" id="MJXp-Span-2392" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2393">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2394">l</span><span class="MJXp-mo" id="MJXp-Span-2395" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-2396">2</span><span class="MJXp-mo" id="MJXp-Span-2397" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2398" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-2399" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2400">3</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2401">l</span><span class="MJXp-mo" id="MJXp-Span-2402" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><script type="math/tex" id="MathJax-Element-321">ar = [2l+1, 2l+2, \ldots, 3l]</script>. </p></li> </ul><p>Let <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2403"><span class="MJXp-mtext" id="MJXp-Span-2404">lshift</span><span class="MJXp-mo" id="MJXp-Span-2405" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2406">a</span><span class="MJXp-mo" id="MJXp-Span-2407" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2408">i</span><span class="MJXp-mo" id="MJXp-Span-2409" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2410" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-2411" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-2412"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2413" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2414" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-2415">1</span><span class="MJXp-mo" id="MJXp-Span-2416">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2417">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-2418" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-2419"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2420" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2421" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-2422">2</span><span class="MJXp-mo" id="MJXp-Span-2423">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2424">i</span></span></span><span class="MJXp-mo" id="MJXp-Span-2425" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2426" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-2427" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-2428"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2429" style="margin-right: 0.05em;">a</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2430" style="vertical-align: -0.4em;"><span class="MJXp-mo" id="MJXp-Span-2431">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2432">n</span><span class="MJXp-mo" id="MJXp-Span-2433">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2434">i</span><span class="MJXp-mo" id="MJXp-Span-2435"></span><span class="MJXp-mn" id="MJXp-Span-2436">1</span><span class="MJXp-mo" id="MJXp-Span-2437">)</span><span class="MJXp-TeXmathchoice" id="MJXp-Span-2438"><span class="MJXp-mspace" id="MJXp-Span-2439" style="width: 0.667em; height: 0em;"></span></span><span class="MJXp-mi" id="MJXp-Span-2440">mod</span><span class="MJXp-mspace" id="MJXp-Span-2441" style="width: 0.167em; height: 0em;"></span><span class="MJXp-mspace" id="MJXp-Span-2442" style="width: 0.167em; height: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2443">n</span><span class="MJXp-mo" id="MJXp-Span-2444">+</span><span class="MJXp-mn" id="MJXp-Span-2445">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-2446" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><script type="math/tex" id="MathJax-Element-322">\text{lshift}(a, i) = [a_{1+i}, a_{2+i}, \ldots, a_{(n+i-1) \mod n + 1}]</script>. Then, define: </p> <center><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2447"><span class="MJXp-msubsup" id="MJXp-Span-2448"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2449" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2450" style="vertical-align: -0.4em;">l</span></span><span class="MJXp-mo" id="MJXp-Span-2451" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mtext" id="MJXp-Span-2452">al</span><span class="MJXp-mo" id="MJXp-Span-2453" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-2454">am</span><span class="MJXp-mo" id="MJXp-Span-2455" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-2456">ar</span><span class="MJXp-mo" id="MJXp-Span-2457" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2458" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-2459" style="margin-left: 0em; margin-right: 0em;">{</span><span class="MJXp-mo" id="MJXp-Span-2460" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-2461"><span class="MJXp-mtext" id="MJXp-Span-2462" style="margin-right: 0.05em;">al</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2463" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-2464" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-2465"><span class="MJXp-mtext" id="MJXp-Span-2466" style="margin-right: 0.05em;">am</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2467" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-2468" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-2469"><span class="MJXp-mtext" id="MJXp-Span-2470" style="margin-right: 0.05em;">ar</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2471" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-2472" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2473" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2474" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-2475"><span class="MJXp-mtext" id="MJXp-Span-2476" style="margin-right: 0.05em;">al</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2477" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-2478" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-2479"><span class="MJXp-mtext" id="MJXp-Span-2480" style="margin-right: 0.05em;">am</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2481" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-2482" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-2483"><span class="MJXp-mtext" id="MJXp-Span-2484" style="margin-right: 0.05em;">ar</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2485" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-2486" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2487" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2488" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-2489" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2490" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-2491"><span class="MJXp-mtext" id="MJXp-Span-2492" style="margin-right: 0.05em;">al</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2493" style="vertical-align: -0.4em;">l</span></span><span class="MJXp-mo" id="MJXp-Span-2494" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-2495"><span class="MJXp-mtext" id="MJXp-Span-2496" style="margin-right: 0.05em;">am</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2497" style="vertical-align: -0.4em;">l</span></span><span class="MJXp-mo" id="MJXp-Span-2498" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-2499"><span class="MJXp-mtext" id="MJXp-Span-2500" style="margin-right: 0.05em;">ar</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2501" style="vertical-align: -0.4em;">l</span></span><span class="MJXp-mo" id="MJXp-Span-2502" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2503" style="margin-left: 0em; margin-right: 0em;">}</span></span></span><script type="math/tex" id="MathJax-Element-323"> S_l(\text{al}, \text{am}, \text{ar}) = \{(\text{al}_1, \text{am}_1, \text{ar}_1), (\text{al}_2, \text{am}_2, \text{ar}_2), \ldots, (\text{al}_l, \text{am}_l, \text{ar}_l)\} </script></center><p>We can generate <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2504"><span class="MJXp-msubsup" id="MJXp-Span-2505"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2506" style="margin-right: 0.05em;">l</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2507" style="vertical-align: 0.5em;">2</span></span></span></span><script type="math/tex" id="MathJax-Element-324">l^2</script> distinct perfect sets of the form <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2508"><span class="MJXp-msubsup" id="MJXp-Span-2509"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2510" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2511" style="vertical-align: -0.4em;">l</span></span><span class="MJXp-mo" id="MJXp-Span-2512" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2513">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2514">l</span><span class="MJXp-mo" id="MJXp-Span-2515" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-2516">lshift</span><span class="MJXp-mo" id="MJXp-Span-2517" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2518">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2519">m</span><span class="MJXp-mo" id="MJXp-Span-2520" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2521">i</span><span class="MJXp-mo" id="MJXp-Span-2522" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2523" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-2524">lshift</span><span class="MJXp-mo" id="MJXp-Span-2525" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2526">a</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2527">r</span><span class="MJXp-mo" id="MJXp-Span-2528" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2529">j</span><span class="MJXp-mo" id="MJXp-Span-2530" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2531" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-325">S_l(al, \text{lshift}(am, i), \text{lshift}(ar, j))</script> for <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2532"><span class="MJXp-mn" id="MJXp-Span-2533">0</span><span class="MJXp-mo" id="MJXp-Span-2534" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2535">i</span><span class="MJXp-mo" id="MJXp-Span-2536" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2537">j</span><span class="MJXp-mo" id="MJXp-Span-2538" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2539">l</span></span></span><script type="math/tex" id="MathJax-Element-326">0 \le i, j \le l</script>. </p><p>Now that all numbers have equal remaining usage counts, we can apply the above construction. </p><p>Using the above construction, there are many different approaches.</p><p>Overall, we can construct a total of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2540"><span class="MJXp-mn" id="MJXp-Span-2541">846</span></span></span><script type="math/tex" id="MathJax-Element-327">846</script> distinct sets, which is sufficient to pass the easy version.</p></div></div> <div class="spoiler"><b class="spoiler-title">Tutorial (hard version)</b><div class="spoiler-content" style="display: none;"><p>The hard version differs significantly from the easy version in its approach, particularly in utilizing the concept of distinguishing elements through <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2542"><span class="MJXp-msubsup" id="MJXp-Span-2543"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2544" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2545" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-328">S_i</script>.</p><p>We need to efficiently utilize the four operations, and the condition <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2546"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2547">m</span><span class="MJXp-mo" id="MJXp-Span-2548" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2549">k</span></span></span><script type="math/tex" id="MathJax-Element-329">m>k</script>.</p><p>In this solution, use operation <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2550"><span class="MJXp-mn" id="MJXp-Span-2551">2</span></span></span><script type="math/tex" id="MathJax-Element-330">2</script> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2552"><span class="MJXp-mn" id="MJXp-Span-2553">29</span></span></span><script type="math/tex" id="MathJax-Element-331">29</script> times and operation <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2554"><span class="MJXp-mn" id="MJXp-Span-2555">3</span></span></span><script type="math/tex" id="MathJax-Element-332">3</script> once.</p><p>Consider all sets <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2556"><span class="MJXp-msubsup" id="MJXp-Span-2557"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2558" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2559" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-333">S_i</script> with <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2560"><span class="MJXp-mrow" id="MJXp-Span-2561"><span class="MJXp-mo" id="MJXp-Span-2562" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-msubsup" id="MJXp-Span-2563"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2564" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2565" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mrow" id="MJXp-Span-2566"><span class="MJXp-mo" id="MJXp-Span-2567" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-2568" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-mn" id="MJXp-Span-2569">3</span></span></span><script type="math/tex" id="MathJax-Element-334">|S_i|<3</script> and elements in <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2570"><span class="MJXp-mo" id="MJXp-Span-2571" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-2572">1</span><span class="MJXp-mo" id="MJXp-Span-2573" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2574">29</span><span class="MJXp-mo" id="MJXp-Span-2575" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><script type="math/tex" id="MathJax-Element-335">[1,29]</script>, assigning each to exactly two indices, yielding <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2576"><span class="MJXp-mn" id="MJXp-Span-2577">2</span><span class="MJXp-mo" id="MJXp-Span-2578" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mo" id="MJXp-Span-2579" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-2580">1</span><span class="MJXp-mo" id="MJXp-Span-2581" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-2582">29</span><span class="MJXp-mo" id="MJXp-Span-2583" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mfrac" id="MJXp-Span-2584" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-2585">29</span><span class="MJXp-mo" id="MJXp-Span-2586"></span><span class="MJXp-mn" id="MJXp-Span-2587">28</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-2588">2</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-2589" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2590" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-2591">872</span></span></span><script type="math/tex" id="MathJax-Element-336">2(1+29+\frac{2928}{2})=872</script> sets forming 436 unordered pairs where <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2592"><span class="MJXp-msubsup" id="MJXp-Span-2593"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2594" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2595" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-2596" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-2597"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2598" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2599" style="vertical-align: -0.4em;">j</span></span></span></span><script type="math/tex" id="MathJax-Element-337">S_i=S_j</script>, where we cannot initially determine whether <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2600"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2601">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2602">o</span><span class="MJXp-msubsup" id="MJXp-Span-2603"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2604" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2605" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-2606" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2607">x</span></span></span><script type="math/tex" id="MathJax-Element-338">pos_i = x</script> or <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2608"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2609">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2610">o</span><span class="MJXp-msubsup" id="MJXp-Span-2611"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2612" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2613" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-2614" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2615">x</span></span></span><script type="math/tex" id="MathJax-Element-339">pos_j = x</script>.</p><p>Consider <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2616"><span class="MJXp-msubsup" id="MJXp-Span-2617"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2618" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2619" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-2620" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-2621"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2622" style="margin-right: 0.05em;">S</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2623" style="vertical-align: -0.4em;">j</span></span></span></span><script type="math/tex" id="MathJax-Element-340">S_i = S_j</script>. This actually provides an unordered pair <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2624"><span class="MJXp-mo" id="MJXp-Span-2625" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2626">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2627">o</span><span class="MJXp-msubsup" id="MJXp-Span-2628"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2629" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2630" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-2631" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2632">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2633">o</span><span class="MJXp-msubsup" id="MJXp-Span-2634"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2635" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2636" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-2637" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2638" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-2639" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2640">x</span><span class="MJXp-mo" id="MJXp-Span-2641" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2642">y</span><span class="MJXp-mo" id="MJXp-Span-2643" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-341">(pos_i, pos_j) = (x, y)</script>, where we know the pair of positions but cannot determine whether <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2644"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2645">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2646">o</span><span class="MJXp-msubsup" id="MJXp-Span-2647"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2648" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2649" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-2650" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2651">x</span></span></span><script type="math/tex" id="MathJax-Element-342">pos_i = x</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2652"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2653">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2654">o</span><span class="MJXp-msubsup" id="MJXp-Span-2655"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2656" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2657" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-2658" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2659">y</span></span></span><script type="math/tex" id="MathJax-Element-343">pos_j = y</script>, or <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2660"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2661">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2662">o</span><span class="MJXp-msubsup" id="MJXp-Span-2663"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2664" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2665" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-2666" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2667">y</span></span></span><script type="math/tex" id="MathJax-Element-344">pos_i = y</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2668"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2669">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2670">o</span><span class="MJXp-msubsup" id="MJXp-Span-2671"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2672" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2673" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-2674" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2675">x</span></span></span><script type="math/tex" id="MathJax-Element-345">pos_j = x</script>.</p><p>Let these <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2676"><span class="MJXp-mfrac" id="MJXp-Span-2677" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-2678">872</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-2679">2</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-2680" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-2681">436</span></span></span><script type="math/tex" id="MathJax-Element-346">\frac{872}{2} = 436</script> pairs be denoted as <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2682"><span class="MJXp-mo" id="MJXp-Span-2683" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2684">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2685">o</span><span class="MJXp-msubsup" id="MJXp-Span-2686"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2687" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2688" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-2689" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2690">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2691">o</span><span class="MJXp-msubsup" id="MJXp-Span-2692"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2693" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2694" style="vertical-align: -0.4em;">n</span></span><span class="MJXp-mo" id="MJXp-Span-2695" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2696" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2697" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2698">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2699">o</span><span class="MJXp-msubsup" id="MJXp-Span-2700"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2701" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2702" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-2703" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2704">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2705">o</span><span class="MJXp-msubsup" id="MJXp-Span-2706"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2707" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2708" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2709">n</span><span class="MJXp-mo" id="MJXp-Span-2710"></span><span class="MJXp-mn" id="MJXp-Span-2711">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-2712" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2713" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2714" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-2715" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2716" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2717">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2718">o</span><span class="MJXp-msubsup" id="MJXp-Span-2719"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2720" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2721" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-2722">436</span></span></span><span class="MJXp-mo" id="MJXp-Span-2723" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2724">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2725">o</span><span class="MJXp-msubsup" id="MJXp-Span-2726"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2727" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2728" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2729">n</span><span class="MJXp-mo" id="MJXp-Span-2730"></span><span class="MJXp-mn" id="MJXp-Span-2731">435</span></span></span><span class="MJXp-mo" id="MJXp-Span-2732" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-347">(pos_1, pos_n), (pos_2, pos_{n-1}), \ldots, (pos_{436}, pos_{n-435})</script> (for convenience, we assume <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2733"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2734">n</span><span class="MJXp-mo" id="MJXp-Span-2735" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-2736">890</span></span></span><script type="math/tex" id="MathJax-Element-348">n = 890</script>). Then, randomly select exactly one <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2737"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2738">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2739">o</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2740">s</span></span></span><script type="math/tex" id="MathJax-Element-349">pos</script> from each of these pairs, and query the maximum value (considering only one maximum for now) among <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2741"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2742">p</span><span class="MJXp-mo" id="MJXp-Span-2743" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2744">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2745">o</span><span class="MJXp-msubsup" id="MJXp-Span-2746"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2747" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2748" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mtext" id="MJXp-Span-2749">&nbsp;or&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2750">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2751">o</span><span class="MJXp-msubsup" id="MJXp-Span-2752"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2753" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2754" style="vertical-align: -0.4em;">n</span></span><span class="MJXp-mo" id="MJXp-Span-2755" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-2756" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2757">p</span><span class="MJXp-mo" id="MJXp-Span-2758" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2759">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2760">o</span><span class="MJXp-msubsup" id="MJXp-Span-2761"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2762" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2763" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mtext" id="MJXp-Span-2764">&nbsp;or&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2765">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2766">o</span><span class="MJXp-msubsup" id="MJXp-Span-2767"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2768" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2769" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2770">n</span><span class="MJXp-mo" id="MJXp-Span-2771"></span><span class="MJXp-mn" id="MJXp-Span-2772">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-2773" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-2774" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2775" style="margin-left: 0em; margin-right: 0em;"></span></span></span><script type="math/tex" id="MathJax-Element-350">p[pos_1 \text{ or } pos_n], p[pos_2 \text{ or } pos_{n-1}], \ldots</script>.</p><p>Let us analyze what will happen:</p> <table class="bordertable">   <thead>     <tr>       <th>Return Value </th>       <th>Pairs Determined </th>       <th>Probability </th>     </tr>   </thead>   <tbody>     <tr>       <td><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2776"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2777">n</span></span></span><script type="math/tex" id="MathJax-Element-351">n</script> </td>       <td><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2778"><span class="MJXp-mn" id="MJXp-Span-2779">1</span></span></span><script type="math/tex" id="MathJax-Element-352">1</script> </td>       <td><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2780"><span class="MJXp-mfrac" id="MJXp-Span-2781" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-2782">1</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-2783">2</span></span></span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-353">\frac{1}{2}</script> </td>     </tr>     <tr>       <td><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2784"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2785">n</span><span class="MJXp-mo" id="MJXp-Span-2786" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-2787">1</span></span></span><script type="math/tex" id="MathJax-Element-354">n-1</script> </td>       <td><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2788"><span class="MJXp-mn" id="MJXp-Span-2789">2</span></span></span><script type="math/tex" id="MathJax-Element-355">2</script> </td>       <td><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2790"><span class="MJXp-mfrac" id="MJXp-Span-2791" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-2792">1</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-2793">4</span></span></span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-356">\frac{1}{4}</script> </td>     </tr>     <tr>       <td><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2794"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2795">n</span><span class="MJXp-mo" id="MJXp-Span-2796" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-2797">2</span></span></span><script type="math/tex" id="MathJax-Element-357">n-2</script> </td>       <td><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2798"><span class="MJXp-mn" id="MJXp-Span-2799">3</span></span></span><script type="math/tex" id="MathJax-Element-358">3</script> </td>       <td><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2800"><span class="MJXp-mfrac" id="MJXp-Span-2801" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-2802">1</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-2803">8</span></span></span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-359">\frac{1}{8}</script> </td>     </tr>     <tr>       <td>... </td>       <td>... </td>       <td>... </td>     </tr>   </tbody> </table><p>We can see ehe expected number of resolved pairs per query:</p> <center><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2804"><span class="MJXp-mn" id="MJXp-Span-2805">1</span><span class="MJXp-mo" id="MJXp-Span-2806" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mfrac" id="MJXp-Span-2807" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-2808">1</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-2809">2</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-2810" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-2811">2</span><span class="MJXp-mo" id="MJXp-Span-2812" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mfrac" id="MJXp-Span-2813" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-2814">1</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-2815">4</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-2816" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-2817">3</span><span class="MJXp-mo" id="MJXp-Span-2818" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mfrac" id="MJXp-Span-2819" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-2820">1</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-2821">8</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-2822" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-2823" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-2824" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-2825">2</span></span></span><script type="math/tex" id="MathJax-Element-360">1 \times \frac{1}{2} + 2 \times \frac{1}{4} + 3 \times \frac{1}{8} + \dots \approx 2</script></center><p>With an expectation value of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2826"><span class="MJXp-mn" id="MJXp-Span-2827">2</span></span></span><script type="math/tex" id="MathJax-Element-361">2</script>, we can estimate that performing <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2828"><span class="MJXp-mtext" id="MJXp-Span-2829">max</span></span></span><script type="math/tex" id="MathJax-Element-362">\text{max}</script> query <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2830"><span class="MJXp-mn" id="MJXp-Span-2831">300</span></span></span><script type="math/tex" id="MathJax-Element-363">300</script> times yields a high probability <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2832"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2833">P</span><span class="MJXp-mo" id="MJXp-Span-2834" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-2835">1</span></span></span><script type="math/tex" id="MathJax-Element-364">P \approx 1</script> of determining all <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2836"><span class="MJXp-mn" id="MJXp-Span-2837">436</span></span></span><script type="math/tex" id="MathJax-Element-365">436</script> unordered pairs <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2838"><span class="MJXp-mo" id="MJXp-Span-2839" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2840">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2841">o</span><span class="MJXp-msubsup" id="MJXp-Span-2842"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2843" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2844" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-2845" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2846">p</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2847">o</span><span class="MJXp-msubsup" id="MJXp-Span-2848"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2849" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2850" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-2851" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-366">(pos_i, pos_j)</script>. This implies that a single application of operation <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2852"><span class="MJXp-mn" id="MJXp-Span-2853">3</span></span></span><script type="math/tex" id="MathJax-Element-367">3</script> suffices to resolve all such pairs.</p><p>Through this methodology, we successfully determine <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2854"><span class="MJXp-mn" id="MJXp-Span-2855">872</span></span></span><script type="math/tex" id="MathJax-Element-368">872</script> elements of the permutation <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2856"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2857">p</span></span></span><script type="math/tex" id="MathJax-Element-369">p</script>. At this stage, <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2858"><span class="MJXp-mn" id="MJXp-Span-2859">29</span></span></span><script type="math/tex" id="MathJax-Element-370">29</script> query operations remain available (with exactly <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2860"><span class="MJXp-mn" id="MJXp-Span-2861">2</span></span></span><script type="math/tex" id="MathJax-Element-371">2</script> uses permitted), and the determination of all <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2862"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2863">n</span><span class="MJXp-mo" id="MJXp-Span-2864" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-2865">890</span></span></span><script type="math/tex" id="MathJax-Element-372">n=890</script> elements becomes computationally tractable.</p> <div class="spoiler"><b class="spoiler-title">Failure probability analysis</b><div class="spoiler-content" style="display: none;"><p>Mathematically, this follows a geometric distribution with success probability <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2866"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2867">p</span><span class="MJXp-mo" id="MJXp-Span-2868" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mfrac" id="MJXp-Span-2869" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-2870">1</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-2871">2</span></span></span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-373">p = \frac{1}{2}</script> where <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2872"><span class="MJXp-mrow" id="MJXp-Span-2873"><span class="MJXp-mi undefined" id="MJXp-Span-2874">P</span></span><span class="MJXp-mo" id="MJXp-Span-2875" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2876">X</span><span class="MJXp-mo" id="MJXp-Span-2877" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2878">i</span><span class="MJXp-mo" id="MJXp-Span-2879" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2880" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-2881"><span class="MJXp-mn" id="MJXp-Span-2882" style="margin-right: 0.05em;">2</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2883" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-2884"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2885">i</span></span></span></span></span><script type="math/tex" id="MathJax-Element-374">\mathbb{P}(X = i) = 2^{-i}</script>, and the sum of such geometric random variables yields a negative binomial distribution <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2886"><span class="MJXp-mtext" id="MJXp-Span-2887">NB</span><span class="MJXp-mo" id="MJXp-Span-2888" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2889">r</span><span class="MJXp-mo" id="MJXp-Span-2890" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2891">p</span><span class="MJXp-mo" id="MJXp-Span-2892" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-375">\text{NB}(r,p)</script>. For large <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2893"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2894">n</span></span></span><script type="math/tex" id="MathJax-Element-376">n</script>, this can be approximated by a normal distribution <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2895"><span class="MJXp-mrow" id="MJXp-Span-2896"><span class="MJXp-mi MJXp-cal" id="MJXp-Span-2897">N</span></span><span class="MJXp-mo" id="MJXp-Span-2898" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2899"></span><span class="MJXp-mo" id="MJXp-Span-2900" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-2901"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2902" style="margin-right: 0.05em;"></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2903" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-2904" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-377">\mathcal{N}(\mu, \sigma^2)</script> via the Central Limit Theorem, where <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2905"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2906"></span><span class="MJXp-mo" id="MJXp-Span-2907" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mfrac" id="MJXp-Span-2908" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-2909">1</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2910">p</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-2911" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-2912">2</span></span></span><script type="math/tex" id="MathJax-Element-378">\mu = \frac{1}{p} = 2</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2913"><span class="MJXp-msubsup" id="MJXp-Span-2914"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2915" style="margin-right: 0.05em;"></span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2916" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-2917" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mfrac" id="MJXp-Span-2918" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-2919">1</span><span class="MJXp-mo" id="MJXp-Span-2920"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2921">p</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-msubsup" id="MJXp-Span-2922"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2923" style="margin-right: 0.05em;">p</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-2924" style="vertical-align: 0.5em;">2</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-2925" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-2926">2</span></span></span><script type="math/tex" id="MathJax-Element-379">\sigma^2 = \frac{1-p}{p^2} = 2</script>.</p><h2>Probability that <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2927"><span class="MJXp-msubsup" id="MJXp-Span-2928"><span class="MJXp-mo" id="MJXp-Span-2929" style="margin-left: 0.111em; margin-right: 0.05em;"></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-2934"><span class="MJXp-mn" id="MJXp-Span-2935">300</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-2930"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2931">i</span><span class="MJXp-mo" id="MJXp-Span-2932">=</span><span class="MJXp-mn" id="MJXp-Span-2933">1</span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-2936"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2937" style="margin-right: 0.05em;">X</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-2938" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-2939" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-2940">435</span></span></span><script type="math/tex" id="MathJax-Element-380">\sum_{i=1}^{300} X_i \le 435</script></h2><p><strong>Given.</strong> <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2941"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2942">X</span></span></span><script type="math/tex" id="MathJax-Element-381">X</script> is discrete with <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2943"><span class="MJXp-mrow" id="MJXp-Span-2944"><span class="MJXp-mi undefined" id="MJXp-Span-2945">P</span></span><span class="MJXp-mo" id="MJXp-Span-2946" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2947">X</span><span class="MJXp-mo" id="MJXp-Span-2948" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2949">k</span><span class="MJXp-mo" id="MJXp-Span-2950" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-2951" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-2952"><span class="MJXp-mn" id="MJXp-Span-2953" style="margin-right: 0.05em;">2</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-2954" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-2955"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2956">k</span></span></span><span class="MJXp-mo" id="MJXp-Span-2957" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mspace" id="MJXp-Span-2958" style="width: 0.278em; height: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2959">k</span><span class="MJXp-mo" id="MJXp-Span-2960" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-2961">1</span><span class="MJXp-mo" id="MJXp-Span-2962" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2963">2</span><span class="MJXp-mo" id="MJXp-Span-2964" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2965" style="margin-left: 0em; margin-right: 0em;"></span></span></span><script type="math/tex" id="MathJax-Element-382"> \mathbb{P}(X=k)=2^{-k},\; k=1,2,\dots</script>. Thus <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2966"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2967">X</span><span class="MJXp-mo" id="MJXp-Span-2968" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mrow" id="MJXp-Span-2969"><span class="MJXp-mi" id="MJXp-Span-2970">G</span><span class="MJXp-mi" id="MJXp-Span-2971">e</span><span class="MJXp-mi" id="MJXp-Span-2972">o</span><span class="MJXp-mi" id="MJXp-Span-2973">m</span></span><span class="MJXp-mo" id="MJXp-Span-2974" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2975">p</span><span class="MJXp-mo" id="MJXp-Span-2976" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mstyle" id="MJXp-Span-2977"><span class="MJXp-mfrac" id="MJXp-Span-2978" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-2979">1</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-2980">2</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-2981" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-383">X\sim\mathrm{Geom}(p=\tfrac12)</script> on <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2982"><span class="MJXp-mrow" id="MJXp-Span-2983"><span class="MJXp-mn" id="MJXp-Span-2984">1</span><span class="MJXp-mo" id="MJXp-Span-2985" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-2986">2</span><span class="MJXp-mo" id="MJXp-Span-2987" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-2988" style="margin-left: 0em; margin-right: 0em;"></span></span></span></span><script type="math/tex" id="MathJax-Element-384">{1,2,\dots}</script> with mean <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2989"><span class="MJXp-mn" id="MJXp-Span-2990">1</span><span class="MJXp-mrow" id="MJXp-Span-2991"><span class="MJXp-mo" id="MJXp-Span-2992" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2993">p</span><span class="MJXp-mo" id="MJXp-Span-2994" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-2995">2</span></span></span><script type="math/tex" id="MathJax-Element-385">1/p=2</script>.</p><h3>1) Sumnegative-binomial connection</h3><p>Let <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-2996"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-2997">S</span><span class="MJXp-mo" id="MJXp-Span-2998" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-2999"><span class="MJXp-mo" id="MJXp-Span-3000" style="margin-left: 0.111em; margin-right: 0.05em;"></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-3005"><span class="MJXp-mn" id="MJXp-Span-3006">300</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-3001"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3002">i</span><span class="MJXp-mo" id="MJXp-Span-3003">=</span><span class="MJXp-mn" id="MJXp-Span-3004">1</span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-3007"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3008" style="margin-right: 0.05em;">X</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-3009" style="vertical-align: -0.4em;">i</span></span></span></span><script type="math/tex" id="MathJax-Element-386">S=\sum_{i=1}^{300} X_i</script>. The sum of i.i.d. <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3010"><span class="MJXp-mrow" id="MJXp-Span-3011"><span class="MJXp-mi" id="MJXp-Span-3012">G</span><span class="MJXp-mi" id="MJXp-Span-3013">e</span><span class="MJXp-mi" id="MJXp-Span-3014">o</span><span class="MJXp-mi" id="MJXp-Span-3015">m</span></span><span class="MJXp-mo" id="MJXp-Span-3016" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3017">p</span><span class="MJXp-mo" id="MJXp-Span-3018" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><script type="math/tex" id="MathJax-Element-387">\mathrm{Geom}(p)</script> variables is negative binomial:</p> <center><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3019"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3020">S</span><span class="MJXp-mo" id="MJXp-Span-3021" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mrow" id="MJXp-Span-3022"><span class="MJXp-mi" id="MJXp-Span-3023">N</span><span class="MJXp-mi" id="MJXp-Span-3024">B</span></span><span class="MJXp-mo" id="MJXp-Span-3025" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3026">r</span><span class="MJXp-mo" id="MJXp-Span-3027" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-3028">300</span><span class="MJXp-mo" id="MJXp-Span-3029" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mspace" id="MJXp-Span-3030" style="width: 0.278em; height: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3031">p</span><span class="MJXp-mo" id="MJXp-Span-3032" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mstyle" id="MJXp-Span-3033"><span class="MJXp-mfrac" id="MJXp-Span-3034" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-3035">1</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-3036">2</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-3037" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3038" style="margin-left: 0em; margin-right: 0.222em;">,</span></span></span><script type="math/tex" id="MathJax-Element-388"> S \sim \mathrm{NB}(r=300,\;p=\tfrac12), </script></center><p>i.e., <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3039"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3040">S</span></span></span><script type="math/tex" id="MathJax-Element-389">S</script> is the number of Bernoulli$(\tfrac12)</p><p>Unable to parse markup [type=CF_MATHJAX]</p> successes.<h3>2) Convert to a binomial tail</h3> <center><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3041"><span class="MJXp-mrow" id="MJXp-Span-3042"><span class="MJXp-mi undefined" id="MJXp-Span-3043">P</span></span><span class="MJXp-mo" id="MJXp-Span-3044" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3045">S</span><span class="MJXp-mo" id="MJXp-Span-3046" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-3047">435</span><span class="MJXp-mo" id="MJXp-Span-3048" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3049" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-3050"><span class="MJXp-mi undefined" id="MJXp-Span-3051">P</span></span><span class="MJXp-mstyle" id="MJXp-Span-3052"><span class="MJXp-mrow" id="MJXp-Span-3053"><span class="MJXp-mo" id="MJXp-Span-3054" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.083em;"><span class="MJXp-right MJXp-scale10" style="font-size: 1.333em; margin-left: 0.07em;">(</span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-3055">300th success occurs by time&nbsp;</span><span class="MJXp-mn" id="MJXp-Span-3056">435</span><span class="MJXp-mstyle" id="MJXp-Span-3057"><span class="MJXp-mrow" id="MJXp-Span-3058"><span class="MJXp-mo" id="MJXp-Span-3059" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.083em;"><span class="MJXp-right MJXp-scale10" style="font-size: 1.333em; margin-left: 0.07em;">)</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-3060" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-3061"><span class="MJXp-mi undefined" id="MJXp-Span-3062">P</span></span><span class="MJXp-mstyle" id="MJXp-Span-3063"><span class="MJXp-mrow" id="MJXp-Span-3064"><span class="MJXp-mo" id="MJXp-Span-3065" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.083em;"><span class="MJXp-right MJXp-scale10" style="font-size: 1.333em; margin-left: 0.07em;">(</span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-3066"><span class="MJXp-mi" id="MJXp-Span-3067">B</span><span class="MJXp-mi" id="MJXp-Span-3068">i</span><span class="MJXp-mi" id="MJXp-Span-3069">n</span></span><span class="MJXp-mo" id="MJXp-Span-3070" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3071">n</span><span class="MJXp-mo" id="MJXp-Span-3072" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-3073">435</span><span class="MJXp-mo" id="MJXp-Span-3074" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3075">p</span><span class="MJXp-mo" id="MJXp-Span-3076" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mstyle" id="MJXp-Span-3077"><span class="MJXp-mfrac" id="MJXp-Span-3078" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-3079">1</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-3080">2</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-3081" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3082" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-3083">300</span><span class="MJXp-mstyle" id="MJXp-Span-3084"><span class="MJXp-mrow" id="MJXp-Span-3085"><span class="MJXp-mo" id="MJXp-Span-3086" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.083em;"><span class="MJXp-right MJXp-scale10" style="font-size: 1.333em; margin-left: 0.07em;">)</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-3087" style="margin-left: 0em; margin-right: 0.222em;">.</span></span></span><script type="math/tex" id="MathJax-Element-390"> \mathbb{P}(S \le 435) = \mathbb{P}\big(\text{300th success occurs by time }435\big) = \mathbb{P}\big(\mathrm{Bin}(n=435,p=\tfrac12)\ge 300\big). </script></center><h3>3) Exact expression</h3><p>By symmetry of the binomial with <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3088"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3089">p</span><span class="MJXp-mo" id="MJXp-Span-3090" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mstyle" id="MJXp-Span-3091"><span class="MJXp-mfrac" id="MJXp-Span-3092" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-3093">1</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-3094">2</span></span></span></span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-391">p=\tfrac12</script>,</p> <center><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3095"><span class="MJXp-mrow" id="MJXp-Span-3096"><span class="MJXp-mi undefined" id="MJXp-Span-3097">P</span></span><span class="MJXp-mstyle" id="MJXp-Span-3098"><span class="MJXp-mrow" id="MJXp-Span-3099"><span class="MJXp-mo" id="MJXp-Span-3100" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.083em;"><span class="MJXp-right MJXp-scale10" style="font-size: 1.333em; margin-left: 0.07em;">(</span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-3101"><span class="MJXp-mi" id="MJXp-Span-3102">B</span><span class="MJXp-mi" id="MJXp-Span-3103">i</span><span class="MJXp-mi" id="MJXp-Span-3104">n</span></span><span class="MJXp-mo" id="MJXp-Span-3105" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-3106">435</span><span class="MJXp-mo" id="MJXp-Span-3107" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mstyle" id="MJXp-Span-3108"><span class="MJXp-mfrac" id="MJXp-Span-3109" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-3110">1</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-3111">2</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-3112" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3113" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-3114">300</span><span class="MJXp-mstyle" id="MJXp-Span-3115"><span class="MJXp-mrow" id="MJXp-Span-3116"><span class="MJXp-mo" id="MJXp-Span-3117" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.083em;"><span class="MJXp-right MJXp-scale10" style="font-size: 1.333em; margin-left: 0.07em;">)</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-3118" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-3119"><span class="MJXp-mo" id="MJXp-Span-3120" style="margin-left: 0.111em; margin-right: 0.05em;"></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-3125"><span class="MJXp-mn" id="MJXp-Span-3126">435</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-3121"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3122">k</span><span class="MJXp-mo" id="MJXp-Span-3123">=</span><span class="MJXp-mn" id="MJXp-Span-3124">300</span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-3127"><span class="MJXp-TeXmathchoice" id="MJXp-Span-3128"><span class="MJXp-mstyle" id="MJXp-Span-3129"><span class="MJXp-mrow" id="MJXp-Span-3130"><span class="MJXp-mo" id="MJXp-Span-3131" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.083em;"><span class="MJXp-right MJXp-scale10" style="font-size: 1.333em; margin-left: 0.07em;">(</span></span></span></span></span><span class="MJXp-mfrac" id="MJXp-Span-3132"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-3133">435</span></span><span class="MJXp-box" style="margin-top: -0.7em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3134">k</span></span></span></span></span></span><span class="MJXp-TeXmathchoice" id="MJXp-Span-3135"><span class="MJXp-mstyle" id="MJXp-Span-3136"><span class="MJXp-mrow" id="MJXp-Span-3137"><span class="MJXp-mo" id="MJXp-Span-3138" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.083em;"><span class="MJXp-right MJXp-scale10" style="font-size: 1.333em; margin-left: 0.07em;">)</span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-3139"><span class="MJXp-mn" id="MJXp-Span-3140" style="margin-right: 0.05em;">2</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-3141" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-3142"></span><span class="MJXp-mn" id="MJXp-Span-3143">435</span></span></span><span class="MJXp-mo" id="MJXp-Span-3144" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-3145"><span class="MJXp-mo" id="MJXp-Span-3146" style="margin-left: 0.111em; margin-right: 0.05em;"></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-3151"><span class="MJXp-mn" id="MJXp-Span-3152">135</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-3147"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3148">k</span><span class="MJXp-mo" id="MJXp-Span-3149">=</span><span class="MJXp-mn" id="MJXp-Span-3150">0</span></span></span></span></span></span></span><span class="MJXp-mrow" id="MJXp-Span-3153"><span class="MJXp-TeXmathchoice" id="MJXp-Span-3154"><span class="MJXp-mstyle" id="MJXp-Span-3155"><span class="MJXp-mrow" id="MJXp-Span-3156"><span class="MJXp-mo" id="MJXp-Span-3157" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.083em;"><span class="MJXp-right MJXp-scale10" style="font-size: 1.333em; margin-left: 0.07em;">(</span></span></span></span></span><span class="MJXp-mfrac" id="MJXp-Span-3158"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-3159">435</span></span><span class="MJXp-box" style="margin-top: -0.7em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3160">k</span></span></span></span></span></span><span class="MJXp-TeXmathchoice" id="MJXp-Span-3161"><span class="MJXp-mstyle" id="MJXp-Span-3162"><span class="MJXp-mrow" id="MJXp-Span-3163"><span class="MJXp-mo" id="MJXp-Span-3164" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.083em;"><span class="MJXp-right MJXp-scale10" style="font-size: 1.333em; margin-left: 0.07em;">)</span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-3165"><span class="MJXp-mn" id="MJXp-Span-3166" style="margin-right: 0.05em;">2</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-3167" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-3168"></span><span class="MJXp-mn" id="MJXp-Span-3169">435</span></span></span><span class="MJXp-mo" id="MJXp-Span-3170" style="margin-left: 0em; margin-right: 0.222em;">.</span></span></span><script type="math/tex" id="MathJax-Element-392"> \mathbb{P}\big(\mathrm{Bin}(435,\tfrac12)\ge 300\big) = \sum_{k=300}^{435} \binom{435}{k} 2^{-435} = \sum_{k=0}^{135} \binom{435}{k} 2^{-435}. </script></center><h3>4) Numerical value</h3> <center><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3171"><span class="MJXp-menclose" id="MJXp-Span-3172"><span class="MJXp-mrow" id="MJXp-Span-3173"><span class="MJXp-mstyle" id="MJXp-Span-3174"><span class="MJXp-mrow" id="MJXp-Span-3175"><span class="MJXp-mspace" id="MJXp-Span-3176" style="width: 0.278em; height: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-3177"><span class="MJXp-mi undefined" id="MJXp-Span-3178">P</span></span><span class="MJXp-mspace" id="MJXp-Span-3179" style="margin-left: -0.167em; width: 0em; height: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-3180"><span class="MJXp-mo" id="MJXp-Span-3181" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.744em;"><span class="MJXp-right MJXp-scale4" style="font-size: 3.978em; margin-left: -0.17em;">(</span></span><span class="MJXp-munderover" id="MJXp-Span-3182"><span><span class="MJXp-over"><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-3188" style="margin-right: 0px; margin-left: 0px;"><span class="MJXp-mn" id="MJXp-Span-3189">300</span></span></span><span class=""><span class="MJXp-mo" id="MJXp-Span-3183" style="margin-left: 0.111em; margin-right: 0.167em;"><span class="MJXp-largeop"></span></span></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-3184" style="margin-left: 0px;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3185">i</span><span class="MJXp-mo" id="MJXp-Span-3186">=</span><span class="MJXp-mn" id="MJXp-Span-3187">1</span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-3190"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3191" style="margin-right: 0.05em;">X</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-3192" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-3193" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-3194">435</span><span class="MJXp-mo" id="MJXp-Span-3195" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.744em;"><span class="MJXp-right MJXp-scale4" style="font-size: 3.978em; margin-left: -0.17em;">)</span></span></span><span class="MJXp-mspace" id="MJXp-Span-3196" style="width: 0.278em; height: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-3197" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mspace" id="MJXp-Span-3198" style="width: 0.278em; height: 0em;"></span><span class="MJXp-mn" id="MJXp-Span-3199">8.61</span><span class="MJXp-mo" id="MJXp-Span-3200" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-msubsup" id="MJXp-Span-3201"><span class="MJXp-mn" id="MJXp-Span-3202" style="margin-right: 0.05em;">10</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-3203" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-3204"></span><span class="MJXp-mn" id="MJXp-Span-3205">16</span></span></span><span class="MJXp-mspace" id="MJXp-Span-3206" style="width: 0.278em; height: 0em;"></span></span></span></span></span></span></span><script type="math/tex" id="MathJax-Element-393"> \boxed{\;\mathbb{P}\!\left(\sum_{i=1}^{300} X_i \le 435\right) \;\approx\; 8.61\times 10^{-16}\;} </script></center><h3>5) Sanity check (normal approximation to the binomial)</h3><p>With <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3207"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3208"></span><span class="MJXp-mo" id="MJXp-Span-3209" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3210">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3211">p</span><span class="MJXp-mo" id="MJXp-Span-3212" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-3213">217.5</span></span></span><script type="math/tex" id="MathJax-Element-394">\mu = np = 217.5</script>, <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3214"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3215"></span><span class="MJXp-mo" id="MJXp-Span-3216" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msqrt" id="MJXp-Span-3217"><span class="MJXp-surd"><span style="font-size: 134%; margin-top: 0.104em;"></span></span><span class="MJXp-root"><span class="MJXp-rule" style="border-top: 0.08em solid;"></span><span class="MJXp-box"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3218">n</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3219">p</span><span class="MJXp-mo" id="MJXp-Span-3220" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-3221">1</span><span class="MJXp-mo" id="MJXp-Span-3222" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3223">p</span><span class="MJXp-mo" id="MJXp-Span-3224" style="margin-left: 0em; margin-right: 0em;">)</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-3225" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msqrt" id="MJXp-Span-3226"><span class="MJXp-surd"><span style="font-size: 134%; margin-top: 0.104em;"></span></span><span class="MJXp-root"><span class="MJXp-rule" style="border-top: 0.08em solid;"></span><span class="MJXp-box"><span class="MJXp-mn" id="MJXp-Span-3227">108.75</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-3228" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-3229">10.428</span></span></span><script type="math/tex" id="MathJax-Element-395">\sigma=\sqrt{np(1-p)}=\sqrt{108.75}\approx 10.428</script>, and continuity correction,</p> <center><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3230"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3231">z</span><span class="MJXp-mo" id="MJXp-Span-3232" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mfrac" id="MJXp-Span-3233" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-3234">299.5</span><span class="MJXp-mo" id="MJXp-Span-3235"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3236"></span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3237"></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-3238" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-3239">7.86</span><span class="MJXp-mspace" id="MJXp-Span-3240" style="width: 1em; height: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-3241" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mspace" id="MJXp-Span-3242" style="width: 1em; height: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-3243"><span class="MJXp-mi undefined" id="MJXp-Span-3244">P</span></span><span class="MJXp-mo" id="MJXp-Span-3245" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3246">Z</span><span class="MJXp-mo" id="MJXp-Span-3247" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3248">z</span><span class="MJXp-mo" id="MJXp-Span-3249" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3250" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-3251">1.87</span><span class="MJXp-mo" id="MJXp-Span-3252" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-msubsup" id="MJXp-Span-3253"><span class="MJXp-mn" id="MJXp-Span-3254" style="margin-right: 0.05em;">10</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-3255" style="vertical-align: 0.5em;"><span class="MJXp-mo" id="MJXp-Span-3256"></span><span class="MJXp-mn" id="MJXp-Span-3257">15</span></span></span><span class="MJXp-mo" id="MJXp-Span-3258" style="margin-left: 0em; margin-right: 0.222em;">,</span></span></span><script type="math/tex" id="MathJax-Element-396"> z=\frac{299.5-\mu}{\sigma}\approx 7.86 \quad\Rightarrow\quad \mathbb{P}(Z\ge z)\approx 1.87\times 10^{-15}, </script></center><p>which is of the same (tiny) order as the exact value above.</p></div></div></div></div> <div class="spoiler"><b class="spoiler-title">solution (easy version)</b><div class="spoiler-content" style="display: none;"><pre><code class="prettyprint prettyprinted" style=""><br><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;map&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;set&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cmath&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;ctime&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;queue&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;stack&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cstdio&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cstdlib&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;vector&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cstring&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;algorithm&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;iostream&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;bitset&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;unordered_map&gt;</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> fastio ios_base</span><span class="pun">::</span><span class="pln">sync_with_stdio</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln">cin</span><span class="pun">.</span><span class="pln">tie</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">cout</span><span class="pun">.</span><span class="pln">tie</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> </span><span class="kwd">namespace</span><span class="pln"> std</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">typedef</span><span class="pln"> </span><span class="kwd">double</span><span class="pln"> db</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">typedef</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> ll</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">typedef</span><span class="pln"> </span><span class="kwd">unsigned</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> ull</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> N</span><span class="pun">=</span><span class="lit">1010</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> T</span><span class="pun">,</span><span class="pln">n</span><span class="pun">;</span><span class="pln">
vector</span><span class="str">&lt;int&gt;</span><span class="pln"> </span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">N</span><span class="pun">],</span><span class="typ">Sp</span><span class="pun">[</span><span class="pln">N</span><span class="pun">];</span><span class="pln">

</span><span class="kwd">void</span><span class="pln"> init</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    cin</span><span class="pun">&gt;&gt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">N</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
        </span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">clear</span><span class="pun">(),</span><span class="typ">Sp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">clear</span><span class="pun">();</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

vector</span><span class="str">&lt;int&gt;</span><span class="pln"> ask</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> ty</span><span class="pun">,</span><span class="pln">vector</span><span class="str">&lt;int&gt;</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">v</span><span class="pun">)</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    cout</span><span class="pun">&lt;&lt;</span><span class="pln">ty</span><span class="pun">&lt;&lt;</span><span class="str">" "</span><span class="pun">&lt;&lt;</span><span class="pln">v</span><span class="pun">.</span><span class="pln">size</span><span class="pun">();</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">v</span><span class="pun">.</span><span class="pln">size</span><span class="pun">();</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
        cout</span><span class="pun">&lt;&lt;</span><span class="str">" "</span><span class="pun">&lt;&lt;</span><span class="pln">v</span><span class="pun">[</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
    cout</span><span class="pun">&lt;&lt;</span><span class="str">"\n"</span><span class="pun">&lt;&lt;</span><span class="pln">flush</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> k</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">ty</span><span class="pun">&lt;</span><span class="lit">3</span><span class="pun">)</span><span class="pln"> k</span><span class="pun">=</span><span class="pln">min</span><span class="pun">(</span><span class="lit">60</span><span class="pun">,(</span><span class="kwd">int</span><span class="pun">)</span><span class="pln">v</span><span class="pun">.</span><span class="pln">size</span><span class="pun">());</span><span class="pln">
    </span><span class="kwd">else</span><span class="pln"> k</span><span class="pun">=</span><span class="pln">min</span><span class="pun">(</span><span class="lit">300</span><span class="pun">,(</span><span class="kwd">int</span><span class="pun">)</span><span class="pln">v</span><span class="pun">.</span><span class="pln">size</span><span class="pun">());</span><span class="pln">
    vector</span><span class="str">&lt;int&gt;</span><span class="pln"> res</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="pln">k</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> t</span><span class="pun">;</span><span class="pln">
        cin</span><span class="pun">&gt;&gt;</span><span class="pln">t</span><span class="pun">;</span><span class="pln">
        res</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">t</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> res</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">void</span><span class="pln"> solve</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> cnt</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">
    vector</span><span class="str">&lt;int&gt;</span><span class="pln"> p</span><span class="pun">(</span><span class="pln">n</span><span class="pun">+</span><span class="lit">4</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="lit">30</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
        </span><span class="typ">Sv</span><span class="pun">[++</span><span class="pln">cnt</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="lit">30</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> j</span><span class="pun">=</span><span class="pln">i</span><span class="pun">+</span><span class="lit">1</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&lt;=</span><span class="lit">30</span><span class="pun">;</span><span class="pln">j</span><span class="pun">++)</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            cnt</span><span class="pun">++;</span><span class="pln">
            </span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">cnt</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">i</span><span class="pun">),</span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">cnt</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">j</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="lit">9</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> cur</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">while</span><span class="pun">(</span><span class="lit">1</span><span class="pun">)</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">int</span><span class="pln"> nxt</span><span class="pun">=</span><span class="pln">cur</span><span class="pun">+</span><span class="pln">i</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">nxt</span><span class="pun">&gt;</span><span class="lit">29</span><span class="pun">)</span><span class="pln"> nxt</span><span class="pun">-=</span><span class="lit">29</span><span class="pun">;</span><span class="pln">
            cnt</span><span class="pun">++;</span><span class="pln">
            </span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">cnt</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="lit">30</span><span class="pun">);</span><span class="pln">
            </span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">cnt</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">cur</span><span class="pun">);</span><span class="pln">
            </span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">cnt</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">nxt</span><span class="pun">);</span><span class="pln">
            cur</span><span class="pun">=</span><span class="pln">nxt</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">nxt</span><span class="pun">==</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    vector</span><span class="str">&lt;int&gt;</span><span class="pln"> vl</span><span class="pun">(</span><span class="lit">11</span><span class="pun">),</span><span class="pln">vm</span><span class="pun">(</span><span class="lit">11</span><span class="pun">),</span><span class="pln">vr</span><span class="pun">(</span><span class="lit">11</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="lit">10</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
        vl</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]=</span><span class="pln">i</span><span class="pun">,</span><span class="pln">vm</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]=</span><span class="lit">10</span><span class="pun">+</span><span class="pln">i</span><span class="pun">,</span><span class="pln">vr</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]=</span><span class="lit">20</span><span class="pun">+</span><span class="pln">i</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="lit">9</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> j</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&lt;=</span><span class="lit">10</span><span class="pun">;</span><span class="pln">j</span><span class="pun">++)</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            cnt</span><span class="pun">++;</span><span class="pln">
            </span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">cnt</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">vl</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]);</span><span class="pln">
            </span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">cnt</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">vm</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]);</span><span class="pln">
            </span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">cnt</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">vr</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> j</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&lt;</span><span class="lit">10</span><span class="pun">;</span><span class="pln">j</span><span class="pun">++)</span><span class="pln">
            vr</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]=</span><span class="pln">vr</span><span class="pun">[</span><span class="pln">j</span><span class="pun">+</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
        vr</span><span class="pun">[</span><span class="lit">10</span><span class="pun">]=</span><span class="pln">vr</span><span class="pun">[</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">,</span><span class="pln">cur</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="lit">29</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> x</span><span class="pun">=</span><span class="pln">cur</span><span class="pun">,</span><span class="pln">y</span><span class="pun">=</span><span class="pln">cur</span><span class="pun">+</span><span class="lit">1</span><span class="pun">,</span><span class="pln">z</span><span class="pun">=</span><span class="pln">cur</span><span class="pun">+</span><span class="lit">2</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">while</span><span class="pun">(</span><span class="pln">x</span><span class="pun">&gt;</span><span class="lit">29</span><span class="pun">)</span><span class="pln"> x</span><span class="pun">-=</span><span class="lit">29</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">while</span><span class="pun">(</span><span class="pln">y</span><span class="pun">&gt;</span><span class="lit">29</span><span class="pun">)</span><span class="pln"> y</span><span class="pun">-=</span><span class="lit">29</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">while</span><span class="pun">(</span><span class="pln">z</span><span class="pun">&gt;</span><span class="lit">29</span><span class="pun">)</span><span class="pln"> z</span><span class="pun">-=</span><span class="lit">29</span><span class="pun">;</span><span class="pln">
        cnt</span><span class="pun">++;</span><span class="pln">
        </span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">cnt</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">x</span><span class="pun">);</span><span class="pln">
        </span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">cnt</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">y</span><span class="pun">);</span><span class="pln">
        </span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">cnt</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">z</span><span class="pun">);</span><span class="pln">
        cur</span><span class="pun">+=</span><span class="lit">3</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="lit">30</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        vector</span><span class="str">&lt;int&gt;</span><span class="pln"> v</span><span class="pun">,</span><span class="pln">t</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> j</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">j</span><span class="pun">++)</span><span class="pln">
            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">find</span><span class="pun">(</span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">j</span><span class="pun">].</span><span class="kwd">begin</span><span class="pun">(),</span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">j</span><span class="pun">].</span><span class="kwd">end</span><span class="pun">(),</span><span class="pln">i</span><span class="pun">)!=</span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">j</span><span class="pun">].</span><span class="kwd">end</span><span class="pun">())</span><span class="pln">
                v</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">j</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">v</span><span class="pun">.</span><span class="pln">empty</span><span class="pun">())</span><span class="pln"> </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">i</span><span class="pun">&lt;</span><span class="lit">30</span><span class="pun">)</span><span class="pln"> t</span><span class="pun">=</span><span class="pln">ask</span><span class="pun">(</span><span class="lit">2</span><span class="pun">,</span><span class="pln">v</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">else</span><span class="pln"> t</span><span class="pun">=</span><span class="pln">ask</span><span class="pun">(</span><span class="lit">4</span><span class="pun">,</span><span class="pln">v</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> j</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&lt;</span><span class="pln">t</span><span class="pun">.</span><span class="pln">size</span><span class="pun">();</span><span class="pln">j</span><span class="pun">++)</span><span class="pln">
            </span><span class="typ">Sp</span><span class="pun">[</span><span class="pln">t</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
         sort</span><span class="pun">(</span><span class="typ">Sp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="kwd">begin</span><span class="pun">(),</span><span class="typ">Sp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="kwd">end</span><span class="pun">()),</span><span class="pln"> sort</span><span class="pun">(</span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="kwd">begin</span><span class="pun">(),</span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="kwd">end</span><span class="pun">());</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> j</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">j</span><span class="pun">++)</span><span class="pln">
            </span><span class="kwd">if</span><span class="pun">((!</span><span class="typ">Sp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">empty</span><span class="pun">())&amp;&amp;</span><span class="typ">Sp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]==</span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">j</span><span class="pun">])</span><span class="pln"> p</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]=</span><span class="pln">j</span><span class="pun">;</span><span class="pln">
    cout</span><span class="pun">&lt;&lt;</span><span class="str">"! "</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
        cout</span><span class="pun">&lt;&lt;</span><span class="pln">p</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]&lt;&lt;(</span><span class="pln">i</span><span class="pun">==</span><span class="pln">n</span><span class="pun">?</span><span class="str">'\n'</span><span class="pun">:</span><span class="str">' '</span><span class="pun">);</span><span class="pln">
    cout</span><span class="pun">&lt;&lt;</span><span class="pln">flush</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">int</span><span class="pln"> main</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    fastio</span><span class="pun">;</span><span class="pln">

    cin</span><span class="pun">&gt;&gt;</span><span class="pln">T</span><span class="pun">;</span><span class="pln">
	</span><span class="kwd">while</span><span class="pun">(</span><span class="pln">T</span><span class="pun">--)</span><span class="pln">
	</span><span class="pun">{</span><span class="pln">
		init</span><span class="pun">();</span><span class="pln">
		solve</span><span class="pun">();</span><span class="pln">
	</span><span class="pun">}</span><span class="pln">

	</span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span></code></pre></div></div> <div class="spoiler"><b class="spoiler-title">solution (hard version)</b><div class="spoiler-content" style="display: none;"><pre><code class="prettyprint prettyprinted" style=""><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;map&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;set&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cmath&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;ctime&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;queue&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;stack&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cstdio&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cstdlib&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;vector&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;cstring&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;algorithm&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;iostream&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;bitset&gt;</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="str">&lt;unordered_map&gt;</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> fastio ios_base</span><span class="pun">::</span><span class="pln">sync_with_stdio</span><span class="pun">(</span><span class="kwd">false</span><span class="pun">);</span><span class="pln">cin</span><span class="pun">.</span><span class="pln">tie</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">cout</span><span class="pun">.</span><span class="pln">tie</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> </span><span class="kwd">namespace</span><span class="pln"> std</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">typedef</span><span class="pln"> </span><span class="kwd">double</span><span class="pln"> db</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">typedef</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> ll</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">typedef</span><span class="pln"> </span><span class="kwd">unsigned</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> ull</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> N</span><span class="pun">=</span><span class="lit">1010</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">int</span><span class="pln"> T</span><span class="pun">,</span><span class="pln">n</span><span class="pun">;</span><span class="pln">
vector</span><span class="str">&lt;int&gt;</span><span class="pln"> </span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">N</span><span class="pun">],</span><span class="typ">Sp</span><span class="pun">[</span><span class="pln">N</span><span class="pun">],</span><span class="pln">prv</span><span class="pun">[</span><span class="pln">N</span><span class="pun">],</span><span class="pln">prp</span><span class="pun">[</span><span class="pln">N</span><span class="pun">];</span><span class="pln">

</span><span class="kwd">void</span><span class="pln"> init</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    srand</span><span class="pun">(</span><span class="pln">time</span><span class="pun">(</span><span class="lit">0</span><span class="pun">));</span><span class="pln">
    cin</span><span class="pun">&gt;&gt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">N</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
        </span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">clear</span><span class="pun">(),</span><span class="typ">Sp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">clear</span><span class="pun">(),</span><span class="pln">prv</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">clear</span><span class="pun">(),</span><span class="pln">prp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">clear</span><span class="pun">();</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

vector</span><span class="str">&lt;int&gt;</span><span class="pln"> ask</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> ty</span><span class="pun">,</span><span class="pln">vector</span><span class="str">&lt;int&gt;</span><span class="pln"> </span><span class="pun">&amp;</span><span class="pln">v</span><span class="pun">)</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    cout</span><span class="pun">&lt;&lt;</span><span class="pln">ty</span><span class="pun">&lt;&lt;</span><span class="str">" "</span><span class="pun">&lt;&lt;</span><span class="pln">v</span><span class="pun">.</span><span class="pln">size</span><span class="pun">();</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">v</span><span class="pun">.</span><span class="pln">size</span><span class="pun">();</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
        cout</span><span class="pun">&lt;&lt;</span><span class="str">" "</span><span class="pun">&lt;&lt;</span><span class="pln">v</span><span class="pun">[</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
    cout</span><span class="pun">&lt;&lt;</span><span class="str">"\n"</span><span class="pun">&lt;&lt;</span><span class="pln">flush</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> k</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">ty</span><span class="pun">&lt;</span><span class="lit">3</span><span class="pun">)</span><span class="pln"> k</span><span class="pun">=</span><span class="pln">min</span><span class="pun">(</span><span class="lit">60</span><span class="pun">,(</span><span class="kwd">int</span><span class="pun">)</span><span class="pln">v</span><span class="pun">.</span><span class="pln">size</span><span class="pun">());</span><span class="pln">
    </span><span class="kwd">else</span><span class="pln"> k</span><span class="pun">=</span><span class="pln">min</span><span class="pun">(</span><span class="lit">300</span><span class="pun">,(</span><span class="kwd">int</span><span class="pun">)</span><span class="pln">v</span><span class="pun">.</span><span class="pln">size</span><span class="pun">());</span><span class="pln">
    vector</span><span class="str">&lt;int&gt;</span><span class="pln"> res</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="pln">k</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> t</span><span class="pun">;</span><span class="pln">
        cin</span><span class="pun">&gt;&gt;</span><span class="pln">t</span><span class="pun">;</span><span class="pln">
        res</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">t</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> res</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">void</span><span class="pln"> solve</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> cnt</span><span class="pun">=</span><span class="lit">0</span><span class="pun">,</span><span class="pln">cntr</span><span class="pun">=</span><span class="lit">871</span><span class="pun">,</span><span class="pln">cntpr</span><span class="pun">=</span><span class="lit">30</span><span class="pun">;</span><span class="pln">
    vector</span><span class="str">&lt;int&gt;</span><span class="pln"> p</span><span class="pun">(</span><span class="pln">n</span><span class="pun">+</span><span class="lit">4</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="lit">29</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        cnt</span><span class="pun">++;</span><span class="pln">
        </span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">cnt</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span><span class="pln">
        cntr</span><span class="pun">--;</span><span class="pln">
        </span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">cntr</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="lit">29</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> j</span><span class="pun">=</span><span class="pln">i</span><span class="pun">+</span><span class="lit">1</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&lt;=</span><span class="lit">29</span><span class="pun">;</span><span class="pln">j</span><span class="pun">++)</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            cnt</span><span class="pun">++;</span><span class="pln">
            </span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">cnt</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">i</span><span class="pun">),</span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">cnt</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">j</span><span class="pun">);</span><span class="pln">
            cntr</span><span class="pun">--;</span><span class="pln">
            </span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">cntr</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">i</span><span class="pun">),</span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">cntr</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">j</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">871</span><span class="pun">,</span><span class="pln">hd</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="lit">890</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++,</span><span class="pln">hd</span><span class="pun">+=</span><span class="lit">3</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> x</span><span class="pun">=</span><span class="pln">hd</span><span class="pun">,</span><span class="pln">y</span><span class="pun">=</span><span class="pln">hd</span><span class="pun">+</span><span class="lit">1</span><span class="pun">,</span><span class="pln">z</span><span class="pun">=</span><span class="pln">hd</span><span class="pun">+</span><span class="lit">2</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">x</span><span class="pun">&gt;</span><span class="lit">29</span><span class="pun">)</span><span class="pln"> x</span><span class="pun">-=</span><span class="lit">29</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">y</span><span class="pun">&gt;</span><span class="lit">29</span><span class="pun">)</span><span class="pln"> y</span><span class="pun">-=</span><span class="lit">29</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">z</span><span class="pun">&gt;</span><span class="lit">29</span><span class="pun">)</span><span class="pln"> z</span><span class="pun">-=</span><span class="lit">29</span><span class="pun">;</span><span class="pln">
        </span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">x</span><span class="pun">),</span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">y</span><span class="pun">),</span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">z</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="lit">29</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        vector</span><span class="str">&lt;int&gt;</span><span class="pln"> v</span><span class="pun">,</span><span class="pln">t</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> j</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">j</span><span class="pun">++)</span><span class="pln">
            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">find</span><span class="pun">(</span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">j</span><span class="pun">].</span><span class="kwd">begin</span><span class="pun">(),</span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">j</span><span class="pun">].</span><span class="kwd">end</span><span class="pun">(),</span><span class="pln">i</span><span class="pun">)!=</span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">j</span><span class="pun">].</span><span class="kwd">end</span><span class="pun">())</span><span class="pln">
                v</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">j</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">v</span><span class="pun">.</span><span class="pln">empty</span><span class="pun">())</span><span class="pln"> </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
        t</span><span class="pun">=</span><span class="pln">ask</span><span class="pun">(</span><span class="lit">2</span><span class="pun">,</span><span class="pln">v</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> j</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&lt;</span><span class="pln">t</span><span class="pun">.</span><span class="pln">size</span><span class="pun">();</span><span class="pln">j</span><span class="pun">++)</span><span class="pln">
            </span><span class="typ">Sp</span><span class="pun">[</span><span class="pln">t</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
         sort</span><span class="pun">(</span><span class="typ">Sp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="kwd">begin</span><span class="pun">(),</span><span class="typ">Sp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="kwd">end</span><span class="pun">()),</span><span class="pln"> sort</span><span class="pun">(</span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="kwd">begin</span><span class="pun">(),</span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="kwd">end</span><span class="pun">());</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> j</span><span class="pun">=</span><span class="lit">871</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">j</span><span class="pun">++)</span><span class="pln">
            </span><span class="kwd">if</span><span class="pun">(</span><span class="typ">Sp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]==</span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">j</span><span class="pun">])</span><span class="pln"> p</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]=</span><span class="pln">j</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="typ">Sp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">size</span><span class="pun">()==</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> prp</span><span class="pun">[</span><span class="typ">Sp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pun">(</span><span class="typ">Sp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">size</span><span class="pun">()==</span><span class="lit">2</span><span class="pun">)</span><span class="pln"> prp</span><span class="pun">[</span><span class="lit">30</span><span class="pun">*</span><span class="typ">Sp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]+</span><span class="typ">Sp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span><span class="pln">    </span><span class="com">//hash the set</span><span class="pln">
        </span><span class="com">//|S|&gt;2 and empty set are ignored</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">size</span><span class="pun">()==</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> prv</span><span class="pun">[</span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pun">(</span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">size</span><span class="pun">()==</span><span class="lit">2</span><span class="pun">)</span><span class="pln"> prv</span><span class="pun">[</span><span class="lit">30</span><span class="pun">*</span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]+</span><span class="typ">Sv</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span><span class="pln">    </span><span class="com">//hash the set</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="com">//necessary shuffle</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">N</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">prp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">size</span><span class="pun">()&lt;</span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">rand</span><span class="pun">()&amp;</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> swap</span><span class="pun">(</span><span class="pln">prp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">0</span><span class="pun">],</span><span class="pln">prp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        vector</span><span class="str">&lt;int&gt;</span><span class="pln"> v</span><span class="pun">,</span><span class="pln">t</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> j</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&lt;</span><span class="pln">N</span><span class="pun">;</span><span class="pln">j</span><span class="pun">++)</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">prp</span><span class="pun">[</span><span class="pln">j</span><span class="pun">].</span><span class="pln">empty</span><span class="pun">())</span><span class="pln"> </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">prp</span><span class="pun">[</span><span class="pln">j</span><span class="pun">].</span><span class="pln">size</span><span class="pun">()==</span><span class="lit">1</span><span class="pun">)</span><span class="pln">
            </span><span class="pun">{</span><span class="pln">
                p</span><span class="pun">[</span><span class="pln">prp</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]]=</span><span class="pln">prv</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
                prp</span><span class="pun">[</span><span class="pln">j</span><span class="pun">].</span><span class="pln">clear</span><span class="pun">();</span><span class="pln">
                prv</span><span class="pun">[</span><span class="pln">j</span><span class="pun">].</span><span class="pln">clear</span><span class="pun">();</span><span class="pln">
                </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            v</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">prp</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">v</span><span class="pun">.</span><span class="pln">empty</span><span class="pun">())</span><span class="pln"> </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
        t</span><span class="pun">=</span><span class="pln">ask</span><span class="pun">(</span><span class="lit">3</span><span class="pun">,</span><span class="pln">v</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> j</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&lt;</span><span class="pln">N</span><span class="pun">;</span><span class="pln">j</span><span class="pun">++)</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">prp</span><span class="pun">[</span><span class="pln">j</span><span class="pun">].</span><span class="pln">empty</span><span class="pun">())</span><span class="pln"> </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">t</span><span class="pun">.</span><span class="pln">empty</span><span class="pun">())</span><span class="pln"> </span><span class="kwd">break</span><span class="pun">;</span><span class="pln">
            </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">prv</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]==</span><span class="pln">t</span><span class="pun">.</span><span class="pln">back</span><span class="pun">())</span><span class="pln">
            </span><span class="pun">{</span><span class="pln">
                t</span><span class="pun">.</span><span class="pln">pop_back</span><span class="pun">();</span><span class="pln">
                p</span><span class="pun">[</span><span class="pln">prp</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]]=</span><span class="pln">prv</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
                p</span><span class="pun">[</span><span class="pln">prp</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]]=</span><span class="pln">prv</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            </span><span class="kwd">else</span><span class="pln">
            </span><span class="pun">{</span><span class="pln">
                p</span><span class="pun">[</span><span class="pln">prp</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]]=</span><span class="pln">prv</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">0</span><span class="pun">];</span><span class="pln">
                p</span><span class="pun">[</span><span class="pln">prp</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">1</span><span class="pun">]]=</span><span class="pln">prv</span><span class="pun">[</span><span class="pln">j</span><span class="pun">][</span><span class="lit">1</span><span class="pun">];</span><span class="pln">
            </span><span class="pun">}</span><span class="pln">
            prp</span><span class="pun">[</span><span class="pln">j</span><span class="pun">].</span><span class="pln">clear</span><span class="pun">();</span><span class="pln">
            prv</span><span class="pun">[</span><span class="pln">j</span><span class="pun">].</span><span class="pln">clear</span><span class="pun">();</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    cout</span><span class="pun">&lt;&lt;</span><span class="str">"! "</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">1</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;=</span><span class="pln">n</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++)</span><span class="pln">
        cout</span><span class="pun">&lt;&lt;</span><span class="pln">p</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]&lt;&lt;(</span><span class="pln">i</span><span class="pun">==</span><span class="pln">n</span><span class="pun">?</span><span class="str">'\n'</span><span class="pun">:</span><span class="str">' '</span><span class="pun">);</span><span class="pln">
    cout</span><span class="pun">&lt;&lt;</span><span class="pln">flush</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">int</span><span class="pln"> main</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    fastio</span><span class="pun">;</span><span class="pln">

    cin</span><span class="pun">&gt;&gt;</span><span class="pln">T</span><span class="pun">;</span><span class="pln">
	</span><span class="kwd">while</span><span class="pun">(</span><span class="pln">T</span><span class="pun">--)</span><span class="pln">
	</span><span class="pun">{</span><span class="pln">
		init</span><span class="pun">();</span><span class="pln">
		solve</span><span class="pun">();</span><span class="pln">
	</span><span class="pun">}</span><span class="pln">

	</span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span></code></pre></div></div> <div class="spoiler"><b class="spoiler-title">Rate the Problem</b><div class="spoiler-content" style="display: none;"><p>Amazing problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11094">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="17">17</span>
            </i>
        </a>
    </span>


</p><p>Good problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11095">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="0">0</span>
            </i>
        </a>
    </span>


</p><p>Average problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11096">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="2">2</span>
            </i>
        </a>
    </span>


</p><p>Bad problem: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11097">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="3">3</span>
            </i>
        </a>
    </span>


</p><p>Didn't solve: 

    <span class="likeForm ">
        <a class="likeActionLink" title="I like this" href="/data/like?action=like" data-likeableid="11098">
            <i class="likeState icon-thumbs-up">
                <span class="likeCount" data-value="28">28</span>
            </i>
        </a>
    </span>


</p></div></div></div>

    </div>


        <div style="font-size: 1.1rem;line-height: 1.1rem;padding-bottom: 0.5em;">
            <img src="//codeforces.com/codeforces.org/s/52448/images/icons/paperclip-16x16.png" style="vertical-align: middle;"> <span style="padding: 0 0.35em;">Tutorial of <a href="/contest/2129" class="notice" style="text-decoration: none;">Codeforces Round 1040 (Div. 1)</a> </span>
        </div>
        <div style="font-size: 1.1rem;line-height: 1.1rem;padding-bottom: 0.5em;">
            <img src="//codeforces.com/codeforces.org/s/52448/images/icons/paperclip-16x16.png" style="vertical-align: middle;"> <span style="padding: 0 0.35em;">Tutorial of <a href="/contest/2130" class="notice" style="text-decoration: none;">Codeforces Round 1040 (Div. 2)</a> </span>
        </div>
        
            <script type="text/javascript">
    $(document).ready(function () {
        $(".delete-resource-link-294493-145786").click(function() {
            var that = this;
            Codeforces.confirm("Are you sure you want to detach a contest?", function () {
                $.post("/data/blogAndContest", {
                    action: "detachBlogFromContest",
                    blogId: "294493",
                    blogEntryId: "145152",
                    contestId: $(that).attr("data-contestId"),
                    resourceIds: $(that).attr("data-resourceIds")
                }, function(json) {        
                    Codeforces.reloadAndShowMessageOrShowError(json, "Contest detached");
                });
            }, function () {}, "Yes", "No");
        });
    });
</script>
        



    <div class="roundbox meta borderTopRound borderBottomRound" style="">
        <div class="left-meta">
            <ul>
                    <li style="line-height: 1.6em;">        <a href="#" class="topic-vote-up-145786"><img style="vertical-align:middle;position:relative;top:-0.2em" src="//codeforces.com/codeforces.org/s/52448/images/actions/voteup-gray.png" alt="Vote: I like it" title="Vote: I like it"></a>


</li>
                    <li style="line-height: 1.6em;">

        
        <span class="topic-rating topic-rating-145786" title="Topic rating" data-topicid="145786" data-rawrating="118" style="font-size:larger;position:relative;bottom:1px;font-weight:bold;color:green">+118</span>
        
</li>
                    <li style="line-height: 1.6em;">        <a href="#" class="topic-vote-down-145786"><img style="vertical-align:middle;position:relative;top:-0.2em" src="//codeforces.com/codeforces.org/s/52448/images/actions/votedown-gray.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>


</li>
            </ul>
        </div>


            <span style="position: relative; line-height: 1.65em; top: 0.75rem; left: 0.8em;">
            </span>

        <div class="right-meta">
            <ul>
                    <li>        <a href="/profile/wuhudsm"><img style="vertical-align:middle;position:relative;top:-1px" src="//codeforces.com/codeforces.org/s/52448/images/blog/user_16x16.png" alt="Author" title="Author"></a>


        <a href="/profile/wuhudsm">
        wuhudsm
        </a>
</li>
                    <li>        <img style="vertical-align:middle;position:relative;top:-1px" src="//codeforces.com/codeforces.org/s/52448/images/blog/date_16x16.png" alt="Publication date" title="Publication date">


        
        <span class="format-humantime" title="Jul/30/2025 02:42 UTC">5 months ago</span>
        
</li>
                    <li>        <a href="/blog/entry/145152#comments"><img style="vertical-align:middle;position:relative;top:-1px" src="//codeforces.com/codeforces.org/s/52448/images/blog/comments_16x16.png" alt="Comments" title="Comments"></a>


        <a href="/blog/entry/145152#comments">
        154
        </a>
</li>
            </ul>
        </div>

        <br style="clear:both;">
    </div>


<style type="text/css">
    .comments .title {
        float: left;
    }

    .comments .comments-actions-div {
        float: right;
        margin-top: 3rem;
        margin-right: 0.5em;
    }

    .comments .comments-actions-div .separator {
        margin: 0 1rem;
    }

    .comments label.show-archived {
    }

    .comments label.show-archived, .comments label.show-archived * {
        font-size: 1.4rem !important;
        color: black !important;
        /*position: relative !important;*/
        /*bottom: 0.4rem !important;*/
    }

    .comments label.show-archived input {
        height: 1.4rem !important;
        width: 1.4rem !important;
        position: relative;
        top: 0.25rem;
    }

    .new-root-comment {
        font-size: 1.4rem !important;
    }
</style>

    <div class="comments" commentableid="160171">
        <div style="display: flow-root">
            <div class="title">
                <img src="//codeforces.com/codeforces.org/s/52448/images/icons/comments-48x48.png" alt="Comments" title="Comments" style="position:relative;top:0.6em;">
                <a name="comments">Comments (154)</a>

            </div>
            <div class="comments-actions-div">
                <a href="#" class="new-root-comment">Write comment?</a>
            </div>
        </div>

<div class="comment" commentid="1298873">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298873" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/CodingPokemon" title="Master CodingPokemon" class="rated-user user-orange">CodingPokemon</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:37 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298873" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/CodingPokemon" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/CodingPokemon" title="Master CodingPokemon" class="rated-user user-orange">CodingPokemon</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:37 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298873" href="?#comment-1298873" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298873" class="CommentVoteFrame" myvotedirection="0" data-commentrating="28" data-commentuserid="3430054" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+28</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298873">
                        <div class="moveup">
                        <div class="ttypography"><p>fast editorial!!</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298873 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298873 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298873">
        </ul>
    </div>
</div>

<div class="comment" commentid="1298890">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298890" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Nyemot" title="Candidate Master Nyemot" class="rated-user user-violet">Nyemot</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:41 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298890" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Nyemot" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/Nyemot" title="Candidate Master Nyemot" class="rated-user user-violet">Nyemot</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:41 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298890" href="?#comment-1298890" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298890" class="CommentVoteFrame" myvotedirection="0" data-commentrating="6" data-commentuserid="2794085" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+6</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298890">
                        <div class="moveup">
                        <div class="ttypography"><p>why the most favourite + most hated problem share the same vote</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298890 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298890 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298890">
        </ul>
    </div>
</div>

<div class="comment" commentid="1298908">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298908" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Code_51" title="Pupil Code_51" class="rated-user user-green">Code_51</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:44 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298908" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Code_51" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/1564712/avatar/d35ae9a26dcd4abb.jpg">        </a>
        <div><a href="/profile/Code_51" title="Pupil Code_51" class="rated-user user-green">Code_51</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:44 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298908" href="?#comment-1298908" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298908" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="1564712" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298908">
                        <div class="moveup">
                        <div class="ttypography"><p>congrats me for becoming newb again</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298908 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298908 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298908">
        </ul>
    </div>
</div>

<div class="comment" commentid="1298912">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298912" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Kevin114514" title="Legendary Grandmaster Kevin114514" class="rated-user user-legendary"><span class="legendary-user-first-letter">K</span>evin114514</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:46 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">3</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298912" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Kevin114514" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/888350/avatar/8dd2ab3eaeb7a0dd.jpg">        </a>
        <div><a href="/profile/Kevin114514" title="Legendary Grandmaster Kevin114514" class="rated-user user-legendary"><span class="legendary-user-first-letter">K</span>evin114514</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:46 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298912" href="?#comment-1298912" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1298912" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298912" class="CommentVoteFrame" myvotedirection="0" data-commentrating="86" data-commentuserid="888350" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+86</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298912">
                        <div class="moveup">
                        <div class="ttypography"><p>it's quite interesting that the constraints are just enough for all inequalities for the solution to work, </p><p>i.e. <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3259"><span class="MJXp-mn" id="MJXp-Span-3260">30</span><span class="MJXp-mo" id="MJXp-Span-3261" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-3262">435</span><span class="MJXp-mo" id="MJXp-Span-3263" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-3264">2</span><span class="MJXp-mo" id="MJXp-Span-3265" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-3266">380</span><span class="MJXp-mo" id="MJXp-Span-3267" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-3268">3</span><span class="MJXp-mo" id="MJXp-Span-3269" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-3270">60</span><span class="MJXp-mo" id="MJXp-Span-3271" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-3272">29</span><span class="MJXp-mo" id="MJXp-Span-3273" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-3274">300</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-397-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-397">30+435\times 2 + 380\times 3 = 60\times 29+300</script>, </p><p>and the <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3275"><span class="MJXp-mn" id="MJXp-Span-3276">435</span><span class="MJXp-mo" id="MJXp-Span-3277" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-3278">30</span><span class="MJXp-mo" id="MJXp-Span-3279" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-3280">405</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-398-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-398">435-30=405</script> subsets of size <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3281"><span class="MJXp-mn" id="MJXp-Span-3282">2</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-399-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-399">2</script> of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3283"><span class="MJXp-mo" id="MJXp-Span-3284" style="margin-left: 0em; margin-right: 0em;">{</span><span class="MJXp-mn" id="MJXp-Span-3285">1</span><span class="MJXp-mo" id="MJXp-Span-3286" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-3287" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-3288" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-3289">29</span><span class="MJXp-mo" id="MJXp-Span-3290" style="margin-left: 0em; margin-right: 0em;">}</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-400-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-400">\{1,\dots,29\}</script> we need is only <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3291"><span class="MJXp-mn" id="MJXp-Span-3292">1</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-401-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-401">1</script> less than <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3293"><span class="MJXp-mrow" id="MJXp-Span-3294"><span class="MJXp-TeXmathchoice" id="MJXp-Span-3295"><span class="MJXp-mstyle" id="MJXp-Span-3296"><span class="MJXp-mrow" id="MJXp-Span-3297"><span class="MJXp-mo" id="MJXp-Span-3298" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.083em;"><span class="MJXp-right MJXp-scale10" style="font-size: 1.333em; margin-left: 0.07em;">(</span></span></span></span></span><span class="MJXp-mfrac" id="MJXp-Span-3299"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-3300">29</span></span><span class="MJXp-box" style="margin-top: -0.7em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-3301">2</span></span></span></span></span></span><span class="MJXp-TeXmathchoice" id="MJXp-Span-3302"><span class="MJXp-mstyle" id="MJXp-Span-3303"><span class="MJXp-mrow" id="MJXp-Span-3304"><span class="MJXp-mo" id="MJXp-Span-3305" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.083em;"><span class="MJXp-right MJXp-scale10" style="font-size: 1.333em; margin-left: 0.07em;">)</span></span></span></span></span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-402-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-402">\binom{29}{2}</script></p><p>nice design</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298912 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298912 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298912">
                <li>
<div class="comment" commentid="1298935">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298935" commentparentid="1298912">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/wuhudsm" title="Candidate Master wuhudsm" class="rated-user user-violet">wuhudsm</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:53 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298935" commentparentid="1298912">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/wuhudsm" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/wuhudsm" title="Candidate Master wuhudsm" class="rated-user user-violet">wuhudsm</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:53 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298935" href="?#comment-1298935" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298912" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298935" class="CommentVoteFrame" myvotedirection="0" data-commentrating="10" data-commentuserid="2483044" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+10</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298935">
                        <div class="moveup">
                        <div class="ttypography"><p>Glad to see you enjoying the problem</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298935 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298935 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298935">
        </ul>
    </div>
</div>
</li>
                <li>
<div class="comment" commentid="1298937">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298937" commentparentid="1298912">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/longago_06" title="Expert longago_06" class="rated-user user-blue">longago_06</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:53 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298937" commentparentid="1298912">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/longago_06" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/4847698/avatar/414403fd4c0ba6f5.jpg">        </a>
        <div><a href="/profile/longago_06" title="Expert longago_06" class="rated-user user-blue">longago_06</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:53 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298937" href="?#comment-1298937" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298912" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1298937" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298937" class="CommentVoteFrame" myvotedirection="0" data-commentrating="-15" data-commentuserid="4847698" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">-15</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298937">
                        <div class="moveup">
                        <div class="ttypography"><p>People downvoting me for no reason , just for congratulating someone , seriously , you guyz are just enigmatic !</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298937 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298937 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298937">
        </ul>
    </div>
</div>
</li>
                <li>
<div class="comment" commentid="1299116">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299116" commentparentid="1298912">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/sakurazexi" title="Pupil sakurazexi" class="rated-user user-green">sakurazexi</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 03:08 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299116" commentparentid="1298912">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/sakurazexi" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/4309496/avatar/d06c7b88226c0a1.jpg">        </a>
        <div><a href="/profile/sakurazexi" title="Pupil sakurazexi" class="rated-user user-green">sakurazexi</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 03:08 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299116" href="?#comment-1299116" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298912" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299116" class="CommentVoteFrame" myvotedirection="0" data-commentrating="8" data-commentuserid="4309496" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+8</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299116">
                        <div class="moveup">
                        <div class="ttypography"><p>orz</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299116 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299116 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299116">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1298917">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298917" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/JasonMendoza2008" title="Specialist JasonMendoza2008" class="rated-user user-cyan">JasonMendoza2008</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:47 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">5</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298917" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/JasonMendoza2008" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3202109/avatar/80892207a6e8d59b.jpg">        </a>
        <div><a href="/profile/JasonMendoza2008" title="Specialist JasonMendoza2008" class="rated-user user-cyan">JasonMendoza2008</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:47 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298917" href="?#comment-1298917" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1298917" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298917" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3202109" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298917">
                        <div class="moveup">
                        <div class="ttypography"><p>For Div2C, can you not just order all segments, and for each iteration, take, among all the segments that start before the end of the latest segment taken, the one that ends the latest possible. If no possible segments, just take the segment with the closest start after end and among all those that start at this closest start, take the one that ends the latest possible. There will never be cycle that way and by design you're maximising the length of the union of all segments. And it's nlogn (just a sorting has to be done). Or maybe it's possible to hack me? <a href="https://codeforces.com/contest/2130/submission/331785344">https://codeforces.com/contest/2130/submission/331785344</a></p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298917 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298917 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298917">
                <li>
<div class="comment" commentid="1298973">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298973" commentparentid="1298917">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Ming_Xu" title="Master Ming_Xu" class="rated-user user-orange">Ming_Xu</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:11 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298973" commentparentid="1298917">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Ming_Xu" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3894742/avatar/71cef969586a9b15.jpg">        </a>
        <div><a href="/profile/Ming_Xu" title="Master Ming_Xu" class="rated-user user-orange">Ming_Xu</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:11 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298973" href="?#comment-1298973" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298917" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298973" class="CommentVoteFrame" myvotedirection="0" data-commentrating="5" data-commentuserid="3894742" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+5</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298973">
                        <div class="moveup">
                        <div class="ttypography"><p>Alternatively, you sort by <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3306"><span class="MJXp-mo" id="MJXp-Span-3307" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-3308"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3309" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-3310" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-3311" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-3312" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-msubsup" id="MJXp-Span-3313"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3314" style="margin-right: 0.05em;">b</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-3315" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-3316" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-403-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-403">(a_i, -b_i)</script> (increasingly), then deduplicate segments with the same <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3317"><span class="MJXp-msubsup" id="MJXp-Span-3318"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3319" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-3320" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-404-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-404">a_i</script>. <a href="https://codeforces.com/contest/2129/submission/331751619">submission</a></p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298973 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298973 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298973">
        </ul>
    </div>
</div>
</li>
                <li>
<div class="comment" commentid="1299105">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299105" commentparentid="1298917">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/e_yi" title="Specialist e_yi" class="rated-user user-cyan">e_yi</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 02:14 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299105" commentparentid="1298917">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/e_yi" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/e_yi" title="Specialist e_yi" class="rated-user user-cyan">e_yi</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 02:14 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299105" href="?#comment-1299105" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298917" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299105" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2079360" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299105">
                        <div class="moveup">
                        <div class="ttypography"><p>A simple Python solution can be </p> <pre><code class="prettyprint prettyprinted" style=""><span class="pln">_t </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">int</span><span class="pun">(</span><span class="pln">input</span><span class="pun">())</span><span class="pln">
 
</span><span class="kwd">for</span><span class="pln"> _ </span><span class="kwd">in</span><span class="pln"> range</span><span class="pun">(</span><span class="pln">_t</span><span class="pun">):</span><span class="pln">
    n </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">int</span><span class="pun">(</span><span class="pln">input</span><span class="pun">())</span><span class="pln">
    res </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> i </span><span class="kwd">in</span><span class="pln"> range</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln">n</span><span class="pun">+</span><span class="lit">1</span><span class="pun">):</span><span class="pln">
        l</span><span class="pun">,</span><span class="pln">r </span><span class="pun">=</span><span class="pln"> map</span><span class="pun">(</span><span class="kwd">int</span><span class="pun">,</span><span class="pln">input</span><span class="pun">().</span><span class="pln">split</span><span class="pun">())</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> l </span><span class="kwd">not</span><span class="pln"> </span><span class="kwd">in</span><span class="pln"> res </span><span class="kwd">or</span><span class="pln"> r </span><span class="pun">&gt;</span><span class="pln"> res</span><span class="pun">[</span><span class="pln">l</span><span class="pun">][</span><span class="lit">0</span><span class="pun">]:</span><span class="pln">
            res</span><span class="pun">[</span><span class="pln">l</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">(</span><span class="pln">r</span><span class="pun">,</span><span class="pln">i</span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">print</span><span class="pun">(</span><span class="pln">len</span><span class="pun">(</span><span class="pln">res</span><span class="pun">))</span><span class="pln">
    </span><span class="kwd">print</span><span class="pun">(*</span><span class="pln">sorted</span><span class="pun">([</span><span class="pln">i</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="kwd">for</span><span class="pln"> i </span><span class="kwd">in</span><span class="pln"> res</span><span class="pun">.</span><span class="pln">values</span><span class="pun">()]))</span><span class="pln">
</span></code></pre></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299105 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299105 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299105">
        </ul>
    </div>
</div>
</li>
                <li>
<div class="comment" commentid="1299184">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299184" commentparentid="1298917">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/gursimarsinghmiglani" title="Pupil gursimarsinghmiglani" class="rated-user user-green">gursimarsinghmiglani</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 09:45 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">2</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299184" commentparentid="1298917">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/gursimarsinghmiglani" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/gursimarsinghmiglani" title="Pupil gursimarsinghmiglani" class="rated-user user-green">gursimarsinghmiglani</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 09:45 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299184" href="?#comment-1299184" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298917" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299184" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3352376" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299184">
                        <div class="moveup">
                        <div class="ttypography"><p>yes i did the same. linear time solution</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299184 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299184 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299184">
                <li>
<div class="comment" commentid="1299188">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299188" commentparentid="1299184">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/JasonMendoza2008" title="Specialist JasonMendoza2008" class="rated-user user-cyan">JasonMendoza2008</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 10:11 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299188" commentparentid="1299184">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/JasonMendoza2008" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3202109/avatar/80892207a6e8d59b.jpg">        </a>
        <div><a href="/profile/JasonMendoza2008" title="Specialist JasonMendoza2008" class="rated-user user-cyan">JasonMendoza2008</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 10:11 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299188" href="?#comment-1299188" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299184" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299188" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3202109" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299188">
                        <div class="moveup">
                        <div class="ttypography"><p>How is linear if you do sorting?</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299188 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299188 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299188">
                <li>
<div class="comment" commentid="1299810">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299810" commentparentid="1299188">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/gursimarsinghmiglani" title="Pupil gursimarsinghmiglani" class="rated-user user-green">gursimarsinghmiglani</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/04/2025 11:08 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299810" commentparentid="1299188">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/gursimarsinghmiglani" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/gursimarsinghmiglani" title="Pupil gursimarsinghmiglani" class="rated-user user-green">gursimarsinghmiglani</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/04/2025 11:08 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299810" href="?#comment-1299810" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299188" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299810" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3352376" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299810">
                        <div class="moveup">
                        <div class="ttypography"><p>right, my bad</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299810 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299810 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299810">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1298925">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298925" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/SunsetVoice_" title="Expert SunsetVoice_" class="rated-user user-blue">SunsetVoice_</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:48 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298925" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/SunsetVoice_" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/SunsetVoice_" title="Expert SunsetVoice_" class="rated-user user-blue">SunsetVoice_</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:48 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298925" href="?#comment-1298925" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298925" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2981357" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298925">
                        <div class="moveup">
                        <div class="ttypography"><p>the most favourite + most hated problem share the same vote</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298925 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298925 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298925">
        </ul>
    </div>
</div>

<div class="comment" commentid="1298928">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298928" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/anpaio" title="International Grandmaster anpaio" class="rated-user user-red">anpaio</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:49 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298928" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/anpaio" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/anpaio" title="International Grandmaster anpaio" class="rated-user user-red">anpaio</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:49 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298928" href="?#comment-1298928" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298928" class="CommentVoteFrame" myvotedirection="0" data-commentrating="23" data-commentuserid="1692341" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+23</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298928">
                        <div class="moveup">
                        <div class="ttypography"><p>Im pretty sure the complexity for div1D can be made n^3, if you keep your dp states from 0 to s[i] if s[i] exists and otherwise keep only one general state not depending on the value contributed to this side, so the complexity will be (sum(s[i]) + n)^3, but sum(s[i]) &lt; n for the answer not to be 0. </p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298928 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298928 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298928">
        </ul>
    </div>
</div>

<div class="comment" commentid="1298930">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298930" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/ashish1729" title="Specialist ashish1729" class="rated-user user-cyan">ashish1729</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:50 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298930" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/ashish1729" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/ashish1729" title="Specialist ashish1729" class="rated-user user-cyan">ashish1729</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:50 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298930" href="?#comment-1298930" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298930" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="297113" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298930">
                        <div class="moveup">
                        <div class="ttypography"><p>thank you for superfast editorial.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298930 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298930 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298930">
        </ul>
    </div>
</div>

<div class="comment" commentid="1298934">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298934" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/lgm_" title="Specialist lgm_" class="rated-user user-cyan">lgm_</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:52 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">7</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298934" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/lgm_" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3944826/avatar/61b995b3481462d1.jpg">        </a>
        <div><a href="/profile/lgm_" title="Specialist lgm_" class="rated-user user-cyan">lgm_</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:52 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298934" href="?#comment-1298934" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298934" class="CommentVoteFrame" myvotedirection="0" data-commentrating="2" data-commentuserid="3944826" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+2</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298934">
                        <div class="moveup">
                        <div class="ttypography"><p>can someone explain the editorial solution for 2D/1B?</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298934 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298934 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298934">
                <li>
<div class="comment" commentid="1299064">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299064" commentparentid="1298934">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/ChineseBheL" title="Expert ChineseBheL" class="rated-user user-blue">ChineseBheL</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 21:03 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">4</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299064" commentparentid="1298934">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/ChineseBheL" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/4002900/avatar/4ef85a3cd70c4a88.jpg">        </a>
        <div><a href="/profile/ChineseBheL" title="Expert ChineseBheL" class="rated-user user-blue">ChineseBheL</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 21:03 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299064" href="?#comment-1299064" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298934" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299064" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="4002900" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299064">
                        <div class="moveup">
                        <div class="ttypography"><p>You can just check greedily that is it better to convert this number into 2*n-(num) or keep as it is. You want to minimise the score so just take lower one. You go from left to right and check for every number and count the numbers that are bigger than it from left and right side. If you keep number as it is then the numbers that are greater on left side will give inversion or if you choose to increase the number to 2*n-(num) than number on right will become smaller and will give inversion, even in future if you decide to increase that numbers which are on right side then also they will be smaller than this number so they will give inversion.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299064 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299064 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299064">
                <li>
<div class="comment" commentid="1299067">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299067" commentparentid="1299064">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Square__Head" title="Pupil Square__Head" class="rated-user user-green">Square__Head</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 21:28 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">3</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299067" commentparentid="1299064">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Square__Head" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/Square__Head" title="Pupil Square__Head" class="rated-user user-green">Square__Head</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 21:28 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299067" href="?#comment-1299067" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299064" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299067" class="CommentVoteFrame" myvotedirection="0" data-commentrating="1" data-commentuserid="3490220" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+1</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299067">
                        <div class="moveup">
                        <div class="ttypography"><p>I need the proof that they are independent </p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299067 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299067 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299067">
                <li>
<div class="comment" commentid="1299076">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299076" commentparentid="1299067">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/ChineseBheL" title="Expert ChineseBheL" class="rated-user user-blue">ChineseBheL</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 22:24 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299076" commentparentid="1299067">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/ChineseBheL" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/4002900/avatar/4ef85a3cd70c4a88.jpg">        </a>
        <div><a href="/profile/ChineseBheL" title="Expert ChineseBheL" class="rated-user user-blue">ChineseBheL</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 22:24 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299076" href="?#comment-1299076" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299067" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299076" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="4002900" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299076">
                        <div class="moveup">
                        <div class="ttypography"><p>I don't know how to prove but here is the simple method I used.</p><p>The numbers on left have already calculated their share in the answer. So if the number on the left is smaller than their is no effect whether this number is increased or not, but if it is bigger than that will give inversion so if we increase this number then inversions on left will be solved. And for the number smaller on right side, they will get calculated on their turn.</p><p>For the the numbers on right side, suppose 1 &lt; 5 but 2*n-1 = 11 if n = 6 , so 11 &gt; 5 , even if we increase 5 then also 11 &gt; 7 so we can calculate inversions by this number on right side.</p><p>I don't know if you understand what I am saying, if anyone can drop the proper proof here, will be helpful.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299076 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299076 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299076">
        </ul>
    </div>
</div>
</li>
                <li>
<div class="comment" commentid="1299182">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299182" commentparentid="1299067">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/ThePeak" title="Expert ThePeak" class="rated-user user-blue">ThePeak</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 09:16 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299182" commentparentid="1299067">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/ThePeak" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2882619/avatar/f57d4358789ed05f.jpg">        </a>
        <div><a href="/profile/ThePeak" title="Expert ThePeak" class="rated-user user-blue">ThePeak</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 09:16 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299182" href="?#comment-1299182" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299067" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299182" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2882619" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299182">
                        <div class="moveup">
                        <div class="ttypography"><p>I don't know if this counts as a proof but here it is, in any case of a &lt; b or a &gt; b, changing the greater value won't affect the relation, the change is only done when the smaller value is changed to 2 * n  val, so if you change some value p_i to 2 * n  p_i, it affects its relation with values &gt; than it to its left and right, so u can just take the better choice.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299182 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299182 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299182">
                <li>
<div class="comment" commentid="1299202">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299202" commentparentid="1299182">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/pranjalchabra0" title="Specialist pranjalchabra0" class="rated-user user-cyan">pranjalchabra0</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 11:21 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299202" commentparentid="1299182">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/pranjalchabra0" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/4437569/avatar/74fbcf86cc0c8bd.jpg">        </a>
        <div><a href="/profile/pranjalchabra0" title="Specialist pranjalchabra0" class="rated-user user-cyan">pranjalchabra0</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 11:21 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299202" href="?#comment-1299202" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299182" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299202" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="4437569" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299202">
                        <div class="moveup">
                        <div class="ttypography"><p>bro this hint was on the next level solved D in once after getting this hint </p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299202 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299202 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299202">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
                <li>
<div class="comment" commentid="1299715">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299715" commentparentid="1298934">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/maruf004" title="Newbie maruf004" class="rated-user user-gray">maruf004</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/03/2025 15:30 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299715" commentparentid="1298934">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/maruf004" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3726317/avatar/37d969d9005a8f80.jpg">        </a>
        <div><a href="/profile/maruf004" title="Newbie maruf004" class="rated-user user-gray">maruf004</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/03/2025 15:30 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299715" href="?#comment-1299715" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298934" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1299715" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299715" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3726317" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299715">
                        <div class="moveup">
                        <div class="ttypography"><p>It's very simple. Please dry run on paper. U will observe if we process from element 1-N in P, Any element greater than 1 we will change in future that won't be change inversions for 1. Same for 2, 3 and so on.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299715 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299715 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299715">
        </ul>
    </div>
</div>
</li>
                <li>
<div class="comment" commentid="1313094">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1313094" commentparentid="1298934">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/squarer" title="Pupil squarer" class="rated-user user-green">squarer</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Sep/27/2025 19:15 UTC">3 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1313094" commentparentid="1298934">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/squarer" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/squarer" title="Pupil squarer" class="rated-user user-green">squarer</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Sep/27/2025 19:15 UTC">3 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1313094" href="?#comment-1313094" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298934" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1313094" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3504352" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1313094">
                        <div class="moveup">
                        <div class="ttypography"><p>i had a doubt ,how do we know that a n^2 solution would get accepted ?</p><p>I was trying this ques , and could come up with n^2 solution , or by using ordered set, i didnt have practise of ordered set so wasted a lot of time thinking of an alternative </p><p>Thanks in advanced!</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1313094 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1313094 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1313094">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1298936">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298936" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/peltorator" title="International Grandmaster peltorator" class="rated-user user-red">peltorator</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:53 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298936" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/peltorator" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/392368/avatar/d739fef45f3a6bf1.jpg">        </a>
        <div><a href="/profile/peltorator" title="International Grandmaster peltorator" class="rated-user user-red">peltorator</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:53 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298936" href="?#comment-1298936" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298936" class="CommentVoteFrame" myvotedirection="0" data-commentrating="33" data-commentuserid="392368" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+33</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298936">
                        <div class="moveup">
                        <div class="ttypography"><p>the problems were really nice! very impressive. thank you!</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298936 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298936 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298936">
        </ul>
    </div>
</div>

<div class="comment" commentid="1298938">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298938" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/lgm_" title="Specialist lgm_" class="rated-user user-cyan">lgm_</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:53 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298938" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/lgm_" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3944826/avatar/61b995b3481462d1.jpg">        </a>
        <div><a href="/profile/lgm_" title="Specialist lgm_" class="rated-user user-cyan">lgm_</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:53 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298938" href="?#comment-1298938" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298938" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3944826" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298938">
                        <div class="moveup">
                        <div class="ttypography"><p>The votes in the which problem you like thing are broken. You can't have different votes for both.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298938 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298938 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298938">
        </ul>
    </div>
</div>

<div class="comment" commentid="1298940">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298940" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/dXqwq" title="Legendary Grandmaster dXqwq" class="rated-user user-legendary"><span class="legendary-user-first-letter">d</span>Xqwq</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:55 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298940" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/dXqwq" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/906230/avatar/31ec36d63a097da3.jpg">        </a>
        <div><a href="/profile/dXqwq" title="Legendary Grandmaster dXqwq" class="rated-user user-legendary"><span class="legendary-user-first-letter">d</span>Xqwq</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:55 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298940" href="?#comment-1298940" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1298940" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298940" class="CommentVoteFrame" myvotedirection="0" data-commentrating="32" data-commentuserid="906230" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+32</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298940">
                        <div class="moveup">
                        <div class="ttypography"><ul>   <li>Hint 1</li>   <li>Hint 2</li>   <li>Hint 3</li>   <li>Hint 4</li>   <li>Hint 5</li>   <li>Hint 6</li>   <li>Hint 7</li>   <li>Hint 8</li>   <li>Hint 9</li>   <li>Hint 10</li> </ul><p><strong>Ruler Of The Zoo II</strong> after 4 years?!</p><p><img alt="qwq" src="/predownloaded/d8/2b/d82b063c1cc2e69a326617daf101db807477aaf5.png" style="max-width: 100.0%;max-height: 100.0%;"></p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298940 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298940 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298940">
                <li>
<div class="comment" commentid="1299002">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299002" commentparentid="1298940">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Xellos" title="Grandmaster Xellos" class="rated-user user-red">Xellos</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:46 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299002" commentparentid="1298940">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Xellos" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/69675/avatar/8526bcfc8e687b43.jpg"><img title="Badge of honor for supporting Codeforces on its 10th anniversary" src="//codeforces.com/codeforces.org/s/52448/images/if_medal-bronze-blue_46108.png" style="position:absolute;bottom:-4px;right:-6px">        </a>
        <div><a href="/profile/Xellos" title="Grandmaster Xellos" class="rated-user user-red">Xellos</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:46 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299002" href="?#comment-1299002" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298940" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299002" class="CommentVoteFrame" myvotedirection="0" data-commentrating="46" data-commentuserid="69675" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+46</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299002">
                        <div class="moveup">
                        <div class="ttypography"><p>Let me guess, half of those hints can be literally replaced by "this is a hint which is hinting you stuff" or "you can do it, don't give up"?</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299002 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299002 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299002">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1298942">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298942" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Mrkimedo" title="Specialist Mrkimedo" class="rated-user user-cyan">Mrkimedo</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:56 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298942" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Mrkimedo" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3154225/avatar/d36f16e6ea6954ac.jpg">        </a>
        <div><a href="/profile/Mrkimedo" title="Specialist Mrkimedo" class="rated-user user-cyan">Mrkimedo</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 17:56 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298942" href="?#comment-1298942" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298942" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3154225" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298942">
                        <div class="moveup">
                        <div class="ttypography"><p>Anyone else mess up on C by proving that if theres a cycle, there wouldnt be any addition in the union? (instead of proving the reverse, that if theres no addition, there wont be a cycle)</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298942 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298942 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298942">
        </ul>
    </div>
</div>

<div class="comment" commentid="1298947">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298947" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Docteur_Raton" title="Specialist Docteur_Raton" class="rated-user user-cyan">Docteur_Raton</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:00 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">2</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298947" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Docteur_Raton" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3332898/avatar/5de67640086325c3.jpg">        </a>
        <div><a href="/profile/Docteur_Raton" title="Specialist Docteur_Raton" class="rated-user user-cyan">Docteur_Raton</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:00 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298947" href="?#comment-1298947" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1298947" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298947" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3332898" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298947">
                        <div class="moveup">
                        <div class="ttypography"><p>Hi, according to the editorial's code for D2B, the input 1 4 8 1 1 2 2 does not have a solution, but doesn't 1 2 1 2 work?</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298947 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298947 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298947">
                <li>
<div class="comment" commentid="1298951">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298951" commentparentid="1298947">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/people_plus_plus" title="Candidate Master people_plus_plus" class="rated-user user-violet">people_plus_plus</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:02 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298951" commentparentid="1298947">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/people_plus_plus" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/people_plus_plus" title="Candidate Master people_plus_plus" class="rated-user user-violet">people_plus_plus</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:02 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298951" href="?#comment-1298951" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298947" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298951" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="1643560" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298951">
                        <div class="moveup">
                        <div class="ttypography"><p>There must be at least one <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3321"><span class="MJXp-mn" id="MJXp-Span-3322">0</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-405-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-405">0</script> in the input</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298951 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298951 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298951">
                <li>
<div class="comment" commentid="1299001">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299001" commentparentid="1298951">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Docteur_Raton" title="Specialist Docteur_Raton" class="rated-user user-cyan">Docteur_Raton</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:44 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299001" commentparentid="1298951">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Docteur_Raton" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3332898/avatar/5de67640086325c3.jpg">        </a>
        <div><a href="/profile/Docteur_Raton" title="Specialist Docteur_Raton" class="rated-user user-cyan">Docteur_Raton</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:44 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299001" href="?#comment-1299001" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298951" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299001" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3332898" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299001">
                        <div class="moveup">
                        <div class="ttypography"><p>Thank you you're right</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299001 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299001 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299001">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1298950">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298950" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/ShaoNianTongXue5307" title="Newbie ShaoNianTongXue5307" class="rated-user user-gray">ShaoNianTongXue5307</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:01 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">2</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298950" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/ShaoNianTongXue5307" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3061212/avatar/1f1f3deb73fdf420.jpg">        </a>
        <div><a href="/profile/ShaoNianTongXue5307" title="Newbie ShaoNianTongXue5307" class="rated-user user-gray">ShaoNianTongXue5307</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:01 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298950" href="?#comment-1298950" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298950" class="CommentVoteFrame" myvotedirection="0" data-commentrating="22" data-commentuserid="3061212" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+22</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298950">
                        <div class="moveup">
                        <div class="ttypography"><p>use this string can get <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3323"><span class="MJXp-mfrac" id="MJXp-Span-3324" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3325">n</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-3326">14</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-3327" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3328">O</span><span class="MJXp-mo" id="MJXp-Span-3329" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi" id="MJXp-Span-3330">log</span><span class="MJXp-mo" id="MJXp-Span-3331" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-406-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-406">\frac{n}{14} + O(\log)</script> querys in div1C, better than offical solution <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3332"><span class="MJXp-mfrac" id="MJXp-Span-3333" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3334">n</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-3335">13</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-3336" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3337">O</span><span class="MJXp-mo" id="MJXp-Span-3338" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi" id="MJXp-Span-3339">log</span><span class="MJXp-mo" id="MJXp-Span-3340" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-407-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-407">\frac{n}{13} + O(\log)</script></p> <div class="spoiler"><b class="spoiler-title">Spoiler</b><div class="spoiler-content" style="display: none;"><pre><code class="prettyprint prettyprinted" style=""><span class="pun">(</span><span class="pln">a</span><span class="pun">(((</span><span class="pln">b</span><span class="pun">()((()(</span><span class="pln">c</span><span class="pun">()(((</span><span class="pln">d</span><span class="pun">()(</span><span class="pln">d</span><span class="pun">()((()(</span><span class="pln">e</span><span class="pun">()(</span><span class="pln">e</span><span class="pun">()()(((</span><span class="pln">f</span><span class="pun">(</span><span class="pln">f</span><span class="pun">(</span><span class="pln">f</span><span class="pun">(</span><span class="pln">f</span><span class="pun">()(</span><span class="pln">f</span><span class="pun">()()(((</span><span class="pln">g</span><span class="pun">(</span><span class="pln">g</span><span class="pun">(</span><span class="pln">g</span><span class="pun">(</span><span class="pln">g</span><span class="pun">(</span><span class="pln">g</span><span class="pun">(</span><span class="pln">g</span><span class="pun">(</span><span class="pln">g</span><span class="pun">(</span><span class="pln">g</span><span class="pun">()(</span><span class="pln">g</span><span class="pun">()(((</span><span class="pln">
h</span><span class="pun">(</span><span class="pln">h</span><span class="pun">(</span><span class="pln">h</span><span class="pun">(</span><span class="pln">h</span><span class="pun">(</span><span class="pln">h</span><span class="pun">(</span><span class="pln">h</span><span class="pun">(</span><span class="pln">h</span><span class="pun">(</span><span class="pln">h</span><span class="pun">(</span><span class="pln">h</span><span class="pun">()(</span><span class="pln">h</span><span class="pun">()(</span><span class="pln">h</span><span class="pun">()()()(((</span><span class="pln">i</span><span class="pun">(</span><span class="pln">i</span><span class="pun">(</span><span class="pln">i</span><span class="pun">(</span><span class="pln">i</span><span class="pun">(</span><span class="pln">i</span><span class="pun">(</span><span class="pln">i</span><span class="pun">(</span><span class="pln">i</span><span class="pun">(</span><span class="pln">i</span><span class="pun">(</span><span class="pln">i</span><span class="pun">(</span><span class="pln">i</span><span class="pun">(</span><span class="pln">i</span><span class="pun">(</span><span class="pln">i</span><span class="pun">(</span><span class="pln">i</span><span class="pun">(</span><span class="pln">i</span><span class="pun">()()()()(</span><span class="pln">i</span><span class="pun">()()()()(((</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j
</span><span class="pun">(</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j</span><span class="pun">(</span><span class="pln">j</span><span class="pun">()(</span><span class="pln">j</span><span class="pun">()()()()()(((</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">
k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">(</span><span class="pln">k</span><span class="pun">()(</span><span class="pln">k</span><span class="pun">()()()()(((</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l
</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">(</span><span class="pln">
l</span><span class="pun">(</span><span class="pln">l</span><span class="pun">()(</span><span class="pln">l</span><span class="pun">()()(</span><span class="pln">l</span><span class="pun">()()()()()()()(((</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m
</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">(</span><span class="pln">
m</span><span class="pun">(</span><span class="pln">m</span><span class="pun">()()()()()()()()()(</span><span class="pln">m</span><span class="pun">()()()()()()()()()(((</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n
</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">
n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n
</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">(</span><span class="pln">n</span><span class="pun">()()()()()()()(</span><span class="pln">n</span><span class="pun">()()()()()()()()((</span></code></pre></div></div><p>after some optimization, can reach 80 queries limit.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298950 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298950 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298950">
                <li>
<div class="comment" commentid="1299338">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299338" commentparentid="1298950">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/tinyfold" title="Specialist tinyfold" class="rated-user user-cyan">tinyfold</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 20:33 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299338" commentparentid="1298950">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/tinyfold" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/tinyfold" title="Specialist tinyfold" class="rated-user user-cyan">tinyfold</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 20:33 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299338" href="?#comment-1299338" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298950" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299338" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="4438621" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299338">
                        <div class="moveup">
                        <div class="ttypography"><p>May I know how you approached to this solution?</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299338 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299338 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299338">
                <li>
<div class="comment" commentid="1299793">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299793" commentparentid="1299338">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/ShaoNianTongXue5307" title="Newbie ShaoNianTongXue5307" class="rated-user user-gray">ShaoNianTongXue5307</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/04/2025 08:38 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299793" commentparentid="1299338">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/ShaoNianTongXue5307" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3061212/avatar/1f1f3deb73fdf420.jpg">        </a>
        <div><a href="/profile/ShaoNianTongXue5307" title="Newbie ShaoNianTongXue5307" class="rated-user user-gray">ShaoNianTongXue5307</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/04/2025 08:38 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299793" href="?#comment-1299793" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299338" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299793" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3061212" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299793">
                        <div class="moveup">
                        <div class="ttypography"><p>Srinivasa Jinglong told me this string in dream, after i wake up i checked it with C++</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299793 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299793 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299793">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1298952">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298952" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/0mar" title="Expert 0mar" class="rated-user user-blue">0mar</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:02 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298952" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/0mar" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/0mar" title="Expert 0mar" class="rated-user user-blue">0mar</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:02 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298952" href="?#comment-1298952" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298952" class="CommentVoteFrame" myvotedirection="0" data-commentrating="12" data-commentuserid="1340340" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+12</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298952">
                        <div class="moveup">
                        <div class="ttypography"><p>A very simple <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3341"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3342">O</span><span class="MJXp-mo" id="MJXp-Span-3343" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3344">n</span><span class="MJXp-mo" id="MJXp-Span-3345" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-408-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-408">O(n)</script> solution for C is to remove all edges u -&gt; v except for the maximum edge. It's easy to see that this doesn't affect <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3346"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3347">F</span><span class="MJXp-mo" id="MJXp-Span-3348" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3349">s</span><span class="MJXp-mo" id="MJXp-Span-3350" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-409-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-409">F(s)</script>, and it also ensures <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3351"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3352">G</span><span class="MJXp-mo" id="MJXp-Span-3353" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3354">s</span><span class="MJXp-mo" id="MJXp-Span-3355" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-410-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-410">G(s)</script> is zero since if there is a cycle of length <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3356"><span class="MJXp-mo" id="MJXp-Span-3357" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;=</span><span class="MJXp-mn" id="MJXp-Span-3358">3</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-411-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-411">>= 3</script>, then there must exist a node with more than one edge.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298952 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298952 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298952">
                <li>
<div class="comment" commentid="1299335">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299335" commentparentid="1298952">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/EL_BALD" title="Specialist EL_BALD" class="rated-user user-cyan">EL_BALD</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 20:25 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299335" commentparentid="1298952">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/EL_BALD" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/EL_BALD" title="Specialist EL_BALD" class="rated-user user-cyan">EL_BALD</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 20:25 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299335" href="?#comment-1299335" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298952" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299335" class="CommentVoteFrame" myvotedirection="0" data-commentrating="8" data-commentuserid="3950133" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+8</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299335">
                        <div class="moveup">
                        <div class="ttypography"><p>I did the same; actually quite surprised the editorial did not mention this.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299335 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299335 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299335">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1298956">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298956" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Kcits970" title="Expert Kcits970" class="rated-user user-blue">Kcits970</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:03 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">2</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298956" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Kcits970" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/4082537/avatar/3f74281a34d4e4fc.jpg">        </a>
        <div><a href="/profile/Kcits970" title="Expert Kcits970" class="rated-user user-blue">Kcits970</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:03 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298956" href="?#comment-1298956" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1298956" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298956" class="CommentVoteFrame" myvotedirection="0" data-commentrating="12" data-commentuserid="4082537" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+12</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298956">
                        <div class="moveup">
                        <div class="ttypography"><p>The bracket trick for E1 is very clever, I failed to differentiate '((' and '))' during the contest.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298956 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298956 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298956">
                <li>
<div class="comment" commentid="1299167">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299167" commentparentid="1298956">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/kr25161" title="Expert kr25161" class="rated-user user-blue">kr25161</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 06:56 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299167" commentparentid="1298956">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/kr25161" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2918765/avatar/4ae7dc68e3e9698a.jpg">        </a>
        <div><a href="/profile/kr25161" title="Expert kr25161" class="rated-user user-blue">kr25161</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 06:56 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299167" href="?#comment-1299167" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298956" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299167" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2918765" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299167">
                        <div class="moveup">
                        <div class="ttypography"><p>((+")()" = 3 ))+")()" = 1</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299167 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299167 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299167">
        </ul>
    </div>
</div>
</li>
                <li>
<div class="comment" commentid="1299606">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299606" commentparentid="1298956">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Le_Minh_Duc" title="Expert Le_Minh_Duc" class="rated-user user-blue">Le_Minh_Duc</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/03/2025 01:24 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299606" commentparentid="1298956">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Le_Minh_Duc" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/Le_Minh_Duc" title="Expert Le_Minh_Duc" class="rated-user user-blue">Le_Minh_Duc</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/03/2025 01:24 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299606" href="?#comment-1299606" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298956" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299606" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3336359" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299606">
                        <div class="moveup">
                        <div class="ttypography"><p>I think you failed because you chose a symmetrical pattern such as "?)(?", so both "))" and "((" produce the same result. To fix this, simply add extra brackets on one side to break the symmetry-for example, use "?)(?()" instead.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299606 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299606 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299606">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1298968">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298968" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Tom66" title="Master Tom66" class="rated-user user-orange">Tom66</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:08 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298968" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Tom66" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/790128/avatar/7910c140946dc48a.jpg">        </a>
        <div><a href="/profile/Tom66" title="Master Tom66" class="rated-user user-orange">Tom66</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:08 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298968" href="?#comment-1298968" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1298968" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298968" class="CommentVoteFrame" myvotedirection="0" data-commentrating="5" data-commentuserid="790128" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+5</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298968">
                        <div class="moveup">
                        <div class="ttypography"><p>Good problems. I enjoy them very much.</p><p>But I did very badly. Too slow and too many wa atts. Bye GM.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298968 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298968 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298968">
                <li>
<div class="comment" commentid="1298976">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298976" commentparentid="1298968">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Tom66" title="Master Tom66" class="rated-user user-orange">Tom66</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:14 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298976" commentparentid="1298968">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Tom66" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/790128/avatar/7910c140946dc48a.jpg">        </a>
        <div><a href="/profile/Tom66" title="Master Tom66" class="rated-user user-orange">Tom66</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:14 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298976" href="?#comment-1298976" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298968" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298976" class="CommentVoteFrame" myvotedirection="0" data-commentrating="6" data-commentuserid="790128" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+6</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298976">
                        <div class="moveup">
                        <div class="ttypography"><p>For the 3rd version, <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3359"><span class="MJXp-mrow" id="MJXp-Span-3360"><span class="MJXp-mo" id="MJXp-Span-3361" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.5em;"><span class="MJXp-right MJXp-scale5" style="font-size: 3em; margin-left: -0.18em;"></span></span><span class="MJXp-mfrac" id="MJXp-Span-3362" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3363">n</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-3364">11</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-3365" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.5em;"><span class="MJXp-right MJXp-scale5" style="font-size: 3em; margin-left: -0.18em;"></span></span></span><span class="MJXp-mo" id="MJXp-Span-3366" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mrow" id="MJXp-Span-3367"><span class="MJXp-mo" id="MJXp-Span-3368" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mi" id="MJXp-Span-3369">log</span><span class="MJXp-mo" id="MJXp-Span-3370" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3371">n</span><span class="MJXp-mo" id="MJXp-Span-3372" style="margin-left: 0em; margin-right: 0em;"></span></span><span class="MJXp-mo" id="MJXp-Span-3373" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-3374">101</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-412-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-412">\left\lceil\frac n{11}\right\rceil+\left\lceil\log n\right\rceil=101</script>. I generated it through a silly idea. But it's soooooo close to the constraint. Is it intended to stop it from accepted?</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298976 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298976 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298976">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1298970">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298970" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/chapostolidis" title="Newbie chapostolidis" class="rated-user user-gray">chapostolidis</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:08 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">2</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298970" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/chapostolidis" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/chapostolidis" title="Newbie chapostolidis" class="rated-user user-gray">chapostolidis</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:08 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298970" href="?#comment-1298970" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298970" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="4752277" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298970">
                        <div class="moveup">
                        <div class="ttypography"><p>As a Professional Newbie I have to say B felt REALLY hard to solve and took me about 2 hours. Awesome problem though and probably a skill issue on my end but did anyone else find it hard? </p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298970 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298970 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298970">
                <li>
<div class="comment" commentid="1298983">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298983" commentparentid="1298970">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Kakusei" title="Newbie Kakusei" class="rated-user user-gray">Kakusei</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:24 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298983" commentparentid="1298970">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Kakusei" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3590094/avatar/d2f9d383830ece16.jpg">        </a>
        <div><a href="/profile/Kakusei" title="Newbie Kakusei" class="rated-user user-gray">Kakusei</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:24 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298983" href="?#comment-1298983" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298970" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298983" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3590094" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298983">
                        <div class="moveup">
                        <div class="ttypography"><p>Glad to meet you, seor. (Fellow professional newbie)</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298983 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298983 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298983">
        </ul>
    </div>
</div>
</li>
                <li>
<div class="comment" commentid="1299143">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299143" commentparentid="1298970">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Xia21" title="Newbie Xia21" class="rated-user user-gray">Xia21</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 05:24 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299143" commentparentid="1298970">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Xia21" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/Xia21" title="Newbie Xia21" class="rated-user user-gray">Xia21</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 05:24 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299143" href="?#comment-1299143" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298970" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299143" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="739048" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299143">
                        <div class="moveup">
                        <div class="ttypography"><p>yah, discovering d = s  base_sum different than 1 result Alice always win is the key for this problem, that idea is quite random to me</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299143 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299143 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299143">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1298980">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298980" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Blazagon" title="Specialist Blazagon" class="rated-user user-cyan">Blazagon</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:22 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298980" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Blazagon" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/Blazagon" title="Specialist Blazagon" class="rated-user user-cyan">Blazagon</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:22 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298980" href="?#comment-1298980" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298980" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="4512210" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298980">
                        <div class="moveup">
                        <div class="ttypography"><p>For Div2E1, my pattern is <code class="tt">s1[]s2]]</code> which has a value of 1,2,3 or 4 depending on s1 and s2.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298980 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298980 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298980">
        </ul>
    </div>
</div>

<div class="comment" commentid="1298982">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298982" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/asdasdqwer" title="Expert asdasdqwer" class="rated-user user-blue">asdasdqwer</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:24 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">5</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298982" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/asdasdqwer" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/asdasdqwer" title="Expert asdasdqwer" class="rated-user user-blue">asdasdqwer</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:24 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298982" href="?#comment-1298982" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1298982" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298982" class="CommentVoteFrame" myvotedirection="0" data-commentrating="17" data-commentuserid="3238151" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+17</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298982">
                        <div class="moveup">
                        <div class="ttypography"><p>In the solution of D1C3, there is a function <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3375"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3376">g</span><span class="MJXp-mo" id="MJXp-Span-3377" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3378">i</span><span class="MJXp-mo" id="MJXp-Span-3379" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-413-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-413">g(i)</script> mentioned, which should have the property that <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3380"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3381">g</span><span class="MJXp-mo" id="MJXp-Span-3382" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3383">i</span><span class="MJXp-mo" id="MJXp-Span-3384" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3385" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3386">g</span><span class="MJXp-mo" id="MJXp-Span-3387" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-3388">1</span><span class="MJXp-mo" id="MJXp-Span-3389" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3390" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3391">g</span><span class="MJXp-mo" id="MJXp-Span-3392" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-3393">2</span><span class="MJXp-mo" id="MJXp-Span-3394" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3395" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-3396" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-3397" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-3398" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-3399" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3400">g</span><span class="MJXp-mo" id="MJXp-Span-3401" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3402">i</span><span class="MJXp-mo" id="MJXp-Span-3403" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-3404">1</span><span class="MJXp-mo" id="MJXp-Span-3405" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-414-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-414">g(i) > g(1) + g(2) + ... + g(i-1)</script>. How is that different from the medium version, where <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3406"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3407">g</span><span class="MJXp-mo" id="MJXp-Span-3408" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3409">i</span><span class="MJXp-mo" id="MJXp-Span-3410" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3411" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-3412"><span class="MJXp-mn" id="MJXp-Span-3413" style="margin-right: 0.05em;">2</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-3414" style="vertical-align: 0.5em;">i</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-415-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-415">g(i) = 2^i</script>?</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298982 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298982 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298982">
                <li>
<div class="comment" commentid="1298998">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298998" commentparentid="1298982">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/asdasdqwer" title="Expert asdasdqwer" class="rated-user user-blue">asdasdqwer</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:41 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">4</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298998" commentparentid="1298982">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/asdasdqwer" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/asdasdqwer" title="Expert asdasdqwer" class="rated-user user-blue">asdasdqwer</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:41 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298998" href="?#comment-1298998" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298982" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1298998" revisioncount="3" revision="3">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">3</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298998" class="CommentVoteFrame" myvotedirection="0" data-commentrating="3" data-commentuserid="3238151" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+3</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298998">
                        <div class="moveup">
                        <div class="ttypography"><p>Nvm, I figured it out. The condition <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3415"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3416">g</span><span class="MJXp-mo" id="MJXp-Span-3417" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3418">i</span><span class="MJXp-mo" id="MJXp-Span-3419" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3420" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3421">g</span><span class="MJXp-mo" id="MJXp-Span-3422" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-3423">1</span><span class="MJXp-mo" id="MJXp-Span-3424" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3425" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3426">g</span><span class="MJXp-mo" id="MJXp-Span-3427" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-3428">2</span><span class="MJXp-mo" id="MJXp-Span-3429" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3430" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-3431" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-3432" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-3433" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-3434" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3435">g</span><span class="MJXp-mo" id="MJXp-Span-3436" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3437">i</span><span class="MJXp-mo" id="MJXp-Span-3438" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-3439">1</span><span class="MJXp-mo" id="MJXp-Span-3440" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-416-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-416">g(i) > g(1) + g(2) + ... + g(i-1)</script> is wrong, it should rather be <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3441"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3442">f</span><span class="MJXp-mo" id="MJXp-Span-3443" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3444">g</span><span class="MJXp-mo" id="MJXp-Span-3445" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3446">i</span><span class="MJXp-mo" id="MJXp-Span-3447" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3448" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3449" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3450">f</span><span class="MJXp-mo" id="MJXp-Span-3451" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3452">g</span><span class="MJXp-mo" id="MJXp-Span-3453" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-3454">1</span><span class="MJXp-mo" id="MJXp-Span-3455" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3456" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3457" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3458">f</span><span class="MJXp-mo" id="MJXp-Span-3459" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3460">g</span><span class="MJXp-mo" id="MJXp-Span-3461" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-3462">2</span><span class="MJXp-mo" id="MJXp-Span-3463" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3464" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3465" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-3466" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-3467" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-3468" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-3469" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3470">f</span><span class="MJXp-mo" id="MJXp-Span-3471" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3472">g</span><span class="MJXp-mo" id="MJXp-Span-3473" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3474">i</span><span class="MJXp-mo" id="MJXp-Span-3475" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-3476">1</span><span class="MJXp-mo" id="MJXp-Span-3477" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3478" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-417-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-417">f(g(i)) > f(g(1)) + f(g(2)) + ... + f(g(i-1))</script> where <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3479"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3480">f</span><span class="MJXp-mo" id="MJXp-Span-3481" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3482">n</span><span class="MJXp-mo" id="MJXp-Span-3483" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3484" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mfrac" id="MJXp-Span-3485" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3486">n</span><span class="MJXp-mo" id="MJXp-Span-3487">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3488">n</span><span class="MJXp-mo" id="MJXp-Span-3489">+</span><span class="MJXp-mn" id="MJXp-Span-3490">1</span><span class="MJXp-mo" id="MJXp-Span-3491">)</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-3492">2</span></span></span></span></span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-418-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-418">f(n) = \frac{n(n+1)}{2}</script> (in English: the number of regular substrings that we can build using <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3493"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3494">g</span><span class="MJXp-mo" id="MJXp-Span-3495" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3496">i</span><span class="MJXp-mo" id="MJXp-Span-3497" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-419-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-419">g(i)</script> pairs has to be greater than the number of regular substrings using <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3498"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3499">g</span><span class="MJXp-mo" id="MJXp-Span-3500" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-3501">1</span><span class="MJXp-mo" id="MJXp-Span-3502" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-420-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-420">g(1)</script> pairs plus the number of substrings using <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3503"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3504">g</span><span class="MJXp-mo" id="MJXp-Span-3505" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-3506">2</span><span class="MJXp-mo" id="MJXp-Span-3507" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-421-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-421">g(2)</script> pairs and so on).</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298998 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298998 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298998">
                <li>
<div class="comment" commentid="1302561">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1302561" commentparentid="1298998">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/marcus06" title="Expert marcus06" class="rated-user user-blue">marcus06</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/18/2025 03:08 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">3</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1302561" commentparentid="1298998">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/marcus06" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3238777/avatar/43289983f17c1ad5.jpg">        </a>
        <div><a href="/profile/marcus06" title="Expert marcus06" class="rated-user user-blue">marcus06</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/18/2025 03:08 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1302561" href="?#comment-1302561" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298998" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1302561" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3238777" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1302561">
                        <div class="moveup">
                        <div class="ttypography"><p>Hi, can you explain why does it have to be f(g(i)) &gt; f(g(1)) + ... + f(g(2)) ? The medium version was quite easy for me to understand but the hard one isn't. Thank you</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1302561 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1302561 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1302561">
                <li>
<div class="comment" commentid="1302619">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1302619" commentparentid="1302561">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/asdasdqwer" title="Expert asdasdqwer" class="rated-user user-blue">asdasdqwer</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/18/2025 12:03 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">2</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1302619" commentparentid="1302561">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/asdasdqwer" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/asdasdqwer" title="Expert asdasdqwer" class="rated-user user-blue">asdasdqwer</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/18/2025 12:03 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1302619" href="?#comment-1302619" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1302561" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1302619" class="CommentVoteFrame" myvotedirection="0" data-commentrating="1" data-commentuserid="3238151" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+1</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1302619">
                        <div class="moveup">
                        <div class="ttypography"><p>The brackets can either be opening brackets or closing brackets. If you decide to include some bracket <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3508"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3509">n</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-422-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-422">n</script> times, there are two cases: Either, the construction from the editorial contributes <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3510"><span class="MJXp-mfrac" id="MJXp-Span-3511" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3512">n</span><span class="MJXp-mo" id="MJXp-Span-3513">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3514">n</span><span class="MJXp-mo" id="MJXp-Span-3515">+</span><span class="MJXp-mn" id="MJXp-Span-3516">1</span><span class="MJXp-mo" id="MJXp-Span-3517">)</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-3518">2</span></span></span></span></span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-423-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-423">\frac{n(n+1)}{2}</script> to the total number of regular substrings (which means we have an opening bracket), or 0 (meaning we have a closing bracket). Since we want to be able to determine the bracket configuration using just the total number of regular bracket substrings, we need the condition <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3519"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3520">f</span><span class="MJXp-mo" id="MJXp-Span-3521" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3522">g</span><span class="MJXp-mo" id="MJXp-Span-3523" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3524">i</span><span class="MJXp-mo" id="MJXp-Span-3525" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3526" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3527" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3528">f</span><span class="MJXp-mo" id="MJXp-Span-3529" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3530">g</span><span class="MJXp-mo" id="MJXp-Span-3531" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-3532">1</span><span class="MJXp-mo" id="MJXp-Span-3533" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3534" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3535" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-3536" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-3537" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-3538" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-3539" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3540">f</span><span class="MJXp-mo" id="MJXp-Span-3541" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3542">g</span><span class="MJXp-mo" id="MJXp-Span-3543" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3544">i</span><span class="MJXp-mo" id="MJXp-Span-3545" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-3546">1</span><span class="MJXp-mo" id="MJXp-Span-3547" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3548" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-424-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-424">f(g(i)) > f(g(1)) + ... + f(g(i-1))</script>.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1302619 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1302619 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1302619">
                <li>
<div class="comment" commentid="1302623">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1302623" commentparentid="1302619">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/marcus06" title="Expert marcus06" class="rated-user user-blue">marcus06</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/18/2025 12:41 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1302623" commentparentid="1302619">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/marcus06" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3238777/avatar/43289983f17c1ad5.jpg">        </a>
        <div><a href="/profile/marcus06" title="Expert marcus06" class="rated-user user-blue">marcus06</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/18/2025 12:41 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1302623" href="?#comment-1302623" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1302619" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1302623" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3238777" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1302623">
                        <div class="moveup">
                        <div class="ttypography"><p>that condition is to make sure f(g(1)) + ... + f(g(i  1)) doesn't affect f(g(i)) ? Like in binary whether the i-th bit is on or off it doesn't change (i + 1)-th bit (sorry for my bad English)</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1302623 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1302623 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1302623">
                <li>
<div class="comment" commentid="1302624">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1302624" commentparentid="1302623">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/asdasdqwer" title="Expert asdasdqwer" class="rated-user user-blue">asdasdqwer</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/18/2025 13:11 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1302624" commentparentid="1302623">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/asdasdqwer" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/asdasdqwer" title="Expert asdasdqwer" class="rated-user user-blue">asdasdqwer</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/18/2025 13:11 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1302624" href="?#comment-1302624" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1302623" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1302624" class="CommentVoteFrame" myvotedirection="0" data-commentrating="1" data-commentuserid="3238151" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+1</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1302624">
                        <div class="moveup">
                        <div class="ttypography"><p>Exactly</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1302624 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1302624 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1302624">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1298993">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298993" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/drexdelta" title="Expert drexdelta" class="rated-user user-blue">drexdelta</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:38 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">7</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298993" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/drexdelta" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/435276/avatar/c7e6bd2f88ae2b6c.jpg">        </a>
        <div><a href="/profile/drexdelta" title="Expert drexdelta" class="rated-user user-blue">drexdelta</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:38 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298993" href="?#comment-1298993" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1298993" revisioncount="3" revision="3">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">3</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298993" class="CommentVoteFrame" myvotedirection="0" data-commentrating="3" data-commentuserid="435276" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+3</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298993">
                        <div class="moveup">
                        <div class="ttypography"><p><a class="rated-user user-violet" href="/profile/wuhudsm" title="Candidate Master wuhudsm">wuhudsm</a> Proof for D1B is incomplete. You proved it for '1', and then said, we have solved the problem..!!! how ? </p><p>You should have proved it for 'x', and then build transition to x+1 and then announce it to be proven. </p> <hr><p>Here is my doubt ( which I couldn't prove during the contest... )... </p><p><strong>"replacement while moving from left to right doesn't affect the answer" hasn't been proven.</strong> as part of editorial.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298993 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298993 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298993">
                <li>
<div class="comment" commentid="1299061">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299061" commentparentid="1298993">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/drexdelta" title="Expert drexdelta" class="rated-user user-blue">drexdelta</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 20:44 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299061" commentparentid="1298993">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/drexdelta" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/435276/avatar/c7e6bd2f88ae2b6c.jpg">        </a>
        <div><a href="/profile/drexdelta" title="Expert drexdelta" class="rated-user user-blue">drexdelta</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 20:44 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299061" href="?#comment-1299061" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298993" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1299061" revisioncount="13" revision="13">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">13</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299061" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="435276" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299061">
                        <div class="moveup">
                        <div class="ttypography"><div class="spoiler"><b class="spoiler-title">WORKS, Can't prove why </b><div class="spoiler-content" style="display: none;"><pre><code class="prettyprint prettyprinted" style=""><span class="kwd">int</span><span class="pln"> ans </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;=</span><span class="pln"> n </span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
   </span><span class="kwd">int</span><span class="pln"> greaterOnLeft </span><span class="pun">;</span><span class="pln"> </span><span class="com">// for loop for counting greater elements to left of 'i'</span><span class="pln">
   </span><span class="kwd">int</span><span class="pln"> greaterOnRight</span><span class="pun">;</span><span class="pln"> </span><span class="com">// for loop for counting greater elements on right of 'i'</span><span class="pln">
   ans </span><span class="pun">=</span><span class="pln"> min</span><span class="pun">(</span><span class="pln">greaterOnLeft </span><span class="pun">,</span><span class="pln"> greaterOnRight</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="str">`ans`</span><span class="pln"> contains desired </span><span class="kwd">value</span><span class="pln">
</span></code></pre><p>Difficult to proof, why this solution works. Doubts you may face while proving is</p><p>1) While traversing from left to right, if you switched some values in previous indices, will they affect the current 'i' ? 2) How are we certain that any index 'j' &gt; 'i' will flip or not flip which can change your number of greater values on left or right.</p></div></div> <div class="spoiler"><b class="spoiler-title">DOESN'T WORK initially, Figure out bug, and Fix it and gets ACCEPTED</b><div class="spoiler-content" style="display: none;"><pre><code class="prettyprint prettyprinted" style=""><span class="kwd">int</span><span class="pln"> ans </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;=</span><span class="pln"> n </span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
   </span><span class="kwd">int</span><span class="pln"> greaterOnLeft </span><span class="pun">;</span><span class="pln"> </span><span class="com">// for loop for counting greater elements to left of 'i'</span><span class="pln">
   </span><span class="kwd">int</span><span class="pln"> greaterOnRight</span><span class="pun">;</span><span class="pln"> </span><span class="com">// for loop for counting greater elements on right of 'i'</span><span class="pln">
   
   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">greaterOnLeft </span><span class="pun">&gt;</span><span class="pln"> greaterOnRight</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
       </span><span class="com">// means it is beneficial to use the operation</span><span class="pln">
       </span><span class="com">// because the new value will be greater than all the values on left * * * (conditional statement)</span><span class="pln">
        p</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> n </span><span class="pun">-</span><span class="pln"> p</span><span class="pun">[</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
   </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
       </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
   </span><span class="pun">}</span><span class="pln">
   
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">;</span><span class="pln">i </span><span class="pun">&lt;=</span><span class="pln"> n </span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> j </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">;</span><span class="pln"> j </span><span class="pun">&lt;</span><span class="pln"> i </span><span class="pun">;</span><span class="pln"> j</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">a</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> a</span><span class="pun">[</span><span class="pln">j</span><span class="pun">])</span><span class="pln"> ans</span><span class="pun">++;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="str">`ans`</span><span class="pln"> contains desired </span><span class="kwd">value</span><span class="pln">   </span></code></pre><p>Above approach fails. try to figure out yourself if you can. otherwise, move with next part. </p><p>Hint : (For some index 'i', What if some value on left doesn't become lesser than 2*n-p[i], is it possible ? try to think such case ).</p> <hr><p><strong>Understand the simulation.</strong></p><p>[5 8 6 3 4 7 9 10 1 2 ]... </p><p>-&gt; first three elements won't do any reverse ( 5 , 8 , 6 ) don't satisfy the condition (lcount &gt; rcount). -&gt; fourth element does satisfy the condition, so we flip it. new array will be [5 8 6 17 4 7 9 10 1 2 ]</p><p>-&gt; Now while processing this new array for index '5' ( value 4 ), we are introducing a BUG. if we flip 4 to 2 * 10  4 = 16 , we are still not able to reduce the number of inversions on left. Still one inversion from the left is pending ( which is caused by the value 17). </p><p>If you understand above part. You just need to write one more if condition, and your issue is fixed. Follow below code.</p> <div class="spoiler"><b class="spoiler-title">In depth understanding why it fails, and how to correct it</b><div class="spoiler-content" style="display: none;"><pre><code class="prettyprint prettyprinted" style=""><br><br><br><br><span class="kwd">int</span><span class="pln"> ans </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;=</span><span class="pln"> n </span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
   </span><span class="kwd">int</span><span class="pln"> greaterOnLeft </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
   </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> j </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">;</span><span class="pln"> j </span><span class="pun">&lt;</span><span class="pln"> i </span><span class="pun">;</span><span class="pln"> j</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
       </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="pun">(</span><span class="pln">a</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> a</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> a</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&lt;=</span><span class="pln"> n</span><span class="pun">)</span><span class="pln"> </span><span class="com">// value is not valued for the index 'j' OR</span><span class="pln">
             </span><span class="pun">(</span><span class="pln">a</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> a</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="lit">2</span><span class="pun">*</span><span class="pln">n </span><span class="pun">-</span><span class="pln"> a</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> a</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> a</span><span class="pun">[</span><span class="pln">j</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&gt;=</span><span class="pln"> n</span><span class="pun">)</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">// value is flipped at index 'j', So we must make sure, after flipping value at index 'i', it is greater than new value of index 'j' . (otherwise, there is no point, we won't be able to delete that inversion. read simulation example if you don't understand this part ). </span><span class="pln">
                  greaterOnLeft</span><span class="pun">++;</span><span class="pln">
               </span><span class="pun">}</span><span class="pln">
          </span><span class="pun">}</span><span class="pln">
   </span><span class="pun">}</span><span class="pln">
          
   </span><span class="kwd">int</span><span class="pln"> greaterOnRight</span><span class="pun">;</span><span class="pln"> </span><span class="com">// for loop for counting greater elements on right of 'i' ( count same as earlier , no change here ).</span><span class="pln">
   
   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">greaterOnLeft </span><span class="pun">&gt;</span><span class="pln"> greaterOnRight</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
       </span><span class="com">// After we perform such an operation, we are not always guranteed to delete all the inversions on left. We need to count only those values on left, which actually improve after performing such operation.  </span><span class="pln">
        p</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">2</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> n </span><span class="pun">-</span><span class="pln"> p</span><span class="pun">[</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
   </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
       </span><span class="kwd">continue</span><span class="pun">;</span><span class="pln">
   </span><span class="pun">}</span><span class="pln">
   
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">;</span><span class="pln">i </span><span class="pun">&lt;=</span><span class="pln"> n </span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> j </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">;</span><span class="pln"> j </span><span class="pun">&lt;</span><span class="pln"> i </span><span class="pun">;</span><span class="pln"> j</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">a</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> a</span><span class="pun">[</span><span class="pln">j</span><span class="pun">])</span><span class="pln"> ans</span><span class="pun">++;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="str">`ans`</span><span class="pln"> </span><span class="kwd">is</span><span class="pln"> desired </span><span class="kwd">value</span><span class="pun">.</span><span class="pln">
</span></code></pre></div></div></div></div> <div class="spoiler"><b class="spoiler-title">One more approach.</b><div class="spoiler-content" style="display: none;"><p>If we start processing this array from large elements to small elements ( n,n-1,n-2... 2, 1) , and repeat the process (comparing leftside and rightside larger values than current value ), it works. </p><p>Why ! </p><p>Because, any flip done earlier will not affect future indices. The new values are bound to be greater than previously flipped values. ( If x = 5 , y = 3 , n = 10 , whether the value of 'x' is flipped(20-5=15) or not(5), it will still be smaller than flipped value of 'y' (20  3 = 17). This way we are guaranteed to decrease inversions. </p><p>Found the approach from this solution : <a href="https://codeforces.com/contest/2130/submission/331838905">https://codeforces.com/contest/2130/submission/331838905</a></p></div></div></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299061 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299061 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299061">
        </ul>
    </div>
</div>
</li>
                <li>
<div class="comment" commentid="1299074">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299074" commentparentid="1298993">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/0mar" title="Expert 0mar" class="rated-user user-blue">0mar</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 22:13 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">5</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299074" commentparentid="1298993">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/0mar" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/0mar" title="Expert 0mar" class="rated-user user-blue">0mar</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 22:13 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299074" href="?#comment-1299074" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1298993" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299074" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="1340340" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299074">
                        <div class="moveup">
                        <div class="ttypography"><p>I think the editorial proof works. Can you elaborate on what part you think remains to be proven?</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299074 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299074 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299074">
                <li>
<div class="comment" commentid="1299148">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299148" commentparentid="1299074">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/kr25161" title="Expert kr25161" class="rated-user user-blue">kr25161</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 05:40 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299148" commentparentid="1299074">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/kr25161" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2918765/avatar/4ae7dc68e3e9698a.jpg">        </a>
        <div><a href="/profile/kr25161" title="Expert kr25161" class="rated-user user-blue">kr25161</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 05:40 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299148" href="?#comment-1299148" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299074" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299148" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2918765" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299148">
                        <div class="moveup">
                        <div class="ttypography"><p>can you explain it to me</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299148 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299148 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299148">
        </ul>
    </div>
</div>
</li>
                <li>
<div class="comment" commentid="1299153">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299153" commentparentid="1299074">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/theygottoseeme" title="Specialist theygottoseeme" class="rated-user user-cyan">theygottoseeme</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 06:08 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">3</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299153" commentparentid="1299074">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/theygottoseeme" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/theygottoseeme" title="Specialist theygottoseeme" class="rated-user user-cyan">theygottoseeme</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 06:08 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299153" href="?#comment-1299153" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299074" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299153" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3786986" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299153">
                        <div class="moveup">
                        <div class="ttypography"><p>I also didnt fully understand it. the proof was just about pi=1? like I think for every number besides pi = 1, it is important if other numbers are mirrored or not</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299153 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299153 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299153">
                <li>
<div class="comment" commentid="1299191">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299191" commentparentid="1299153">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/kr25161" title="Expert kr25161" class="rated-user user-blue">kr25161</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 10:23 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">2</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299191" commentparentid="1299153">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/kr25161" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2918765/avatar/4ae7dc68e3e9698a.jpg">        </a>
        <div><a href="/profile/kr25161" title="Expert kr25161" class="rated-user user-blue">kr25161</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 10:23 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299191" href="?#comment-1299191" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299153" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1299191" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299191" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2918765" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299191">
                        <div class="moveup">
                        <div class="ttypography"><p>The main idea is that to change any inequality '&lt;' -&gt; '&gt;' or vice versa only depends on the smaller element. So mirroring element Ai makes all the elements bigger than it smaller. a &lt; b, a &lt; 2n - b whereas 2n - a &gt; b, 2n  a &gt; 2n  b. So changing bigger element doesnt change the inequality at all. To find answer, fix the smaller element and take the decision greedily, it will still hold all the other inequalities. Further solution is left for reader.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299191 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299191 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299191">
                <li>
<div class="comment" commentid="1299238">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299238" commentparentid="1299191">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/theygottoseeme" title="Specialist theygottoseeme" class="rated-user user-cyan">theygottoseeme</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 13:44 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299238" commentparentid="1299191">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/theygottoseeme" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/theygottoseeme" title="Specialist theygottoseeme" class="rated-user user-cyan">theygottoseeme</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 13:44 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299238" href="?#comment-1299238" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299191" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299238" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3786986" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299238">
                        <div class="moveup">
                        <div class="ttypography"><p>got it thanks</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299238 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299238 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299238">
        </ul>
    </div>
</div>
</li>
                <li>
<div class="comment" commentid="1304625">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1304625" commentparentid="1299191">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/ravishankar123" title="Newbie ravishankar123" class="rated-user user-gray">ravishankar123</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/27/2025 08:41 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1304625" commentparentid="1299191">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/ravishankar123" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/ravishankar123" title="Newbie ravishankar123" class="rated-user user-gray">ravishankar123</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/27/2025 08:41 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1304625" href="?#comment-1304625" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299191" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1304625" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3330377" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1304625">
                        <div class="moveup">
                        <div class="ttypography"><p>In this problems code, one greedy strategy is being applied for choosing whether to take <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3549"><span class="MJXp-msubsup" id="MJXp-Span-3550"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3551" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-3552" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-425-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-425">a_i</script> as low or high, and a different greedy strategy is being applied for assigning values inside <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3553"><span class="MJXp-msubsup" id="MJXp-Span-3554"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3555" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-3556" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-426-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-426">a_i</script>, which is not valid.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1304625 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1304625 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1304625">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1298994">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1298994" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Sorinel" title="Expert Sorinel" class="rated-user user-blue">Sorinel</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:38 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1298994" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Sorinel" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3850889/avatar/42accd518fabc1e4.jpg">        </a>
        <div><a href="/profile/Sorinel" title="Expert Sorinel" class="rated-user user-blue">Sorinel</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:38 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1298994" href="?#comment-1298994" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1298994" class="CommentVoteFrame" myvotedirection="0" data-commentrating="8" data-commentuserid="3850889" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+8</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1298994">
                        <div class="moveup">
                        <div class="ttypography"><p>But for E3, if g(i)&gt; sum(g(1),g(2),... ,g(i-1)) that means g(i+1) &gt; g(i) + sum(g(1),g(2),... ,g(i-1)) &gt; 2*sum(g(1),g(2),... ,g(i-1)) So wouldn't g have to increase based on powers of 2, not letting us have 12 different values in one query?</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1298994 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1298994 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1298994">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299005">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299005" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/virendragoyal" title="Pupil virendragoyal" class="rated-user user-green">virendragoyal</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:51 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">2</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299005" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/virendragoyal" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/virendragoyal" title="Pupil virendragoyal" class="rated-user user-green">virendragoyal</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 18:51 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299005" href="?#comment-1299005" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299005" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2682665" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299005">
                        <div class="moveup">
                        <div class="ttypography"><p>For div2 B is the sequence 0 0 0 .. 2 1 2 1 .. not possible ?</p><p>I wrote this sequence but it got me incorrect answer </p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299005 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299005 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299005">
                <li>
<div class="comment" commentid="1299055">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299055" commentparentid="1299005">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/ChanduCforce" title="Newbie ChanduCforce" class="rated-user user-gray">ChanduCforce</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 20:36 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299055" commentparentid="1299005">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/ChanduCforce" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/ChanduCforce" title="Newbie ChanduCforce" class="rated-user user-gray">ChanduCforce</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 20:36 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299055" href="?#comment-1299055" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299005" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299055" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="421996" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299055">
                        <div class="moveup">
                        <div class="ttypography"><p>0000...2222...1111 is valid solution i think but 0000...2 1 2 1 2 1 would go into subcases </p><p>because are there enough 2s to match 1s i.e number of 2s = number of 1s , no of 2 &lt; no of 1s etc </p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299055 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299055 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299055">
        </ul>
    </div>
</div>
</li>
                <li>
<div class="comment" commentid="1299133">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299133" commentparentid="1299005">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Deepak_47" title="Pupil Deepak_47" class="rated-user user-green">Deepak_47</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 04:05 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299133" commentparentid="1299005">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Deepak_47" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3365321/avatar/c53363b0f258f345.jpg">        </a>
        <div><a href="/profile/Deepak_47" title="Pupil Deepak_47" class="rated-user user-green">Deepak_47</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 04:05 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299133" href="?#comment-1299133" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299005" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299133" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3365321" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299133">
                        <div class="moveup">
                        <div class="ttypography"><p>this 0 0 0 .. 2 1 2 1 .. sequence is correct. </p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299133 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299133 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299133">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1299012">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299012" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/LeoPro" title="International Grandmaster LeoPro" class="rated-user user-red">LeoPro</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 19:03 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">3</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299012" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/LeoPro" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/667658/avatar/b49ed14b916ad83f.jpg">        </a>
        <div><a href="/profile/LeoPro" title="International Grandmaster LeoPro" class="rated-user user-red">LeoPro</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 19:03 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299012" href="?#comment-1299012" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299012" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="667658" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299012">
                        <div class="moveup">
                        <div class="ttypography"><p>In div1D, am I missing something, or is the actual complexity <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3557"><span class="MJXp-mrow" id="MJXp-Span-3558"><span class="MJXp-mi MJXp-cal" id="MJXp-Span-3559">O</span></span><span class="MJXp-mo" id="MJXp-Span-3560" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-3561"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3562" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3563" style="vertical-align: 0.5em;">3</span></span><span class="MJXp-msubsup" id="MJXp-Span-3564"><span class="MJXp-mi" id="MJXp-Span-3565" style="margin-right: 0.05em;">log</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3566" style="vertical-align: 0.5em;">4</span></span><span class="MJXp-mo" id="MJXp-Span-3567" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3568">n</span><span class="MJXp-mo" id="MJXp-Span-3569" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-427-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-427">\mathcal{O}(n^3\log^4n)</script>? To recalculate <code class="tt">dp[l][r][x][y]</code> we need to iterate over <code class="tt">i, j, k</code>, and I spent some time on constant optimizations, though in the end it worked in about a second, so some of them were probably unnecessary.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299012 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299012 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299012">
                <li>
<div class="comment" commentid="1299024">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299024" commentparentid="1299012">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/peltorator" title="International Grandmaster peltorator" class="rated-user user-red">peltorator</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 19:32 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">2</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299024" commentparentid="1299012">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/peltorator" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/392368/avatar/d739fef45f3a6bf1.jpg">        </a>
        <div><a href="/profile/peltorator" title="International Grandmaster peltorator" class="rated-user user-red">peltorator</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 19:32 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299024" href="?#comment-1299024" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299012" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299024" class="CommentVoteFrame" myvotedirection="0" data-commentrating="-8" data-commentuserid="392368" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">-8</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299024">
                        <div class="moveup">
                        <div class="ttypography"><p>why <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3570"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3571">l</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3572">o</span><span class="MJXp-msubsup" id="MJXp-Span-3573"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3574" style="margin-right: 0.05em;">g</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3575" style="vertical-align: 0.5em;">4</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-428-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-428">log^4</script>? you have <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3576"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3577">x</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-429-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-429">x</script>, <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3578"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3579">y</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-430-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-430">y</script>, and the middle thing <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3580"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3581">z</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-431-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-431">z</script>. the same way as with <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3582"><span class="MJXp-msubsup" id="MJXp-Span-3583"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3584" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3585" style="vertical-align: 0.5em;">3</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-432-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-432">n^3</script>.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299024 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299024 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299024">
                <li>
<div class="comment" commentid="1299033">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299033" commentparentid="1299024">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Dominater069" title="Legendary Grandmaster Dominater069" class="rated-user user-legendary"><span class="legendary-user-first-letter">D</span>ominater069</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 19:52 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299033" commentparentid="1299024">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Dominater069" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2716850/avatar/6f087eab6958a0a8.jpg">        </a>
        <div><a href="/profile/Dominater069" title="Legendary Grandmaster Dominater069" class="rated-user user-legendary"><span class="legendary-user-first-letter">D</span>ominater069</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 19:52 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299033" href="?#comment-1299033" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299024" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299033" class="CommentVoteFrame" myvotedirection="0" data-commentrating="10" data-commentuserid="2716850" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+10</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299033">
                        <div class="moveup">
                        <div class="ttypography"><p>in my and the editorial's solution, there are a total of 7 variables, i.e. 7 for loops. Then I optimized with the following:</p> <ul>   <li><p>When a[i] = -1, we can just add up all ways</p></li>   <li><p>otherwise, there is a dependency between 2 variables, so looping over 6 is enough.</p></li> </ul></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299033 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299033 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299033">
                <li>
<div class="comment" commentid="1299040">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299040" commentparentid="1299033">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/peltorator" title="International Grandmaster peltorator" class="rated-user user-red">peltorator</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 20:06 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299040" commentparentid="1299033">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/peltorator" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/392368/avatar/d739fef45f3a6bf1.jpg">        </a>
        <div><a href="/profile/peltorator" title="International Grandmaster peltorator" class="rated-user user-red">peltorator</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 20:06 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299040" href="?#comment-1299040" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299033" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299040" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="392368" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299040">
                        <div class="moveup">
                        <div class="ttypography"><p>oh. i see. i did exactly the same thing, yes.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299040 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299040 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299040">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1299016">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299016" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/locozade" title="Pupil locozade" class="rated-user user-green">locozade</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 19:10 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299016" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/locozade" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2174123/avatar/b1cb2781d072a4ed.jpg">        </a>
        <div><a href="/profile/locozade" title="Pupil locozade" class="rated-user user-green">locozade</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 19:10 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299016" href="?#comment-1299016" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1299016" revisioncount="4" revision="4">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">4</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299016" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2174123" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299016">
                        <div class="moveup">
                        <div class="ttypography"><p>Has anyone solved Div1B using dynamic programming? I was trying to solve, but was getting Memory Limit Exceeded. <a href="/contest/2130/submission/331823637" title="Submission 331823637 by locozade">331823637</a> How to optimize the memory here?</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299016 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299016 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299016">
                <li>
<div class="comment" commentid="1300137">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1300137" commentparentid="1299016">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/secyo" title="Pupil secyo" class="rated-user user-green">secyo</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/06/2025 15:38 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1300137" commentparentid="1299016">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/secyo" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/secyo" title="Pupil secyo" class="rated-user user-green">secyo</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/06/2025 15:38 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1300137" href="?#comment-1300137" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299016" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1300137" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2698475" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1300137">
                        <div class="moveup">
                        <div class="ttypography"><p>I think you are copying the vector x for each indice. That could be why.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1300137 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1300137 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1300137">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1299019">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299019" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/cosenza" title="Expert cosenza" class="rated-user user-blue">cosenza</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 19:17 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299019" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/cosenza" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/1977525/avatar/ba227a2086ca6739.jpg">        </a>
        <div><a href="/profile/cosenza" title="Expert cosenza" class="rated-user user-blue">cosenza</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 19:17 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299019" href="?#comment-1299019" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299019" class="CommentVoteFrame" myvotedirection="0" data-commentrating="8" data-commentuserid="1977525" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+8</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299019">
                        <div class="moveup">
                        <div class="ttypography"><p>funny white text on 1B :)</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299019 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299019 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299019">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299020">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299020" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/PinkieRabbit" title="International Grandmaster PinkieRabbit" class="rated-user user-red">PinkieRabbit</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 19:17 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299020" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/PinkieRabbit" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/885141/avatar/87e7a96000928bc4.jpg">        </a>
        <div><a href="/profile/PinkieRabbit" title="International Grandmaster PinkieRabbit" class="rated-user user-red">PinkieRabbit</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 19:17 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299020" href="?#comment-1299020" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1299020" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299020" class="CommentVoteFrame" myvotedirection="0" data-commentrating="55" data-commentuserid="885141" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+55</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299020">
                        <div class="moveup">
                        <div class="ttypography"><p>If you forgot to deal with the nodes of degree <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3586"><span class="MJXp-mn" id="MJXp-Span-3587">0</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-433-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-433">0</script> in D1E,</p><p>you are not alone. <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3588"><span class="MJXp-mstyle" id="MJXp-Span-3589"><span class="MJXp-mtext" id="MJXp-Span-3590"></span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-434-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-434">\Large\unicode{x1F62D}</script></p><p>Also, <a href="https://www.bilibili.com/video/BV1YM8mz7EEX">my screencast</a> (in Chinese)</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299020 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299020 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299020">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299021">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299021" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/discordinternational8" title="Newbie discordinternational8" class="rated-user user-gray">discordinternational8</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 19:18 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299021" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/discordinternational8" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/4913692/avatar/401785118cf28662.jpg">        </a>
        <div><a href="/profile/discordinternational8" title="Newbie discordinternational8" class="rated-user user-gray">discordinternational8</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 19:18 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299021" href="?#comment-1299021" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299021" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="4913692" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299021">
                        <div class="moveup">
                        <div class="ttypography"><p><strong>Given an array A of length n, define a transformation on each element as B[i] = 2n  A[i]. Then construct a new array by applying the following rules:</strong> **** <strong>Initialization:</strong> **** <strong>Set A[0] = min(A[0], B[0]).</strong> **** <strong>For each index j from 1 to n  1:</strong> **** <strong>Compare the previous value A[j  1] with both A[j] and B[j].</strong> **** <strong>Case 1: If A[j  1]  A[j] and A[j  1]  B[j],</strong> <strong> choose min(A[j], B[j]) as the next value.</strong> **** <strong>Case 2: If A[j  1] &gt; A[j] and A[j  1] &gt; B[j],</strong> <strong> again choose min(A[j], B[j]) .</strong> **** <strong>Case 3: If A[j  1] &gt; A[j] and A[j  1]  B[j],</strong> <strong> choose B[j]</strong> **** <strong>Case 4: If A[j  1]  A[j] and A[j  1] &gt; B[j],</strong> <strong> choose A[j]</strong> **** **** **** <strong>will it work...??</strong></p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299021 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299021 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299021">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299037">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299037" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/saquib2508" title="Pupil saquib2508" class="rated-user user-green">saquib2508</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 20:03 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299037" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/saquib2508" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/371590/avatar/58165d0b674a4255.jpg">        </a>
        <div><a href="/profile/saquib2508" title="Pupil saquib2508" class="rated-user user-green">saquib2508</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 20:03 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299037" href="?#comment-1299037" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299037" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="371590" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299037">
                        <div class="moveup">
                        <div class="ttypography"><p>For problem Div2E1, the editorial says</p><p>For example, if <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3591"><span class="MJXp-msubsup" id="MJXp-Span-3592"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3593" style="margin-right: 0.05em;">f</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3594" style="vertical-align: -0.4em;">0</span></span><span class="MJXp-mo" id="MJXp-Span-3595" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-msubsup" id="MJXp-Span-3596"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3597" style="margin-right: 0.05em;">f</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3598" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-3599" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-3600" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-3601">10000101</span><span class="MJXp-msubsup" id="MJXp-Span-3602"><span class="MJXp-mo" id="MJXp-Span-3603" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3604" style="vertical-align: -0.4em;">2</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-435-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-435">f_0f_1 = (10000101)_2</script>, we can get <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3605"><span class="MJXp-msubsup" id="MJXp-Span-3606"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3607" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3608" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-3609" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-3610"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3611" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3612" style="vertical-align: -0.4em;">3</span></span><span class="MJXp-mo" id="MJXp-Span-3613" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-3614"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3615" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3616" style="vertical-align: -0.4em;">8</span></span><span class="MJXp-msup" id="MJXp-Span-3617"><span class="MJXp-mo" id="MJXp-Span-3618" style="margin-left: 0.333em; margin-right: 0.05em;">=</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-3619" style="vertical-align: 0.5em;"></span></span><span class="MJXp-msup" id="MJXp-Span-3620"><span class="MJXp-mo" id="MJXp-Span-3621" style="margin-left: 0em; margin-right: 0.05em;">(</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-3622" style="vertical-align: 0.5em;"></span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-436-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-436">s_1 = s_3 = s_8 = '('</script>.</p><p>shouldn't it be <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3623"><span class="MJXp-msubsup" id="MJXp-Span-3624"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3625" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3626" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-3627" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-3628"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3629" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3630" style="vertical-align: -0.4em;">3</span></span><span class="MJXp-mo" id="MJXp-Span-3631" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-3632"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3633" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3634" style="vertical-align: -0.4em;">8</span></span><span class="MJXp-msup" id="MJXp-Span-3635"><span class="MJXp-mo" id="MJXp-Span-3636" style="margin-left: 0.333em; margin-right: 0.05em;">=</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-3637" style="vertical-align: 0.5em;"></span></span><span class="MJXp-msup" id="MJXp-Span-3638"><span class="MJXp-mo" id="MJXp-Span-3639" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-3640" style="vertical-align: 0.5em;"></span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-437-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-437">s_1 = s_3 = s_8 = ')'</script>? Or am I understanding it wrong?</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299037 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299037 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299037">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299060">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299060" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Zmjjk" title="Newbie Zmjjk" class="rated-user user-gray">Zmjjk</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 20:41 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299060" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Zmjjk" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/Zmjjk" title="Newbie Zmjjk" class="rated-user user-gray">Zmjjk</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 20:41 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299060" href="?#comment-1299060" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299060" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="4370396" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299060">
                        <div class="moveup">
                        <div class="ttypography"><p>can anyone provide me questions similar to "D2A Submission is All You Need"</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299060 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299060 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299060">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299069">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299069" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/rezidentura" title="Pupil rezidentura" class="rated-user user-green">rezidentura</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 21:46 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299069" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/rezidentura" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/1984881/avatar/9eb919cb6c949ba1.jpg">        </a>
        <div><a href="/profile/rezidentura" title="Pupil rezidentura" class="rated-user user-green">rezidentura</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 21:46 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299069" href="?#comment-1299069" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1299069" revisioncount="4" revision="4">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">4</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299069" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="1984881" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299069">
                        <div class="moveup">
                        <div class="ttypography"><p>Good</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299069 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299069 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299069">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299072">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299072" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Maskym" title="Specialist Maskym" class="rated-user user-cyan">Maskym</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 21:56 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299072" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Maskym" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/334870/avatar/cf2027f37a12afdb.jpg">        </a>
        <div><a href="/profile/Maskym" title="Specialist Maskym" class="rated-user user-cyan">Maskym</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 21:56 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299072" href="?#comment-1299072" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299072" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="334870" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299072">
                        <div class="moveup">
                        <div class="ttypography"><p>Is it just me, or the constraint for C confusing af?..</p><p>It's basically sort all segments increasing L and decreasing R for same Ls, then</p> <pre><code class="prettyprint prettyprinted" style=""><span class="pln">ans </span><span class="pun">=</span><span class="pln"> array</span><span class="pun">(</span><span class="pln">s</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">id</span><span class="pun">)</span><span class="pln">
r </span><span class="pun">=</span><span class="pln"> s</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">r
</span><span class="kwd">for</span><span class="pln"> i </span><span class="kwd">in</span><span class="pln"> SZ</span><span class="pun">:</span><span class="pln">
  </span><span class="kwd">if</span><span class="pln"> s</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">r </span><span class="pun">&gt;</span><span class="pln"> r</span><span class="pun">:</span><span class="pln">
    r </span><span class="pun">=</span><span class="pln"> s</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">r
    ans</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">s</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">id</span><span class="pun">)</span><span class="pln">

</span><span class="kwd">print</span><span class="pun">(</span><span class="pln">ans</span><span class="pun">)</span></code></pre><p>Works NlogN.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299072 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299072 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299072">
                <li>
<div class="comment" commentid="1299155">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299155" commentparentid="1299072">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/LightWave" title="Pupil LightWave" class="rated-user user-green">LightWave</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 06:15 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299155" commentparentid="1299072">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/LightWave" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3527349/avatar/3659010b6cc94c16.jpg">        </a>
        <div><a href="/profile/LightWave" title="Pupil LightWave" class="rated-user user-green">LightWave</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 06:15 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299155" href="?#comment-1299155" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299072" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299155" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3527349" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299155">
                        <div class="moveup">
                        <div class="ttypography"><p>same, inspired by job secheduling</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299155 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299155 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299155">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1299075">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299075" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/dmkwis" title="Expert dmkwis" class="rated-user user-blue">dmkwis</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 22:18 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299075" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/dmkwis" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/dmkwis" title="Expert dmkwis" class="rated-user user-blue">dmkwis</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 22:18 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299075" href="?#comment-1299075" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299075" class="CommentVoteFrame" myvotedirection="0" data-commentrating="8" data-commentuserid="904206" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+8</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299075">
                        <div class="moveup">
                        <div class="ttypography"><p>Could anybody explain a little bit clearer on how does DP in D1D work? Can't get it from editorial :/</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299075 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299075 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299075">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299077">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299077" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/nzo" title="Expert nzo" class="rated-user user-blue">nzo</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 22:29 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">3</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299077" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/nzo" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/1999434/avatar/aa4cd0672f256a66.jpg">        </a>
        <div><a href="/profile/nzo" title="Expert nzo" class="rated-user user-blue">nzo</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 22:29 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299077" href="?#comment-1299077" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299077" class="CommentVoteFrame" myvotedirection="0" data-commentrating="6" data-commentuserid="1999434" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+6</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299077">
                        <div class="moveup">
                        <div class="ttypography"><p>Div1C can be done in 100 or less queries by observing we can ask for the answer of a string consisting of "<span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3641"><span class="MJXp-msubsup" id="MJXp-Span-3642"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3643" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-3644" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-3645" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-438-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-438">s_i)</script>" concatenated <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3646"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3647">x</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-439-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-439">x</script> times and get <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3648"><span class="MJXp-mfrac" id="MJXp-Span-3649" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3650">x</span><span class="MJXp-mo" id="MJXp-Span-3651">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3652">x</span><span class="MJXp-mo" id="MJXp-Span-3653">+</span><span class="MJXp-mn" id="MJXp-Span-3654">1</span><span class="MJXp-mo" id="MJXp-Span-3655">)</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-3656">2</span></span></span></span></span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-440-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-440">\frac{x(x+1)}{2}</script> as the answer if <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3657"><span class="MJXp-msubsup" id="MJXp-Span-3658"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3659" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-3660" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-441-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-441">s_i</script> is '<span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3661"><span class="MJXp-mo" id="MJXp-Span-3662" style="margin-left: 0em; margin-right: 0em;">(</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-442-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-442">(</script>' and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3663"><span class="MJXp-mn" id="MJXp-Span-3664">0</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-443-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-443">0</script> otherwise. </p><p>With that in mind we can try to construct every power of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3665"><span class="MJXp-mn" id="MJXp-Span-3666">2</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-444-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-444">2</script> up to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3667"><span class="MJXp-msubsup" id="MJXp-Span-3668"><span class="MJXp-mn" id="MJXp-Span-3669" style="margin-right: 0.05em;">2</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-3670" style="vertical-align: 0.5em;">x</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-445-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-445">2^x</script> as a sum of triangular numbers and query for it after. Turns out <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3671"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3672">x</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-446-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-446">x</script> can go up to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3673"><span class="MJXp-mn" id="MJXp-Span-3674">13</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-447-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-447">13</script> if our max for characters in a query is <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3675"><span class="MJXp-mn" id="MJXp-Span-3676">1000</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-448-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-448">1000</script>, so we can solve even the hard version this way. </p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299077 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299077 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299077">
                <li>
<div class="comment" commentid="1299259">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299259" commentparentid="1299077">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/tinyfold" title="Specialist tinyfold" class="rated-user user-cyan">tinyfold</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 14:53 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">2</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299259" commentparentid="1299077">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/tinyfold" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/tinyfold" title="Specialist tinyfold" class="rated-user user-cyan">tinyfold</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 14:53 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299259" href="?#comment-1299259" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299077" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299259" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="4438621" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299259">
                        <div class="moveup">
                        <div class="ttypography"><p>Nice solution! May I know the proof that each power of 2 can be represented as the sum of triangular numbers? Thanks</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299259 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299259 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299259">
                <li>
<div class="comment" commentid="1299286">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299286" commentparentid="1299259">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/nzo" title="Expert nzo" class="rated-user user-blue">nzo</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 16:15 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299286" commentparentid="1299259">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/nzo" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/1999434/avatar/aa4cd0672f256a66.jpg">        </a>
        <div><a href="/profile/nzo" title="Expert nzo" class="rated-user user-blue">nzo</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 16:15 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299286" href="?#comment-1299286" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299259" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299286" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="1999434" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299286">
                        <div class="moveup">
                        <div class="ttypography"><p><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3677"><span class="MJXp-mn" id="MJXp-Span-3678">1</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-449-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-449">1</script> is a triangular number, so actually any positive value can be represented by triangular numbers. You can construct a number <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3679"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3680">x</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-450-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-450">x</script> greedly always picking the greatest triangular number less than or equal to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3681"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3682">x</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-451-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-451">x</script> and subtracting <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3683"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3684">x</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-452-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-452">x</script> by it. I don't know if that's the best way, but it's good enough for this problem. </p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299286 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299286 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299286">
                <li>
<div class="comment" commentid="1299577">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299577" commentparentid="1299286">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/tinyfold" title="Specialist tinyfold" class="rated-user user-cyan">tinyfold</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 19:57 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299577" commentparentid="1299286">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/tinyfold" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/tinyfold" title="Specialist tinyfold" class="rated-user user-cyan">tinyfold</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 19:57 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299577" href="?#comment-1299577" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299286" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1299577" revisioncount="6" revision="6">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">6</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299577" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="4438621" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299577">
                        <div class="moveup">
                        <div class="ttypography"><p>Ok, I see. It turns out that according to Gauss's Eureka Theorem, it states that all positive integers can be represented as the sum of 3 triangular numbers. The optimal configuration also cannot be greedly found. However, finding this configuration is not needed for this problem as seen in <a href="/contest/2130/submission/332146124" title="Submission 332146124 by tinyfold">332146124</a>.</p><p>My code utilizes the fact that a similar system to replace binary encoding can be created by just using triangular numbers. I brute force each triangular number in a seperate piece of code to find the indexes of a series of triangular numbers where <code class="tt">a_i_j &gt; \sum_{1}{i_j-1}a_i_k</code> to preserve uniqueness of each possible combination. The maximum number of locations per query using this solution is 13. If anyone finds a better solution in terms of locations per query, please let me know with how you did it!</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299577 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299577 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299577">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1299087">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299087" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/LXL4510" title="Candidate Master LXL4510" class="rated-user user-violet">LXL4510</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 23:33 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299087" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/LXL4510" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2925782/avatar/87ead4ecd3339483.jpg">        </a>
        <div><a href="/profile/LXL4510" title="Candidate Master LXL4510" class="rated-user user-violet">LXL4510</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 23:33 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299087" href="?#comment-1299087" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299087" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2925782" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299087">
                        <div class="moveup">
                        <div class="ttypography"><p>in D2E1 &amp; E2 &amp; E3, i can only find a '(' to solve all the problem : (x ((yy (x ((yy ((((zzzz ((((((((wwwwwwww ...... (x ( (y(y ( (z(z(z .......</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299087 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299087 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299087">
                <li>
<div class="comment" commentid="1299089">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299089" commentparentid="1299087">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/LXL4510" title="Candidate Master LXL4510" class="rated-user user-violet">LXL4510</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 23:34 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299089" commentparentid="1299087">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/LXL4510" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2925782/avatar/87ead4ecd3339483.jpg">        </a>
        <div><a href="/profile/LXL4510" title="Candidate Master LXL4510" class="rated-user user-violet">LXL4510</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Jul/31/2025 23:34 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299089" href="?#comment-1299089" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299087" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299089" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2925782" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299089">
                        <div class="moveup">
                        <div class="ttypography"><p>the first is (x((yy</p><p>the second is (x((yy((((zzzz((((((((wwwwwwww....</p><p>the third is (x ( (y(y ( (z(z(z like the second solution of E3</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299089 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299089 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299089">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1299093">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299093" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/masonpop" title="Grandmaster masonpop" class="rated-user user-red">masonpop</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 00:24 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299093" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/masonpop" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2757875/avatar/5beeb338d429efe4.jpg">        </a>
        <div><a href="/profile/masonpop" title="Grandmaster masonpop" class="rated-user user-red">masonpop</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 00:24 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299093" href="?#comment-1299093" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299093" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2757875" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299093">
                        <div class="moveup">
                        <div class="ttypography"><p>C3 too hard for me :(</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299093 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299093 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299093">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299106">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299106" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Oanh_va_Khoi" title="Candidate Master Oanh_va_Khoi" class="rated-user user-violet">Oanh_va_Khoi</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 02:17 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">7</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299106" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Oanh_va_Khoi" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2745991/avatar/67de1542752f73c9.jpg">        </a>
        <div><a href="/profile/Oanh_va_Khoi" title="Candidate Master Oanh_va_Khoi" class="rated-user user-violet">Oanh_va_Khoi</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 02:17 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299106" href="?#comment-1299106" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299106" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2745991" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299106">
                        <div class="moveup">
                        <div class="ttypography"><p>Is there any knowledge to know How to find out the ways to construct the string on E2 / C2, E3 / C3 ?</p><p>On C1, I just write it on my notebook. But on C2, I have to run backtracking but I can't :( </p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299106 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299106 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299106">
                <li>
<div class="comment" commentid="1299120">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299120" commentparentid="1299106">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/TrendBattles" title="Expert TrendBattles" class="rated-user user-blue">TrendBattles</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 03:20 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">4</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299120" commentparentid="1299106">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/TrendBattles" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2162626/avatar/6d237f290230da3b.jpg">        </a>
        <div><a href="/profile/TrendBattles" title="Expert TrendBattles" class="rated-user user-blue">TrendBattles</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 03:20 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299120" href="?#comment-1299120" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299106" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299120" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2162626" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299120">
                        <div class="moveup">
                        <div class="ttypography"><p>The overall solution involves using <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3685"><span class="MJXp-msubsup" id="MJXp-Span-3686"><span class="MJXp-mn" id="MJXp-Span-3687" style="margin-right: 0.05em;">2</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-3688" style="vertical-align: 0.5em;"><span class="MJXp-mn" id="MJXp-Span-3689">0</span></span></span><span class="MJXp-mo" id="MJXp-Span-3690" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-3691"><span class="MJXp-mn" id="MJXp-Span-3692" style="margin-right: 0.05em;">2</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-3693" style="vertical-align: 0.5em;"><span class="MJXp-mn" id="MJXp-Span-3694">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-3695" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-3696" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-3697" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-3698" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-3699" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-3700"><span class="MJXp-mn" id="MJXp-Span-3701" style="margin-right: 0.05em;">2</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-3702" style="vertical-align: 0.5em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3703">k</span><span class="MJXp-mo" id="MJXp-Span-3704"></span><span class="MJXp-mn" id="MJXp-Span-3705">1</span></span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-453-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-453">2^{0}, 2^{1}, ..., 2^{k - 1}</script> occurrences to detect <code class="tt">k</code> unknown characters in the string and after that, it's just maximizing <code class="tt">k</code>.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299120 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299120 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299120">
                <li>
<div class="comment" commentid="1299121">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299121" commentparentid="1299120">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Oanh_va_Khoi" title="Candidate Master Oanh_va_Khoi" class="rated-user user-violet">Oanh_va_Khoi</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 03:21 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">3</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299121" commentparentid="1299120">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Oanh_va_Khoi" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2745991/avatar/67de1542752f73c9.jpg">        </a>
        <div><a href="/profile/Oanh_va_Khoi" title="Candidate Master Oanh_va_Khoi" class="rated-user user-violet">Oanh_va_Khoi</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 03:21 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299121" href="?#comment-1299121" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299120" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1299121" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299121" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2745991" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299121">
                        <div class="moveup">
                        <div class="ttypography"><p>But how do you know that ? Or just using backtracking to find out ^^</p><p>Sorry because I'm just caring about "how to think", not the editorials :D :D :D </p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299121 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299121 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299121">
                <li>
<div class="comment" commentid="1299124">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299124" commentparentid="1299121">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/TrendBattles" title="Expert TrendBattles" class="rated-user user-blue">TrendBattles</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 03:25 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">2</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299124" commentparentid="1299121">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/TrendBattles" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2162626/avatar/6d237f290230da3b.jpg">        </a>
        <div><a href="/profile/TrendBattles" title="Expert TrendBattles" class="rated-user user-blue">TrendBattles</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 03:25 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299124" href="?#comment-1299124" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299121" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299124" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2162626" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299124">
                        <div class="moveup">
                        <div class="ttypography"><p>It was an accident I guess haha. I was doing E1 where I tried to know 2 unknown characters at a time and my brain just thought of making one appearing 2 times while the other exists once.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299124 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299124 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299124">
                <li>
<div class="comment" commentid="1299125">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299125" commentparentid="1299124">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Oanh_va_Khoi" title="Candidate Master Oanh_va_Khoi" class="rated-user user-violet">Oanh_va_Khoi</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 03:29 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299125" commentparentid="1299124">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Oanh_va_Khoi" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2745991/avatar/67de1542752f73c9.jpg">        </a>
        <div><a href="/profile/Oanh_va_Khoi" title="Candidate Master Oanh_va_Khoi" class="rated-user user-violet">Oanh_va_Khoi</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 03:29 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299125" href="?#comment-1299125" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299124" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299125" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2745991" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299125">
                        <div class="moveup">
                        <div class="ttypography"><p>Yeah it took me about 40 minutes to write on notebook to find out the way to construct on E1 / C1. </p><p>I want to find s[i] and s[i + 1], so I listed all the case </p><p>But on E2 / C2, I think I have to find about 6 contiguous characters, so can not write on notebook, I used backtracking but can't :( :( :(</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299125 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299125 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299125">
                <li>
<div class="comment" commentid="1299129">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299129" commentparentid="1299125">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/TrendBattles" title="Expert TrendBattles" class="rated-user user-blue">TrendBattles</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 03:48 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299129" commentparentid="1299125">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/TrendBattles" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2162626/avatar/6d237f290230da3b.jpg">        </a>
        <div><a href="/profile/TrendBattles" title="Expert TrendBattles" class="rated-user user-blue">TrendBattles</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 03:48 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299129" href="?#comment-1299129" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299125" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299129" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2162626" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299129">
                        <div class="moveup">
                        <div class="ttypography"><p>If only you noticed the binary coding fr. </p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299129 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299129 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299129">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
                <li>
<div class="comment" commentid="1299122">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299122" commentparentid="1299106">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/people_plus_plus" title="Candidate Master people_plus_plus" class="rated-user user-violet">people_plus_plus</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 03:22 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299122" commentparentid="1299106">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/people_plus_plus" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/people_plus_plus" title="Candidate Master people_plus_plus" class="rated-user user-violet">people_plus_plus</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 03:22 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299122" href="?#comment-1299122" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299106" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299122" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="1643560" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299122">
                        <div class="moveup">
                        <div class="ttypography"><p>I made a brute force to find pattern in C2/E2</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299122 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299122 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299122">
                <li>
<div class="comment" commentid="1299123">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299123" commentparentid="1299122">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Oanh_va_Khoi" title="Candidate Master Oanh_va_Khoi" class="rated-user user-violet">Oanh_va_Khoi</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 03:24 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299123" commentparentid="1299122">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Oanh_va_Khoi" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2745991/avatar/67de1542752f73c9.jpg">        </a>
        <div><a href="/profile/Oanh_va_Khoi" title="Candidate Master Oanh_va_Khoi" class="rated-user user-violet">Oanh_va_Khoi</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 03:24 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299123" href="?#comment-1299123" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299122" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299123" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2745991" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299123">
                        <div class="moveup">
                        <div class="ttypography"><p>Same as me, but I used backtracking but my backtracking program works about 30 minutes and it still did not find out the ways :D</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299123 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299123 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299123">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1299113">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299113" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/negative-xp" title="Master negative-xp" class="rated-user user-orange">negative-xp</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 02:56 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299113" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/negative-xp" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/4043346/avatar/d2979d356511d0ad.jpg">        </a>
        <div><a href="/profile/negative-xp" title="Master negative-xp" class="rated-user user-orange">negative-xp</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 02:56 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299113" href="?#comment-1299113" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1299113" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299113" class="CommentVoteFrame" myvotedirection="0" data-commentrating="1" data-commentuserid="4043346" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+1</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299113">
                        <div class="moveup">
                        <div class="ttypography"><p>Alternate solution for 1C2:</p> <ul>   <li>Find a "(" and a ")" in <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3706"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3707">O</span><span class="MJXp-mo" id="MJXp-Span-3708" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi" id="MJXp-Span-3709">log</span><span class="MJXp-mo" id="MJXp-Span-3710" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-3711"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3712">n</span></span><span class="MJXp-mo" id="MJXp-Span-3713" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-454-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-454">O(\log{n})</script> queries through any method of your choice.</li>   <li>Let there be three constants <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3714"><span class="MJXp-msubsup" id="MJXp-Span-3715"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3716" style="margin-right: 0.05em;">c</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3717" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-3718" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-3719"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3720" style="margin-right: 0.05em;">c</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3721" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-3722" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-3723"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3724" style="margin-right: 0.05em;">c</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3725" style="vertical-align: -0.4em;">3</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-455-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-455">c_1, c_2, c_3</script>.</li>   <li>We'll find the characters at six positions in one query. Let them be <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3726"><span class="MJXp-msubsup" id="MJXp-Span-3727"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3728" style="margin-right: 0.05em;">i</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3729" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-3730" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-3731"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3732" style="margin-right: 0.05em;">i</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3733" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-3734" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-3735" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-3736" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-3737"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3738" style="margin-right: 0.05em;">i</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3739" style="vertical-align: -0.4em;">6</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-456-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-456">i_1, i_2, \dots, i_6</script>.</li>   <li>Our queried string is <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3740"><span class="MJXp-msubsup" id="MJXp-Span-3741"><span class="MJXp-mo" id="MJXp-Span-3742" style="margin-left: 0.111em; margin-right: 0.05em;"></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-3747"><span class="MJXp-mn" id="MJXp-Span-3748">3</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-3743"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3744">j</span><span class="MJXp-mo" id="MJXp-Span-3745">=</span><span class="MJXp-mn" id="MJXp-Span-3746">1</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-3749" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-3750" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-3751"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3752" style="margin-right: 0.05em;">c</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-3753" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-3754" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-3755">1</span><span class="MJXp-mo" id="MJXp-Span-3756" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3757" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mtext" id="MJXp-Span-3758">"("</span><span class="MJXp-mo" id="MJXp-Span-3759" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3760" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-3761" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-3762"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3763" style="margin-right: 0.05em;">c</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-3764" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-3765" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mo" id="MJXp-Span-3766" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-3767"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3768" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-3769" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-3770"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3771" style="margin-right: 0.05em;">i</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-3772" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-3773">2</span><span class="MJXp-mo" id="MJXp-Span-3774"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3775">j</span><span class="MJXp-mo" id="MJXp-Span-3776"></span><span class="MJXp-mn" id="MJXp-Span-3777">1</span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-3778"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3779" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-3780" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-3781"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3782" style="margin-right: 0.05em;">i</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-3783" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-3784">2</span><span class="MJXp-mo" id="MJXp-Span-3785"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3786">j</span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-3787" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3788" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3789" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-3790" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-3791" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-3792">3</span><span class="MJXp-mo" id="MJXp-Span-3793" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-msubsup" id="MJXp-Span-3794"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3795" style="margin-right: 0.05em;">c</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-3796" style="vertical-align: -0.4em;">j</span></span><span class="MJXp-mo" id="MJXp-Span-3797" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3798" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mtext" id="MJXp-Span-3799">")"</span><span class="MJXp-mo" id="MJXp-Span-3800" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-457-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-457">\sum_{j = 1}^{3} ((c_j - 1) \cdot \text{"("}) + (c_j \cdot (s_{i_{2 \cdot j - 1}} s_{i_{2 \cdot j}})) + ((3 \cdot c_j) \cdot \text{")"})</script>.</li>   <li>If we choose the constants carefully, then every possible combination of values for characters <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3801"><span class="MJXp-msubsup" id="MJXp-Span-3802"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3803" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-3804" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-3805"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3806" style="margin-right: 0.05em;">i</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3807" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-3808" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-3809"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3810" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-3811" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-3812"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3813" style="margin-right: 0.05em;">i</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3814" style="vertical-align: -0.4em;">2</span></span></span></span><span class="MJXp-mo" id="MJXp-Span-3815" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-3816" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-3817" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-3818"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3819" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-3820" style="vertical-align: -0.4em;"><span class="MJXp-msubsup" id="MJXp-Span-3821"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3822" style="margin-right: 0.05em;">i</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3823" style="vertical-align: -0.4em;">6</span></span></span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-458-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-458">s_{i_1}, s_{i_2}, \dots, s_{i_6}</script> yields a different number of valid substrings in its corresponding string. One such set of constants is <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3824"><span class="MJXp-msubsup" id="MJXp-Span-3825"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3826" style="margin-right: 0.05em;">c</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3827" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-3828" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-3829">36</span><span class="MJXp-mo" id="MJXp-Span-3830" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-3831"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3832" style="margin-right: 0.05em;">c</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3833" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-3834" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-3835">12</span><span class="MJXp-mo" id="MJXp-Span-3836" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-3837"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3838" style="margin-right: 0.05em;">c</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3839" style="vertical-align: -0.4em;">3</span></span><span class="MJXp-mo" id="MJXp-Span-3840" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-3841">5</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-459-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-459">c_1 = 36, c_2 = 12, c_3 = 5</script>.</li>   <li>The total number of queries we use is <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3842"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3843">O</span><span class="MJXp-mo" id="MJXp-Span-3844" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi" id="MJXp-Span-3845">log</span><span class="MJXp-mo" id="MJXp-Span-3846" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-3847"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3848">n</span></span><span class="MJXp-mo" id="MJXp-Span-3849" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3850" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3851">n</span><span class="MJXp-mrow" id="MJXp-Span-3852"><span class="MJXp-mo" id="MJXp-Span-3853" style="margin-left: 0.111em; margin-right: 0.111em;">/</span></span><span class="MJXp-mn" id="MJXp-Span-3854">6</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-460-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-460">O(\log{n}) + n/6</script> which stays below 200 even if you have a 2x constant factor for the <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3855"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3856">O</span><span class="MJXp-mo" id="MJXp-Span-3857" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi" id="MJXp-Span-3858">log</span><span class="MJXp-mo" id="MJXp-Span-3859" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mrow" id="MJXp-Span-3860"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3861">n</span></span><span class="MJXp-mo" id="MJXp-Span-3862" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-461-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-461">O(\log{n})</script> queries.</li> </ul><p><a href="/contest/2129/submission/331884800" title="Submission 331884800 by negative-xp">331884800</a></p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299113 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299113 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299113">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299127">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299127" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Sai_t" title="International Grandmaster Sai_t" class="rated-user user-red">Sai_t</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 03:45 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299127" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Sai_t" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/1397506/avatar/d1301331b710c4bf.jpg">        </a>
        <div><a href="/profile/Sai_t" title="International Grandmaster Sai_t" class="rated-user user-red">Sai_t</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 03:45 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299127" href="?#comment-1299127" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299127" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="1397506" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299127">
                        <div class="moveup">
                        <div class="ttypography"><p>My <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3863"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3864">O</span><span class="MJXp-mo" id="MJXp-Span-3865" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-3866"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3867" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3868" style="vertical-align: 0.5em;">3</span></span><span class="MJXp-msubsup" id="MJXp-Span-3869"><span class="MJXp-mi" id="MJXp-Span-3870" style="margin-right: 0.05em;">log</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3871" style="vertical-align: 0.5em;">3</span></span><span class="MJXp-mo" id="MJXp-Span-3872" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3873">n</span><span class="MJXp-mo" id="MJXp-Span-3874" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-462-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-462">O(n^3\log^3n)</script> solution to div1D got TLE until I optimized it to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3875"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3876">O</span><span class="MJXp-mo" id="MJXp-Span-3877" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-3878"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3879" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3880" style="vertical-align: 0.5em;">3</span></span><span class="MJXp-msubsup" id="MJXp-Span-3881"><span class="MJXp-mi" id="MJXp-Span-3882" style="margin-right: 0.05em;">log</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3883" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-3884" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3885">n</span><span class="MJXp-mo" id="MJXp-Span-3886" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-463-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-463">O(n^3\log^2n)</script>. Maybe the constraints are too narrow.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299127 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299127 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299127">
                <li>
<div class="comment" commentid="1299128">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299128" commentparentid="1299127">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/masonpop" title="Grandmaster masonpop" class="rated-user user-red">masonpop</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 03:48 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299128" commentparentid="1299127">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/masonpop" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2757875/avatar/5beeb338d429efe4.jpg">        </a>
        <div><a href="/profile/masonpop" title="Grandmaster masonpop" class="rated-user user-red">masonpop</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 03:48 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299128" href="?#comment-1299128" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299127" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299128" class="CommentVoteFrame" myvotedirection="0" data-commentrating="5" data-commentuserid="2757875" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+5</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299128">
                        <div class="moveup">
                        <div class="ttypography"><p>I passed with <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3887"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3888">O</span><span class="MJXp-mo" id="MJXp-Span-3889" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-3890"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3891" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3892" style="vertical-align: 0.5em;">3</span></span><span class="MJXp-msubsup" id="MJXp-Span-3893"><span class="MJXp-mi" id="MJXp-Span-3894" style="margin-right: 0.05em;">log</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3895" style="vertical-align: 0.5em;">4</span></span><span class="MJXp-mo" id="MJXp-Span-3896" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3897">n</span><span class="MJXp-mo" id="MJXp-Span-3898" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-464-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-464">O(n^3\log^4 n)</script> lol</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299128 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299128 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299128">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1299135">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299135" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Syrus" title="Master Syrus" class="rated-user user-orange">Syrus</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 04:22 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299135" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Syrus" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3277461/avatar/ac5ccdc4ab76498f.jpg">        </a>
        <div><a href="/profile/Syrus" title="Master Syrus" class="rated-user user-orange">Syrus</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 04:22 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299135" href="?#comment-1299135" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1299135" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299135" class="CommentVoteFrame" myvotedirection="0" data-commentrating="8" data-commentuserid="3277461" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+8</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299135">
                        <div class="moveup">
                        <div class="ttypography"><p>Actually, Problem C/E can determine 13 locations in one query. It needs about 87 queries.</p><p>The main idea is using <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3899"><span class="MJXp-munderover" id="MJXp-Span-3900"><span class=""><span class="MJXp-mrow" id="MJXp-Span-3901"><span class="MJXp-munderover" id="MJXp-Span-3902"><span class=""><span class="MJXp-mo" id="MJXp-Span-3903" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-3904" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3905" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-3906" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3907" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-3908" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3909" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-3910" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3911" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-3912" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-3913" style="margin-left: 0em; margin-right: 0.222em;">.</span><span class="MJXp-mo" id="MJXp-Span-3914" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-3915" style="margin-left: 0em; margin-right: 0em;">)</span></span><span class=""><span class="MJXp-mo" id="MJXp-Span-3916" style="margin-left: 0px; margin-right: 0em;"></span></span></span></span></span><span class=" MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-3917" style="margin-left: 0px;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3918">c</span><span class="MJXp-mtext" id="MJXp-Span-3919">&nbsp;</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3920">t</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3921">i</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3922">m</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3923">e</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3924">s</span></span></span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-465-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-465">\underbrace{()()()()...()}_{c\ times}</script> structure, and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3925"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3926">f</span><span class="MJXp-mo" id="MJXp-Span-3927" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3928">s</span><span class="MJXp-mo" id="MJXp-Span-3929" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-3930" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mrow" id="MJXp-Span-3931"><span class="MJXp-TeXmathchoice" id="MJXp-Span-3932"><span class="MJXp-mstyle" id="MJXp-Span-3933"><span class="MJXp-mrow" id="MJXp-Span-3934"><span class="MJXp-mo" id="MJXp-Span-3935" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.083em;"><span class="MJXp-right MJXp-scale10" style="font-size: 1.333em; margin-left: 0.07em;">(</span></span></span></span></span><span class="MJXp-mfrac" id="MJXp-Span-3936"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3937">c</span></span><span class="MJXp-box" style="margin-top: -0.7em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-3938">2</span></span></span></span></span></span><span class="MJXp-TeXmathchoice" id="MJXp-Span-3939"><span class="MJXp-mstyle" id="MJXp-Span-3940"><span class="MJXp-mrow" id="MJXp-Span-3941"><span class="MJXp-mo" id="MJXp-Span-3942" style="margin-left: 0em; margin-right: 0em; vertical-align: -0.083em;"><span class="MJXp-right MJXp-scale10" style="font-size: 1.333em; margin-left: 0.07em;">)</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-3943" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3944">c</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-466-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-466">f(s)=\binom{c}{2}+c</script>. Just using knapsack and you can see that <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3945"><span class="MJXp-msubsup" id="MJXp-Span-3946"><span class="MJXp-mn" id="MJXp-Span-3947" style="margin-right: 0.05em;">2</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3948" style="vertical-align: 0.5em;">0</span></span><span class="MJXp-mo" id="MJXp-Span-3949" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-3950"><span class="MJXp-mn" id="MJXp-Span-3951" style="margin-right: 0.05em;">2</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3952" style="vertical-align: 0.5em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-3953" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-3954" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-3955" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-3956"><span class="MJXp-mn" id="MJXp-Span-3957" style="margin-right: 0.05em;">2</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-3958" style="vertical-align: 0.5em;"><span class="MJXp-mn" id="MJXp-Span-3959">12</span></span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-467-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-467">2^0, 2^1,\dots, 2^{12}</script> only need about 700.</p><p><strong>Code</strong>: <a href="/contest/2129/submission/331838756" title="Submission 331838756 by Syrus">331838756</a></p><p>Sorry for my poor English.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299135 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299135 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299135">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299136">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299136" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/fisher199" title="Master fisher199" class="rated-user user-orange">fisher199</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 04:23 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299136" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/fisher199" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2826266/avatar/2d1e69c4baad1f7c.jpg">        </a>
        <div><a href="/profile/fisher199" title="Master fisher199" class="rated-user user-orange">fisher199</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 04:23 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299136" href="?#comment-1299136" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299136" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2826266" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299136">
                        <div class="moveup">
                        <div class="ttypography"><p>Ok, so something strange that I noticed is that I had a couple of asserts placed throughout the code. Then, when I turned in C2, I got WA. I figured it was a flaw with my approach and spent a decent amount of time trying to figure out what was wrong. Then, through a moment of pure divine stupidity, I decided to turn in my code under the assumption that the WA was actually an RTE... and it worked.</p><p>After the contest, I checked the submissions and indeed, <strong>my RTE was turned into a WA</strong>. So, are interactive problems managed this way or is this something new that I should take into account? Also, does anybody know if the same behavior is present in ICPC tournaments (domJudge, etc)?</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299136 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299136 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299136">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299137">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299137" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/kr25161" title="Expert kr25161" class="rated-user user-blue">kr25161</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 04:25 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299137" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/kr25161" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2918765/avatar/4ae7dc68e3e9698a.jpg">        </a>
        <div><a href="/profile/kr25161" title="Expert kr25161" class="rated-user user-blue">kr25161</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 04:25 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299137" href="?#comment-1299137" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299137" class="CommentVoteFrame" myvotedirection="0" data-commentrating="5" data-commentuserid="2918765" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+5</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299137">
                        <div class="moveup">
                        <div class="ttypography"><p>really good round</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299137 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299137 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299137">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299152">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299152" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Trumpsunderwear" title="Newbie Trumpsunderwear" class="rated-user user-gray">Trumpsunderwear</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 06:06 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">2</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299152" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Trumpsunderwear" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3910021/avatar/a266b88af1c517b3.jpg">        </a>
        <div><a href="/profile/Trumpsunderwear" title="Newbie Trumpsunderwear" class="rated-user user-gray">Trumpsunderwear</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 06:06 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299152" href="?#comment-1299152" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299152" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3910021" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299152">
                        <div class="moveup">
                        <div class="ttypography"><p>For div2B, if anyone is struggling to understand/prove "Why every number except 1 can be obtained be with just 2 &amp; 3"</p> <div class="spoiler"><b class="spoiler-title">Why 2 and 3?</b><div class="spoiler-content" style="display: none;"><p>Below arrangement is optimal for bob as it will not have adjacent pair with 0 and 1 </p><p>0 0 0 2 2 2 1 1 1</p><p>Possible pair sum we were left with is 2 and 3</p><p>There exist an integer x such that x=2*a+3*b will always be obtained.</p><p>In context of this problem x = s-sum_of_array</p></div></div><p><a href="https://artofproblemsolving.com/wiki/index.php/Chicken_McNugget_Theorem">Chicken McNugget theorem</a></p> <div class="spoiler"><b class="spoiler-title">Formula</b><div class="spoiler-content" style="display: none;"><p>Consider a coprime integers m,n such that a*m+b*n=X</p><p>Then greatest number that cannot be obtained with any combination of (m,n) is m*n-(m+n)</p></div></div></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299152 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299152 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299152">
                <li>
<div class="comment" commentid="1299369">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299369" commentparentid="1299152">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/nik_exists" title="Specialist nik_exists" class="rated-user user-cyan">nik_exists</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 03:13 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299369" commentparentid="1299152">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/nik_exists" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/nik_exists" title="Specialist nik_exists" class="rated-user user-cyan">nik_exists</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 03:13 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299369" href="?#comment-1299369" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299152" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299369" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3821763" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299369">
                        <div class="moveup">
                        <div class="ttypography"><p>This is also provable without Chicken McNugget Theorem; all even numbers can be represented as 2x, where x is an arbitrary integer, and all odd numbers can be represented as an even number + 1, and 2x+1 = 2(x-1) + 3, and since we can't be have x &lt;= 0 (as then you would be subtracting 2), you can get all numbers greater than 1.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299369 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299369 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299369">
                <li>
<div class="comment" commentid="1299391">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299391" commentparentid="1299369">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Trumpsunderwear" title="Newbie Trumpsunderwear" class="rated-user user-gray">Trumpsunderwear</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 06:40 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299391" commentparentid="1299369">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Trumpsunderwear" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3910021/avatar/a266b88af1c517b3.jpg">        </a>
        <div><a href="/profile/Trumpsunderwear" title="Newbie Trumpsunderwear" class="rated-user user-gray">Trumpsunderwear</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 06:40 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299391" href="?#comment-1299391" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299369" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299391" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3910021" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299391">
                        <div class="moveup">
                        <div class="ttypography"><p>Thanks for smart and concise proof!!</p><p>But I am so happy that I found this theorem, because I have encountered similar problems like this but had hard time proving it. </p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299391 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299391 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299391">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1299154">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299154" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/abilmansur25011" title="Pupil abilmansur25011" class="rated-user user-green">abilmansur25011</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 06:13 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299154" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/abilmansur25011" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/abilmansur25011" title="Pupil abilmansur25011" class="rated-user user-green">abilmansur25011</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 06:13 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299154" href="?#comment-1299154" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299154" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="4376457" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299154">
                        <div class="moveup">
                        <div class="ttypography"><p>is it possible to solve div2D/div1B using merge sort? if yes, can you please give some ideas how to implement it because I tried so much and it always failed at 2 pretest</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299154 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299154 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299154">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299159">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299159" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/esh_war2" title="Pupil esh_war2" class="rated-user user-green">esh_war2</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 06:42 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299159" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/esh_war2" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/esh_war2" title="Pupil esh_war2" class="rated-user user-green">esh_war2</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 06:42 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299159" href="?#comment-1299159" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299159" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3754662" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299159">
                        <div class="moveup">
                        <div class="ttypography"><p>Attention is all you need , Famous paper on Transformer model.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299159 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299159 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299159">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299161">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299161" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/srijon_32" title="Specialist srijon_32" class="rated-user user-cyan">srijon_32</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 06:44 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">6</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299161" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/srijon_32" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3537063/avatar/b6506793b1d215ff.jpg">        </a>
        <div><a href="/profile/srijon_32" title="Specialist srijon_32" class="rated-user user-cyan">srijon_32</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 06:44 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299161" href="?#comment-1299161" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299161" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3537063" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299161">
                        <div class="moveup">
                        <div class="ttypography"><p>my solution of C in O(nlogn) time complexity</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299161 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299161 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299161">
                <li>
<div class="comment" commentid="1299370">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299370" commentparentid="1299161">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/hsdzhaoziye" title="Pupil hsdzhaoziye" class="rated-user user-green">hsdzhaoziye</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 03:25 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299370" commentparentid="1299161">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/hsdzhaoziye" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3999674/avatar/9110d3ba49c9232d.jpg">        </a>
        <div><a href="/profile/hsdzhaoziye" title="Pupil hsdzhaoziye" class="rated-user user-green">hsdzhaoziye</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 03:25 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299370" href="?#comment-1299370" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299161" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299370" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3999674" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299370">
                        <div class="moveup">
                        <div class="ttypography"><p>Can you explain in detail, please?</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299370 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299370 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299370">
        </ul>
    </div>
</div>
</li>
                <li>
<div class="comment" commentid="1299430">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299430" commentparentid="1299161">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/hsdzhaoziye" title="Pupil hsdzhaoziye" class="rated-user user-green">hsdzhaoziye</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 10:36 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">4</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299430" commentparentid="1299161">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/hsdzhaoziye" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3999674/avatar/9110d3ba49c9232d.jpg">        </a>
        <div><a href="/profile/hsdzhaoziye" title="Pupil hsdzhaoziye" class="rated-user user-green">hsdzhaoziye</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 10:36 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299430" href="?#comment-1299430" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299161" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299430" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3999674" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299430">
                        <div class="moveup">
                        <div class="ttypography"><p>I looked at your code, and if an edge is fully covered, it won't work in this case.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299430 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299430 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299430">
                <li>
<div class="comment" commentid="1299499">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299499" commentparentid="1299430">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/srijon_32" title="Specialist srijon_32" class="rated-user user-cyan">srijon_32</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 14:52 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299499" commentparentid="1299430">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/srijon_32" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3537063/avatar/b6506793b1d215ff.jpg">        </a>
        <div><a href="/profile/srijon_32" title="Specialist srijon_32" class="rated-user user-cyan">srijon_32</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 14:52 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299499" href="?#comment-1299499" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299430" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299499" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3537063" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299499">
                        <div class="moveup">
                        <div class="ttypography"><p>It will work. all points are distinct. and I just need to go min value to max value without creating any cycle.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299499 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299499 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299499">
        </ul>
    </div>
</div>
</li>
                <li>
<div class="comment" commentid="1299503">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299503" commentparentid="1299430">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/srijon_32" title="Specialist srijon_32" class="rated-user user-cyan">srijon_32</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 14:55 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">2</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299503" commentparentid="1299430">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/srijon_32" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3537063/avatar/b6506793b1d215ff.jpg">        </a>
        <div><a href="/profile/srijon_32" title="Specialist srijon_32" class="rated-user user-cyan">srijon_32</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 14:55 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299503" href="?#comment-1299503" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299430" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299503" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3537063" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299503">
                        <div class="moveup">
                        <div class="ttypography"><p>can you give a test case as you said.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299503 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299503 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299503">
                <li>
<div class="comment" commentid="1299507">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299507" commentparentid="1299503">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/hsdzhaoziye" title="Pupil hsdzhaoziye" class="rated-user user-green">hsdzhaoziye</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 15:10 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299507" commentparentid="1299503">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/hsdzhaoziye" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3999674/avatar/9110d3ba49c9232d.jpg">        </a>
        <div><a href="/profile/hsdzhaoziye" title="Pupil hsdzhaoziye" class="rated-user user-green">hsdzhaoziye</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 15:10 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299507" href="?#comment-1299507" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299503" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1299507" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299507" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3999674" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299507">
                        <div class="moveup">
                        <div class="ttypography"><p>Sorry, I misunderstood. Your code's output does achieve the maximum value, but it selects unnecessary edges.<br> example:<br> 1<br> 5<br> 1 3<br> 3 5<br> 4 6<br> 5 6<br> 1 4<br> your output:<br> 4<br> 1 5 2 3</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299507 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299507 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299507">
        </ul>
    </div>
</div>
</li>
                <li>
<div class="comment" commentid="1299508">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299508" commentparentid="1299503">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/hsdzhaoziye" title="Pupil hsdzhaoziye" class="rated-user user-green">hsdzhaoziye</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 15:15 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299508" commentparentid="1299503">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/hsdzhaoziye" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3999674/avatar/9110d3ba49c9232d.jpg">        </a>
        <div><a href="/profile/hsdzhaoziye" title="Pupil hsdzhaoziye" class="rated-user user-green">hsdzhaoziye</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 15:15 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299508" href="?#comment-1299508" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299503" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299508" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3999674" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299508">
                        <div class="moveup">
                        <div class="ttypography"><p>good idea</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299508 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299508 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299508">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1299165">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299165" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/hm114514" title="Specialist hm114514" class="rated-user user-cyan">hm114514</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 06:54 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">6</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299165" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/hm114514" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/4096144/avatar/f945fee944564dbc.jpg">        </a>
        <div><a href="/profile/hm114514" title="Specialist hm114514" class="rated-user user-cyan">hm114514</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 06:54 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299165" href="?#comment-1299165" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299165" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="4096144" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299165">
                        <div class="moveup">
                        <div class="ttypography"><p>Who can tell me the solve of div2D, I can't understand the Editorial</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299165 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299165 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299165">
                <li>
<div class="comment" commentid="1299289">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299289" commentparentid="1299165">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/hannah12345" title="Specialist hannah12345" class="rated-user user-cyan">hannah12345</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 16:36 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">5</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299289" commentparentid="1299165">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/hannah12345" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/4598515/avatar/e7c587cdaacde7e2.jpg">        </a>
        <div><a href="/profile/hannah12345" title="Specialist hannah12345" class="rated-user user-cyan">hannah12345</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 16:36 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299289" href="?#comment-1299289" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299165" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299289" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="4598515" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299289">
                        <div class="moveup">
                        <div class="ttypography"><p>I was confused by this problem too, but this is how I figured it out: </p><p>The actual solution involves going through each element from smallest -&gt; largest values. Start with 1 (no matter what index it may be). You can either keep it as 1 or flip it to the highest possible number (2N-1), resulting in a inversion count of either the number of items before that index (if you kept as 1 because all number before will be higher) or the number of items after (if you flipped to the highest possible number). Then, you REMOVE that index from the permutation p and you go to the next value, 2, and repeat. Notice that whether you flipped 1 or not, it WILL NOT affect any items after it! This is the part that I missed! Think about it:</p> <ul>   <li>If you keep 1 the way it is, then obviously nothing would change</li>   <li>BUT if you flipped it, then you're already counting all the inversions that it causes (by taking the number of items to the right of it considering that all numbers lower have been removed). Even if later on, there is a number that is flipped (and becomes higher than it was originally), it is guaranteed that the new flipped number will always be less than the previously flipped one, resulting in no new inversions! (Ex. 1 is processed before 2 and 1 flipped would be 2N-1 while 2 flipped is 2N-2. Clearly, 2N-1 is greater than 2N-2). So, once you process an item it's basically "irrelevant" when processing future items.</li> </ul><p>Because of this logic, all you need to do is iterate through the numbers from the lowest -&gt; highest original value! If you don't want the hassle of removing the numbers, you could do what the editorial did and just pre-calculate all the numbers to the left/right that are greater for each index considering that all the lower numbers would've already been processed and removed by the time you got to the new number. I hope that makes sense!</p><p>You can see my solution here: <a href="/contest/2130/submission/331985291" title="Submission 331985291 by hannah12345">331985291</a></p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299289 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299289 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299289">
                <li>
<div class="comment" commentid="1299427">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299427" commentparentid="1299289">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/nikagam" title="Pupil nikagam" class="rated-user user-green">nikagam</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 10:16 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">2</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299427" commentparentid="1299289">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/nikagam" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/nikagam" title="Pupil nikagam" class="rated-user user-green">nikagam</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 10:16 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299427" href="?#comment-1299427" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299289" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299427" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="4314378" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299427">
                        <div class="moveup">
                        <div class="ttypography"><p>"Notice that whether you flipped 1 or not, it WILL NOT affect any items after it!"  I can see why this is true: because it's 1, and it's always going to be either the smallest or the largest (if you invert it). Why is that true for other numbers?</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299427 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299427 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299427">
                <li>
<div class="comment" commentid="1299504">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299504" commentparentid="1299427">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/hannah12345" title="Specialist hannah12345" class="rated-user user-cyan">hannah12345</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 14:57 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299504" commentparentid="1299427">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/hannah12345" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/4598515/avatar/e7c587cdaacde7e2.jpg">        </a>
        <div><a href="/profile/hannah12345" title="Specialist hannah12345" class="rated-user user-cyan">hannah12345</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 14:57 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299504" href="?#comment-1299504" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299427" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299504" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="4598515" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299504">
                        <div class="moveup">
                        <div class="ttypography"><p>Because you're processing the numbers in increasing order, it's guaranteed each of the flipped numbers will be lower than previously flipped ones. (Ex. If you flipped 3 first, then flipping 5 later will result in a value less than the result of flipping 3. You account for all the inversions when you first flip 3, including the one involving 5 later, so whether or not you end up flipping 5, its relation with 3 is irrelevant as it was already accounted for.)</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299504 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299504 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299504">
                <li>
<div class="comment" commentid="1299511">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299511" commentparentid="1299504">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/nikagam" title="Pupil nikagam" class="rated-user user-green">nikagam</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 15:18 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299511" commentparentid="1299504">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/nikagam" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/nikagam" title="Pupil nikagam" class="rated-user user-green">nikagam</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 15:18 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299511" href="?#comment-1299511" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299504" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1299511" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299511" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="4314378" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299511">
                        <div class="moveup">
                        <div class="ttypography"><p>So if i is processed after j, because p_j&lt;p_i, no matter how you choose a_j, either a_j bigger than both, p_i and 2n-p_i or it's smaller than both. I get it now, thank you!</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299511 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299511 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299511">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
                <li>
<div class="comment" commentid="1303968">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1303968" commentparentid="1299289">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/physicskiddo" title="Unrated, physicskiddo" class="rated-user user-black">physicskiddo</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/25/2025 02:59 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1303968" commentparentid="1299289">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/physicskiddo" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2807425/avatar/97f5360d40935d62.jpg">        </a>
        <div><a href="/profile/physicskiddo" title="Unrated, physicskiddo" class="rated-user user-black">physicskiddo</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/25/2025 02:59 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1303968" href="?#comment-1303968" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299289" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1303968" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2807425" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1303968">
                        <div class="moveup">
                        <div class="ttypography"><p>Thank you this was an excellent explanation!!</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1303968 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1303968 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1303968">
                <li>
<div class="comment" commentid="1304053">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1304053" commentparentid="1303968">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/hannah12345" title="Specialist hannah12345" class="rated-user user-cyan">hannah12345</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/25/2025 11:45 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1304053" commentparentid="1303968">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/hannah12345" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/4598515/avatar/e7c587cdaacde7e2.jpg">        </a>
        <div><a href="/profile/hannah12345" title="Specialist hannah12345" class="rated-user user-cyan">hannah12345</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/25/2025 11:45 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1304053" href="?#comment-1304053" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1303968" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1304053" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="4598515" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1304053">
                        <div class="moveup">
                        <div class="ttypography"><p>of course! im happy it helped :)</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1304053 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1304053 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1304053">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1299170">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299170" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Sorry_Senri" title="Master Sorry_Senri" class="rated-user user-orange">Sorry_Senri</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 07:01 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299170" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Sorry_Senri" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/Sorry_Senri" title="Master Sorry_Senri" class="rated-user user-orange">Sorry_Senri</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 07:01 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299170" href="?#comment-1299170" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299170" class="CommentVoteFrame" myvotedirection="0" data-commentrating="13" data-commentuserid="1417027" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+13</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299170">
                        <div class="moveup">
                        <div class="ttypography"><p>D1C3</p><p>Here's a different approach: Start by querying <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3960"><span class="MJXp-msubsup" id="MJXp-Span-3961"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3962" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3963" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-msubsup" id="MJXp-Span-3964"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3965" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3966" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-msubsup" id="MJXp-Span-3967"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3968" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3969" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-468-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-468">s_1s_2s_1</script>. If the answer is <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3970"><span class="MJXp-mn" id="MJXp-Span-3971">1</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-469-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-469">1</script>, then <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3972"><span class="MJXp-msubsup" id="MJXp-Span-3973"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3974" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3975" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-3976" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-msubsup" id="MJXp-Span-3977"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3978" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3979" style="vertical-align: -0.4em;">2</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-470-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-470">s_1 \neq s_2</script>; otherwise, <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3980"><span class="MJXp-msubsup" id="MJXp-Span-3981"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3982" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3983" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-3984" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-3985"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3986" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3987" style="vertical-align: -0.4em;">2</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-471-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-471">s_1 = s_2</script>. Based on this, we can optimize the subsequent string construction: build a pattern like <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-3988"><span class="MJXp-msubsup" id="MJXp-Span-3989"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3990" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3991" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-msubsup" id="MJXp-Span-3992"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3993" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-3994" style="vertical-align: -0.4em;">k</span></span><span class="MJXp-msubsup" id="MJXp-Span-3995"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-3996" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-3997" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-3998" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-msubsup" id="MJXp-Span-3999"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4000" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4001" style="vertical-align: -0.4em;">k</span></span><span class="MJXp-msubsup" id="MJXp-Span-4002"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4003" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-4004" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-472-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-472">s_1s_ks_1\dots s_ks_1</script>, where <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4005"><span class="MJXp-msubsup" id="MJXp-Span-4006"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4007" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4008" style="vertical-align: -0.4em;">k</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-473-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-473">s_k</script> is repeated <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4009"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4010">x</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-474-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-474">x</script> times. If <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4011"><span class="MJXp-msubsup" id="MJXp-Span-4012"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4013" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-4014" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-4015" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-msubsup" id="MJXp-Span-4016"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4017" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4018" style="vertical-align: -0.4em;">k</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-475-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-475">s_1 \neq s_k</script>, the answer will be <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4019"><span class="MJXp-mfrac" id="MJXp-Span-4020" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4021">x</span><span class="MJXp-mo" id="MJXp-Span-4022"></span><span class="MJXp-mo" id="MJXp-Span-4023">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4024">x</span><span class="MJXp-mo" id="MJXp-Span-4025">+</span><span class="MJXp-mn" id="MJXp-Span-4026">1</span><span class="MJXp-mo" id="MJXp-Span-4027">)</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-4028">2</span></span></span></span></span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-476-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-476">\frac{x \cdot (x + 1)}{2}</script>, and the query length will be <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4029"><span class="MJXp-mn" id="MJXp-Span-4030">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4031">x</span><span class="MJXp-mo" id="MJXp-Span-4032" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4033">1</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-477-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-477">2x + 1</script>.</p><p>Next, we need to construct a set <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4034"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4035">A</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-478-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-478">A</script> that is as large as possible, satisfying:</p><p>The subset sums of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4036"><span class="MJXp-mo" id="MJXp-Span-4037" style="margin-left: 0em; margin-right: 0em;">{</span><span class="MJXp-mfrac" id="MJXp-Span-4038" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4039">x</span><span class="MJXp-mo" id="MJXp-Span-4040"></span><span class="MJXp-mo" id="MJXp-Span-4041">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4042">x</span><span class="MJXp-mo" id="MJXp-Span-4043">+</span><span class="MJXp-mn" id="MJXp-Span-4044">1</span><span class="MJXp-mo" id="MJXp-Span-4045">)</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-4046">2</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-4047" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4048">x</span><span class="MJXp-mo" id="MJXp-Span-4049" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4050">A</span><span class="MJXp-mo" id="MJXp-Span-4051" style="margin-left: 0em; margin-right: 0em;">}</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-479-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-479">\{\frac{x \cdot (x + 1)}{2} \mid x \in A \}</script> are all distinct;</p><p>The total length constraint <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4052"><span class="MJXp-msubsup" id="MJXp-Span-4053"><span class="MJXp-mo" id="MJXp-Span-4054" style="margin-left: 0.111em; margin-right: 0.05em;"></span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4055" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4056">x</span><span class="MJXp-mo" id="MJXp-Span-4057"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4058">A</span></span></span><span class="MJXp-mo" id="MJXp-Span-4059" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-4060">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4061">x</span><span class="MJXp-mo" id="MJXp-Span-4062" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4063">1</span><span class="MJXp-mo" id="MJXp-Span-4064" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-4065" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-4066">1000</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-480-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-480">\sum_{x \in A} (2x + 1) \le 1000</script>.</p><p>Each query can then determine <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4067"><span class="MJXp-mrow" id="MJXp-Span-4068"><span class="MJXp-mo" id="MJXp-Span-4069" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4070">A</span><span class="MJXp-mrow" id="MJXp-Span-4071"><span class="MJXp-mo" id="MJXp-Span-4072" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-481-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-481">|A|</script> positions' relation to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4073"><span class="MJXp-msubsup" id="MJXp-Span-4074"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4075" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-4076" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-482-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-482">s_1</script>. Finally, by finding any position <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4077"><span class="MJXp-msubsup" id="MJXp-Span-4078"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4079" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4080" style="vertical-align: -0.4em;">k</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-483-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-483">s_k</script> where <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4081"><span class="MJXp-msubsup" id="MJXp-Span-4082"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4083" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4084" style="vertical-align: -0.4em;">k</span></span><span class="MJXp-mo" id="MJXp-Span-4085" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-msubsup" id="MJXp-Span-4086"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4087" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-4088" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-484-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-484">s_k \neq s_1</script> and querying <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4089"><span class="MJXp-msubsup" id="MJXp-Span-4090"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4091" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-4092" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-msubsup" id="MJXp-Span-4093"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4094" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4095" style="vertical-align: -0.4em;">k</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-485-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-485">s_1s_k</script>, we can deduce <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4096"><span class="MJXp-msubsup" id="MJXp-Span-4097"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4098" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-4099" style="vertical-align: -0.4em;">1</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-486-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-486">s_1</script> and thus the entire string. The total number of queries is at most <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4100"><span class="MJXp-mo" id="MJXp-Span-4101" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mfrac" id="MJXp-Span-4102" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4103">n</span><span class="MJXp-mo" id="MJXp-Span-4104"></span><span class="MJXp-mn" id="MJXp-Span-4105">1</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mrow" id="MJXp-Span-4106"><span class="MJXp-mo" id="MJXp-Span-4107">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4108">A</span><span class="MJXp-mrow" id="MJXp-Span-4109"><span class="MJXp-mo" id="MJXp-Span-4110">|</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-4111" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-4112" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4113">1</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-487-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-487">\lceil \frac{n - 1}{|A|} \rceil + 1</script>.</p><p>Constructing Set <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4114"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4115">A</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-488-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-488">A</script>: Start with <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4116"><span class="MJXp-mn" id="MJXp-Span-4117">1</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-489-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-489">1</script> and iteratively add numbers, ensuring each new element is larger than the sum of all previous elements. This gives <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4118"><span class="MJXp-mrow" id="MJXp-Span-4119"><span class="MJXp-mo" id="MJXp-Span-4120" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4121">A</span><span class="MJXp-mrow" id="MJXp-Span-4122"><span class="MJXp-mo" id="MJXp-Span-4123" style="margin-left: 0.167em; margin-right: 0.167em;">|</span></span><span class="MJXp-mo" id="MJXp-Span-4124" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-4125">13</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-490-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-490">|A| = 13</script>, with a worst-case query count of just <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4126"><span class="MJXp-mn" id="MJXp-Span-4127">78</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-491-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-491">78</script>.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299170 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299170 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299170">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299178">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299178" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Rubikun" title="Legendary Grandmaster Rubikun" class="rated-user user-legendary"><span class="legendary-user-first-letter">R</span>ubikun</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 08:16 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299178" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Rubikun" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/1173907/avatar/f6cc4438f13c9f4a.jpg">        </a>
        <div><a href="/profile/Rubikun" title="Legendary Grandmaster Rubikun" class="rated-user user-legendary"><span class="legendary-user-first-letter">R</span>ubikun</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 08:16 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299178" href="?#comment-1299178" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1299178" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299178" class="CommentVoteFrame" myvotedirection="0" data-commentrating="36" data-commentuserid="1173907" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+36</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299178">
                        <div class="moveup">
                        <div class="ttypography"><p>Div.1-E, I noticed that it can be solved in O((N+M)*sqrt(Q) + Q*sqrt(N)) without thinking about degrees.</p><p>First, sort the queries by L, after that, sort them by R for each block of [0,D), [D,2D),...,[kD,Q) with a block size D ( = O(sqrt(Q)) ). Then, in that order, just expand and contract L and R like in Mo's algorithm.</p><p>During the expansion/contraction, the update at each R happens at most once in each block. The update for each L happens in at most 2 blocks. This is because if the same L were to span 3 or more blocks, L should be constant, except for the first and the last.</p><p>I think this technique is useful, and with this algorithm, I got the current fastest: <a href="https://codeforces.com/contest/2129/submission/331921365">https://codeforces.com/contest/2129/submission/331921365</a></p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299178 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299178 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299178">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299179">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299179" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/PetrificusTotalus" title="Expert PetrificusTotalus" class="rated-user user-blue">PetrificusTotalus</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 08:43 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299179" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/PetrificusTotalus" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3001711/avatar/171b6c31262c9684.jpg">        </a>
        <div><a href="/profile/PetrificusTotalus" title="Expert PetrificusTotalus" class="rated-user user-blue">PetrificusTotalus</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 08:43 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299179" href="?#comment-1299179" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299179" class="CommentVoteFrame" myvotedirection="0" data-commentrating="3" data-commentuserid="3001711" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+3</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299179">
                        <div class="moveup">
                        <div class="ttypography"><p>Proof for the solution of D?</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299179 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299179 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299179">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299190">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299190" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Aditya_gudadhe" title="Pupil Aditya_gudadhe" class="rated-user user-green">Aditya_gudadhe</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 10:18 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">2</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299190" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Aditya_gudadhe" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/Aditya_gudadhe" title="Pupil Aditya_gudadhe" class="rated-user user-green">Aditya_gudadhe</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 10:18 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299190" href="?#comment-1299190" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299190" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3273731" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299190">
                        <div class="moveup">
                        <div class="ttypography"><p>In div2C/div1A, why does the simple dfs search tree not work?</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299190 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299190 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299190">
                <li>
<div class="comment" commentid="1299206">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299206" commentparentid="1299190">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/PieArmy" title="Master PieArmy" class="rated-user user-orange">PieArmy</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 11:38 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299206" commentparentid="1299190">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/PieArmy" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2774673/avatar/308935e7de545072.jpg">        </a>
        <div><a href="/profile/PieArmy" title="Master PieArmy" class="rated-user user-orange">PieArmy</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 11:38 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299206" href="?#comment-1299206" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299190" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299206" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2774673" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299206">
                        <div class="moveup">
                        <div class="ttypography"><p>Thats what I did and it passed</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299206 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299206 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299206">
                <li>
<div class="comment" commentid="1299482">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299482" commentparentid="1299206">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Aditya_gudadhe" title="Pupil Aditya_gudadhe" class="rated-user user-green">Aditya_gudadhe</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 14:21 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299482" commentparentid="1299206">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Aditya_gudadhe" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/Aditya_gudadhe" title="Pupil Aditya_gudadhe" class="rated-user user-green">Aditya_gudadhe</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 14:21 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299482" href="?#comment-1299482" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299206" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299482" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3273731" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299482">
                        <div class="moveup">
                        <div class="ttypography"><p>sorry man I made a mistake while coding it and figured out but then forgot to delete the comment :(</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299482 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299482 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299482">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1299204">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299204" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/pranjalchabra0" title="Specialist pranjalchabra0" class="rated-user user-cyan">pranjalchabra0</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 11:29 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299204" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/pranjalchabra0" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/4437569/avatar/74fbcf86cc0c8bd.jpg">        </a>
        <div><a href="/profile/pranjalchabra0" title="Specialist pranjalchabra0" class="rated-user user-cyan">pranjalchabra0</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 11:29 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299204" href="?#comment-1299204" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299204" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="4437569" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299204">
                        <div class="moveup">
                        <div class="ttypography"><p>i think tutorial to div 2 D is not well written or you can it will be easier to understand if you have told us that in a relation a&lt;b this relation will only change if you convert a to 2n -a not when you convert b to 2n-b</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299204 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299204 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299204">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299228">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299228" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Kcits970" title="Expert Kcits970" class="rated-user user-blue">Kcits970</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 12:22 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">2</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299228" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Kcits970" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/4082537/avatar/3f74281a34d4e4fc.jpg">        </a>
        <div><a href="/profile/Kcits970" title="Expert Kcits970" class="rated-user user-blue">Kcits970</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 12:22 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299228" href="?#comment-1299228" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1299228" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299228" class="CommentVoteFrame" myvotedirection="0" data-commentrating="3" data-commentuserid="4082537" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+3</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299228">
                        <div class="moveup">
                        <div class="ttypography"><p>Is there any intuition for E3? I can understand how I can find 12 locations with one query and why it works, but getting that idea for optimizing the number of queries seems to be on a different level.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299228 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299228 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299228">
                <li>
<div class="comment" commentid="1299231">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299231" commentparentid="1299228">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/people_plus_plus" title="Candidate Master people_plus_plus" class="rated-user user-violet">people_plus_plus</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 13:09 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299231" commentparentid="1299228">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/people_plus_plus" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/people_plus_plus" title="Candidate Master people_plus_plus" class="rated-user user-violet">people_plus_plus</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 13:09 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299231" href="?#comment-1299231" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299228" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299231" class="CommentVoteFrame" myvotedirection="0" data-commentrating="1" data-commentuserid="1643560" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+1</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299231">
                        <div class="moveup">
                        <div class="ttypography"><p>The key intuition here for me was try to separate brackets in query. Here I tried describe my whole thoughts during contest:</p><p>I thought to guess <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4128"><span class="MJXp-mn" id="MJXp-Span-4129">12</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-492-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-492">12</script> locations in one query, then in my query <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4130"><span class="MJXp-msubsup" id="MJXp-Span-4131"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4132" style="margin-right: 0.05em;">f</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4133" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-4134">1</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-4135"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4136" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4137" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-4138">1</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-4139"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4140" style="margin-right: 0.05em;">f</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4141" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-4142">2</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-4143"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4144" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4145" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-4146">2</span></span></span><span class="MJXp-mo" id="MJXp-Span-4147" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-4148" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-4149"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4150" style="margin-right: 0.05em;">f</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4151" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-4152">12</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-4153"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4154" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4155" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-4156">12</span></span></span><span class="MJXp-msubsup" id="MJXp-Span-4157"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4158" style="margin-right: 0.05em;">f</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4159" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-4160">13</span></span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-493-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-493">f_{1} s_{1} f_{2} s_{2} \ldots, f_{12} s_{12} f_{13}</script> I must divide values <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4161"><span class="MJXp-msubsup" id="MJXp-Span-4162"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4163" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4164" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-494-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-494">s_i</script> with some seperators <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4165"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4166">f</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-495-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-495">f</script> so <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4167"><span class="MJXp-msubsup" id="MJXp-Span-4168"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4169" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-4170" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-4171" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-4172"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4173" style="margin-right: 0.05em;">s</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-4174" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-4175" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mo" id="MJXp-Span-4176" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-4177" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-4178"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4179" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4180" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-4181">12</span></span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-496-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-496">s_1, s_2,\ldots,s_{12}</script> will not intersect in RBS and then query will give me value <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4182"><span class="MJXp-msubsup" id="MJXp-Span-4183"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4184" style="margin-right: 0.05em;">v</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-4185" style="vertical-align: -0.4em;">1</span></span><span class="MJXp-mo" id="MJXp-Span-4186" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-4187"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4188" style="margin-right: 0.05em;">v</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-4189" style="vertical-align: -0.4em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-4190" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-4191" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-4192" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-msubsup" id="MJXp-Span-4193"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4194" style="margin-right: 0.05em;">v</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4195" style="vertical-align: -0.4em;"><span class="MJXp-mn" id="MJXp-Span-4196">12</span></span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-497-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-497">v_1 + v_2 + \ldots + v_{12}</script>. And now task is "in sum <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4197"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4198">s</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-498-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-498">s</script> guess the numbers that formed that sum", it looked like greedy, for example, then we get number from binary notation. But we sorta can't make powers of two, but we can get values <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4199"><span class="MJXp-mn" id="MJXp-Span-4200">1</span><span class="MJXp-mo" id="MJXp-Span-4201" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-4202">3</span><span class="MJXp-mo" id="MJXp-Span-4203" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-4204">6</span><span class="MJXp-mo" id="MJXp-Span-4205" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-4206">10</span><span class="MJXp-mo" id="MJXp-Span-4207" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-4208">15</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-499-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-499">1,3,6,10,15</script> etc, then just I checked that if we choose numbers that differs at least <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4209"><span class="MJXp-mn" id="MJXp-Span-4210">2</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-500-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-500">2</script> times we will get exactly <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4211"><span class="MJXp-mn" id="MJXp-Span-4212">12</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-501-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-501">12</script> numbers. </p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299231 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299231 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299231">
                <li>
<div class="comment" commentid="1299234">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299234" commentparentid="1299231">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Kcits970" title="Expert Kcits970" class="rated-user user-blue">Kcits970</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 13:26 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299234" commentparentid="1299231">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Kcits970" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/4082537/avatar/3f74281a34d4e4fc.jpg">        </a>
        <div><a href="/profile/Kcits970" title="Expert Kcits970" class="rated-user user-blue">Kcits970</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 13:26 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299234" href="?#comment-1299234" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299231" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299234" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="4082537" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299234">
                        <div class="moveup">
                        <div class="ttypography"><p>Wow, very clever. Thanks for explaining.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299234 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299234 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299234">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1299272">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299272" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/ponchik-_-" title="Newbie ponchik-_-" class="rated-user user-gray">ponchik-_-</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 15:33 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">2</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299272" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/ponchik-_-" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/ponchik-_-" title="Newbie ponchik-_-" class="rated-user user-gray">ponchik-_-</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 15:33 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299272" href="?#comment-1299272" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1299272" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299272" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3365124" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299272">
                        <div class="moveup">
                        <div class="ttypography"><p>For <strong>Div2B</strong> if n = 3 , s = 10 and a = {0,1,2} why the answer is -1? Why not 0 2 1?</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299272 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299272 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299272">
                <li>
<div class="comment" commentid="1299275">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299275" commentparentid="1299272">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/people_plus_plus" title="Candidate Master people_plus_plus" class="rated-user user-violet">people_plus_plus</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 15:49 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299275" commentparentid="1299272">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/people_plus_plus" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/people_plus_plus" title="Candidate Master people_plus_plus" class="rated-user user-violet">people_plus_plus</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 15:49 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299275" href="?#comment-1299275" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299272" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299275" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="1643560" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299275">
                        <div class="moveup">
                        <div class="ttypography"><p><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4213"><span class="MJXp-mo" id="MJXp-Span-4214" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-4215">0</span><span class="MJXp-mo" id="MJXp-Span-4216" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-4217">2</span><span class="MJXp-mo" id="MJXp-Span-4218" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-4219">0</span><span class="MJXp-mo" id="MJXp-Span-4220" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-4221">2</span><span class="MJXp-mo" id="MJXp-Span-4222" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-4223">1</span><span class="MJXp-mo" id="MJXp-Span-4224" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-4225">2</span><span class="MJXp-mo" id="MJXp-Span-4226" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-4227">0</span><span class="MJXp-mo" id="MJXp-Span-4228" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-4229">2</span><span class="MJXp-mo" id="MJXp-Span-4230" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-4231">1</span><span class="MJXp-mo" id="MJXp-Span-4232" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-502-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-502">[0, 2, 0, 2, 1, 2, 0, 2 , 1]</script> gives <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4233"><span class="MJXp-mn" id="MJXp-Span-4234">10</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-503-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-503">10</script></p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299275 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299275 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299275">
                <li>
<div class="comment" commentid="1299283">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299283" commentparentid="1299275">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/ponchik-_-" title="Newbie ponchik-_-" class="rated-user user-gray">ponchik-_-</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 16:02 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299283" commentparentid="1299275">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/ponchik-_-" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/ponchik-_-" title="Newbie ponchik-_-" class="rated-user user-gray">ponchik-_-</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 16:02 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299283" href="?#comment-1299283" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299275" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299283" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3365124" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299283">
                        <div class="moveup">
                        <div class="ttypography"><p>I got it. Thanks a lot!</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299283 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299283 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299283">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1299276">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299276" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Luckwet" title="Specialist Luckwet" class="rated-user user-cyan">Luckwet</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 15:51 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299276" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Luckwet" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3527294/avatar/826be7043d9f0421.jpg">        </a>
        <div><a href="/profile/Luckwet" title="Specialist Luckwet" class="rated-user user-cyan">Luckwet</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 15:51 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299276" href="?#comment-1299276" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299276" class="CommentVoteFrame" myvotedirection="0" data-commentrating="1" data-commentuserid="3527294" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+1</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299276">
                        <div class="moveup">
                        <div class="ttypography"><p><strong>A simpler and more detailed explanation of Div.1B (Div.2D) if anyone needs it</strong></p><p>We want to build an array A, each element of which is either p[i] or 2*n  p[i] For convenience, we will call p[i] the "smaller" value, and 2*n  p[i] the "larger" value.</p><p>So, we want to put either a larger or smaller element in each position of the array so that the number of inversions in the end is minimal. The idea is this  for each position in the array, we iterate over both options  how many inversions are GUARANTEED to be added after adding a smaller element, and how many inversions are GUARANTEED to be added after adding a larger element. We will choose the one that will give the least inversions in the current position. For position i we want to choose which element to put:</p> <div class="spoiler"><b class="spoiler-title">If we choose a smaller element</b><div class="spoiler-content" style="display: none;"><p>1) If we put a smaller element  we count how many inversions will be added GUARANTEED. GUARANTEED inversion will be added if before the current element (j = 0, 1, ..., i  1) there is some number that is greater than our current "smaller". How many elements will be before the current index greater than our element  that's how many inversions will be added.</p><p>Inversions will also be added if AFTER the current index there is an element LESS than the current one. But. We said that we will count how many inversions will be added GUARANTEED, IN ANY CASE, regardless of how we arrange the following elements. But we are guaranteed not to count anything on the right, because if there is some element smaller than the current one, then we could always make this element 2*n  p[j] at some future step and it would definitely be greater than the current one. Result: we do not count smaller elements on the right, because they may not exist at all in the future. They do not guarantee anything.</p></div></div> <div class="spoiler"><b class="spoiler-title">If we choose a larger element</b><div class="spoiler-content" style="display: none;"><p>2) If we put a larger element  in this case, firstly, we can say for sure that the inversion will be added if there is some element to the RIGHT of the current element that is greater than the current one. Why is that? The largest element that is generally possible in the array is 2*n  1 (since the minimum element in p is 1). And as we can see, the smaller the number, the larger its "mirrored" version. In essence, we subtract some element from 2*n. And it is clear that the larger the second element in the difference, the smaller the difference itself will be. From here we come to the conclusion  if we inserted the current element as the difference 2*n  p[i], and then found some p[j] on the right that is larger than the current p[i], then it is clear that the difference 2*n  p[j] will be smaller. But on the other hand, if so, then, of course, p[j] itself will be smaller than 2*n  p[i]. (If the larger version of the element turned out to be smaller, then the regular version will be even smaller). Result_1: If an element larger than the current one is found on the right, then it will NECESSARILY add the inversion. We count the number of larger elements on the right.</p><p>Now the important point of this point. We've counted on the right, good. Now, if there's an element on the left that's larger than the current one, then in that case we'll have to add another inversion, because it's also GUARANTEED to be in the array? The answer is no. We don't need to count the elements on the left that are larger, because the minimum possible value of the "increased version" is 2*n  n = n, that is, if we find an element on the left that's larger than the current one, then it will definitely be an increased version of some previous number. And we just found out that if we insert a larger version of a number, then we count how many inversions it will create with the elements on the right. And our current number is just to the right of it. So if we also count the elements on the left that are larger than it, then we'll just add the same inversions twice. For example: in step #2 we added the inversion (2; 7), and then in step #7 we calculated the inversion (7; 2). This is the same inversion. We have already taken this case into account earlier, so there is no need to count it again. Conclusion_2: We do not count the elements on the left, because the current number of inversions has already been calculated for them in the previous step.</p></div></div><p>So, when we figure out which version of the element gives fewer inversions  left or right, let the inversion counter for the smaller version of the element be called count1, and for the larger one  count2. There are several possible solutions. The simplest one, where we simply count the number of inversions  we immediately add the minimum number of inversions to the result  min(count1, count2).</p><p>The second one, with a little extra actions, but it may be clearer for a beginner. Earlier we said that we will choose the element with the least number of inversions. So let's choose it. If count1 &lt; count2  result[i] = p[i] Otherwise, if count2 &gt;= count1  result[i] = 2*n  p[i]. When we have restored the entire array, we will simply calculate the number of inversions for each element with a double cycle for O(N^2) complexity and output the answer.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299276 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299276 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299276">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299294">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299294" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Magician_Mathematician1" title="Candidate Master Magician_Mathematician1" class="rated-user user-violet">Magician_Mathematician1</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 17:02 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299294" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Magician_Mathematician1" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2706887/avatar/d1b2e2d8d494a226.jpg">        </a>
        <div><a href="/profile/Magician_Mathematician1" title="Candidate Master Magician_Mathematician1" class="rated-user user-violet">Magician_Mathematician1</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/01/2025 17:02 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299294" href="?#comment-1299294" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299294" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2706887" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299294">
                        <div class="moveup">
                        <div class="ttypography"><p>I think there is a mistake in the explanation of problem C2. The last line should be s1=s3=s8=) Am I right?</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299294 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299294 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299294">
                <li>
<div class="comment" commentid="1300982">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1300982" commentparentid="1299294">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/n00bmaster__" title="Specialist n00bmaster__" class="rated-user user-cyan">n00bmaster__</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/10/2025 05:36 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1300982" commentparentid="1299294">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/n00bmaster__" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/4084545/avatar/c4922bb6e9fa5c8c.jpg">        </a>
        <div><a href="/profile/n00bmaster__" title="Specialist n00bmaster__" class="rated-user user-cyan">n00bmaster__</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/10/2025 05:36 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1300982" href="?#comment-1300982" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299294" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1300982" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="4084545" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1300982">
                        <div class="moveup">
                        <div class="ttypography"><p>Was looking for this comment, and yes it should be ')' instead of '('.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1300982 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1300982 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1300982">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1299367">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299367" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/D.Water" title="Pupil D.Water" class="rated-user user-green">D.Water</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 02:56 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299367" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/D.Water" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3852473/avatar/8e61fd4dd4aab85d.jpg">        </a>
        <div><a href="/profile/D.Water" title="Pupil D.Water" class="rated-user user-green">D.Water</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 02:56 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299367" href="?#comment-1299367" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299367" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3852473" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299367">
                        <div class="moveup">
                        <div class="ttypography"><p>I really don't konw why D1D/D2F calculating dp[l][r][x][y] should multiply the combination ((r-l)(i-l)),sorry for poor english and don't konw how to express combination</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299367 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299367 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299367">
                <li>
<div class="comment" commentid="1299374">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299374" commentparentid="1299367">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Sorry_Senri" title="Master Sorry_Senri" class="rated-user user-orange">Sorry_Senri</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 03:49 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299374" commentparentid="1299367">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Sorry_Senri" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/Sorry_Senri" title="Master Sorry_Senri" class="rated-user user-orange">Sorry_Senri</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 03:49 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299374" href="?#comment-1299374" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1299367" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299374" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="1417027" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299374">
                        <div class="moveup">
                        <div class="ttypography"><p>The order of placement of the grids in two different intervals</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299374 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299374 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299374">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1299368">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299368" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/hsdzhaoziye" title="Pupil hsdzhaoziye" class="rated-user user-green">hsdzhaoziye</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 03:01 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299368" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/hsdzhaoziye" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3999674/avatar/9110d3ba49c9232d.jpg">        </a>
        <div><a href="/profile/hsdzhaoziye" title="Pupil hsdzhaoziye" class="rated-user user-green">hsdzhaoziye</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 03:01 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299368" href="?#comment-1299368" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299368" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3999674" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299368">
                        <div class="moveup">
                        <div class="ttypography"><p>So, what is the relationship between Problem C and the Disjoint Set Union?</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299368 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299368 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299368">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299402">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299402" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Tadas" title="Pupil Tadas" class="rated-user user-green">Tadas</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 08:20 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299402" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Tadas" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/458307/avatar/450b5df4b80035ee.jpg">        </a>
        <div><a href="/profile/Tadas" title="Pupil Tadas" class="rated-user user-green">Tadas</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 08:20 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299402" href="?#comment-1299402" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299402" class="CommentVoteFrame" myvotedirection="0" data-commentrating="5" data-commentuserid="458307" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+5</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299402">
                        <div class="moveup">
                        <div class="ttypography"><p>In div2 C, is it a typo: "we can always find <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4235"><span class="MJXp-msubsup" id="MJXp-Span-4236"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4237" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4238" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4239">i</span><span class="MJXp-mo" id="MJXp-Span-4240"></span><span class="MJXp-mn" id="MJXp-Span-4241">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-4242" style="margin-left: 0.333em; margin-right: 0.333em;">&lt;</span><span class="MJXp-msubsup" id="MJXp-Span-4243"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4244" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4245" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-4246" style="margin-left: 0.333em; margin-right: 0.333em;">&gt;</span><span class="MJXp-msubsup" id="MJXp-Span-4247"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4248" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4249" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4250">i</span><span class="MJXp-mo" id="MJXp-Span-4251">+</span><span class="MJXp-mn" id="MJXp-Span-4252">1</span></span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-504-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-504">x_{i-1}<x_i>x_{i+1}</script> , where either <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4253"><span class="MJXp-mo" id="MJXp-Span-4254" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-4255"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4256" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4257" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4258">i</span><span class="MJXp-mo" id="MJXp-Span-4259"></span><span class="MJXp-mn" id="MJXp-Span-4260">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-4261" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-4262"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4263" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4264" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-4265" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4266" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mo" id="MJXp-Span-4267" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-4268"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4269" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4270" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-4271" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-4272"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4273" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4274" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4275">i</span><span class="MJXp-mo" id="MJXp-Span-4276">+</span><span class="MJXp-mn" id="MJXp-Span-4277">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-4278" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-505-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-505">[x_{i-1},x_i] \subseteq [x_i,x_{i+1}]</script> or <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4279"><span class="MJXp-mo" id="MJXp-Span-4280" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-4281"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4282" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4283" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-4284" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-4285"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4286" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4287" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4288">i</span><span class="MJXp-mo" id="MJXp-Span-4289">+</span><span class="MJXp-mn" id="MJXp-Span-4290">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-4291" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4292" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mo" id="MJXp-Span-4293" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-4294"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4295" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4296" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4297">i</span><span class="MJXp-mo" id="MJXp-Span-4298"></span><span class="MJXp-mn" id="MJXp-Span-4299">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-4300" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-4301"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4302" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4303" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-4304" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-506-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-506">[x_i,x_{i+1}] \subseteq [x_{i-1},x_i]</script>" and should be "<span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4305"><span class="MJXp-mo" id="MJXp-Span-4306" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-4307"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4308" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4309" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4310">i</span><span class="MJXp-mo" id="MJXp-Span-4311"></span><span class="MJXp-mn" id="MJXp-Span-4312">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-4313" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-4314"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4315" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4316" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-4317" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4318" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mo" id="MJXp-Span-4319" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-4320"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4321" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4322" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4323">i</span><span class="MJXp-mo" id="MJXp-Span-4324">+</span><span class="MJXp-mn" id="MJXp-Span-4325">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-4326" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-4327"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4328" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4329" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-4330" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-507-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-507">[x_{i-1},x_i] \subseteq [x_{i+1},x_i]</script> or <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4331"><span class="MJXp-mo" id="MJXp-Span-4332" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-4333"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4334" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4335" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4336">i</span><span class="MJXp-mo" id="MJXp-Span-4337">+</span><span class="MJXp-mn" id="MJXp-Span-4338">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-4339" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-4340"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4341" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4342" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-4343" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4344" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mo" id="MJXp-Span-4345" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-4346"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4347" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4348" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4349">i</span><span class="MJXp-mo" id="MJXp-Span-4350"></span><span class="MJXp-mn" id="MJXp-Span-4351">1</span></span></span><span class="MJXp-mo" id="MJXp-Span-4352" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-4353"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4354" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4355" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-4356" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-508-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-508">[x_{i+1},x_i] \subseteq [x_{i-1},x_i]</script>" instead (<span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4357"><span class="MJXp-msubsup" id="MJXp-Span-4358"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4359" style="margin-right: 0.05em;">x</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4360" style="vertical-align: -0.4em;"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4361">i</span><span class="MJXp-mo" id="MJXp-Span-4362">+</span><span class="MJXp-mn" id="MJXp-Span-4363">1</span></span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-509-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-509">x_{i+1}</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4364"><span class="MJXp-msubsup" id="MJXp-Span-4365"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4366" style="margin-right: 0.05em;">x</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4367" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-510-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-510">x_i</script> swapped)?</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299402 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299402 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299402">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299536">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299536" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/NDAKJin" title="Expert NDAKJin" class="rated-user user-blue">NDAKJin</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 16:28 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299536" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/NDAKJin" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/NDAKJin" title="Expert NDAKJin" class="rated-user user-blue">NDAKJin</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 16:28 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299536" href="?#comment-1299536" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299536" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3543165" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299536">
                        <div class="moveup">
                        <div class="ttypography"><p>why the solution of Div1.A cannot even solve the example ? solution's output is 1 1 2 3 4 but the correct output is 1 1 3 1 2 4</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299536 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299536 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299536">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299581">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299581" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/THE_THUNDERSTORM_BEGINS" title="Candidate Master THE_THUNDERSTORM_BEGINS" class="rated-user user-violet">THE_THUNDERSTORM_BEGINS</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 20:49 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299581" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/THE_THUNDERSTORM_BEGINS" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/1415102/avatar/d8abba12228862b0.jpg">        </a>
        <div><a href="/profile/THE_THUNDERSTORM_BEGINS" title="Candidate Master THE_THUNDERSTORM_BEGINS" class="rated-user user-violet">THE_THUNDERSTORM_BEGINS</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/02/2025 20:49 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299581" href="?#comment-1299581" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299581" class="CommentVoteFrame" myvotedirection="0" data-commentrating="-8" data-commentuserid="1415102" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">-8</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299581">
                        <div class="moveup">
                        <div class="ttypography"><p>i really liked how d1A presents that n^2 solution is predicted when the actual solution was n</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299581 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299581 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299581">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299604">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299604" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/aneesh2002" title="Specialist aneesh2002" class="rated-user user-cyan">aneesh2002</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/03/2025 01:06 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299604" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/aneesh2002" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/aneesh2002" title="Specialist aneesh2002" class="rated-user user-cyan">aneesh2002</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/03/2025 01:06 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299604" href="?#comment-1299604" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299604" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="1915082" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299604">
                        <div class="moveup">
                        <div class="ttypography"><p>Can someone explain why d2b works</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299604 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299604 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299604">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299627">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299627" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/valiii" title="Candidate Master valiii" class="rated-user user-violet">valiii</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/03/2025 04:30 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299627" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/valiii" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/4312705/avatar/5dd5ed60ed6a8a04.jpg">        </a>
        <div><a href="/profile/valiii" title="Candidate Master valiii" class="rated-user user-violet">valiii</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/03/2025 04:30 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299627" href="?#comment-1299627" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1299627" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299627" class="CommentVoteFrame" myvotedirection="0" data-commentrating="4" data-commentuserid="4312705" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+4</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299627">
                        <div class="moveup">
                        <div class="ttypography"><p>D2E3 / D1E3, and the problem as a whole, is one of my favourite problems I have encountered and solved on CF. For a long time I was stuck on trying to query <code class="tt">( i i )</code> but this doesnt work because you have no way to distinguish whether i is <code class="tt">)</code> or i is <code class="tt">(</code> if the query returns 1.</p><p>After a while, a hint led me to the realization that well have to query something like <code class="tt">i ) i ) ) i )</code> to distinguish:</p> <ul>   <li>if i forms a valid RBS, result = 3</li>   <li>if i forms one, result = 1</li>   <li>if both do, result = 4</li>   <li>if neither, result = 0</li> </ul><p>This is sufficient for E1.</p><p><strong>Key observation:</strong> a longer RBS always has more valid substrings. Define f(x)=x(x+1)/2 as the total substrings formed by x consecutive pairs. We choose k,k, such that f(k)&gt;_{j&lt; i}f(k) so each blocks contribution is larger than all previous combined.</p><p>Powers of 2 satisfy this, but only up to 8 fit under 1000 characters. Instead, bruteforce up to 1000 to find all k, yielding (in descending order): {123, 87, 61, 43, 30, 21, 15, 10, 7, 5, 3, 2, 1}.</p><p>We build the query as [ i ) i ) ]123 + ) + [ i ) ]87 + ) +  + [ i ) ]1 + )</p><p>Total length of query = 829 characters.</p><p>Since each f(k) exceeds the sum of all earlier fs, the total substrings returned &gt;f(k) iff i is <code class="tt">(</code>, else its <code class="tt">)</code>.</p><p>This recovers <strong>13 positions</strong> in <strong>1 query</strong> (vs editorials 12), enabling a more lenient binary search.</p><p><strong>Total queries:</strong> 1000/13 + 2log(1000) + 2  99</p><p>Amazing problem, thank you.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299627 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299627 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299627">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299645">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299645" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/wukaichen888" title="Grandmaster wukaichen888" class="rated-user user-red">wukaichen888</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/03/2025 07:43 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299645" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/wukaichen888" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2679357/avatar/fd97e1f6d0530ae4.jpg">        </a>
        <div><a href="/profile/wukaichen888" title="Grandmaster wukaichen888" class="rated-user user-red">wukaichen888</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/03/2025 07:43 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299645" href="?#comment-1299645" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299645" class="CommentVoteFrame" myvotedirection="0" data-commentrating="8" data-commentuserid="2679357" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+8</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299645">
                        <div class="moveup">
                        <div class="ttypography"><p>Tutorial of D1F2.</p><p><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4368"><span class="MJXp-mn" id="MJXp-Span-4369">2</span><span class="MJXp-mo" id="MJXp-Span-4370" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mo" id="MJXp-Span-4371" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-4372">1</span><span class="MJXp-mo" id="MJXp-Span-4373" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4374">29</span><span class="MJXp-mo" id="MJXp-Span-4375" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mfrac" id="MJXp-Span-4376" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-4377">29</span><span class="MJXp-mo" id="MJXp-Span-4378"></span><span class="MJXp-mn" id="MJXp-Span-4379">30</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-4380">2</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-4381" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-4382" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-4383">872</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-511-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-511">2\times(1+29+\frac{29\times 30}{2})=872</script></p><p>should be changed to</p><p><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4384"><span class="MJXp-mn" id="MJXp-Span-4385">2</span><span class="MJXp-mo" id="MJXp-Span-4386" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mo" id="MJXp-Span-4387" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mn" id="MJXp-Span-4388">1</span><span class="MJXp-mo" id="MJXp-Span-4389" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4390">29</span><span class="MJXp-mo" id="MJXp-Span-4391" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mfrac" id="MJXp-Span-4392" style="vertical-align: 0.25em;"><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-4393">29</span><span class="MJXp-mo" id="MJXp-Span-4394"></span><span class="MJXp-mn" id="MJXp-Span-4395">28</span></span><span class="MJXp-box" style="margin-top: -0.9em;"><span class="MJXp-denom"><span><span class="MJXp-rule" style="height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;"></span></span><span><span class="MJXp-box MJXp-script"><span class="MJXp-mn" id="MJXp-Span-4396">2</span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-4397" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-4398" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-4399">872</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-512-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-512">2\times(1+29+\frac{29\times 28}{2})=872</script></p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299645 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299645 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299645">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299829">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299829" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/darkquasar" title="Expert darkquasar" class="rated-user user-blue">darkquasar</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/04/2025 13:39 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299829" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/darkquasar" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3800420/avatar/79a32aa80e1cacce.jpg">        </a>
        <div><a href="/profile/darkquasar" title="Expert darkquasar" class="rated-user user-blue">darkquasar</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/04/2025 13:39 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299829" href="?#comment-1299829" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1299829" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299829" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3800420" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299829">
                        <div class="moveup">
                        <div class="ttypography"><p>Div2D can be solved in <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4400"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4401">O</span><span class="MJXp-mo" id="MJXp-Span-4402" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4403">n</span><span class="MJXp-mi" id="MJXp-Span-4404">log</span><span class="MJXp-mo" id="MJXp-Span-4405" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4406">n</span><span class="MJXp-mo" id="MJXp-Span-4407" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-513-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-513">O(n \log n)</script> by greedily choosing the best possible element from the back.. <a href="https://codeforces.com/contest/2130/submission/332358826">https://codeforces.com/contest/2130/submission/332358826</a></p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299829 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299829 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299829">
        </ul>
    </div>
</div>

<div class="comment" commentid="1299882">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1299882" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/nicetrylol11111" title="Unrated, nicetrylol11111" class="rated-user user-black">nicetrylol11111</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/04/2025 19:41 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1299882" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/nicetrylol11111" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/nicetrylol11111" title="Unrated, nicetrylol11111" class="rated-user user-black">nicetrylol11111</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/04/2025 19:41 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1299882" href="?#comment-1299882" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1299882" class="CommentVoteFrame" myvotedirection="0" data-commentrating="5" data-commentuserid="4461186" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:green;font-weight:bold;">+5</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1299882">
                        <div class="moveup">
                        <div class="ttypography"><p>For questions like Div1C1, do you guys think a while to find a bracket pattern with 2 missing positions that give different # of valid bracket substrings for each of the 4 possibilities or write a script to brute force every bracket string of length x?</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1299882 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1299882 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1299882">
        </ul>
    </div>
</div>

<div class="comment" commentid="1300163">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1300163" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/vkgainz" title="Grandmaster vkgainz" class="rated-user user-red">vkgainz</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/06/2025 19:24 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1300163" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/vkgainz" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/679880/avatar/f966b85a769e4f5.jpg">        </a>
        <div><a href="/profile/vkgainz" title="Grandmaster vkgainz" class="rated-user user-red">vkgainz</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/06/2025 19:24 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1300163" href="?#comment-1300163" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1300163" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1300163" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="679880" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1300163">
                        <div class="moveup">
                        <div class="ttypography"><p>I think you can tighten the complexity analysis of D to around <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4408"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4409">O</span><span class="MJXp-mo" id="MJXp-Span-4410" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-4411"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4412" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-4413" style="vertical-align: 0.5em;">3</span></span><span class="MJXp-mo" id="MJXp-Span-4414" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-514-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-514">O(n^3)</script>. Here's how:</p><p>Note the sum of the positive elements of <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4415"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4416">s</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-515-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-515">s</script> is bounded by <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4417"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4418">n</span><span class="MJXp-mo" id="MJXp-Span-4419" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-4420">1</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-516-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-516">n - 1</script> (or else the answer is always <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4421"><span class="MJXp-mn" id="MJXp-Span-4422">0</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-517-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-517">0</script>). Concretely, <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4423"><span class="MJXp-msubsup" id="MJXp-Span-4424"><span class="MJXp-mo" id="MJXp-Span-4425" style="margin-left: 0.111em; margin-right: 0.05em;"></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-4430"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4431">i</span><span class="MJXp-mo" id="MJXp-Span-4432">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4433">n</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-4426"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4427">i</span><span class="MJXp-mo" id="MJXp-Span-4428">=</span><span class="MJXp-mn" id="MJXp-Span-4429">1</span></span></span></span></span></span></span><span class="MJXp-mtext" id="MJXp-Span-4434">max</span><span class="MJXp-mo" id="MJXp-Span-4435" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4436">s</span><span class="MJXp-mo" id="MJXp-Span-4437" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4438">i</span><span class="MJXp-mo" id="MJXp-Span-4439" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4440" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mn" id="MJXp-Span-4441">0</span><span class="MJXp-mo" id="MJXp-Span-4442" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-4443" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4444">n</span><span class="MJXp-mo" id="MJXp-Span-4445" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-4446">1</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-518-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-518">\sum_{i = 1}^{i = n} \text{max}(s[i], 0) \leq n - 1</script> going forward.</p><p>We take the same approach as the tutorial, except in our <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4447"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4448">d</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4449">p</span><span class="MJXp-mo" id="MJXp-Span-4450" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4451">l</span><span class="MJXp-mo" id="MJXp-Span-4452" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4453" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4454">r</span><span class="MJXp-mo" id="MJXp-Span-4455" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4456" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4457">x</span><span class="MJXp-mo" id="MJXp-Span-4458" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4459" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4460">y</span><span class="MJXp-mo" id="MJXp-Span-4461" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-519-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-519">dp[l][r][x][y]</script> we only need to maintain <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4462"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4463">x</span><span class="MJXp-mo" id="MJXp-Span-4464" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4465">s</span><span class="MJXp-mo" id="MJXp-Span-4466" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4467">l</span><span class="MJXp-mo" id="MJXp-Span-4468" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-4469">1</span><span class="MJXp-mo" id="MJXp-Span-4470" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-520-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-520">x \leq s[l - 1]</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4471"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4472">y</span><span class="MJXp-mo" id="MJXp-Span-4473" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4474">s</span><span class="MJXp-mo" id="MJXp-Span-4475" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4476">r</span><span class="MJXp-mo" id="MJXp-Span-4477" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4478">1</span><span class="MJXp-mo" id="MJXp-Span-4479" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-521-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-521">y \leq s[r + 1]</script>. If either of these are <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4480"><span class="MJXp-mo" id="MJXp-Span-4481" style="margin-left: 0em; margin-right: 0.111em;"></span><span class="MJXp-mn" id="MJXp-Span-4482">1</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-522-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-522">-1</script> then we'll just code them specially (so shift everything up by <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4483"><span class="MJXp-mn" id="MJXp-Span-4484">1</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-523-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-523">1</script>, per se).</p><p>Then, for some fixed <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4485"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4486">l</span><span class="MJXp-mo" id="MJXp-Span-4487" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4488">r</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-524-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-524">l, r</script>, we have the following scenarios:</p><p><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4489"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4490">s</span><span class="MJXp-mo" id="MJXp-Span-4491" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4492">l</span><span class="MJXp-mo" id="MJXp-Span-4493" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-4494">1</span><span class="MJXp-mo" id="MJXp-Span-4495" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4496" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-4497">0</span><span class="MJXp-mo" id="MJXp-Span-4498" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4499">s</span><span class="MJXp-mo" id="MJXp-Span-4500" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4501">r</span><span class="MJXp-mo" id="MJXp-Span-4502" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4503">1</span><span class="MJXp-mo" id="MJXp-Span-4504" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4505" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-4506">0</span><span class="MJXp-mo" id="MJXp-Span-4507" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mo" id="MJXp-Span-4508" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4509">s</span><span class="MJXp-mo" id="MJXp-Span-4510" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4511">l</span><span class="MJXp-mo" id="MJXp-Span-4512" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-4513">1</span><span class="MJXp-mo" id="MJXp-Span-4514" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4515" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4516">1</span><span class="MJXp-mo" id="MJXp-Span-4517" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-4518" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mo" id="MJXp-Span-4519" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4520">s</span><span class="MJXp-mo" id="MJXp-Span-4521" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4522">r</span><span class="MJXp-mo" id="MJXp-Span-4523" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4524">1</span><span class="MJXp-mo" id="MJXp-Span-4525" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4526" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4527">1</span><span class="MJXp-mo" id="MJXp-Span-4528" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-525-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-525">s[l - 1] \geq 0, s[r + 1] \geq 0 \Rightarrow (s[l - 1] + 1) \cdot (s[r + 1] + 1)</script> states.</p><p><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4529"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4530">s</span><span class="MJXp-mo" id="MJXp-Span-4531" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4532">l</span><span class="MJXp-mo" id="MJXp-Span-4533" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-4534">1</span><span class="MJXp-mo" id="MJXp-Span-4535" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4536" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-4537" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-4538">1</span><span class="MJXp-mo" id="MJXp-Span-4539" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4540">s</span><span class="MJXp-mo" id="MJXp-Span-4541" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4542">r</span><span class="MJXp-mo" id="MJXp-Span-4543" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4544">1</span><span class="MJXp-mo" id="MJXp-Span-4545" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4546" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-4547">0</span><span class="MJXp-mo" id="MJXp-Span-4548" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mo" id="MJXp-Span-4549" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4550">s</span><span class="MJXp-mo" id="MJXp-Span-4551" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4552">r</span><span class="MJXp-mo" id="MJXp-Span-4553" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4554">1</span><span class="MJXp-mo" id="MJXp-Span-4555" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4556" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4557">1</span><span class="MJXp-mo" id="MJXp-Span-4558" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-526-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-526">s[l - 1] = -1, s[r + 1] \geq 0 \Rightarrow (s[r + 1] + 1)</script> states.</p><p><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4559"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4560">s</span><span class="MJXp-mo" id="MJXp-Span-4561" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4562">l</span><span class="MJXp-mo" id="MJXp-Span-4563" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-4564">1</span><span class="MJXp-mo" id="MJXp-Span-4565" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4566" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-4567">0</span><span class="MJXp-mo" id="MJXp-Span-4568" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4569">s</span><span class="MJXp-mo" id="MJXp-Span-4570" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4571">r</span><span class="MJXp-mo" id="MJXp-Span-4572" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4573">1</span><span class="MJXp-mo" id="MJXp-Span-4574" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4575" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-4576" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-4577">1</span><span class="MJXp-mo" id="MJXp-Span-4578" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mo" id="MJXp-Span-4579" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4580">s</span><span class="MJXp-mo" id="MJXp-Span-4581" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4582">l</span><span class="MJXp-mo" id="MJXp-Span-4583" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-4584">1</span><span class="MJXp-mo" id="MJXp-Span-4585" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4586" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4587">1</span><span class="MJXp-mo" id="MJXp-Span-4588" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-527-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-527">s[l - 1] \geq 0, s[r + 1] = -1 \Rightarrow (s[l - 1] + 1)</script> states.</p><p><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4589"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4590">s</span><span class="MJXp-mo" id="MJXp-Span-4591" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4592">l</span><span class="MJXp-mo" id="MJXp-Span-4593" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-4594">1</span><span class="MJXp-mo" id="MJXp-Span-4595" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4596" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-4597" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-4598">1</span><span class="MJXp-mo" id="MJXp-Span-4599" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4600">s</span><span class="MJXp-mo" id="MJXp-Span-4601" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4602">r</span><span class="MJXp-mo" id="MJXp-Span-4603" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4604">1</span><span class="MJXp-mo" id="MJXp-Span-4605" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4606" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-4607">1</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-528-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-528">s[l - 1] = -1 = s[r + 1] \Rightarrow 1</script> state.</p><p>Hand-wavily we can say this is roughly bounded by <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4608"><span class="MJXp-mo" id="MJXp-Span-4609" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4610">s</span><span class="MJXp-mo" id="MJXp-Span-4611" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4612">l</span><span class="MJXp-mo" id="MJXp-Span-4613" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-4614">1</span><span class="MJXp-mo" id="MJXp-Span-4615" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4616" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4617">1</span><span class="MJXp-mo" id="MJXp-Span-4618" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-4619" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mo" id="MJXp-Span-4620" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4621">s</span><span class="MJXp-mo" id="MJXp-Span-4622" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4623">r</span><span class="MJXp-mo" id="MJXp-Span-4624" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-4625">1</span><span class="MJXp-mo" id="MJXp-Span-4626" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4627" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4628">1</span><span class="MJXp-mo" id="MJXp-Span-4629" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-529-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-529">(s[l - 1] + 1) \cdot (s[r - 1] + 1)</script> (if we pretend to "clip" <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4630"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4631">s</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-530-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-530">s</script> to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4632"><span class="MJXp-mn" id="MJXp-Span-4633">0</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-531-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-531">0</script>).</p><p>The cost of a transition is to iterate over the entire range and iterate to fix some <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4634"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4635">r</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-532-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-532">r</script> to the left and some <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4636"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4637">s</span><span class="MJXp-mo" id="MJXp-Span-4638" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4639">k</span><span class="MJXp-mo" id="MJXp-Span-4640" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4641" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4642">r</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-533-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-533">s[k] - r</script> on the right (similar to tutorial). So the total cost to compute a state is approx. <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4643"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4644">s</span><span class="MJXp-mo" id="MJXp-Span-4645" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4646">l</span><span class="MJXp-mo" id="MJXp-Span-4647" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-4648">1</span><span class="MJXp-mo" id="MJXp-Span-4649" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4650" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4651">s</span><span class="MJXp-mo" id="MJXp-Span-4652" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4653">r</span><span class="MJXp-mo" id="MJXp-Span-4654" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4655">1</span><span class="MJXp-mo" id="MJXp-Span-4656" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4657" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mo" id="MJXp-Span-4658" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-4659" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4660">s</span><span class="MJXp-mo" id="MJXp-Span-4661" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4662">l</span><span class="MJXp-mo" id="MJXp-Span-4663" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4664" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4665">1</span><span class="MJXp-mo" id="MJXp-Span-4666" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-4667" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-4668" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-4669" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-4670" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4671">s</span><span class="MJXp-mo" id="MJXp-Span-4672" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4673">r</span><span class="MJXp-mo" id="MJXp-Span-4674" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4675" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4676">1</span><span class="MJXp-mo" id="MJXp-Span-4677" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-4678" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-534-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-534">s[l - 1] \cdot s[r + 1] \cdot ((s[l] + 1) + \ldots + (s[r] + 1))</script>. The latter term is bounded by <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4679"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4680">n</span><span class="MJXp-mo" id="MJXp-Span-4681" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-4682">1</span><span class="MJXp-mo" id="MJXp-Span-4683" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4684">n</span><span class="MJXp-mo" id="MJXp-Span-4685" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-4686">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4687">n</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-535-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-535">n - 1 + n = 2n</script>. So the total cost of everything is bounded by <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4688"><span class="MJXp-msubsup" id="MJXp-Span-4689"><span class="MJXp-mo" id="MJXp-Span-4690" style="margin-left: 0.111em; margin-right: 0.05em;"></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-4695"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4696">l</span><span class="MJXp-mo" id="MJXp-Span-4697">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4698">n</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-4691"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4692">l</span><span class="MJXp-mo" id="MJXp-Span-4693">=</span><span class="MJXp-mn" id="MJXp-Span-4694">1</span></span></span></span></span></span></span><span class="MJXp-msubsup" id="MJXp-Span-4699"><span class="MJXp-mo" id="MJXp-Span-4700" style="margin-left: 0.111em; margin-right: 0.05em;"></span><span class="MJXp-script-box" style="height: 1.86em; vertical-align: -0.64em;"><span class=" MJXp-script"><span><span style="margin-bottom: -0.25em;"><span class="MJXp-mrow" id="MJXp-Span-4705"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4706">r</span><span class="MJXp-mo" id="MJXp-Span-4707">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4708">n</span></span></span></span></span><span class=" MJXp-script"><span><span style="margin-top: -0.85em;"><span class="MJXp-mrow" id="MJXp-Span-4701"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4702">r</span><span class="MJXp-mo" id="MJXp-Span-4703">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4704">l</span></span></span></span></span></span></span><span class="MJXp-mo" id="MJXp-Span-4709" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4710">s</span><span class="MJXp-mo" id="MJXp-Span-4711" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4712">l</span><span class="MJXp-mo" id="MJXp-Span-4713" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4714" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4715">1</span><span class="MJXp-mo" id="MJXp-Span-4716" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-4717" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mo" id="MJXp-Span-4718" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4719">s</span><span class="MJXp-mo" id="MJXp-Span-4720" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4721">r</span><span class="MJXp-mo" id="MJXp-Span-4722" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4723" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4724">1</span><span class="MJXp-mo" id="MJXp-Span-4725" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-4726" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-4727">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4728">n</span><span class="MJXp-mo" id="MJXp-Span-4729" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mo" id="MJXp-Span-4730" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mo" id="MJXp-Span-4731" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4732">s</span><span class="MJXp-mo" id="MJXp-Span-4733" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mn" id="MJXp-Span-4734">1</span><span class="MJXp-mo" id="MJXp-Span-4735" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4736" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4737">1</span><span class="MJXp-mo" id="MJXp-Span-4738" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-mo" id="MJXp-Span-4739" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mo" id="MJXp-Span-4740" style="margin-left: 0em; margin-right: 0em;"></span><span class="MJXp-mo" id="MJXp-Span-4741" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4742">s</span><span class="MJXp-mo" id="MJXp-Span-4743" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4744">n</span><span class="MJXp-mo" id="MJXp-Span-4745" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4746" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4747">1</span><span class="MJXp-mo" id="MJXp-Span-4748" style="margin-left: 0em; margin-right: 0em;">)</span><span class="MJXp-msubsup" id="MJXp-Span-4749"><span class="MJXp-mo" id="MJXp-Span-4750" style="margin-left: 0em; margin-right: 0.05em;">)</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-4751" style="vertical-align: 0.5em;">2</span></span><span class="MJXp-mo" id="MJXp-Span-4752" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-4753">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4754">n</span><span class="MJXp-mo" id="MJXp-Span-4755" style="margin-left: 0.333em; margin-right: 0.333em;"></span><span class="MJXp-mn" id="MJXp-Span-4756">8</span><span class="MJXp-msubsup" id="MJXp-Span-4757"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4758" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-4759" style="vertical-align: 0.5em;">3</span></span><span class="MJXp-mo" id="MJXp-Span-4760" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4761">O</span><span class="MJXp-mo" id="MJXp-Span-4762" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-msubsup" id="MJXp-Span-4763"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4764" style="margin-right: 0.05em;">n</span><span class="MJXp-mn MJXp-script" id="MJXp-Span-4765" style="vertical-align: 0.5em;">3</span></span><span class="MJXp-mo" id="MJXp-Span-4766" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-536-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-536">\sum_{l = 1}^{l = n} \sum_{r = l}^{r = n} (s[l] + 1) \cdot (s[r] + 1) \cdot 2n \leq ((s[1] + 1) + \ldots (s[n] + 1))^2 \cdot 2n \leq 8n^3 = O(n^3)</script>.</p><p>Implementation is more of a pain witht his for sure because you need to make sure you're not iterating <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4767"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4768">x</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-537-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-537">x</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4769"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4770">y</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-538-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-538">y</script> too much and handle somewhat edge cases when <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4771"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4772">s</span><span class="MJXp-mo" id="MJXp-Span-4773" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4774">l</span><span class="MJXp-mo" id="MJXp-Span-4775" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-4776">1</span><span class="MJXp-mo" id="MJXp-Span-4777" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4778" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-4779" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-4780">1</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-539-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-539">s[l - 1] = -1</script> or <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4781"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4782">s</span><span class="MJXp-mo" id="MJXp-Span-4783" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4784">r</span><span class="MJXp-mo" id="MJXp-Span-4785" style="margin-left: 0.267em; margin-right: 0.267em;">+</span><span class="MJXp-mn" id="MJXp-Span-4786">1</span><span class="MJXp-mo" id="MJXp-Span-4787" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4788" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-4789" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-4790">1</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-540-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-540">s[r + 1] = -1</script> or <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4791"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4792">s</span><span class="MJXp-mo" id="MJXp-Span-4793" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4794">k</span><span class="MJXp-mo" id="MJXp-Span-4795" style="margin-left: 0em; margin-right: 0em;">]</span><span class="MJXp-mo" id="MJXp-Span-4796" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mo" id="MJXp-Span-4797" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-mn" id="MJXp-Span-4798">1</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-541-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-541">s[k] = -1</script> when iterating between <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4799"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4800">l</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-542-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-542">l</script> to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4801"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4802">r</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-543-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-543">r</script>.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1300163 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1300163 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1300163">
        </ul>
    </div>
</div>

<div class="comment" commentid="1300292">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1300292" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/hadibd" title="Pupil hadibd" class="rated-user user-green">hadibd</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/07/2025 16:32 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1300292" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/hadibd" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/hadibd" title="Pupil hadibd" class="rated-user user-green">hadibd</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/07/2025 16:32 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1300292" href="?#comment-1300292" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1300292" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2384320" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1300292">
                        <div class="moveup">
                        <div class="ttypography"><p>For the problem "Stay or mirror", Why the number of inversions containing <em>i</em> is only related to a[<em>i</em>]? </p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1300292 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1300292 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1300292">
                <li>
<div class="comment" commentid="1301655">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1301655" commentparentid="1300292">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/Alvaro_Quispe" title="Pupil Alvaro_Quispe" class="rated-user user-green">Alvaro_Quispe</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/12/2025 16:06 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1301655" commentparentid="1300292">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/Alvaro_Quispe" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3406056/avatar/5f6d0192776e150.jpg">        </a>
        <div><a href="/profile/Alvaro_Quispe" title="Pupil Alvaro_Quispe" class="rated-user user-green">Alvaro_Quispe</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/12/2025 16:06 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1301655" href="?#comment-1301655" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1300292" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1301655" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3406056" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1301655">
                        <div class="moveup">
                        <div class="ttypography"><p>When we say that the number of inversions involving <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4803"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4804">i</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-544-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-544">i</script> depends only on <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4805"><span class="MJXp-msubsup" id="MJXp-Span-4806"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4807" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4808" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-545-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-545">a_i</script>, we mean that it doesnt matter what decisions we make for the other elements: if an element is greater than <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4809"><span class="MJXp-msubsup" id="MJXp-Span-4810"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4811" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4812" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-546-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-546">p_i</script>, it will remain greater regardless of whether we keep it as <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4813"><span class="MJXp-msubsup" id="MJXp-Span-4814"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4815" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4816" style="vertical-align: -0.4em;">j</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-547-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-547">p_j</script> or change it to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4817"><span class="MJXp-mn" id="MJXp-Span-4818">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4819">n</span><span class="MJXp-mo" id="MJXp-Span-4820" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-msubsup" id="MJXp-Span-4821"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4822" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4823" style="vertical-align: -0.4em;">j</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-548-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-548">2n - p_j</script>; and if it is smaller, it will remain smaller in both cases.</p><p>The key is to count the inversions involving <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4824"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4825">i</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-549-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-549">i</script> <strong>without double-counting cases</strong>.</p><p>If we set <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4826"><span class="MJXp-msubsup" id="MJXp-Span-4827"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4828" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4829" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-4830" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-msubsup" id="MJXp-Span-4831"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4832" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4833" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-550-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-550">a_i = p_i</script> (small value), then <strong>all</strong> elements greater than <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4834"><span class="MJXp-msubsup" id="MJXp-Span-4835"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4836" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4837" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-551-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-551">p_i</script> that are to the left will form inversions with <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4838"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4839">i</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-552-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-552">i</script>. This remains true even if those elements are changed to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4840"><span class="MJXp-mn" id="MJXp-Span-4841">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4842">n</span><span class="MJXp-mo" id="MJXp-Span-4843" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-msubsup" id="MJXp-Span-4844"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4845" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4846" style="vertical-align: -0.4em;">j</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-553-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-553">2n - p_j</script>, because they will still be greater than <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4847"><span class="MJXp-msubsup" id="MJXp-Span-4848"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4849" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4850" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-554-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-554">p_i</script>.</p><p>If we set <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4851"><span class="MJXp-msubsup" id="MJXp-Span-4852"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4853" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4854" style="vertical-align: -0.4em;">i</span></span><span class="MJXp-mo" id="MJXp-Span-4855" style="margin-left: 0.333em; margin-right: 0.333em;">=</span><span class="MJXp-mn" id="MJXp-Span-4856">2</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4857">n</span><span class="MJXp-mo" id="MJXp-Span-4858" style="margin-left: 0.267em; margin-right: 0.267em;"></span><span class="MJXp-msubsup" id="MJXp-Span-4859"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4860" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4861" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-555-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-555">a_i = 2n - p_i</script> (large value), then <strong>all</strong> elements greater than <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4862"><span class="MJXp-msubsup" id="MJXp-Span-4863"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4864" style="margin-right: 0.05em;">p</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4865" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-556-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-556">p_i</script> that are to the right will form inversions with <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4866"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4867">i</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-557-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-557">i</script>. This also remains true even if they are changed to their large form, because they will still be smaller than <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4868"><span class="MJXp-msubsup" id="MJXp-Span-4869"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4870" style="margin-right: 0.05em;">a</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4871" style="vertical-align: -0.4em;">i</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-558-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-558">a_i</script>.</p><p>Thus, for each <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4872"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4873">i</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-559-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-559">i</script>, there are only two possible inversion counts involving it:</p> <center><span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4874"><span class="MJXp-mo" id="MJXp-Span-4875" style="margin-left: 0.333em; margin-right: 0.333em;">min</span><span class="MJXp-mo" id="MJXp-Span-4876" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi" id="MJXp-Span-4877">#</span><span class="MJXp-mtext" id="MJXp-Span-4878">&nbsp;</span><span class="MJXp-mtext" id="MJXp-Span-4879">greater to the left</span><span class="MJXp-mo" id="MJXp-Span-4880" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-mtext" id="MJXp-Span-4881">&nbsp;</span><span class="MJXp-mi" id="MJXp-Span-4882">#</span><span class="MJXp-mtext" id="MJXp-Span-4883">&nbsp;</span><span class="MJXp-mtext" id="MJXp-Span-4884">greater to the right</span><span class="MJXp-mo" id="MJXp-Span-4885" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-560-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-560"> \min(\#\ \text{greater to the left},\ \#\ \text{greater to the right}) </script></center><p>We choose the smaller of the two, then remove <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4886"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4887">i</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-561-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-561">i</script> from the array. After this, the remaining problem is of exactly the same type, so the process repeats recursively until all positions are processed.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1301655 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1301655 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1301655">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1300630">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1300630" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/godfathersub1729" title="Pupil godfathersub1729" class="rated-user user-green">godfathersub1729</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/08/2025 15:34 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show (+<span class="hidden-children">1</span>)</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1300630" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/godfathersub1729" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/2833304/avatar/538621d197769440.jpg">        </a>
        <div><a href="/profile/godfathersub1729" title="Pupil godfathersub1729" class="rated-user user-green">godfathersub1729</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/08/2025 15:34 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1300630" href="?#comment-1300630" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1300630" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="2833304" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1300630">
                        <div class="moveup">
                        <div class="ttypography"><p>Loved the solution for D1B  Stay or Mirror!!</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1300630 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1300630 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1300630">
                <li>
<div class="comment" commentid="1302919">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1302919" commentparentid="1300630">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/dingdong" title="Master dingdong" class="rated-user user-orange">dingdong</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/21/2025 03:55 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1302919" commentparentid="1300630">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/dingdong" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/3935626/avatar/c3778b3a51fc3bdd.jpg">        </a>
        <div><a href="/profile/dingdong" title="Master dingdong" class="rated-user user-orange">dingdong</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/21/2025 03:55 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1302919" href="?#comment-1302919" style="font-size:1.2em;">#</a></span>
                            <span class="item"><a title="Parent comment" href="#comment-1300630" style="font-size:1.2em;">^</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1302919" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="3935626" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1302919">
                        <div class="moveup">
                        <div class="ttypography"><p><a href="http://bit.ly/4oMdi2J">Click here</a></p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1302919 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1302919 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1302919">
        </ul>
    </div>
</div>
</li>
        </ul>
    </div>
</div>

<div class="comment" commentid="1303546">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1303546" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/JJCUBER" title="Specialist JJCUBER" class="rated-user user-cyan">JJCUBER</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/23/2025 16:12 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1303546" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/JJCUBER" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/JJCUBER" title="Specialist JJCUBER" class="rated-user user-cyan">JJCUBER</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Aug/23/2025 16:12 UTC">4 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1303546" href="?#comment-1303546" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            <span style="" commentid="1303546" revisioncount="2" revision="2">
                                <a href="#" style="text-decoration:none;font-size:1.4rem;color:#bebebe;" class="leftRevision"></a>
                                Rev. <span class="revision">2</span>
                                <a href="#" style="text-decoration:none;font-size:1.4rem;visibility:hidden;color:#bebebe;" class="rightRevision"></a>
                            </span>
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1303546" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="1558969" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1303546">
                        <div class="moveup">
                        <div class="ttypography"><p>For Div1A, I ended up doing an <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4888"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4889">O</span><span class="MJXp-mo" id="MJXp-Span-4890" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4891">n</span><span class="MJXp-mo" id="MJXp-Span-4892" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-562-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-562">O(n)</script> greedy. I made the observation that, for a range <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4893"><span class="MJXp-mo" id="MJXp-Span-4894" style="margin-left: 0em; margin-right: 0em;">[</span><span class="MJXp-msubsup" id="MJXp-Span-4895"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4896" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4897" style="vertical-align: -0.4em;">k</span></span><span class="MJXp-mo" id="MJXp-Span-4898" style="margin-left: 0em; margin-right: 0.222em;">,</span><span class="MJXp-msubsup" id="MJXp-Span-4899"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4900" style="margin-right: 0.05em;">e</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4901" style="vertical-align: -0.4em;">k</span></span><span class="MJXp-mo" id="MJXp-Span-4902" style="margin-left: 0em; margin-right: 0em;">]</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-563-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-563">[s_k,e_k]</script>, a cycle through <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4903"><span class="MJXp-msubsup" id="MJXp-Span-4904"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4905" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4906" style="vertical-align: -0.4em;">k</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-564-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-564">s_k</script> and <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4907"><span class="MJXp-msubsup" id="MJXp-Span-4908"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4909" style="margin-right: 0.05em;">e</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4910" style="vertical-align: -0.4em;">k</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-565-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-565">e_k</script> would require two paths from <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4911"><span class="MJXp-msubsup" id="MJXp-Span-4912"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4913" style="margin-right: 0.05em;">s</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4914" style="vertical-align: -0.4em;">k</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-566-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-566">s_k</script> to <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4915"><span class="MJXp-msubsup" id="MJXp-Span-4916"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4917" style="margin-right: 0.05em;">e</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4918" style="vertical-align: -0.4em;">k</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-567-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-567">e_k</script> (one of which is redundant for the score <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4919"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4920">f</span><span class="MJXp-mo" id="MJXp-Span-4921" style="margin-left: 0em; margin-right: 0em;">(</span><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4922">S</span><span class="MJXp-mo" id="MJXp-Span-4923" style="margin-left: 0em; margin-right: 0em;">)</span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-568-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-568">f(S)</script>). Accordingly, if we treat <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4924"><span class="MJXp-msubsup" id="MJXp-Span-4925"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4926" style="margin-right: 0.05em;">e</span><span class="MJXp-mi MJXp-italic MJXp-script" id="MJXp-Span-4927" style="vertical-align: -0.4em;">k</span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-569-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-569">e_k</script> as a unique representative and take the smallest corresponding <span class="MathJax_Preview" style="color: inherit;"><span class="MJXp-math" id="MJXp-Span-4928"><span class="MJXp-msubsup" id="MJXp-Span-4929"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4930" style="margin-right: 0.05em;">s</span><span class="MJXp-mrow MJXp-script" id="MJXp-Span-4931" style="vertical-align: -0.4em;"><span class="MJXp-msup" id="MJXp-Span-4932"><span class="MJXp-mi MJXp-italic" id="MJXp-Span-4933" style="margin-right: 0.05em;">k</span><span class="MJXp-mo MJXp-script" id="MJXp-Span-4934" style="vertical-align: 0.5em;"></span></span></span></span></span></span><span class="MathJax MathJax_Processing" id="MathJax-Element-570-Frame" tabindex="0"></span><script type="math/tex" id="MathJax-Element-570">s_{k'}</script>, this will get rid of subintervals existing while keeping the answer optimal. (Note that, while I mention a representative, this solution does <em>not</em> use a DSU; a DSU is a touch overkill.)</p> <div class="spoiler"><b class="spoiler-title">Solution</b><div class="spoiler-content" style="display: none;"><pre><code class="prettyprint prettyprinted" style=""><span class="com">#include</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln">bits</span><span class="pun">/</span><span class="pln">stdc</span><span class="pun">++.</span><span class="pln">h</span><span class="pun">&gt;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> </span><span class="kwd">namespace</span><span class="pln"> std</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> A2 </span><span class="pun">=</span><span class="pln"> array</span><span class="pun">&lt;</span><span class="kwd">int</span><span class="pun">,</span><span class="pln"> </span><span class="lit">2</span><span class="pun">&gt;;</span><span class="pln">

</span><span class="kwd">void</span><span class="pln"> run</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> n</span><span class="pun">;</span><span class="pln">cin</span><span class="pun">&gt;&gt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln">
    vector</span><span class="pun">&lt;</span><span class="pln">A2</span><span class="pun">&gt;</span><span class="pln"> start</span><span class="pun">(</span><span class="lit">2</span><span class="pun">*</span><span class="pln">n</span><span class="pun">+</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">{</span><span class="pln">INT_MAX</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">});</span><span class="pln"> </span><span class="com">// [i] = {minimal start of an edge into i (going from a strictly smaller index), original index}</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;=</span><span class="pln"> n</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> a</span><span class="pun">,</span><span class="pln">b</span><span class="pun">;</span><span class="pln">cin</span><span class="pun">&gt;&gt;</span><span class="pln">a</span><span class="pun">&gt;&gt;</span><span class="pln">b</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">a </span><span class="pun">&lt;</span><span class="pln"> start</span><span class="pun">[</span><span class="pln">b</span><span class="pun">][</span><span class="lit">0</span><span class="pun">])</span><span class="pln"> start</span><span class="pun">[</span><span class="pln">b</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span><span class="pln">a</span><span class="pun">,</span><span class="pln"> i</span><span class="pun">};</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    vector</span><span class="str">&lt;int&gt;</span><span class="pln"> res</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">auto</span><span class="pln"> </span><span class="pun">[</span><span class="pln">a</span><span class="pun">,</span><span class="pln"> i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> start</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">i</span><span class="pun">)</span><span class="pln"> res</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span><span class="pln"> </span><span class="com">// zero means it was never assigned to (so no edge going into i from smaller index)</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    cout </span><span class="pun">&lt;&lt;</span><span class="pln"> res</span><span class="pun">.</span><span class="pln">size</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">'\n'</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">auto</span><span class="pln"> k </span><span class="pun">:</span><span class="pln"> res</span><span class="pun">)</span><span class="pln"> cout </span><span class="pun">&lt;&lt;</span><span class="pln"> k </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">' '</span><span class="pun">;</span><span class="pln">
    cout </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">'\n'</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">

</span><span class="kwd">int</span><span class="pln"> main</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    cin</span><span class="pun">.</span><span class="pln">tie</span><span class="pun">(</span><span class="lit">0</span><span class="pun">)-&gt;</span><span class="pln">sync_with_stdio</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">
    cin</span><span class="pun">.</span><span class="pln">exceptions</span><span class="pun">(</span><span class="pln">cin</span><span class="pun">.</span><span class="pln">failbit</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> t</span><span class="pun">;</span><span class="pln">cin</span><span class="pun">&gt;&gt;</span><span class="pln">t</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">while</span><span class="pun">(</span><span class="pln">t</span><span class="pun">--)</span><span class="pln">run</span><span class="pun">();</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre></div></div></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1303546 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1303546 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1303546">
        </ul>
    </div>
</div>

<div class="comment" commentid="1305954">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1305954" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/vvikrant456" title="Newbie vvikrant456" class="rated-user user-gray">vvikrant456</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Sep/01/2025 18:13 UTC">3 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1305954" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/vvikrant456" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/no-avatar.jpg">        </a>
        <div><a href="/profile/vvikrant456" title="Newbie vvikrant456" class="rated-user user-gray">vvikrant456</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Sep/01/2025 18:13 UTC">3 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1305954" href="?#comment-1305954" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1305954" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="1910658" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1305954">
                        <div class="moveup">
                        <div class="ttypography"><p>can anyone please help me to find mistakes in this solution for problem <strong>D1A Double Perspective.</strong></p> <pre><code class="prettyprint prettyprinted" style=""><span class="com">// author :- Vikas Kumar Vikrant, CSE @NITS</span><span class="pln">
</span><span class="com">#include</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln">bits</span><span class="pun">/</span><span class="pln">stdc</span><span class="pun">++.</span><span class="pln">h</span><span class="pun">&gt;</span><span class="pln">
</span><span class="kwd">using</span><span class="pln"> </span><span class="kwd">namespace</span><span class="pln"> std</span><span class="pun">;</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">int</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> f</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln"> a</span><span class="pun">,</span><span class="pln"> b</span><span class="pun">)</span><span class="pln"> </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> a</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> b</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> fastIO                    \
    ios_base</span><span class="pun">::</span><span class="pln">sync_with_stdio</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln"> \
    cin</span><span class="pun">.</span><span class="pln">tie</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">                   \
    cout</span><span class="pun">.</span><span class="pln">tie</span><span class="pun">(</span><span class="lit">0</span><span class="pun">);</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> all</span><span class="pun">(</span><span class="pln">v</span><span class="pun">)</span><span class="pln"> v</span><span class="pun">.</span><span class="kwd">begin</span><span class="pun">(),</span><span class="pln"> v</span><span class="pun">.</span><span class="kwd">end</span><span class="pun">()</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> cntbit</span><span class="pun">(</span><span class="pln">n</span><span class="pun">)</span><span class="pln"> __builtin_popcountll</span><span class="pun">(</span><span class="pln">n</span><span class="pun">)</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> </span><span class="kwd">get</span><span class="pun">(</span><span class="pln">a</span><span class="pun">,</span><span class="pln"> n</span><span class="pun">)</span><span class="pln">     \
    vector</span><span class="str">&lt;int&gt;</span><span class="pln"> a</span><span class="pun">(</span><span class="pln">n</span><span class="pun">);</span><span class="pln"> \
    f</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> n</span><span class="pun">)</span><span class="pln"> cin </span><span class="pun">&gt;&gt;</span><span class="pln"> a</span><span class="pun">[</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> put</span><span class="pun">(</span><span class="pln">a</span><span class="pun">,</span><span class="pln"> n</span><span class="pun">)</span><span class="pln"> f</span><span class="pun">(</span><span class="pln">i</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span><span class="pln"> n</span><span class="pun">)</span><span class="pln"> cout </span><span class="pun">&lt;&lt;</span><span class="pln"> a</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">' '</span><span class="pun">;</span><span class="pln">
</span><span class="com">#define</span><span class="pln"> cntbit</span><span class="pun">(</span><span class="pln">n</span><span class="pun">)</span><span class="pln"> __builtin_popcountll</span><span class="pun">(</span><span class="pln">n</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">long</span><span class="pln"> </span><span class="kwd">double</span><span class="pln"> PI </span><span class="pun">=</span><span class="pln"> acos</span><span class="pun">(-</span><span class="lit">1.0</span><span class="pun">);</span><span class="pln">
</span><span class="kwd">const</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> mod </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1e9</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">7</span><span class="pun">;</span><span class="pln">
</span><span class="com">// x = x &amp; ~(x-1); //give rightmost set bit no.</span><span class="pln">

</span><span class="kwd">class</span><span class="pln"> DSU
</span><span class="pun">{</span><span class="pln">
</span><span class="kwd">public</span><span class="pun">:</span><span class="pln">
    vector</span><span class="str">&lt;int&gt;</span><span class="pln"> rank</span><span class="pun">,</span><span class="pln"> parent</span><span class="pun">,</span><span class="pln"> size</span><span class="pun">;</span><span class="pln">
    DSU</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> n</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        rank</span><span class="pun">.</span><span class="pln">resize</span><span class="pun">(</span><span class="pln">n </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
        parent</span><span class="pun">.</span><span class="pln">resize</span><span class="pun">(</span><span class="pln">n </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
        size</span><span class="pun">.</span><span class="pln">resize</span><span class="pun">(</span><span class="pln">n </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="lit">0</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;=</span><span class="pln"> n</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln">
            parent</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> i</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> findPar</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> node</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">node </span><span class="pun">==</span><span class="pln"> parent</span><span class="pun">[</span><span class="pln">node</span><span class="pun">])</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> node</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> parent</span><span class="pun">[</span><span class="pln">node</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> findPar</span><span class="pun">(</span><span class="pln">parent</span><span class="pun">[</span><span class="pln">node</span><span class="pun">]);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">void</span><span class="pln"> unionByRank</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> u</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> v</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> ulp_u </span><span class="pun">=</span><span class="pln"> findPar</span><span class="pun">(</span><span class="pln">u</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> ulp_v </span><span class="pun">=</span><span class="pln"> findPar</span><span class="pun">(</span><span class="pln">v</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ulp_u </span><span class="pun">==</span><span class="pln"> ulp_v</span><span class="pun">)</span><span class="pln">
            </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">rank</span><span class="pun">[</span><span class="pln">ulp_u</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> rank</span><span class="pun">[</span><span class="pln">ulp_v</span><span class="pun">])</span><span class="pln">
            parent</span><span class="pun">[</span><span class="pln">ulp_u</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> ulp_v</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">rank</span><span class="pun">[</span><span class="pln">ulp_u</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&gt;</span><span class="pln"> rank</span><span class="pun">[</span><span class="pln">ulp_v</span><span class="pun">])</span><span class="pln">
            parent</span><span class="pun">[</span><span class="pln">ulp_v</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> ulp_u</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">else</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            parent</span><span class="pun">[</span><span class="pln">ulp_v</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> ulp_u</span><span class="pun">;</span><span class="pln">
            rank</span><span class="pun">[</span><span class="pln">ulp_u</span><span class="pun">]++;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">void</span><span class="pln"> unionBySize</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> u</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> v</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> ulp_u </span><span class="pun">=</span><span class="pln"> findPar</span><span class="pun">(</span><span class="pln">u</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> ulp_v </span><span class="pun">=</span><span class="pln"> findPar</span><span class="pun">(</span><span class="pln">v</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ulp_u </span><span class="pun">==</span><span class="pln"> ulp_v</span><span class="pun">)</span><span class="pln">
            </span><span class="kwd">return</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">size</span><span class="pun">[</span><span class="pln">ulp_u</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&lt;</span><span class="pln"> size</span><span class="pun">[</span><span class="pln">ulp_v</span><span class="pun">])</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            parent</span><span class="pun">[</span><span class="pln">ulp_u</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> ulp_v</span><span class="pun">;</span><span class="pln">
            size</span><span class="pun">[</span><span class="pln">ulp_v</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+=</span><span class="pln"> size</span><span class="pun">[</span><span class="pln">ulp_u</span><span class="pun">];</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">else</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            parent</span><span class="pun">[</span><span class="pln">ulp_v</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> ulp_u</span><span class="pun">;</span><span class="pln">
            size</span><span class="pun">[</span><span class="pln">ulp_u</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+=</span><span class="pln"> size</span><span class="pun">[</span><span class="pln">ulp_v</span><span class="pun">];</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">};</span><span class="pln">

</span><span class="kwd">void</span><span class="pln"> solve</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> n</span><span class="pun">;</span><span class="pln">
    cin </span><span class="pun">&gt;&gt;</span><span class="pln"> n</span><span class="pun">;</span><span class="pln">
    vector</span><span class="str">&lt;int&gt;</span><span class="pln"> g</span><span class="pun">[</span><span class="lit">2</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> n </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">];</span><span class="pln">
    </span><span class="kwd">set</span><span class="str">&lt;int&gt;</span><span class="pln"> st</span><span class="pun">;</span><span class="pln">
    DSU dsu</span><span class="pun">(</span><span class="lit">2</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> n </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">);</span><span class="pln">
    vector</span><span class="pun">&lt;</span><span class="pln">pair</span><span class="pun">&lt;</span><span class="kwd">int</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pun">&gt;&gt;</span><span class="pln"> pairs</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">set</span><span class="pun">&lt;</span><span class="pln">pair</span><span class="pun">&lt;</span><span class="kwd">int</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pun">&gt;&gt;</span><span class="pln"> cp</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> n</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> u</span><span class="pun">,</span><span class="pln"> v</span><span class="pun">;</span><span class="pln">
        cin </span><span class="pun">&gt;&gt;</span><span class="pln"> u </span><span class="pun">&gt;&gt;</span><span class="pln"> v</span><span class="pun">;</span><span class="pln">
        st</span><span class="pun">.</span><span class="pln">insert</span><span class="pun">(</span><span class="pln">u</span><span class="pun">);</span><span class="pln">
        st</span><span class="pun">.</span><span class="pln">insert</span><span class="pun">(</span><span class="pln">v</span><span class="pun">);</span><span class="pln">
        pairs</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">({</span><span class="pln">u</span><span class="pun">,</span><span class="pln"> v</span><span class="pun">});</span><span class="pln">
        g</span><span class="pun">[</span><span class="pln">u</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">v</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">dsu</span><span class="pun">.</span><span class="pln">findPar</span><span class="pun">(</span><span class="pln">u</span><span class="pun">)</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> dsu</span><span class="pun">.</span><span class="pln">findPar</span><span class="pun">(</span><span class="pln">v</span><span class="pun">))</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            dsu</span><span class="pun">.</span><span class="pln">unionByRank</span><span class="pun">(</span><span class="pln">u</span><span class="pun">,</span><span class="pln"> v</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">else</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            </span><span class="com">// part of cycle, needs to ignored</span><span class="pln">
            cp</span><span class="pun">.</span><span class="pln">insert</span><span class="pun">({</span><span class="pln">u</span><span class="pun">,</span><span class="pln"> v</span><span class="pun">});</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    map</span><span class="pun">&lt;</span><span class="kwd">int</span><span class="pun">,</span><span class="pln"> vector</span><span class="str">&lt;int&gt;</span><span class="pun">&gt;</span><span class="pln"> mp</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> n</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">auto</span><span class="pln"> pr </span><span class="pun">=</span><span class="pln"> pairs</span><span class="pun">[</span><span class="pln">i</span><span class="pun">];</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> u </span><span class="pun">=</span><span class="pln"> pr</span><span class="pun">.</span><span class="pln">first</span><span class="pun">,</span><span class="pln"> v </span><span class="pun">=</span><span class="pln"> pr</span><span class="pun">.</span><span class="pln">second</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> u_p </span><span class="pun">=</span><span class="pln"> dsu</span><span class="pun">.</span><span class="pln">findPar</span><span class="pun">(</span><span class="pln">u</span><span class="pun">),</span><span class="pln"> v_p </span><span class="pun">=</span><span class="pln"> dsu</span><span class="pun">.</span><span class="pln">findPar</span><span class="pun">(</span><span class="pln">v</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">cp</span><span class="pun">.</span><span class="pln">count</span><span class="pun">(</span><span class="pln">pr</span><span class="pun">))</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            mp</span><span class="pun">[</span><span class="pln">u_p</span><span class="pun">].</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">int</span><span class="pln"> result_parent_id </span><span class="pun">=</span><span class="pln"> </span><span class="pun">-</span><span class="lit">1</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">int</span><span class="pln"> maxVal </span><span class="pun">=</span><span class="pln"> INT_MIN</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">auto</span><span class="pln"> it </span><span class="pun">:</span><span class="pln"> mp</span><span class="pun">)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> min_curr_node </span><span class="pun">=</span><span class="pln"> INT_MAX</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> max_curr_node </span><span class="pun">=</span><span class="pln"> INT_MIN</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> index </span><span class="pun">:</span><span class="pln"> it</span><span class="pun">.</span><span class="pln">second</span><span class="pun">)</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">auto</span><span class="pln"> pr </span><span class="pun">=</span><span class="pln"> pairs</span><span class="pun">[</span><span class="pln">index</span><span class="pun">];</span><span class="pln">
            </span><span class="kwd">int</span><span class="pln"> u </span><span class="pun">=</span><span class="pln"> pr</span><span class="pun">.</span><span class="pln">first</span><span class="pun">,</span><span class="pln"> v </span><span class="pun">=</span><span class="pln"> pr</span><span class="pun">.</span><span class="pln">second</span><span class="pun">;</span><span class="pln">
            min_curr_node </span><span class="pun">=</span><span class="pln"> min</span><span class="pun">(</span><span class="pln">min_curr_node</span><span class="pun">,</span><span class="pln"> min</span><span class="pun">(</span><span class="pln">u</span><span class="pun">,</span><span class="pln"> v</span><span class="pun">));</span><span class="pln">
            max_curr_node </span><span class="pun">=</span><span class="pln"> max</span><span class="pun">(</span><span class="pln">max_curr_node</span><span class="pun">,</span><span class="pln"> max</span><span class="pun">(</span><span class="pln">u</span><span class="pun">,</span><span class="pln"> v</span><span class="pun">));</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
        </span><span class="kwd">int</span><span class="pln"> len </span><span class="pun">=</span><span class="pln"> max_curr_node </span><span class="pun">-</span><span class="pln"> min_curr_node </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">len </span><span class="pun">&gt;=</span><span class="pln"> maxVal</span><span class="pun">)</span><span class="pln">
        </span><span class="pun">{</span><span class="pln">
            result_parent_id </span><span class="pun">=</span><span class="pln"> it</span><span class="pun">.</span><span class="pln">first</span><span class="pun">;</span><span class="pln">
            maxVal </span><span class="pun">=</span><span class="pln"> len</span><span class="pun">;</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    cout </span><span class="pun">&lt;&lt;</span><span class="pln"> mp</span><span class="pun">[</span><span class="pln">result_parent_id</span><span class="pun">].</span><span class="pln">size</span><span class="pun">()</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> endl</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">auto</span><span class="pln"> index </span><span class="pun">:</span><span class="pln"> mp</span><span class="pun">[</span><span class="pln">result_parent_id</span><span class="pun">])</span><span class="pln">
        cout </span><span class="pun">&lt;&lt;</span><span class="pln"> index </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pln"> </span><span class="pun">&lt;&lt;</span><span class="pln"> </span><span class="str">" "</span><span class="pun">;</span><span class="pln">
    cout </span><span class="pun">&lt;&lt;</span><span class="pln"> endl</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="kwd">signed</span><span class="pln"> main</span><span class="pun">()</span><span class="pln">
</span><span class="pun">{</span><span class="pln">
    fastIO </span><span class="kwd">int</span><span class="pln"> t </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
    </span><span class="com">//  freopen("input.txt", "r", stdin);</span><span class="pln">
    </span><span class="com">//  freopen("output.txt","w", stdout);</span><span class="pln">
    cin </span><span class="pun">&gt;&gt;</span><span class="pln"> t</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">t</span><span class="pun">--)</span><span class="pln">
    </span><span class="pun">{</span><span class="pln">
        solve</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1305954 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1305954 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1305954">
        </ul>
    </div>
</div>

<div class="comment" commentid="1308988">
    <div class="hidden-comment" style="display: none;">
        <table class="comment-table" commentid="1308988" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                        <div style="position: absolute; left: 0;" class="comment-indent-holder">
                                <div class="comment-no-indent">
                                    <span></span>
                                </div>
                        </div>
                     <div class="avatar"><a href="/profile/lethan3" title="Grandmaster lethan3" class="rated-user user-red">lethan3</a></div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Sep/14/2025 04:12 UTC">3 months ago</span>,</span>
                        <span class="item"><a href="#" class="showComment">show</a></span>
                        <span class="item" style="visibility: hidden"><a style="font-size:1.2em;">#</a></span>

                        <div style="position:absolute;right:0;top:0;">
                            <div class="commentVoteFrameHolder">
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody></table>
    </div>
    <div class="shown-comment">
        <table class="comment-table" commentid="1308988" commentparentid="-1">
            <tbody><tr>
                <td class="left">
                    <div style="position: absolute; left: 0;" class="comment-indent-holder">
                            <div class="comment-no-indent">
                                <span></span>
                            </div>
                    </div>
    <div class="avatar">
        <a href="/profile/lethan3" style="position: relative;">
<img src="https://codeforces.com/userpic.codeforces.org/1714539/avatar/af41dd1ab09d12e3.jpg">        </a>
        <div><a href="/profile/lethan3" title="Grandmaster lethan3" class="rated-user user-red">lethan3</a></div>
    </div>
                </td>
                <td class="right">
                    <div class="info">
                        
                        <span class="item"><span class="format-humantime" title="Sep/14/2025 04:12 UTC">3 months ago</span>,</span>
                        <span class="item"><a href="#" class="hideComment">hide</a></span>
                        <span class="item"><a title="Link to comment" id="comment-1308988" href="?#comment-1308988" style="font-size:1.2em;">#</a></span>
                        <span class="item">|</span>
                        <span style="position: relative; top: 2px;">
</span>
                        <div style="position:absolute;right:0;top:0;">
                            &nbsp;
                            <div class="commentVoteFrameHolder">

<span commentid="1308988" class="CommentVoteFrame" myvotedirection="0" data-commentrating="0" data-commentuserid="1714539" style="position:relative;">
<a href="#" class="vote-for-comment" votedirection="1" dd="x"><img style="position:relative;top:3px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-voteup-blue.png" alt="Vote: I like it" title="Vote: I like it"></a>
<span class="commentRating"><span style="color:gray;font-weight:bold;">0</span></span>
<a href="#" class="vote-for-comment" votedirection="-1" dd="y"><img style="position:relative;top:2px;opacity:0.35;" src="//codeforces.com/codeforces.org/s/52448/images/actions/comment-votedown-blue.png" alt="Vote: I do not like it" title="Vote: I do not like it"></a>
</span>
                            </div>
                        </div>
                    </div>
                    <div class="comment-content comment-content-1308988">
                        <div class="moveup">
                        <div class="ttypography"><p>If you are stuck on understanding what the editorial for Div1D is trying to do like I was, the DP state is dp[l][r][x][y] = the number of ways to fill in the subarray from l to r where we assume that l-1 and r+1 have already been chosen, and that the counts of l-1 and r+1 must increase by x and y respectively by filling in this subarray. Then we calculate by looking which of the elements from l to r we choose first.</p></div>
                        </div>
                    </div>
                    <div class="reply info">
                        <a class="comment-1308988 en false" href="#" style="text-decoration: none;"><span class="arrow"></span></a>
                        <a class="comment-1308988 en false" href="#">Reply</a>
                    </div>
                </td>
            </tr>
        </tbody></table>
        <ul class="comment-children comment-1308988">
        </ul>
    </div>
</div>
        <br>

<div id="editBox-160171" style="width:50em;display:none;">
    <div class="previewBody" style="border: 1px solid #d4d4d4; margin-bottom: 0.5em; padding: 0.25em; display:none;">&nbsp;</div>
    <div style="width: 1px">&nbsp;</div>
    <div class="commentLocale" style="position: relative; top: 0.5em;left:4px;display: none;">
        <input type="radio" name="locale" value="en"><span style="font-size: 1.2rem;position: relative; bottom: 3px;">In English</span>
        <input style="margin-left:1em" type="radio" name="locale" value="ru"><span style="font-size: 1.2rem;position: relative; bottom: 3px;">In Russian</span>
    </div>
    <textarea data-drafts-id="CommentReplyFrame" class="wysiwyg" name="editContent" rows="20" style="width:99%;"></textarea>
    <div class="error error__content"></div>
    <div style="text-align:center;">
        <input type="button" name="preview" style="padding: 0.25em 1em; margin-top: 1em; min-width: 6.5em;" value="Preview">
        <input type="button" name="save" style="padding: 0.25em 1em; margin-top: 1em; min-width: 6.5em;" value="Save">
    </div>
</div>

    <script type="text/javascript">
        $(document).ready(function () {

var firstPreview160171 = true;
var lastPreviewContent160171 = '';

if (!window.moveCommentRevision) {
    moveCommentRevision = function(e, dir) {
        var p = e.parent();
        var revisionCount = parseInt(p.attr("revisionCount"));
        var revision = parseInt(p.attr("revision"));
        var next = revision + dir;
        var commentId = p.attr("commentId");
        if (next >= 1 && next <= revisionCount) {
            $.post(
                "/data/comment-data",
                {action: "revision", commentId: commentId, revision: next},
                function(json) {
                    if (json.success == "true") {
                        var parentDiv = e;

                        while (parentDiv !== null && (parentDiv[0].nodeName.toLowerCase() !== "td" || !parentDiv.hasClass("right"))) {
                            parentDiv = parentDiv.parent();
                        }

                        if (parentDiv === null) {
                            return;
                        }

                        parentDiv.find("div.comment-content-" + commentId + " .moveup").html(json.content);
                        Codeforces.setupSpoilers(parentDiv.find("div.comment-content-" + commentId + " .moveup"));
                        p.attr("revision", next);
                        p.find("span.revision").text(next);
                        if (next == 1) {
                            p.find("a.leftRevision").css("visibility", "hidden");
                        } else {
                            p.find("a.leftRevision").css("visibility", "visible");
                        }
                        if (next == revisionCount) {
                            p.find("a.rightRevision").css("visibility", "hidden");
                        } else {
                            p.find("a.rightRevision").css("visibility", "visible");
                        }

                        window.updateTypography();
                        MathJax.Hub.Typeset();
                    } else {
                        alert(e.error);
                    }
                },
                "json"
            );
        }
    };
}

$("div[commentableId=160171] a.leftRevision").click(function () {
    window.moveCommentRevision($(this), -1);
    return false;
});

$("div[commentableId=160171] a.rightRevision").click(function () {
    window.moveCommentRevision($(this), +1);
    return false;
});



        });
    </script>


        <script src="//codeforces.com/codeforces.org/s/52448/js/swfobject-2.2.min.js" type="text/javascript"></script>
        <script src="//codeforces.com/codeforces.org/s/52448/js/ftaa.js" type="text/javascript"></script>
        <script type="text/javascript">
            $(function() {
                if (window.evercookie) {
                    var ec = new evercookie({
                        history: false,
                        silverlight: false,
                        baseurl: '',
                        asseturi: '/assets',
                        phpuri: '/2fdcd78',
                        pngPath: '/eps',
                        etagPath: '/ees',
                        cachePath: '/ecs'
                    });

                    var randomNumber = function () {
                        return Math.random().toString(36).substr(2);
                    };

                    var randomToken = function () {
                        return (randomNumber() + randomNumber()).substring(0, 18);
                    };

                    window._ftaa = "";

                    ec.get("70a7c28f3de", function (value) {
                        window._ftaa = value;
                        if (!window._ftaa) {
                            window._ftaa = randomToken();
                            ec.set("70a7c28f3de", window._ftaa);
                        }
                        $.post("/data/empty", {bfaa: window._bfaa, ftaa: window._ftaa});
                    });
                } else {
                    window._ftaa = "n/a";
                    $.post("/data/empty", {bfaa: window._bfaa, ftaa: window._ftaa});
                }
            });
        </script>

        <script src="//codeforces.com/codeforces.org/s/52448/js/bfaa.js" type="text/javascript"></script>
        <script type="text/javascript">
            $(function() {
                var fpCallback = function() {
                    Fingerprint2.get({}, function(components) {
                        window._bfaa = Fingerprint2.x64hash128(components.map(function (pair) { return pair.value }).join(), 31);
                        $.post("/data/empty", {bfaa: window._bfaa, ftaa: window._ftaa});
                    });
                };
                if (typeof Fingerprint2 !== 'undefined') {
                    if (window.requestIdleCallback) {
                        requestIdleCallback(fpCallback)
                    } else {
                        setTimeout(fpCallback, 500)
                    }
                } else {
                    window._bfaa = "n/a";
                    $.post("/data/empty", {bfaa: window._bfaa, ftaa: window._ftaa});
                }
            });
        </script>

    <script type="text/javascript">
        $(document).ready(function () {
    $("a.new-root-comment").click(function () {
            window.location = "/enter";
        return false;
    });

    $(".comment-table .reply a").click(function () {
            window.location = "/enter";
        return false;
    });
        });
    </script>
    <script type="text/javascript">
        $(document).ready(function () {
    function updateImg(element, direction, activated) {
        var votedDirection = element.closest(".CommentVoteFrame").attr("myVoteDirection");
        var directionString = direction == 1 ? "up" : "down";
        element.attr("src", "//codeforces.com/codeforces.org/s/52448/images/actions/comment-vote" + directionString + (activated ? "" : "-blue") + ".png");
        element.css("opacity", activated ? "1.0" : "0.35");
        var title;
        if (votedDirection == direction) {
            title = "Cancel vote";
        } else if (direction == 1) {
            title = "Vote: I like it";
        } else {
            title = "Vote: I do not like it";
        }
        element.attr("alt", title);
        element.attr("title", title);
    }

    $(".vote-for-comment").mouseover(function () {
        var vote = $(this);
        var voteFrame = $(this).closest(".CommentVoteFrame");
        var direction = vote.attr("voteDirection");
        var commentUserId = $(this).parent().attr("data-commentUserId");
        var ownComment = false;
        if (!ownComment) {
            updateImg(vote.find("img"), direction, true);
        }
    });

    $(".vote-for-comment").mouseout(function () {
        var vote = $(this);
        var voteFrame = $(this).closest(".CommentVoteFrame");
        var direction = vote.attr("voteDirection");
        var myVoteDirection = voteFrame.attr("myVoteDirection");
        var commentUserId = $(this).parent().attr("data-commentUserId");
        var ownComment = false;
        if (myVoteDirection != direction && !ownComment) {
            updateImg(vote.find("img"), direction, false);
        }
    });

    $(".vote-for-comment").click(function () {
        if ($(this).closest(".hidden-comment").length) {
            Codeforces.showMessage("Show the comment before voting");
            return;
        }
        var vote = $(this);
        var voteFrame = $(this).closest(".CommentVoteFrame");
        var commentId = $(this).parent().attr("commentid");
        var commentRating = $(this).parent().attr("data-commentRating");
        var myVoteDirection = voteFrame.attr("myVoteDirection");
        var direction = $(this).attr("voteDirection");
        var newDirection = direction;
        if (direction == myVoteDirection) {
            newDirection = 0; // Clicking same direction twice cancels the vote
        }
        var commentUserId = $(this).parent().attr("data-commentUserId");
        var ownComment = false;
        $.post("/data/comment/vote", {commentId: commentId, _tta: Codeforces.tta(), vote: newDirection, commentRating: commentRating}, function(data) {
            if (data["success"] == "true") {
                voteFrame.attr("myVoteDirection", newDirection);
                updateImg(voteFrame.find("[voteDirection=-1]>img"), -1, newDirection == -1);
                updateImg(voteFrame.find("[voteDirection=1]>img"), 1, newDirection == 1);
                if (newDirection == -1) {
                    voteFrame.find(".ComplaintFrame").css("display", "inline-block");
                } else {
                    voteFrame.find(".ComplaintFrame").hide();
                }
                vote.parent().find(".commentRating").html(data["commentRating"]);
            }
            Codeforces.showMessage(data["message"]);
        }, "json");
        return false;
    });

    $(".negative-comment-vote").closest(".comment-table").addClass("comment-bad");

    $(".troll-comment-vote").closest(".comment").css("display", "none");

    $(".too-negative-comment-vote").closest(".comment-table").each(function () {
        var e = $(this);
        e.addClass("comment-too-bad");
        var commentId = e.attr("commentId");
        $("<div class='bad-comment-replacement ttypography'>The comment is hidden because of too negative feedback, click <a href=# class=show-bad-comment-link>here</a> to view it</div>").appendTo(
            e.find(".right")
        );
        e.find(".comment-content").hide();
        e.find(".show-bad-comment-link").click(function () {
            e.find(".comment-content").show();
            e.find(".bad-comment-replacement").hide();
            return false;
        });
    });
        });
    </script>
    </div>

    <style type="text/css">
        .new-comments-box {
            padding: 0.5em;
            width: 22px;
            font-size: 1.3rem;
            font-weight: bold !important;

            position: fixed;
            top: 40%;
            right: 0;
            opacity: 0.2;
            color: white;
            text-align: center;

            border: 1px solid #222;
            background-color: #888 !important;
            border-radius: 3px;
            -moz-border-radius: 3px;
            -webkit-border-radius: 3px;
        }

        .new-comments-box:hover {
            opacity: 1;
        }

        .new-comments-box .dir:hover {
            background: #3B5998 !important;
            cursor: pointer;
        }
    </style>

    <div class="new-comments-box" data-position="outside" data-index="-1" style="display: none;">
        <div class="up dir" title="Ctrl+Up"><hr>
        </div>
        <div class="info" title="New comments"></div>
        <div class="down dir" title="Ctrl+Down">
            <hr>
        </div>
    </div>

    <script>
        function makeSureElementIsShown(target) {
            let e = target;
            while (true) {
                e = e.parent().closest(".comment");
                if (e.length === 0) {
                    break;
                }
                e.find(">.hidden-comment").hide();
                e.find(">.shown-comment").show();
            }
        }

        $(function() {
            const hash = window.location.hash;
            if (hash) {
                const target = $(hash);
                if (target) {
                    makeSureElementIsShown(target);
                    setTimeout(() => target.scrollIntoView());
                }
            }
        });

        $(".show-archived-checkbox").change(function () {
            const checked = $(this).is(":checked");
            $.post("/data/comment-data", {action: "setShowArchived", checked}, function (json) {
                if (json["success"] !== "true") {
                    alert(json["error"]);
                } else {
                    if (checked) {
                        Codeforces.reloadAndShowMessage("Archived comments are now displayed")
                    } else {
                        Codeforces.reloadAndShowMessage("Archived comments are no longer displayed")
                    }
                }
            });
            return false;
        });

        function gotoComment(direction) {
            var box = $(".new-comments-box");
            var index = parseInt(box.attr("data-index"));
            if (index == -1)
                index = 0;
            else
                index = Math.max(0, Math.min(parseInt(box.find(".info").text()) - 1, index + direction));
            box.attr("data-index", index);
            var comment = $($(".comment>.shown-comment>.highlight-blue[commentId]").get(index));
            makeSureElementIsShown(comment);
            $('html, body').animate({
                'scrollTop': Math.max(0, comment.offset().top - ($(window).height() - comment.height()) / 2)
            });
            return false;
        }

        $(".new-comments-box .down").click(function () {
            return gotoComment(1);
        });

        $(".new-comments-box .up").click(function () {
            return gotoComment(-1);
        });

        $(document).keydown(function (e) {
            var code = (e.keyCode ? e.keyCode : e.which);
            if (e.ctrlKey) {
                if (code == 38 || code == 40) {
                    gotoComment(code - 39);
                }
            }
        });

        var newCommentCount = $(".comment>.shown-comment>.highlight-blue[commentId]").length;
        if (newCommentCount > 0) {
            $(".new-comments-box .info").text(newCommentCount);
            $(".new-comments-box").show();
        }

        $('table.comment-table').mouseenter(function () {
            var comment = $(this);
            var cnt = 0;
            while (true) {
                var id = comment.attr("commentId");
                var parentId = comment.attr("commentParentId");
                comment.find(".comment-indent-holder:first .comment-no-indent").addClass("comment-indent");
                if (parentId == -1) {
                    break;
                }
                comment = $("table.comment-table[commentId=" + parentId + "]");
            }
            return false;
        });

        $('table.comment-table').mouseleave(function () {
            var comment = $(this);
            var cnt = 0;
            while (true) {
                var id = comment.attr("commentId");
                var parentId = comment.attr("commentParentId");
                comment.find(".comment-indent-holder:first .comment-no-indent").removeClass("comment-indent");
                if (parentId == -1) {
                    break;
                }
                comment = $("table.comment-table[commentId=" + parentId + "]");
            }
            return false;
        });

        const commentVoteFrameHolderSelector = ">.comment-table .commentVoteFrameHolder";
        $(".hidden-comment").each(function() {
            const comment = $(this).closest(".comment");
            $(this).find(".hidden-children").text(comment.find(".comment").length);
        });
        $('.hideComment').click(function () {
            const comment = $(this).closest(".comment");
            const shownComment = comment.find("> .shown-comment");
            const hiddenComment = comment.find("> .hidden-comment");
            shownComment.hide();
            hiddenComment.show();
            shownComment.find(commentVoteFrameHolderSelector).children()
                .appendTo(hiddenComment.find(commentVoteFrameHolderSelector));
            return false;
        });
        $('.showComment').click(function () {
            const comment = $(this).closest(".comment");
            const hiddenComment = comment.find("> .hidden-comment");
            const shownComment = comment.find("> .shown-comment");
            hiddenComment.hide();
            shownComment.show();
            hiddenComment.find(commentVoteFrameHolderSelector).children()
                .appendTo(shownComment.find(commentVoteFrameHolderSelector));
            return false;
        });
    </script>



    <script>
        function adjustTopicComplainFrames() {
            let topicIds = [];

            $(".has-topic-id").each(function () {
                const $this = $(this);
                const topicId = $this.attr("topicId");
                if (topicId) {
                    topicIds.push(topicId);
                }
            });

            $.post("/data/topics", {
                action: "findComplainableTopicIds",
                topicIds: topicIds.join(",")
            }, function (json) {
                if (json["success"] === "true") {
                    for (const topicId of json["complainableTopicIds"].split(",")) {
                        $(".has-topic-id[topicId=" + topicId + "]").each(function () {
                            $(this).find(".meta .ComplaintFrame").css("display", "inline-block");
                        });
                    }
                }
            }, "json");
        }

        function updateTopicVote(topicId, voteDirection, processed) {
            let ratingElement = $(".topic-rating-" + topicId);
            let newRating = parseInt(ratingElement.attr("data-rawRating"));
            if (!processed) newRating += voteDirection;
            if (newRating > 0) {
                ratingElement.text("+" + newRating.toString());
                ratingElement.css("color", "green");
            } else {
                ratingElement.text(newRating.toString());
                ratingElement.css("color", "gray");
            }
            let voteUpImg = $(".topic-vote-up-" + topicId + " img");
            voteUpImg.attr("src", "//codeforces.com/codeforces.org/s/52448/"
                + (voteDirection === 1 ? "images/actions/voteup-voted.png" : "images/actions/voteup-gray.png"));
            voteUpImg.attr("title", voteDirection === 1 ? "Cancel vote" : "Vote: I like it");
            let voteDownImg = $(".topic-vote-down-" + topicId + " img");
            voteDownImg.attr("src", "//codeforces.com/codeforces.org/s/52448/"
                + (voteDirection === -1 ? "images/actions/votedown-voted.png" : "images/actions/votedown-gray.png"));
            voteDownImg.attr("title", voteDirection === -1 ? "Cancel vote" : "Vote: I do not like it");
        }

        function getMyVotes() {
            let topicIds = [];
            $(".topic-rating").each(function () {
                topicIds.push($(this).attr("data-topicId"))
            });
            $.post("/data/topic/vote", {
                topicIds: topicIds.join(","),
                _tta: Codeforces.tta(),
                action: "getMyVotes"
            }, function (data) {
                if (data.success === "true") {
                    votes = JSON.parse(data.votes);
                    for (const vote of votes) {
                        updateTopicVote(vote.topicId, vote.direction, vote.processed);
                    }
                }
            }, "json");
        }

        $(function () {
        });
    </script>

<script type="text/javascript">
    $(document).ready(function () {
        let voteDirection = 0;

        function clickVote(direction) {
            if (direction === voteDirection) {
                direction = 0;
            }
            $.post("/data/topic/vote", {
                topicId: 145786,
                _tta: Codeforces.tta(),
                topicRevisionId: 404179,
                vote: direction,
            }, function (data) {
                if (data.success === "true") {
                    voteDirection = parseInt(data.voteDirection);
                    updateTopicVote(145786, voteDirection, data.processed === "true");
                }
                Codeforces.showMessage(data.message);
            }, "json");
        }

        $(".topic-vote-up-145786").click(function () {
            clickVote(+1);
            return false;
        });
        $(".topic-vote-down-145786").click(function () {
            clickVote(-1);
            return false;
        });
    });
</script></div>

    <script>
        $(function () {
            $(".topic-action-a").click(function () {
                const action = $(this).data("action");
                const topicTitle = $(this).data("topic-title");

                if (confirm("Are you sure you want to perform the action '" + action.toUpperCase()
                        + "' on the topic '" + topicTitle + "'?")) {
                    const topicId = $(this).data("topic-id");
                    const locale = $(this).data("topic-locale");
                    $.post("/data/topic", {action, topicId, locale}, function (json) {
                        Codeforces.reloadAndShowMessageOrShowError(json, json["message"]);
                    });
                }

                return false;
            });
        });
    </script>
        </div>
    </div>
                </div>
        </div>
            <br style="clear: both;">
            <div id="footer">
                <div><a href="https://codeforces.com/">Codeforces</a> (c) Copyright 2010-2025 Mike Mirzayanov</div>
                <div>The only programming contests Web 2.0 platform</div>
                    <div>Server time: Dec/14/2025 12:20:32<sup title="timezone offset" style="font-size:8px;">UTC</sup> (l3).</div>
                    <div>Desktop version, switch to <a rel="nofollow" class="switchToMobile" href="?mobile=true">mobile version</a>.</div>
                <div class="smaller">
                    <a href="/privacy">Privacy Policy</a>
                    |
                    <a href="/terms">Terms and Conditions</a>
                </div>

                    <div style="margin-top: 25px;">
                        Supported by
                    </div>
                    <div class="footer-logo-div" style="left: 30px;">
                        <a href="https://ton.org/"><img style="margin-right: 2em; width: 60px;" src="//codeforces.com/codeforces.org/s/52448/images/ton-100x100.png" alt="TON" title="TON"></a>
                        <div class="sep">&nbsp;</div>
                        <a href="https://en.itmo.ru/en/" class="itmo-logo"><img style="width: 140px;" src="//codeforces.com/codeforces.org/s/52448/images/itmo_small_en-logo.png" alt="ITMO University" title="ITMO University"></a>
                    </div>

            </div>
        <script type="text/javascript">
            $(function() {
                $(".switchToMobile").click(function() {
                    Codeforces.redirect(Codeforces.updateUrlParameter(document.location.href, "mobile", "true"));
                    return false;
                });
                $(".switchToDesktop").click(function() {
                    Codeforces.redirect(Codeforces.updateUrlParameter(document.location.href, "mobile", "false"));
                    return false;
                });
            });
        </script>
    <script type="text/javascript">
        $(document).ready(function () {
            if ($(window).width() < 1600) {
                $('.button-up').css('width', '30px').css('line-height', '30px').css('font-size', '20px');
            }

            if ($(window).width() >= 1200) {
                $ (window).scroll (function () {
                    if ($ (this).scrollTop () > 100) {
                        $ ('.button-up').fadeIn();
                    } else {
                        $ ('.button-up').fadeOut();
                    }
                });

                $('.button-up').click(function () {
                    $('body,html').animate({
                        scrollTop: 0
                    }, 500);
                    return false;
                });

                $('.button-up').hover(function () {
                    $(this).animate({
                        'opacity':'1'
                    }).css({'background-color':'#e7ebf0','color':'#6a86a4'});
                }, function () {
                    $(this).animate({
                        'opacity':'0.7'
                    }).css({'background':'none','color':'#d3dbe4'});;
                });
            }

            Codeforces.focusOnError();

            Codeforces.setCopiedToClipboardText("Copied to clipboard");
            Codeforces.listenCopyable();
        });
    </script>
    <div class="userListsFacebox" style="display:none;">
        <div style="padding: 0.5em; width: 600px; max-height: 200px; overflow-y: auto">
<div class="datatable" style="background-color: #E1E1E1; padding-bottom: 3px;">
            <div class="lt">&nbsp;</div>
            <div class="rt">&nbsp;</div>
            <div class="lb">&nbsp;</div>
            <div class="rb">&nbsp;</div>

            <div style="padding: 4px 0 0 6px;font-size:1.4rem;position:relative;">
                User lists

                <div style="position:absolute;right:0.25em;top:0.35em;">
                    <span style="padding:0;position:relative;bottom:2px;" class="rowCount"></span>

                    <img class="closed" src="//codeforces.com/codeforces.org/s/52448/images/icons/magnifier-medium.png">

                    <span class="filter" style="display:none;">
                        <img class="opened" src="//codeforces.com/codeforces.org/s/52448/images/icons/control-270.png">
                        <input style="padding:0 0 0 20px;position:relative;bottom:2px;border:1px solid #aaa;height:17px;font-size:1.3rem;">
                    </span>
                </div>
            </div>
            <div style="background-color: white;margin:0.3em 3px 0 3px;position:relative;">
            <div class="ilt">&nbsp;</div>
            <div class="irt">&nbsp;</div>
            <table class="">
                <thead>
                <tr>
                    <th draggable="true" class="top left right">Name</th>
                </tr>
                </thead>
                <tbody>
                <tr class="no-items visible"><td style="text-align:left;" colspan="32" class="bottom dark left right">No items</td></tr></tbody>
            </table>
            </div>
        </div>
    <script type="text/javascript">
        $(document).ready(function () {
                // Create new ':containsIgnoreCase' selector for search
                jQuery.expr[':'].containsIgnoreCase = function(a, i, m) {
                    return jQuery(a).text().toUpperCase()
                            .indexOf(m[3].toUpperCase()) >= 0;
                };

                if (window.updateDatatableFilter == undefined) {
                    window.updateDatatableFilter = function(i) {
                        var parent = $(i).parent().parent().parent().parent();
                        $("tr.no-items", parent).remove();
                        $("tr", parent).hide().removeClass('visible');
                        var text = $(i).val();
                        if (text) {
                            $("tr" + ":containsIgnoreCase('" + text + "')", parent).show().addClass('visible');
                        } else {
                            parent.find(".rowCount").text("");
                            $("tr", parent).show().addClass('visible');
                        }

                        var found = false;
                        var visibleRowCount = 0;
                        $("tr", parent).each(function () {
                            if (!found) {
                                if ($(this).find("th").size() > 0) {
                                    $(this).show().addClass('visible');
                                    found = true;
                                }
                            }
                            if ($(this).hasClass('visible')) {
                                visibleRowCount++;
                            }
                        });
                        if (text) {
                            parent.find(".rowCount").text("Matches: " + (visibleRowCount - (found ? 1 : 0)));
                        }
                        if (visibleRowCount == (found ? 1 : 0)) {
                            $("<tr class='no-items visible'><td style=\"text-align:left;\"colspan=\"32\">No items<\/td><\/tr>").appendTo($(parent).find('table'));
                        }
                        $(parent).find("tr td").removeClass("dark");
                        $(parent).find("tr.visible:odd td").addClass("dark");
                    }

                    $(".datatable .closed").click(function () {
                        var parent = $(this).parent();
                        $(this).hide();
                        $(".filter", parent).fadeIn(function () {
                            $("input", parent).val("").focus().css("border", "1px solid #aaa");
                        });
                    });

                    $(".datatable .opened").click(function () {
                        var parent = $(this).parent().parent();
                        $(".filter", parent).fadeOut(function () {
                            $(".closed", parent).show();
                            $("input", parent).val("").each(function () {
                                window.updateDatatableFilter(this);
                            });
                        });
                    });

                    $(".datatable .filter input").keyup(function(e) {
                        window.updateDatatableFilter(this);
                        e.preventDefault();
                        e.stopPropagation();
                    });

                    $(".datatable table").each(function () {
                        var found = false;
                        $("tr", this).each(function () {
                            if (!found && $(this).find("th").size() == 0) {
                                found = true;
                            }
                        });
                        if (!found) {
                            $("<tr class='no-items visible'><td style=\"text-align:left;\"colspan=\"32\">No items<\/td><\/tr>").appendTo(this);
                        }
                    });

                    // Applies styles to datatables.
                    $(".datatable").each(function () {
                        $(this).find("tr:first th").addClass("top");
                        $(this).find("tr:last td").addClass("bottom");
                        $(this).find("tr:odd td").addClass("dark");
                        $(this).find("tr td:first-child, tr th:first-child").addClass("left");
                        $(this).find("tr td:last-child, tr th:last-child").addClass("right");
                    });

                    $(".datatable table.tablesorter").each(function () {
                        $(this).bind("sortEnd", function () {
                            $(".datatable").each(function () {
                                $(this).find("th, td")
                                    .removeClass("top").removeClass("bottom")
                                    .removeClass("left").removeClass("right")
                                    .removeClass("dark");
                                $(this).find("tr:first th").addClass("top");
                                $(this).find("tr:last td").addClass("bottom");
                                $(this).find("tr:odd td").addClass("dark");
                                $(this).find("tr td:first-child, tr th:first-child").addClass("left");
                                $(this).find("tr td:last-child, tr th:last-child").addClass("right");
                            });
                        });
                    });
                }
        });
    </script>
        </div>
    </div>
    <script type="application/javascript">
        $(function() {
            $(".userListMarker").click(function() {
                $.post("/data/lists", {action: "findTouched"}, function(json) {
                    Codeforces.facebox(".userListsFacebox");
                    var tbody = $("#facebox tbody");
                    tbody.empty();
                    for (var i in json) {
                        tbody.append(
                            $("<tr></tr>").append(
                                $("<td></td>").attr("data-readKey", json[i].readKey).text(json[i].name)
                            )
                        );
                    }
                    Codeforces.updateDatatables();
                    tbody.find("td").css("cursor", "pointer").click(function() {
                        document.location = Codeforces.updateUrlParameter(document.location.href, "list", $(this).attr("data-readKey"));
                    });
                }, "json");
            });
        });
    </script>
</div>
    <script type="application/javascript">
        if ('serviceWorker' in navigator && 'fetch' in window && 'caches' in window) {
            navigator.serviceWorker.register('/service-worker-52448.js')
                .then(function (registration) {
                    console.log('Service worker registered: ', registration);
                })
                .catch(function (error) {
                    console.log('Registration failed: ', error);
                });
        }
    </script>
<script defer="" src="https://static.cloudflareinsights.com/beacon.min.js/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon="{&quot;version&quot;:&quot;2024.11.0&quot;,&quot;token&quot;:&quot;316c29dfa3804effb5a91c52a59b5bd0&quot;,&quot;server_timing&quot;:{&quot;name&quot;:{&quot;cfCacheStatus&quot;:true,&quot;cfEdge&quot;:true,&quot;cfExtPri&quot;:true,&quot;cfL4&quot;:true,&quot;cfOrigin&quot;:true,&quot;cfSpeedBrain&quot;:true},&quot;location_startswith&quot;:null}}" crossorigin="anonymous"></script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9adda7dfe93da73c',t:'MTc2NTcxNDgzMQ=='};var a=document.createElement('script');a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script><iframe height="1" width="1" style="position: absolute; top: 0px; left: 0px; border: none; visibility: hidden;"></iframe>

<div id="datepick-div" style="display: none;"></div><div id="cboxOverlay" style="display: none;"></div><div id="colorbox" class="" style="display: none; padding-bottom: 42px; padding-right: 42px;"><div id="cboxWrapper"><div><div id="cboxTopLeft" style="float: left;"></div><div id="cboxTopCenter" style="float: left;"></div><div id="cboxTopRight" style="float: left;"></div></div><div style="clear: left;"><div id="cboxMiddleLeft" style="float: left;"></div><div id="cboxContent" style="float: left;"><div id="cboxLoadedContent" style="width: 0px; height: 0px; overflow: hidden; float: left;"></div><div id="cboxLoadingOverlay" style="float: left;"></div><div id="cboxLoadingGraphic" style="float: left;"></div><div id="cboxTitle" style="float: left;"></div><div id="cboxCurrent" style="float: left;"></div><div id="cboxNext" style="float: left;"></div><div id="cboxPrevious" style="float: left;"></div><div id="cboxSlideshow" style="float: left;"></div><div id="cboxClose" style="float: left;"></div></div><div id="cboxMiddleRight" style="float: left;"></div></div><div style="clear: left;"><div id="cboxBottomLeft" style="float: left;"></div><div id="cboxBottomCenter" style="float: left;"></div><div id="cboxBottomRight" style="float: left;"></div></div></div><div style="position: absolute; width: 9999px; visibility: hidden; display: none;"></div></div><div id="swfcontainer" style="visibility: visible;"></div><div id="userdata_el" style="visibility: hidden; position: absolute;"></div><div style="position: absolute; width: 0px; height: 0px; overflow: hidden; padding: 0px; border: 0px; margin: 0px;"><div id="MathJax_Font_Test" style="position: absolute; visibility: hidden; top: 0px; left: 0px; width: auto; min-width: 0px; max-width: none; padding: 0px; border: 0px; margin: 0px; white-space: nowrap; text-align: left; text-indent: 0px; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; font-size: 40px; font-weight: normal; font-style: normal; font-size-adjust: none; font-family: MathJax_Size1, monospace;"></div></div></body></html>