{
  "contestId": 2175,
  "index": "E1",
  "title": "Beautiful Patterns (Easy Version)",
  "timeLimit": "2 seconds",
  "memoryLimit": "512 megabytes",
  "rating": null,
  "tags": [],
  "statementHtml": "<p>  </p>\n<p><span class=\"tex-font-style-bf\">This is the easy version of the problem. The difference between the versions is that in this version, <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-2\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-3\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mn\" id=\"MJXp-Span-4\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-5\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-6\"><span class=\"MJXp-mn\" id=\"MJXp-Span-7\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-8\" style=\"vertical-align: 0.5em;\">3</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-1-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-1\">n \\le 2 \\cdot 10^3</script>. You can hack only if you solved all versions of this problem.</span> </p>\n<p>Upon entering the ancient palace \"Palindrome-Palace\", you noticed that there are peculiar patterns on its walls. The pattern is a mosaic of size <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-9\"><span class=\"MJXp-mn\" id=\"MJXp-Span-10\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-11\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">×</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-12\">n</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-2-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-2\">1 \\times n</script> made of pebbles, each painted in one of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-13\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-14\">m</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-3-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-3\">m</script> different colors.</p>\n<p>The <span class=\"tex-font-style-it\">correctness</span> of an arbitrary mosaic <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-15\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-16\">s</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-4-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-4\">s</script> is defined as the number of non-empty subsegments of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-17\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-18\">s</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-5-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-5\">s</script> that are palindromes. The <span class=\"tex-font-style-it\">beauty</span> of the mosaic is defined as the square of its <span class=\"tex-font-style-it\">correctness</span>. For example, for the mosaic <span class=\"tex-font-style-tt\">rgrb</span>, there are five palindromic subsegments: <span class=\"tex-font-style-tt\">r</span>, <span class=\"tex-font-style-tt\">g</span>, <span class=\"tex-font-style-tt\">r</span>, <span class=\"tex-font-style-tt\">b</span>, and <span class=\"tex-font-style-tt\">rgr</span>. Therefore, its <span class=\"tex-font-style-it\">correctness</span> is <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-19\"><span class=\"MJXp-mn\" id=\"MJXp-Span-20\">5</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-6-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-6\">5</script>, and its <span class=\"tex-font-style-it\">beauty</span> is <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-21\"><span class=\"MJXp-mn\" id=\"MJXp-Span-22\">25</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-7-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-7\">25</script>.</p>\n<p>While wandering through this palace, you wondered: what is the expected value of the <span class=\"tex-font-style-it\">beauty</span> of the mosaic if the color of each of the <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-23\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-24\">n</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-8-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-8\">n</script> pebbles is chosen uniformly and independently of the colors of the other pebbles? Print the answer modulo prime <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-25\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-26\">p</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-9-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-9\">p</script>.</p>",
  "inputSpecHtml": "<p>Each test contains multiple test cases. The first line contains the number of test cases <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-27\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-28\">t</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-10-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-10\">t</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-29\"><span class=\"MJXp-mn\" id=\"MJXp-Span-30\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-31\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-32\">t</span><span class=\"MJXp-mo\" id=\"MJXp-Span-33\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mn\" id=\"MJXp-Span-34\">1000</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-11-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-11\">1 \\le t \\le 1000</script>). The description of the test cases follows. </p><p>The only line of each test case contains three integers <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-35\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-36\">n</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-12-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-12\">n</script>, <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-37\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-38\">m</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-13-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-13\">m</script>, and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-39\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-40\">p</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-14-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-14\">p</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-41\"><span class=\"MJXp-mn\" id=\"MJXp-Span-42\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-43\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-44\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-45\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mn\" id=\"MJXp-Span-46\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-47\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-48\"><span class=\"MJXp-mn\" id=\"MJXp-Span-49\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-50\" style=\"vertical-align: 0.5em;\">3</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-15-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-15\">1 \\leq n \\leq 2 \\cdot 10^3</script>; <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-51\"><span class=\"MJXp-mn\" id=\"MJXp-Span-52\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-53\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-54\">m</span><span class=\"MJXp-mo\" id=\"MJXp-Span-55\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-56\"><span class=\"MJXp-mn\" id=\"MJXp-Span-57\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-58\" style=\"vertical-align: 0.5em;\">7</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-16-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-16\">1 \\leq m \\leq 10^7</script>; <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-59\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-60\">m</span><span class=\"MJXp-mo\" id=\"MJXp-Span-61\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">&lt;</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-62\">p</span><span class=\"MJXp-mo\" id=\"MJXp-Span-63\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">&lt;</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-64\"><span class=\"MJXp-mn\" id=\"MJXp-Span-65\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-66\" style=\"vertical-align: 0.5em;\">9</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-17-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-17\">m < p < 10^9</script>) representing the length of the mosaic, the number of different colors of pebbles, and the modulus for which the answer needs to be computed.</p><p>It is guaranteed that <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-67\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-68\">p</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-18-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-18\">p</script> is a prime number. It is also guaranteed that the sum of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-69\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-70\">n</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-19-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-19\">n</script> across all test cases does not exceed <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-71\"><span class=\"MJXp-mn\" id=\"MJXp-Span-72\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-73\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-74\"><span class=\"MJXp-mn\" id=\"MJXp-Span-75\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-76\" style=\"vertical-align: 0.5em;\">3</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-20-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-20\">2 \\cdot 10^3</script>.</p>",
  "outputSpecHtml": "<p>For each test case, output the expected beauty of the mosaic modulo <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-77\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-78\">p</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-21-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-21\">p</script>.</p><p>Formally, let <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-79\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-80\">x</span><span class=\"MJXp-mo\" id=\"MJXp-Span-81\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-82\">p</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-22-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-22\">x = p</script>. It can be shown that the exact answer can be expressed as an irreducible fraction <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-83\"><span class=\"MJXp-mfrac\" id=\"MJXp-Span-84\" style=\"vertical-align: 0.25em;\"><span class=\"MJXp-box MJXp-script\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-85\">y</span></span><span class=\"MJXp-box\" style=\"margin-top: -0.9em;\"><span class=\"MJXp-denom\"><span><span class=\"MJXp-rule\" style=\"height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;\"></span></span><span><span class=\"MJXp-box MJXp-script\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-86\">z</span></span></span></span></span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-23-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-23\">\\frac{y}{z}</script>, where <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-87\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-88\">y</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-24-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-24\">y</script> and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-89\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-90\">z</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-25-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-25\">z</script> are integers and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-94\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-95\">z</span><span class=\"MJXp-mo\" id=\"MJXp-Span-96\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≢</span><span class=\"MJXp-mn\" id=\"MJXp-Span-97\">0</span><span class=\"MJXp-TeXmathchoice\" id=\"MJXp-Span-98\"><span class=\"MJXp-mspace\" id=\"MJXp-Span-99\" style=\"width: 0.444em; height: 0em;\"></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-100\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi\" id=\"MJXp-Span-101\">mod</span><span class=\"MJXp-mspace\" id=\"MJXp-Span-102\" style=\"width: 0.333em; height: 0em;\"></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-103\">x</span><span class=\"MJXp-mo\" id=\"MJXp-Span-104\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-26-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-26\">z \\not \\equiv 0 \\pmod{x}</script>. Output the integer equal to <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-114\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-115\">y</span><span class=\"MJXp-mo\" id=\"MJXp-Span-116\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-117\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-118\" style=\"margin-right: 0.05em;\">z</span><span class=\"MJXp-mrow MJXp-script\" id=\"MJXp-Span-119\" style=\"vertical-align: 0.5em;\"><span class=\"MJXp-mo\" id=\"MJXp-Span-120\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-121\">1</span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-122\" style=\"margin-left: 0.278em; margin-right: 0.278em;\">mod</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-123\">x</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-27-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-27\">y \\cdot z^{-1} \\bmod x</script>. In other words, output such an integer <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-124\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-125\">t</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-28-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-28\">t</script> that <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-126\"><span class=\"MJXp-mn\" id=\"MJXp-Span-127\">0</span><span class=\"MJXp-mo\" id=\"MJXp-Span-128\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-129\">t</span><span class=\"MJXp-mo\" id=\"MJXp-Span-130\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">&lt;</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-131\">x</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-29-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-29\">0 \\le t < x</script> and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-132\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-133\">t</span><span class=\"MJXp-mo\" id=\"MJXp-Span-134\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-135\">z</span><span class=\"MJXp-mo\" id=\"MJXp-Span-136\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≡</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-137\">y</span><span class=\"MJXp-TeXmathchoice\" id=\"MJXp-Span-138\"><span class=\"MJXp-mspace\" id=\"MJXp-Span-139\" style=\"width: 0.444em; height: 0em;\"></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-140\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi\" id=\"MJXp-Span-141\">mod</span><span class=\"MJXp-mspace\" id=\"MJXp-Span-142\" style=\"width: 0.333em; height: 0em;\"></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-143\">x</span><span class=\"MJXp-mo\" id=\"MJXp-Span-144\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-30-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-30\">t \\cdot z \\equiv y \\pmod{x}</script>. </p>",
  "noteHtml": "<p>In the first test case, there are a total of four mosaics of length <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-145\"><span class=\"MJXp-mn\" id=\"MJXp-Span-146\">2</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-31-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-31\">2</script> if only two different colors of pebbles can be used to construct them, with two of them having two palindromic subsegments, and the other two having three each. Thus, the expected value of the beauty of the mosaic is <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-147\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-148\"><span class=\"MJXp-mo\" id=\"MJXp-Span-149\" style=\"margin-left: 0em; margin-right: 0em; vertical-align: -0.678em;\"><span class=\"MJXp-right MJXp-scale4\" style=\"font-size: 3.711em; margin-left: -0.17em;\">(</span></span><span class=\"MJXp-mfrac\" id=\"MJXp-Span-150\" style=\"vertical-align: 0.25em;\"><span class=\"MJXp-box MJXp-script\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-151\"><span class=\"MJXp-mn\" id=\"MJXp-Span-152\" style=\"margin-right: 0.05em;\">2</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-153\" style=\"vertical-align: 0.5em;\">2</span></span></span><span class=\"MJXp-box\" style=\"margin-top: -0.9em;\"><span class=\"MJXp-denom\"><span><span class=\"MJXp-rule\" style=\"height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;\"></span></span><span><span class=\"MJXp-box MJXp-script\"><span class=\"MJXp-mn\" id=\"MJXp-Span-154\">4</span></span></span></span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-155\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mfrac\" id=\"MJXp-Span-156\" style=\"vertical-align: 0.25em;\"><span class=\"MJXp-box MJXp-script\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-157\"><span class=\"MJXp-mn\" id=\"MJXp-Span-158\" style=\"margin-right: 0.05em;\">2</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-159\" style=\"vertical-align: 0.5em;\">2</span></span></span><span class=\"MJXp-box\" style=\"margin-top: -0.9em;\"><span class=\"MJXp-denom\"><span><span class=\"MJXp-rule\" style=\"height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;\"></span></span><span><span class=\"MJXp-box MJXp-script\"><span class=\"MJXp-mn\" id=\"MJXp-Span-160\">4</span></span></span></span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-161\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mfrac\" id=\"MJXp-Span-162\" style=\"vertical-align: 0.25em;\"><span class=\"MJXp-box MJXp-script\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-163\"><span class=\"MJXp-mn\" id=\"MJXp-Span-164\" style=\"margin-right: 0.05em;\">3</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-165\" style=\"vertical-align: 0.5em;\">2</span></span></span><span class=\"MJXp-box\" style=\"margin-top: -0.9em;\"><span class=\"MJXp-denom\"><span><span class=\"MJXp-rule\" style=\"height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;\"></span></span><span><span class=\"MJXp-box MJXp-script\"><span class=\"MJXp-mn\" id=\"MJXp-Span-166\">4</span></span></span></span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-167\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mfrac\" id=\"MJXp-Span-168\" style=\"vertical-align: 0.25em;\"><span class=\"MJXp-box MJXp-script\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-169\"><span class=\"MJXp-mn\" id=\"MJXp-Span-170\" style=\"margin-right: 0.05em;\">3</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-171\" style=\"vertical-align: 0.5em;\">2</span></span></span><span class=\"MJXp-box\" style=\"margin-top: -0.9em;\"><span class=\"MJXp-denom\"><span><span class=\"MJXp-rule\" style=\"height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;\"></span></span><span><span class=\"MJXp-box MJXp-script\"><span class=\"MJXp-mn\" id=\"MJXp-Span-172\">4</span></span></span></span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-173\" style=\"margin-left: 0em; margin-right: 0em; vertical-align: -0.678em;\"><span class=\"MJXp-right MJXp-scale4\" style=\"font-size: 3.711em; margin-left: -0.17em;\">)</span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-174\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mn\" id=\"MJXp-Span-175\">13</span><span class=\"MJXp-mo\" id=\"MJXp-Span-176\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-177\"><span class=\"MJXp-mn\" id=\"MJXp-Span-178\" style=\"margin-right: 0.05em;\">2</span><span class=\"MJXp-mrow MJXp-script\" id=\"MJXp-Span-179\" style=\"vertical-align: 0.5em;\"><span class=\"MJXp-mo\" id=\"MJXp-Span-180\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-181\">1</span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-182\" style=\"margin-left: 0.278em; margin-right: 0.278em;\">mod</span><span class=\"MJXp-mn\" id=\"MJXp-Span-183\">101</span><span class=\"MJXp-mo\" id=\"MJXp-Span-184\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mn\" id=\"MJXp-Span-185\">57</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-32-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-32\">\\left(\\frac{2^2}{4} + \\frac{2^2}{4} + \\frac{3^2}{4} + \\frac{3^2}{4}\\right) = 13 \\cdot 2^{-1} \\bmod 101 = 57</script>.</p><p>In the second test case, all subsegments of the mosaic of length 5 will be palindromes.</p>",
  "samples": [
    {
      "input": "32 2 1015 1 999999937100 23190 3214373",
      "output": "572252347147"
    }
  ],
  "images": [],
  "url": "https://codeforces.com/contest/2175/problem/E1"
}