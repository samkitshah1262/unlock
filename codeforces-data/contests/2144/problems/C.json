{
  "contestId": 2144,
  "index": "C",
  "title": "Non-Descending Arrays",
  "timeLimit": "2 seconds",
  "memoryLimit": "256 megabytes",
  "rating": 1300,
  "tags": [
    "combinatorics",
    "dp",
    "math"
  ],
  "statementHtml": "<p>You are given two integer arrays <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-1-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1\" style=\"width: 0.76em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.544em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.518em, 1000.54em, 2.275em, -999.997em); top: -2.108em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-2\"><span class=\"mi\" id=\"MathJax-Span-3\" style=\"font-family: MathJax_Math-italic;\">a</span></span><span style=\"display: inline-block; width: 0px; height: 2.113em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 0.718em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>a</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-1\">a</script> and <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-2-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-4\" style=\"width: 0.598em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.436em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.247em, 1000.44em, 2.275em, -999.997em); top: -2.108em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-5\"><span class=\"mi\" id=\"MathJax-Span-6\" style=\"font-family: MathJax_Math-italic;\">b</span></span><span style=\"display: inline-block; width: 0px; height: 2.113em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 1.075em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>b</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-2\">b</script> both of length <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-3-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-7\" style=\"width: 0.814em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.598em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.518em, 1000.6em, 2.275em, -999.997em); top: -2.108em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-8\"><span class=\"mi\" id=\"MathJax-Span-9\" style=\"font-family: MathJax_Math-italic;\">n</span></span><span style=\"display: inline-block; width: 0px; height: 2.113em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 0.718em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>n</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-3\">n</script>.</p>\n<p>You can choose any subset of indices and swap the elements at those positions (i. e. make a swap(<span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-4-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-10\" style=\"width: 1.139em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.869em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.518em, 1000.87em, 2.438em, -999.997em); top: -2.108em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-11\"><span class=\"msubsup\" id=\"MathJax-Span-12\"><span style=\"display: inline-block; position: relative; width: 0.869em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.412em, 1000.49em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-13\" style=\"font-family: MathJax_Math-italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -3.839em; left: 0.544em;\"><span class=\"mi\" id=\"MathJax-Span-14\" style=\"font-size: 70.7%; font-family: MathJax_Math-italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.113em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.282em; border-left: 0px solid; width: 0px; height: 0.932em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-4\">a_i</script>, <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-5-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-15\" style=\"width: 1.031em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.76em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.247em, 1000.76em, 2.438em, -999.997em); top: -2.108em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-16\"><span class=\"msubsup\" id=\"MathJax-Span-17\"><span style=\"display: inline-block; position: relative; width: 0.76em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.141em, 1000.44em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-18\" style=\"font-family: MathJax_Math-italic;\">b</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -3.839em; left: 0.436em;\"><span class=\"mi\" id=\"MathJax-Span-19\" style=\"font-size: 70.7%; font-family: MathJax_Math-italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.113em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.282em; border-left: 0px solid; width: 0px; height: 1.289em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>b</mi><mi>i</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-5\">b_i</script>) for each <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-6-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-20\" style=\"width: 0.436em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.327em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.301em, 1000.27em, 2.275em, -999.997em); top: -2.108em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-21\"><span class=\"mi\" id=\"MathJax-Span-22\" style=\"font-family: MathJax_Math-italic;\">i</span></span><span style=\"display: inline-block; width: 0px; height: 2.113em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 1.004em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>i</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-6\">i</script> in the subset). A subset of indices is considered <span class=\"tex-font-style-bf\">good</span> if, after the swapping, both arrays are sorted in non-descending order.</p>\n<p>Your task is to calculate the number of good subsets. Since the answer can be large, print it modulo <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-7-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;998244353&lt;/mn&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-23\" style=\"width: 5.955em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 4.494em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.301em, 1004.44em, 2.33em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-24\"><span class=\"mn\" id=\"MathJax-Span-25\" style=\"font-family: MathJax_Main;\">998244353</span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 1.075em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mn>998244353</mn></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-7\">998244353</script>.</p>",
  "inputSpecHtml": "<p>The first line contains a single integer <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-8-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-26\" style=\"width: 0.544em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.381em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.301em, 1000.33em, 2.275em, -999.997em); top: -2.108em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-27\"><span class=\"mi\" id=\"MathJax-Span-28\" style=\"font-family: MathJax_Math-italic;\">t</span></span><span style=\"display: inline-block; width: 0px; height: 2.113em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 1.004em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>t</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-8\">t</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-9-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;&amp;#x2264;&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;&amp;#x2264;&lt;/mo&gt;&lt;mn&gt;500&lt;/mn&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-29\" style=\"width: 6.659em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 5.035em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.356em, 1004.98em, 2.492em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-30\"><span class=\"mn\" id=\"MathJax-Span-31\" style=\"font-family: MathJax_Main;\">1</span><span class=\"mo\" id=\"MathJax-Span-32\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"mi\" id=\"MathJax-Span-33\" style=\"font-family: MathJax_Math-italic; padding-left: 0.273em;\">t</span><span class=\"mo\" id=\"MathJax-Span-34\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"mn\" id=\"MathJax-Span-35\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">500</span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.282em; border-left: 0px solid; width: 0px; height: 1.218em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mn>1</mn><mo>≤</mo><mi>t</mi><mo>≤</mo><mn>500</mn></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-9\">1 \\le t \\le 500</script>)&nbsp;— the number of test cases.</p><p>The first line of each test case contains a single integer <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-10-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-36\" style=\"width: 0.814em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.598em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.518em, 1000.6em, 2.275em, -999.997em); top: -2.108em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-37\"><span class=\"mi\" id=\"MathJax-Span-38\" style=\"font-family: MathJax_Math-italic;\">n</span></span><span style=\"display: inline-block; width: 0px; height: 2.113em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 0.718em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>n</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-10\">n</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-11-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;&amp;#x2264;&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;&amp;#x2264;&lt;/mo&gt;&lt;mn&gt;100&lt;/mn&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-39\" style=\"width: 6.929em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 5.252em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.356em, 1005.2em, 2.492em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-40\"><span class=\"mn\" id=\"MathJax-Span-41\" style=\"font-family: MathJax_Main;\">1</span><span class=\"mo\" id=\"MathJax-Span-42\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"mi\" id=\"MathJax-Span-43\" style=\"font-family: MathJax_Math-italic; padding-left: 0.273em;\">n</span><span class=\"mo\" id=\"MathJax-Span-44\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"mn\" id=\"MathJax-Span-45\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">100</span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.282em; border-left: 0px solid; width: 0px; height: 1.218em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mn>1</mn><mo>≤</mo><mi>n</mi><mo>≤</mo><mn>100</mn></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-11\">1 \\le n \\le 100</script>).</p><p>The second line contains <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-12-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-46\" style=\"width: 0.814em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.598em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.518em, 1000.6em, 2.275em, -999.997em); top: -2.108em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-47\"><span class=\"mi\" id=\"MathJax-Span-48\" style=\"font-family: MathJax_Math-italic;\">n</span></span><span style=\"display: inline-block; width: 0px; height: 2.113em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 0.718em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>n</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-12\">n</script> integers <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-13-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;#x2026;&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-49\" style=\"width: 7.47em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 5.63em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.572em, 1005.63em, 2.546em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-50\"><span class=\"msubsup\" id=\"MathJax-Span-51\"><span style=\"display: inline-block; position: relative; width: 0.977em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.412em, 1000.49em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-52\" style=\"font-family: MathJax_Math-italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -3.839em; left: 0.544em;\"><span class=\"mn\" id=\"MathJax-Span-53\" style=\"font-size: 70.7%; font-family: MathJax_Main;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-54\" style=\"font-family: MathJax_Main;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-55\" style=\"padding-left: 0.165em;\"><span style=\"display: inline-block; position: relative; width: 0.977em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.412em, 1000.49em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-56\" style=\"font-family: MathJax_Math-italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -3.839em; left: 0.544em;\"><span class=\"mn\" id=\"MathJax-Span-57\" style=\"font-size: 70.7%; font-family: MathJax_Main;\">2</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-58\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mo\" id=\"MathJax-Span-59\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">…</span><span class=\"mo\" id=\"MathJax-Span-60\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-61\" style=\"padding-left: 0.165em;\"><span style=\"display: inline-block; position: relative; width: 1.031em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.412em, 1000.49em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-62\" style=\"font-family: MathJax_Math-italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -3.839em; left: 0.544em;\"><span class=\"mi\" id=\"MathJax-Span-63\" style=\"font-size: 70.7%; font-family: MathJax_Math-italic;\">n</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.354em; border-left: 0px solid; width: 0px; height: 1.004em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>a</mi><mn>1</mn></msub><mo>,</mo><msub><mi>a</mi><mn>2</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>a</mi><mi>n</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-13\">a_1, a_2, \\dots, a_n</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-14-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;&amp;#x2264;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2264;&lt;/mo&gt;&lt;mn&gt;1000&lt;/mn&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-64\" style=\"width: 7.957em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 6.009em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.356em, 1005.96em, 2.492em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-65\"><span class=\"mn\" id=\"MathJax-Span-66\" style=\"font-family: MathJax_Main;\">1</span><span class=\"mo\" id=\"MathJax-Span-67\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"msubsup\" id=\"MathJax-Span-68\" style=\"padding-left: 0.273em;\"><span style=\"display: inline-block; position: relative; width: 0.869em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.412em, 1000.49em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-69\" style=\"font-family: MathJax_Math-italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -3.839em; left: 0.544em;\"><span class=\"mi\" id=\"MathJax-Span-70\" style=\"font-size: 70.7%; font-family: MathJax_Math-italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-71\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"mn\" id=\"MathJax-Span-72\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">1000</span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.282em; border-left: 0px solid; width: 0px; height: 1.218em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mn>1</mn><mo>≤</mo><msub><mi>a</mi><mi>i</mi></msub><mo>≤</mo><mn>1000</mn></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-14\">1 \\le a_i \\le 1000</script>).</p><p>The third line contains <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-15-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-73\" style=\"width: 0.814em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.598em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.518em, 1000.6em, 2.275em, -999.997em); top: -2.108em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-74\"><span class=\"mi\" id=\"MathJax-Span-75\" style=\"font-family: MathJax_Math-italic;\">n</span></span><span style=\"display: inline-block; width: 0px; height: 2.113em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 0.718em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>n</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-15\">n</script> integers <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-16-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;msub&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msub&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo&gt;&amp;#x2026;&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/msub&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-76\" style=\"width: 7.037em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 5.306em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.301em, 1005.31em, 2.546em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-77\"><span class=\"msubsup\" id=\"MathJax-Span-78\"><span style=\"display: inline-block; position: relative; width: 0.869em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.141em, 1000.44em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-79\" style=\"font-family: MathJax_Math-italic;\">b</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -3.839em; left: 0.436em;\"><span class=\"mn\" id=\"MathJax-Span-80\" style=\"font-size: 70.7%; font-family: MathJax_Main;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-81\" style=\"font-family: MathJax_Main;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-82\" style=\"padding-left: 0.165em;\"><span style=\"display: inline-block; position: relative; width: 0.869em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.141em, 1000.44em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-83\" style=\"font-family: MathJax_Math-italic;\">b</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -3.839em; left: 0.436em;\"><span class=\"mn\" id=\"MathJax-Span-84\" style=\"font-size: 70.7%; font-family: MathJax_Main;\">2</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-85\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mo\" id=\"MathJax-Span-86\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">…</span><span class=\"mo\" id=\"MathJax-Span-87\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-88\" style=\"padding-left: 0.165em;\"><span style=\"display: inline-block; position: relative; width: 0.923em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.141em, 1000.44em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-89\" style=\"font-family: MathJax_Math-italic;\">b</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -3.839em; left: 0.436em;\"><span class=\"mi\" id=\"MathJax-Span-90\" style=\"font-size: 70.7%; font-family: MathJax_Math-italic;\">n</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.354em; border-left: 0px solid; width: 0px; height: 1.289em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><msub><mi>b</mi><mn>1</mn></msub><mo>,</mo><msub><mi>b</mi><mn>2</mn></msub><mo>,</mo><mo>…</mo><mo>,</mo><msub><mi>b</mi><mi>n</mi></msub></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-16\">b_1, b_2, \\dots, b_n</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-17-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;&amp;#x2264;&lt;/mo&gt;&lt;msub&gt;&lt;mi&gt;b&lt;/mi&gt;&lt;mi&gt;i&lt;/mi&gt;&lt;/msub&gt;&lt;mo&gt;&amp;#x2264;&lt;/mo&gt;&lt;mn&gt;1000&lt;/mn&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-91\" style=\"width: 7.795em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 5.901em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.301em, 1005.85em, 2.492em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-92\"><span class=\"mn\" id=\"MathJax-Span-93\" style=\"font-family: MathJax_Main;\">1</span><span class=\"mo\" id=\"MathJax-Span-94\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"msubsup\" id=\"MathJax-Span-95\" style=\"padding-left: 0.273em;\"><span style=\"display: inline-block; position: relative; width: 0.76em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.141em, 1000.44em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-96\" style=\"font-family: MathJax_Math-italic;\">b</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -3.839em; left: 0.436em;\"><span class=\"mi\" id=\"MathJax-Span-97\" style=\"font-size: 70.7%; font-family: MathJax_Math-italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-98\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"mn\" id=\"MathJax-Span-99\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">1000</span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.282em; border-left: 0px solid; width: 0px; height: 1.289em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mn>1</mn><mo>≤</mo><msub><mi>b</mi><mi>i</mi></msub><mo>≤</mo><mn>1000</mn></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-17\">1 \\le b_i \\le 1000</script>).</p><p>Additional constraint on the input: there is at least one good subset.</p>",
  "outputSpecHtml": "<p>For each test case, print a single integer&nbsp;— the number of good subsets, taken modulo <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-18-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;998244353&lt;/mn&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-100\" style=\"width: 5.955em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 4.494em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.301em, 1004.44em, 2.33em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-101\"><span class=\"mn\" id=\"MathJax-Span-102\" style=\"font-family: MathJax_Main;\">998244353</span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 1.075em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mn>998244353</mn></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-18\">998244353</script>.</p>",
  "noteHtml": "<p>In the first example, there are <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-19-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-103\" style=\"width: 0.652em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.49em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.356em, 1000.44em, 2.33em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-104\"><span class=\"mn\" id=\"MathJax-Span-105\" style=\"font-family: MathJax_Main;\">2</span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 1.004em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mn>2</mn></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-19\">2</script> good subsets: <span class=\"tex-font-style-tt\">{1, 3}</span> and <span class=\"tex-font-style-tt\">{2}</span>.</p><p>In the second example, there are <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-20-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-106\" style=\"width: 0.652em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.49em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.356em, 1000.44em, 2.33em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-107\"><span class=\"mn\" id=\"MathJax-Span-108\" style=\"font-family: MathJax_Main;\">2</span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 1.004em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mn>2</mn></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-20\">2</script> good subsets: <span class=\"tex-font-style-tt\">{1}</span> and <span class=\"tex-font-style-tt\">{}</span>.</p><p>In the third example, there are <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-21-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;8&lt;/mn&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-109\" style=\"width: 0.652em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.49em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.356em, 1000.44em, 2.33em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-110\"><span class=\"mn\" id=\"MathJax-Span-111\" style=\"font-family: MathJax_Main;\">8</span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 1.075em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mn>8</mn></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-21\">8</script> good subsets: <span class=\"tex-font-style-tt\">{1, 2, 3, 4, 5}</span>, <span class=\"tex-font-style-tt\">{1, 2, 3}</span>, <span class=\"tex-font-style-tt\">{1, 2, 4, 5}</span>, <span class=\"tex-font-style-tt\">{1, 2}</span>, <span class=\"tex-font-style-tt\">{3, 4, 5}</span>, <span class=\"tex-font-style-tt\">{3}</span>, <span class=\"tex-font-style-tt\">{4, 5}</span> and <span class=\"tex-font-style-tt\">{}</span>.</p>",
  "samples": [
    {
      "input": "332 1 41 3 214452 3 3 4 41 1 3 5 6",
      "output": "228"
    }
  ],
  "images": [],
  "url": "https://codeforces.com/contest/2144/problem/C",
  "tutorialHtml": "<div><div class=\"ttypography\"><div class=\"problem-statement\"><div><p>First, let's understand how we can always obtain at least one subset. Let's keep the maximum elements from all pairs in one array, and the minimums in another (that is, if <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-610\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-611\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-612\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-613\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-614\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">&gt;</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-615\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-616\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-617\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-91\">a_i > b_i</script>, we swap them, so that <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-618\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-619\">a</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-92\">a</script> will contain the minimums from each pair, and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-620\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-621\">b</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-93\">b</script> will contain the maximums).</p><p>We can prove that if there is at least one way to make both arrays sorted, then this way will definitely work. To do this, let's assume that we have reached a situation where one of the arrays is not sorted using this method:</p><ul> <li> if in array <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-622\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-623\">a</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-94\">a</script> we have a pair of elements <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-624\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-625\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-626\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-627\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-628\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">&gt;</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-629\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-630\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mrow MJXp-script\" id=\"MJXp-Span-631\" style=\"vertical-align: -0.4em;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-632\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-633\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-634\">1</span></span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-95\">a_i > a_{i+1}</script>, then considering that <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-635\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-636\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-637\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-638\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-639\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-640\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-641\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-642\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-96\">a_i \\le b_i</script>, it follows that <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-643\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-644\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-645\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-646\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-647\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">&gt;</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-648\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-649\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mrow MJXp-script\" id=\"MJXp-Span-650\" style=\"vertical-align: -0.4em;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-651\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-652\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-653\">1</span></span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-97\">b_i > a_{i+1}</script>. This means that whichever of the two elements <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-654\"><span class=\"MJXp-mo\" id=\"MJXp-Span-655\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-656\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-657\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-658\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-659\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-660\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-661\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-662\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-663\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-98\">(a_i, b_i)</script> we place before <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-664\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-665\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-666\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mrow MJXp-script\" id=\"MJXp-Span-667\" style=\"vertical-align: -0.4em;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-668\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-669\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-670\">1</span></span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-99\">a_{i+1}</script>, it will definitely be greater; </li><li> if in array <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-671\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-672\">b</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-100\">b</script> we have a pair of elements <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-673\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-674\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-675\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-676\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-677\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">&gt;</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-678\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-679\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mrow MJXp-script\" id=\"MJXp-Span-680\" style=\"vertical-align: -0.4em;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-681\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-682\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-683\">1</span></span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-101\">b_i > b_{i+1}</script>, then considering that <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-684\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-685\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-686\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mrow MJXp-script\" id=\"MJXp-Span-687\" style=\"vertical-align: -0.4em;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-688\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-689\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-690\">1</span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-691\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-692\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-693\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mrow MJXp-script\" id=\"MJXp-Span-694\" style=\"vertical-align: -0.4em;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-695\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-696\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-697\">1</span></span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-102\">a_{i+1} \\le b_{i+1}</script>, it follows that <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-698\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-699\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-700\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-701\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-702\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">&gt;</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-703\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-704\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mrow MJXp-script\" id=\"MJXp-Span-705\" style=\"vertical-align: -0.4em;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-706\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-707\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-708\">1</span></span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-103\">b_i > a_{i+1}</script>. This means that whichever of the two elements <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-709\"><span class=\"MJXp-mo\" id=\"MJXp-Span-710\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-711\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-712\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mrow MJXp-script\" id=\"MJXp-Span-713\" style=\"vertical-align: -0.4em;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-714\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-715\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-716\">1</span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-717\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-718\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-719\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mrow MJXp-script\" id=\"MJXp-Span-720\" style=\"vertical-align: -0.4em;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-721\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-722\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-723\">1</span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-724\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-104\">(a_{i+1}, b_{i+1})</script> we place after <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-725\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-726\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-727\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-728\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-105\">b_i</script>, it will definitely be smaller. </li></ul><p>Thus, if at least one good subset exists, we can always ensure that <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-729\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-730\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-731\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-732\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-733\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-734\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-735\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-736\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-106\">a_i \\le b_i</script>. Let's initially swap the elements in those pairs where <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-737\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-738\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-739\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-740\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-741\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">&gt;</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-742\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-743\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-744\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-107\">a_i > b_i</script>; the answer will not change (since the <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-745\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-746\"><span class=\"MJXp-mn\" id=\"MJXp-Span-747\" style=\"margin-right: 0.05em;\">2</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-748\" style=\"vertical-align: 0.5em;\">n</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-108\">2^n</script> subsets of indices we are considering will yield the same results after such a transformation, just in a different order).</p><p>Now let's understand which pairs of elements we can swap while keeping the arrays sorted. For each pair of adjacent indices <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-749\"><span class=\"MJXp-mo\" id=\"MJXp-Span-750\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-751\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-752\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-753\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-754\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-755\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-756\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-109\">(i, i+1)</script>, there are two possible situations:</p><ul> <li> either <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-757\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-758\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-759\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-760\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-761\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-762\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-763\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mrow MJXp-script\" id=\"MJXp-Span-764\" style=\"vertical-align: -0.4em;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-765\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-766\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-767\">1</span></span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-110\">b_i \\le a_{i+1}</script>, in which case any element at position <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-768\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-769\">i</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-111\">i</script> will be less than or equal to any element at position <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-770\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-771\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-772\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-773\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-112\">i+1</script> (let's call this a type <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-774\"><span class=\"MJXp-mn\" id=\"MJXp-Span-775\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-113\">1</script> index pair); </li><li> or <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-776\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-777\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-778\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-779\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-780\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">&gt;</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-781\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-782\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mrow MJXp-script\" id=\"MJXp-Span-783\" style=\"vertical-align: -0.4em;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-784\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-785\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-786\">1</span></span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-114\">b_i > a_{i+1}</script>, in which case we must place <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-787\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-788\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-789\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mrow MJXp-script\" id=\"MJXp-Span-790\" style=\"vertical-align: -0.4em;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-791\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-792\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-793\">1</span></span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-115\">a_{i+1}</script> after <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-794\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-795\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-796\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-797\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-116\">a_i</script> and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-798\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-799\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-800\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mrow MJXp-script\" id=\"MJXp-Span-801\" style=\"vertical-align: -0.4em;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-802\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-803\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-804\">1</span></span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-117\">b_{i+1}</script> after <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-805\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-806\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-807\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-808\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-118\">b_i</script>. This means we should swap <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-809\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-810\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-811\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-812\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-119\">a_i</script> and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-813\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-814\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-815\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-816\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-120\">b_i</script> if and only if we swap <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-817\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-818\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-819\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mrow MJXp-script\" id=\"MJXp-Span-820\" style=\"vertical-align: -0.4em;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-821\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-822\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-823\">1</span></span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-121\">a_{i+1}</script> and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-824\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-825\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-826\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mrow MJXp-script\" id=\"MJXp-Span-827\" style=\"vertical-align: -0.4em;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-828\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-829\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-830\">1</span></span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-122\">b_{i+1}</script> (let's call this a type <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-831\"><span class=\"MJXp-mn\" id=\"MJXp-Span-832\">2</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-123\">2</script> index pair). </li></ul><p>Let's consider the \"segments\" of indices <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-833\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-834\">i</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-124\">i</script> where every two adjacent indices form a type <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-835\"><span class=\"MJXp-mn\" id=\"MJXp-Span-836\">2</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-125\">2</script> pair. Then if we choose what to do with any one index in this pair, it will automatically force us to choose an action for all other indices in this segment. However, different segments do not affect each other, as the indices at the boundary of two segments form a type <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-837\"><span class=\"MJXp-mn\" id=\"MJXp-Span-838\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-126\">1</script> pair.</p><p>Thus, the answer is <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-839\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-840\"><span class=\"MJXp-mn\" id=\"MJXp-Span-841\" style=\"margin-right: 0.05em;\">2</span><span class=\"MJXp-mrow MJXp-script\" id=\"MJXp-Span-842\" style=\"vertical-align: 0.5em;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-843\">m</span></span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-127\">2^{m}</script>, where <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-844\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-845\">m</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-128\">m</script> is the number of segments of type <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-846\"><span class=\"MJXp-mn\" id=\"MJXp-Span-847\">2</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-129\">2</script> pairs. Each type <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-848\"><span class=\"MJXp-mn\" id=\"MJXp-Span-849\">2</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-130\">2</script> pair \"merges\" two such segments, so we can calculate the answer as <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-850\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-851\"><span class=\"MJXp-mn\" id=\"MJXp-Span-852\" style=\"margin-right: 0.05em;\">2</span><span class=\"MJXp-mrow MJXp-script\" id=\"MJXp-Span-853\" style=\"vertical-align: 0.5em;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-854\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-855\">−</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-856\">k</span></span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-131\">2^{n-k}</script>, where <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-857\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-858\">k</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-132\">k</script> is the number of such <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-859\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-860\">i</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-133\">i</script> such that <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-861\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-862\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-863\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-864\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-865\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">&gt;</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-866\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-867\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mrow MJXp-script\" id=\"MJXp-Span-868\" style=\"vertical-align: -0.4em;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-869\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-870\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-871\">1</span></span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-134\">b_i > a_{i+1}</script> (after we have swapped <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-872\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-873\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-874\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-875\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-135\">a_i</script> and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-876\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-877\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-878\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-879\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-136\">b_i</script> in pairs where <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-880\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-881\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-882\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-883\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-884\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">&gt;</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-885\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-886\" style=\"margin-right: 0.05em;\">b</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-887\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-137\">a_i > b_i</script>).</p></div></div></div></div>"
}