{
  "contestId": 2135,
  "index": "D2",
  "title": "From the Unknown (Hard Version)",
  "timeLimit": "3 seconds",
  "memoryLimit": "512 megabytes",
  "rating": 2500,
  "tags": [
    "brute force",
    "constructive algorithms",
    "interactive",
    "math"
  ],
  "statementHtml": "<p>   </p>\n<p><span class=\"tex-font-style-bf\">This is the hard version of the problem. The difference between the versions is that in this version, the sum of the lengths of the articles over all queries must not exceed <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1\"><span class=\"MJXp-mn\" id=\"MJXp-Span-2\">2.5</span><span class=\"MJXp-mo\" id=\"MJXp-Span-3\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-4\"><span class=\"MJXp-mn\" id=\"MJXp-Span-5\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-6\" style=\"vertical-align: 0.5em;\">4</span></span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-1-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-1\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-2\"><span class=\"mn\" id=\"MathJax-Span-3\" style=\"font-family: MathJax_Main;\">2.5</span><span class=\"mo\" id=\"MathJax-Span-4\" style=\"font-family: MathJax_Main; padding-left: 0.219em;\">⋅</span><span class=\"msubsup\" id=\"MathJax-Span-5\" style=\"padding-left: 0.219em;\"><span style=\"display: inline-block; position: relative; width: 1.41em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.195em, 1000.98em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mn\" id=\"MathJax-Span-6\" style=\"font-family: MathJax_Main;\">10</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -4.38em; left: 0.977em;\"><span class=\"mn\" id=\"MathJax-Span-7\" style=\"font-size: 70.7%; font-family: MathJax_Main;\">4</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-1\">2.5\\cdot 10^4</script>. You can hack only if you solved all versions of this problem.</span> </p>\n<p><span class=\"tex-font-style-it\">This is an interactive problem.</span> </p>\n<p>The RiOI Team has recently developed a text editor named <span class=\"tex-font-style-it\">RiOI Editor</span>. The editor works with exactly one integer parameter <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-7\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-8\">W</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-2-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-8\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-9\"><span class=\"mi\" id=\"MathJax-Span-10\" style=\"font-family: MathJax_Math-italic;\">W<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.111em;\"></span></span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-2\">W</script> — the width of each line. It is known that <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-9\"><span class=\"MJXp-mn\" id=\"MJXp-Span-10\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-11\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-12\">W</span><span class=\"MJXp-mo\" id=\"MJXp-Span-13\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-14\"><span class=\"MJXp-mn\" id=\"MJXp-Span-15\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-16\" style=\"vertical-align: 0.5em;\">5</span></span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-3-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-11\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-12\"><span class=\"mn\" id=\"MathJax-Span-13\" style=\"font-family: MathJax_Main;\">1</span><span class=\"mo\" id=\"MathJax-Span-14\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"mi\" id=\"MathJax-Span-15\" style=\"font-family: MathJax_Math-italic; padding-left: 0.273em;\">W<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.111em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-16\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"msubsup\" id=\"MathJax-Span-17\" style=\"padding-left: 0.273em;\"><span style=\"display: inline-block; position: relative; width: 1.41em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.195em, 1000.98em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mn\" id=\"MathJax-Span-18\" style=\"font-family: MathJax_Main;\">10</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -4.38em; left: 0.977em;\"><span class=\"mn\" id=\"MathJax-Span-19\" style=\"font-size: 70.7%; font-family: MathJax_Main;\">5</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-3\">1 \\leq W \\leq 10^5</script>.</p>\n<p>As you cannot understand the RiOI Language, from your point of view, words differ from each other only by their length. Hence, an <span class=\"tex-font-style-it\">article</span> of length <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-17\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-18\">n</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-4-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-20\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-21\"><span class=\"mi\" id=\"MathJax-Span-22\" style=\"font-family: MathJax_Math-italic;\">n</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-4\">n</script> is defined as a sequence <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-19\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-20\">a</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-5-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-23\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-24\"><span class=\"mi\" id=\"MathJax-Span-25\" style=\"font-family: MathJax_Math-italic;\">a</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-5\">a</script> consisting of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-21\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-22\">n</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-6-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-26\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-27\"><span class=\"mi\" id=\"MathJax-Span-28\" style=\"font-family: MathJax_Math-italic;\">n</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-6\">n</script> positive integers, where <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-23\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-24\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-25\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-26\" style=\"vertical-align: -0.4em;\">i</span></span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-7-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-29\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-30\"><span class=\"msubsup\" id=\"MathJax-Span-31\"><span style=\"display: inline-block; position: relative; width: 0.869em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.412em, 1000.49em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-32\" style=\"font-family: MathJax_Math-italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -3.839em; left: 0.544em;\"><span class=\"mi\" id=\"MathJax-Span-33\" style=\"font-size: 70.7%; font-family: MathJax_Math-italic;\">i</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-7\">a_i</script> is the length of the <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-27\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-28\">i</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-8-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-34\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-35\"><span class=\"mi\" id=\"MathJax-Span-36\" style=\"font-family: MathJax_Math-italic;\">i</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-8\">i</script>-th word in the <span class=\"tex-font-style-it\">article</span>. The <span class=\"tex-font-style-it\">RiOI Editor</span> displays the <span class=\"tex-font-style-it\">article</span> <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-29\"><span class=\"MJXp-mo\" id=\"MJXp-Span-30\" style=\"margin-left: 0em; margin-right: 0em;\">[</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-31\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-32\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-33\" style=\"vertical-align: -0.4em;\">1</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-34\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-35\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-36\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-37\" style=\"vertical-align: -0.4em;\">2</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-38\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mo\" id=\"MJXp-Span-39\" style=\"margin-left: 0em; margin-right: 0em;\">…</span><span class=\"MJXp-mo\" id=\"MJXp-Span-40\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-41\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-42\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-43\" style=\"vertical-align: -0.4em;\">n</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-44\" style=\"margin-left: 0em; margin-right: 0em;\">]</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-9-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-37\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-38\"><span class=\"mo\" id=\"MathJax-Span-39\" style=\"font-family: MathJax_Main;\">[</span><span class=\"msubsup\" id=\"MathJax-Span-40\"><span style=\"display: inline-block; position: relative; width: 0.977em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.412em, 1000.49em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-41\" style=\"font-family: MathJax_Math-italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -3.839em; left: 0.544em;\"><span class=\"mn\" id=\"MathJax-Span-42\" style=\"font-size: 70.7%; font-family: MathJax_Main;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-43\" style=\"font-family: MathJax_Main;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-44\" style=\"padding-left: 0.165em;\"><span style=\"display: inline-block; position: relative; width: 0.977em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.412em, 1000.49em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-45\" style=\"font-family: MathJax_Math-italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -3.839em; left: 0.544em;\"><span class=\"mn\" id=\"MathJax-Span-46\" style=\"font-size: 70.7%; font-family: MathJax_Main;\">2</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-47\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mo\" id=\"MathJax-Span-48\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">…</span><span class=\"mo\" id=\"MathJax-Span-49\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-50\" style=\"padding-left: 0.165em;\"><span style=\"display: inline-block; position: relative; width: 1.031em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.412em, 1000.49em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-51\" style=\"font-family: MathJax_Math-italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -3.839em; left: 0.544em;\"><span class=\"mi\" id=\"MathJax-Span-52\" style=\"font-size: 70.7%; font-family: MathJax_Math-italic;\">n</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-53\" style=\"font-family: MathJax_Main;\">]</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-9\">[a_1, a_2,\\ldots, a_n]</script> on screen as follows:</p>\n<p>You are very interested in the editor, so you decide to find out the value of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-114\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-115\">W</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-25-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-136\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-137\"><span class=\"mi\" id=\"MathJax-Span-138\" style=\"font-family: MathJax_Math-italic;\">W<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.111em;\"></span></span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-25\">W</script> by inputting some <span class=\"tex-font-style-it\">articles</span> into the editor and observing the number of lines needed to display each <span class=\"tex-font-style-it\">article</span>. </p>\n<p>Formally, you can query the jury <span class=\"tex-font-style-bf\">at most <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-116\"><span class=\"MJXp-mn\" id=\"MJXp-Span-117\">2</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-26-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-139\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-140\"><span class=\"mn\" id=\"MathJax-Span-141\" style=\"font-family: MathJax_Main;\">2</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-26\">2</script> times</span>. In each query, you input an <span class=\"tex-font-style-it\">article</span> <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-118\"><span class=\"MJXp-mo\" id=\"MJXp-Span-119\" style=\"margin-left: 0em; margin-right: 0em;\">[</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-120\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-121\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-122\" style=\"vertical-align: -0.4em;\">1</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-123\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-124\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-125\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-126\" style=\"vertical-align: -0.4em;\">2</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-127\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mo\" id=\"MJXp-Span-128\" style=\"margin-left: 0em; margin-right: 0em;\">…</span><span class=\"MJXp-mo\" id=\"MJXp-Span-129\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-130\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-131\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-132\" style=\"vertical-align: -0.4em;\">n</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-133\" style=\"margin-left: 0em; margin-right: 0em;\">]</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-27-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-142\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-143\"><span class=\"mo\" id=\"MathJax-Span-144\" style=\"font-family: MathJax_Main;\">[</span><span class=\"msubsup\" id=\"MathJax-Span-145\"><span style=\"display: inline-block; position: relative; width: 0.977em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.412em, 1000.49em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-146\" style=\"font-family: MathJax_Math-italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -3.839em; left: 0.544em;\"><span class=\"mn\" id=\"MathJax-Span-147\" style=\"font-size: 70.7%; font-family: MathJax_Main;\">1</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-148\" style=\"font-family: MathJax_Main;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-149\" style=\"padding-left: 0.165em;\"><span style=\"display: inline-block; position: relative; width: 0.977em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.412em, 1000.49em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-150\" style=\"font-family: MathJax_Math-italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -3.839em; left: 0.544em;\"><span class=\"mn\" id=\"MathJax-Span-151\" style=\"font-size: 70.7%; font-family: MathJax_Main;\">2</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-152\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mo\" id=\"MathJax-Span-153\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">…</span><span class=\"mo\" id=\"MathJax-Span-154\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">,</span><span class=\"msubsup\" id=\"MathJax-Span-155\" style=\"padding-left: 0.165em;\"><span style=\"display: inline-block; position: relative; width: 1.031em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.412em, 1000.49em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mi\" id=\"MathJax-Span-156\" style=\"font-family: MathJax_Math-italic;\">a</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -3.839em; left: 0.544em;\"><span class=\"mi\" id=\"MathJax-Span-157\" style=\"font-size: 70.7%; font-family: MathJax_Math-italic;\">n</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span><span class=\"mo\" id=\"MathJax-Span-158\" style=\"font-family: MathJax_Main;\">]</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-27\">[a_1, a_2, \\ldots, a_n]</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-134\"><span class=\"MJXp-mn\" id=\"MJXp-Span-135\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-136\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-137\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-138\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-139\"><span class=\"MJXp-mn\" id=\"MJXp-Span-140\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-141\" style=\"vertical-align: 0.5em;\">5</span></span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-28-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-159\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-160\"><span class=\"mn\" id=\"MathJax-Span-161\" style=\"font-family: MathJax_Main;\">1</span><span class=\"mo\" id=\"MathJax-Span-162\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"mi\" id=\"MathJax-Span-163\" style=\"font-family: MathJax_Math-italic; padding-left: 0.273em;\">n</span><span class=\"mo\" id=\"MathJax-Span-164\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"msubsup\" id=\"MathJax-Span-165\" style=\"padding-left: 0.273em;\"><span style=\"display: inline-block; position: relative; width: 1.41em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.195em, 1000.98em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mn\" id=\"MathJax-Span-166\" style=\"font-family: MathJax_Main;\">10</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -4.38em; left: 0.977em;\"><span class=\"mn\" id=\"MathJax-Span-167\" style=\"font-size: 70.7%; font-family: MathJax_Main;\">5</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-28\">1\\leq n \\leq 10^5</script>) to the editor, and the jury will respond to you with:</p>\n<p><span class=\"tex-font-style-bf\">Additional constraint in this version:</span> the sum of the lengths of the <span class=\"tex-font-style-it\">articles</span> (i.e., <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-144\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-145\">n</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-30-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-171\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-172\"><span class=\"mi\" id=\"MathJax-Span-173\" style=\"font-family: MathJax_Math-italic;\">n</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-30\">n</script>) over all queries must not exceed <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-146\"><span class=\"MJXp-mn\" id=\"MJXp-Span-147\">2.5</span><span class=\"MJXp-mo\" id=\"MJXp-Span-148\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-149\"><span class=\"MJXp-mn\" id=\"MJXp-Span-150\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-151\" style=\"vertical-align: 0.5em;\">4</span></span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-31-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-174\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-175\"><span class=\"mn\" id=\"MathJax-Span-176\" style=\"font-family: MathJax_Main;\">2.5</span><span class=\"mo\" id=\"MathJax-Span-177\" style=\"font-family: MathJax_Main; padding-left: 0.219em;\">⋅</span><span class=\"msubsup\" id=\"MathJax-Span-178\" style=\"padding-left: 0.219em;\"><span style=\"display: inline-block; position: relative; width: 1.41em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.195em, 1000.98em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mn\" id=\"MathJax-Span-179\" style=\"font-family: MathJax_Main;\">10</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -4.38em; left: 0.977em;\"><span class=\"mn\" id=\"MathJax-Span-180\" style=\"font-size: 70.7%; font-family: MathJax_Main;\">4</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-31\">2.5\\cdot 10^4</script>.</p>",
  "inputSpecHtml": "<p>Each test contains multiple test cases. The first line contains the number of test cases <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-152\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-153\">t</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-32-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-181\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-182\"><span class=\"mi\" id=\"MathJax-Span-183\" style=\"font-family: MathJax_Math-italic;\">t</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-32\">t</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-154\"><span class=\"MJXp-mn\" id=\"MJXp-Span-155\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-156\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-157\">t</span><span class=\"MJXp-mo\" id=\"MJXp-Span-158\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mn\" id=\"MJXp-Span-159\">10</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-33-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-184\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-185\"><span class=\"mn\" id=\"MathJax-Span-186\" style=\"font-family: MathJax_Main;\">1</span><span class=\"mo\" id=\"MathJax-Span-187\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"mi\" id=\"MathJax-Span-188\" style=\"font-family: MathJax_Math-italic; padding-left: 0.273em;\">t</span><span class=\"mo\" id=\"MathJax-Span-189\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"mn\" id=\"MathJax-Span-190\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">10</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-33\">1 \\le t \\le 10</script>). The description of the test cases follows. </p></div><div><div class=\"section-title\">Interaction</div><p>For each test case, you can make up to <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-160\"><span class=\"MJXp-mn\" id=\"MJXp-Span-161\">2</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-34-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-191\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-192\"><span class=\"mn\" id=\"MathJax-Span-193\" style=\"font-family: MathJax_Main;\">2</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-34\">2</script> queries to find out the value of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-162\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-163\">W</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-35-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-194\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-195\"><span class=\"mi\" id=\"MathJax-Span-196\" style=\"font-family: MathJax_Math-italic;\">W<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.111em;\"></span></span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-35\">W</script>. It is guaranteed that <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-164\"><span class=\"MJXp-mn\" id=\"MJXp-Span-165\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-166\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-167\">W</span><span class=\"MJXp-mo\" id=\"MJXp-Span-168\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-169\"><span class=\"MJXp-mn\" id=\"MJXp-Span-170\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-171\" style=\"vertical-align: 0.5em;\">5</span></span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-36-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-197\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-198\"><span class=\"mn\" id=\"MathJax-Span-199\" style=\"font-family: MathJax_Main;\">1</span><span class=\"mo\" id=\"MathJax-Span-200\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"mi\" id=\"MathJax-Span-201\" style=\"font-family: MathJax_Math-italic; padding-left: 0.273em;\">W<span style=\"display: inline-block; overflow: hidden; height: 1px; width: 0.111em;\"></span></span><span class=\"mo\" id=\"MathJax-Span-202\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"msubsup\" id=\"MathJax-Span-203\" style=\"padding-left: 0.273em;\"><span style=\"display: inline-block; position: relative; width: 1.41em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.195em, 1000.98em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mn\" id=\"MathJax-Span-204\" style=\"font-family: MathJax_Main;\">10</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -4.38em; left: 0.977em;\"><span class=\"mn\" id=\"MathJax-Span-205\" style=\"font-size: 70.7%; font-family: MathJax_Main;\">5</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-36\">1\\leq W\\leq 10^5</script>.</p><p>To make a query, you should print a new line in the following format:</p><ul> <li> <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-172\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-173\"><span class=\"MJXp-mtext MJXp-mono\" id=\"MJXp-Span-174\">?&nbsp;</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-175\">n</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-176\"><span class=\"MJXp-mtext MJXp-mono\" id=\"MJXp-Span-177\">&nbsp;</span></span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-178\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-179\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-180\" style=\"vertical-align: -0.4em;\">1</span></span><span class=\"MJXp-mrow\" id=\"MJXp-Span-181\"><span class=\"MJXp-mtext MJXp-mono\" id=\"MJXp-Span-182\">&nbsp;</span></span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-183\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-184\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-185\" style=\"vertical-align: -0.4em;\">2</span></span><span class=\"MJXp-mrow\" id=\"MJXp-Span-186\"><span class=\"MJXp-mtext MJXp-mono\" id=\"MJXp-Span-187\">&nbsp;</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-188\" style=\"margin-left: 0em; margin-right: 0em;\">…</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-189\"><span class=\"MJXp-mtext MJXp-mono\" id=\"MJXp-Span-190\">&nbsp;</span></span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-191\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-192\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-193\" style=\"vertical-align: -0.4em;\">n</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-37-Frame\" tabindex=\"0\" style=\"\"></span><script type=\"math/tex\" id=\"MathJax-Element-37\">\\texttt{? } n\\texttt{ }a_1\\texttt{ }a_2\\texttt{ }\\ldots\\texttt{ }a_n</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-194\"><span class=\"MJXp-mn\" id=\"MJXp-Span-195\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-196\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-197\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-198\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-199\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-200\" style=\"margin-right: 0.05em;\">a</span><span class=\"MJXp-mi MJXp-italic MJXp-script\" id=\"MJXp-Span-201\" style=\"vertical-align: -0.4em;\">i</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-202\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-203\"><span class=\"MJXp-mn\" id=\"MJXp-Span-204\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-205\" style=\"vertical-align: 0.5em;\">5</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-38-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-38\">1 \\leq n, a_i \\leq 10^5</script>) — the <span class=\"tex-font-style-it\">article</span> you input to the editor. </li></ul><p><span class=\"tex-font-style-bf\">The sum of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-206\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-207\">n</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-39-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-39\">n</script> over all queries must not exceed <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-208\"><span class=\"MJXp-mn\" id=\"MJXp-Span-209\">2.5</span><span class=\"MJXp-mo\" id=\"MJXp-Span-210\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-211\"><span class=\"MJXp-mn\" id=\"MJXp-Span-212\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-213\" style=\"vertical-align: 0.5em;\">4</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-40-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-40\">2.5\\cdot 10^4</script>.</span></p><p>At the end of each query, the jury will print an integer, as described in the statements.</p><p>To report that you have found the value of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-214\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-215\">W</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-41-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-41\">W</script>, print a new line in the following format:</p><ul> <li> <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-216\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-217\"><span class=\"MJXp-mtext MJXp-mono\" id=\"MJXp-Span-218\">!&nbsp;</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-219\">W</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-42-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-42\">\\texttt{! } W</script> — the parameter of the editor. </li></ul><p>Printing the answer does not count as one of the <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-220\"><span class=\"MJXp-mn\" id=\"MJXp-Span-221\">2</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-43-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-43\">2</script> queries.</p><p>After that, proceed to process the next test case or terminate the program if it was the last test case.</p><p>After printing each query do not forget to output the end of line and flush<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-222\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-223\"><span class=\"MJXp-mi\" id=\"MJXp-Span-224\" style=\"margin-right: 0.05em;\"></span><span class=\"MJXp-mrow MJXp-script\" id=\"MJXp-Span-225\" style=\"vertical-align: 0.5em;\"><span class=\"MJXp-mtext\" id=\"MJXp-Span-226\">∗</span></span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-44-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-44\">^{\\text{∗}}</script> the output. Otherwise, you will get <span class=\"tex-font-style-tt\">Idleness limit exceeded</span> verdict.</p><p>If, at any interaction step, you read <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-227\"><span class=\"MJXp-mo\" id=\"MJXp-Span-228\" style=\"margin-left: 0em; margin-right: 0.111em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-229\">1</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-45-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-45\">-1</script> instead of valid data, your solution must exit immediately. This means that your solution will receive <span class=\"tex-font-style-tt\">Wrong answer</span> because of an invalid query or any other mistake. Failing to exit can result in an arbitrary verdict because your solution will continue to read from a closed stream. </p><p>The interactor in this problem is <span class=\"tex-font-style-bf\">adaptive</span>. It means that the value of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-230\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-231\">W</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-46-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-46\">W</script> may change during the interaction, but it is guaranteed that there is always at least one integer <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-232\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-233\">W</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-47-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-47\">W</script> satisfying all the queries.</p><p><span class=\"tex-font-style-bf\">Hacks</span></p><p>To perform a hack, only the following format is available:</p><p>The first line of the input contains an integer <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-234\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-235\">t</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-48-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-48\">t</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-236\"><span class=\"MJXp-mn\" id=\"MJXp-Span-237\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-238\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-239\">t</span><span class=\"MJXp-mo\" id=\"MJXp-Span-240\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mn\" id=\"MJXp-Span-241\">10</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-49-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-49\">1 \\leq t \\leq 10</script>) — the number of test cases. Then, output a string \"<span class=\"tex-font-style-tt\">manual</span>\" in the same line.</p><p>The only line of each test case contains a single integer <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-242\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-243\">W</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-50-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-50\">W</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-244\"><span class=\"MJXp-mn\" id=\"MJXp-Span-245\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-246\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-247\">W</span><span class=\"MJXp-mo\" id=\"MJXp-Span-248\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-249\"><span class=\"MJXp-mn\" id=\"MJXp-Span-250\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-251\" style=\"vertical-align: 0.5em;\">5</span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-51-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-51\">1\\le W\\le 10^5</script>) — the parameter of the editor. </p><p>The hacking format for the example is as follows.</p><pre class=\"lstlisting\"><code class=\"prettyprint prettyprinted\" style=\"\"><span class=\"lit\">2</span><span class=\"pln\"> manual</span><br><span class=\"lit\">20</span><br><span class=\"lit\">1</span><br></code></pre><div class=\"statement-footnote\"><p><span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-252\"><span class=\"MJXp-msubsup\" id=\"MJXp-Span-253\"><span class=\"MJXp-mi\" id=\"MJXp-Span-254\" style=\"margin-right: 0.05em;\"></span><span class=\"MJXp-mrow MJXp-script\" id=\"MJXp-Span-255\" style=\"vertical-align: 0.5em;\"><span class=\"MJXp-mtext\" id=\"MJXp-Span-256\">∗</span></span></span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-52-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-52\">^{\\text{∗}}</script>To flush, use: </p><ul> <li> <span class=\"tex-font-style-tt\">fflush(stdout)</span> or <span class=\"tex-font-style-tt\">cout.flush()</span> in C++; </li><li> <span class=\"tex-font-style-tt\">sys.stdout.flush()</span> in Python; </li><li> see the documentation for other languages. </li></ul></div>",
  "outputSpecHtml": "",
  "noteHtml": "<p>In the first test case:</p><ul> <li> For the first query, the total length of the words is <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-257\"><span class=\"MJXp-mn\" id=\"MJXp-Span-258\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-259\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-260\">9</span><span class=\"MJXp-mo\" id=\"MJXp-Span-261\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-262\">4</span><span class=\"MJXp-mo\" id=\"MJXp-Span-263\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-264\">6</span><span class=\"MJXp-mo\" id=\"MJXp-Span-265\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-266\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-267\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mn\" id=\"MJXp-Span-268\">21</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-53-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-53\">1+9+4+6+1=21</script>, and the <span class=\"tex-font-style-it\">article</span> is displayed in two lines, so <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-269\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-270\">W</span><span class=\"MJXp-mo\" id=\"MJXp-Span-271\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">&lt;</span><span class=\"MJXp-mn\" id=\"MJXp-Span-272\">21</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-54-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-54\">W<21</script>; </li><li> For the second query, the total length of the words is <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-273\"><span class=\"MJXp-mn\" id=\"MJXp-Span-274\">10</span><span class=\"MJXp-mo\" id=\"MJXp-Span-275\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-276\">10</span><span class=\"MJXp-mo\" id=\"MJXp-Span-277\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mn\" id=\"MJXp-Span-278\">20</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-55-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-55\">10+10=20</script>, and the <span class=\"tex-font-style-it\">article</span> is displayed in one line, so <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-279\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-280\">W</span><span class=\"MJXp-mo\" id=\"MJXp-Span-281\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≥</span><span class=\"MJXp-mn\" id=\"MJXp-Span-282\">20</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-56-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-56\">W\\ge 20</script>. </li></ul><p>Thus, we have determined <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-283\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-284\">W</span><span class=\"MJXp-mo\" id=\"MJXp-Span-285\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mn\" id=\"MJXp-Span-286\">20</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-57-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-57\">W = 20</script>.</p><p>In the second test case, the editor cannot display the <span class=\"tex-font-style-it\">article</span> in the only query. Thus, <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-287\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-288\">W</span><span class=\"MJXp-mo\" id=\"MJXp-Span-289\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">&lt;</span><span class=\"MJXp-mn\" id=\"MJXp-Span-290\">2</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-58-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-58\">W < 2</script>, so it can only be <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-291\"><span class=\"MJXp-mn\" id=\"MJXp-Span-292\">1</span></span></span><span class=\"MathJax MathJax_Processing\" id=\"MathJax-Element-59-Frame\" tabindex=\"0\"></span><script type=\"math/tex\" id=\"MathJax-Element-59\">1</script>.</p>",
  "samples": [
    {
      "input": "2\n\n2\n\n1\n\n\n0",
      "output": "? 5 1 9 4 6 1\n\n? 2 10 10\n\n! 20\n? 1 2\n\n! 1"
    }
  ],
  "images": [],
  "url": "https://codeforces.com/contest/2135/problem/D2"
}