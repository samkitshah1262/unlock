{
  "contestId": 2125,
  "index": "E",
  "title": "Sets of Complementary Sums",
  "timeLimit": "2 seconds",
  "memoryLimit": "1024 megabytes",
  "rating": 2500,
  "tags": [
    "brute force",
    "combinatorics",
    "dp",
    "math",
    "two pointers"
  ],
  "statementHtml": "<p>We call a set of integers <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-1-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;Q&lt;/mi&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-1\" style=\"width: 1.085em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.814em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.247em, 1000.76em, 2.492em, -999.997em); top: -2.108em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-2\"><span class=\"mi\" id=\"MathJax-Span-3\" style=\"font-family: MathJax_Math-italic;\">Q</span></span><span style=\"display: inline-block; width: 0px; height: 2.113em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.354em; border-left: 0px solid; width: 0px; height: 1.361em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>Q</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-1\">Q</script> a <span class=\"tex-font-style-it\">set of complementary sums</span> if it can be obtained through the following actions:</p>\n<p>Note that <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-10-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;Q&lt;/mi&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-58\" style=\"width: 1.085em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.814em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.247em, 1000.76em, 2.492em, -999.997em); top: -2.108em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-59\"><span class=\"mi\" id=\"MathJax-Span-60\" style=\"font-family: MathJax_Math-italic;\">Q</span></span><span style=\"display: inline-block; width: 0px; height: 2.113em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.354em; border-left: 0px solid; width: 0px; height: 1.361em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>Q</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-10\">Q</script> is not a multiset, meaning each number in it is unique. For example, if the array <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-11-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;a&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo stretchy=&quot;false&quot;&gt;[&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;mo stretchy=&quot;false&quot;&gt;]&lt;/mo&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-61\" style=\"width: 7.578em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 5.739em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.247em, 1005.63em, 2.6em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-62\"><span class=\"mi\" id=\"MathJax-Span-63\" style=\"font-family: MathJax_Math-italic;\">a</span><span class=\"mo\" id=\"MathJax-Span-64\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">=</span><span class=\"mo\" id=\"MathJax-Span-65\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">[</span><span class=\"mn\" id=\"MathJax-Span-66\" style=\"font-family: MathJax_Main;\">1</span><span class=\"mo\" id=\"MathJax-Span-67\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mn\" id=\"MathJax-Span-68\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">3</span><span class=\"mo\" id=\"MathJax-Span-69\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mn\" id=\"MathJax-Span-70\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">3</span><span class=\"mo\" id=\"MathJax-Span-71\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mn\" id=\"MathJax-Span-72\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">7</span><span class=\"mo\" id=\"MathJax-Span-73\" style=\"font-family: MathJax_Main;\">]</span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.425em; border-left: 0px solid; width: 0px; height: 1.432em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>a</mi><mo>=</mo><mo stretchy=\"false\">[</mo><mn>1</mn><mo>,</mo><mn>3</mn><mo>,</mo><mn>3</mn><mo>,</mo><mn>7</mn><mo stretchy=\"false\">]</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-11\">a = [1, 3, 3, 7]</script> was chosen, then <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-12-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;s&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mn&gt;14&lt;/mn&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-74\" style=\"width: 3.736em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 2.817em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.301em, 1002.76em, 2.33em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-75\"><span class=\"mi\" id=\"MathJax-Span-76\" style=\"font-family: MathJax_Math-italic;\">s</span><span class=\"mo\" id=\"MathJax-Span-77\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">=</span><span class=\"mn\" id=\"MathJax-Span-78\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">14</span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 1.075em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>s</mi><mo>=</mo><mn>14</mn></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-12\">s = 14</script> and <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-13-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;Q&lt;/mi&gt;&lt;mo&gt;=&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;11&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;13&lt;/mn&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-79\" style=\"width: 8.607em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 6.496em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.247em, 1006.44em, 2.6em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-80\"><span class=\"mi\" id=\"MathJax-Span-81\" style=\"font-family: MathJax_Math-italic;\">Q</span><span class=\"mo\" id=\"MathJax-Span-82\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">=</span><span class=\"mo\" id=\"MathJax-Span-83\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">{</span><span class=\"mn\" id=\"MathJax-Span-84\" style=\"font-family: MathJax_Main;\">7</span><span class=\"mo\" id=\"MathJax-Span-85\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mn\" id=\"MathJax-Span-86\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">11</span><span class=\"mo\" id=\"MathJax-Span-87\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mn\" id=\"MathJax-Span-88\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">13</span><span class=\"mo\" id=\"MathJax-Span-89\" style=\"font-family: MathJax_Main;\">}</span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.425em; border-left: 0px solid; width: 0px; height: 1.432em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>Q</mi><mo>=</mo><mo fence=\"false\" stretchy=\"false\">{</mo><mn>7</mn><mo>,</mo><mn>11</mn><mo>,</mo><mn>13</mn><mo fence=\"false\" stretchy=\"false\">}</mo></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-13\">Q = \\{7, 11, 13\\}</script>.</p>\n<p>Your task is to count the number of distinct <span class=\"tex-font-style-it\">sets of complementary sums</span> for which the following holds:</p>\n<p>Two sets are considered different if there exists an element in the first set that is not included in the second set.</p>\n<p>Since the answer can be huge, output it modulo <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-17-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;998&lt;/mn&gt;&lt;mspace width=&quot;thinmathspace&quot; /&gt;&lt;mn&gt;244&lt;/mn&gt;&lt;mspace width=&quot;thinmathspace&quot; /&gt;&lt;mn&gt;353&lt;/mn&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-99\" style=\"width: 6.388em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 4.819em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.301em, 1004.76em, 2.33em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-100\"><span class=\"mn\" id=\"MathJax-Span-101\" style=\"font-family: MathJax_Main;\">998</span><span class=\"mspace\" id=\"MathJax-Span-102\" style=\"height: 0em; vertical-align: 0em; width: 0.165em; display: inline-block; overflow: hidden;\"></span><span class=\"mn\" id=\"MathJax-Span-103\" style=\"font-family: MathJax_Main;\">244</span><span class=\"mspace\" id=\"MathJax-Span-104\" style=\"height: 0em; vertical-align: 0em; width: 0.165em; display: inline-block; overflow: hidden;\"></span><span class=\"mn\" id=\"MathJax-Span-105\" style=\"font-family: MathJax_Main;\">353</span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 1.075em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mn>998</mn><mspace width=\"thinmathspace\"></mspace><mn>244</mn><mspace width=\"thinmathspace\"></mspace><mn>353</mn></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-17\">998\\,244\\,353</script>.</p>",
  "inputSpecHtml": "<p>Each test consists of several test cases. The first line contains a single integer <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-18-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-106\" style=\"width: 0.544em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.381em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.301em, 1000.33em, 2.275em, -999.997em); top: -2.108em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-107\"><span class=\"mi\" id=\"MathJax-Span-108\" style=\"font-family: MathJax_Math-italic;\">t</span></span><span style=\"display: inline-block; width: 0px; height: 2.113em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 1.004em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>t</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-18\">t</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-19-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;&amp;#x2264;&lt;/mo&gt;&lt;mi&gt;t&lt;/mi&gt;&lt;mo&gt;&amp;#x2264;&lt;/mo&gt;&lt;msup&gt;&lt;mn&gt;10&lt;/mn&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-109\" style=\"width: 6.496em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 4.927em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.139em, 1004.93em, 2.492em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-110\"><span class=\"mn\" id=\"MathJax-Span-111\" style=\"font-family: MathJax_Main;\">1</span><span class=\"mo\" id=\"MathJax-Span-112\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"mi\" id=\"MathJax-Span-113\" style=\"font-family: MathJax_Math-italic; padding-left: 0.273em;\">t</span><span class=\"mo\" id=\"MathJax-Span-114\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"msubsup\" id=\"MathJax-Span-115\" style=\"padding-left: 0.273em;\"><span style=\"display: inline-block; position: relative; width: 1.41em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.195em, 1000.98em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mn\" id=\"MathJax-Span-116\" style=\"font-family: MathJax_Main;\">10</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -4.38em; left: 0.977em;\"><span class=\"texatom\" id=\"MathJax-Span-117\"><span class=\"mrow\" id=\"MathJax-Span-118\"><span class=\"mn\" id=\"MathJax-Span-119\" style=\"font-size: 70.7%; font-family: MathJax_Main;\">4</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.282em; border-left: 0px solid; width: 0px; height: 1.504em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mn>1</mn><mo>≤</mo><mi>t</mi><mo>≤</mo><msup><mn>10</mn><mrow class=\"MJX-TeXAtom-ORD\"><mn>4</mn></mrow></msup></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-19\">1 \\le t \\le 10^{4}</script>)&nbsp;— the number of test cases. The description of the test cases follows.</p><p>The only line of each test case contains two integers <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-20-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-120\" style=\"width: 0.814em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.598em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.518em, 1000.6em, 2.275em, -999.997em); top: -2.108em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-121\"><span class=\"mi\" id=\"MathJax-Span-122\" style=\"font-family: MathJax_Math-italic;\">n</span></span><span style=\"display: inline-block; width: 0px; height: 2.113em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 0.718em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>n</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-20\">n</script> and <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-21-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-123\" style=\"width: 0.814em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.598em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.518em, 1000.54em, 2.275em, -999.997em); top: -2.108em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-124\"><span class=\"mi\" id=\"MathJax-Span-125\" style=\"font-family: MathJax_Math-italic;\">x</span></span><span style=\"display: inline-block; width: 0px; height: 2.113em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 0.718em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>x</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-21\">x</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-22-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;&amp;#x2264;&lt;/mo&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mo&gt;&amp;#x2264;&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;&amp;#x22C5;&lt;/mo&gt;&lt;msup&gt;&lt;mn&gt;10&lt;/mn&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-126\" style=\"width: 9.797em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 7.416em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.139em, 1007.42em, 2.546em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-127\"><span class=\"mn\" id=\"MathJax-Span-128\" style=\"font-family: MathJax_Main;\">1</span><span class=\"mo\" id=\"MathJax-Span-129\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"mi\" id=\"MathJax-Span-130\" style=\"font-family: MathJax_Math-italic; padding-left: 0.273em;\">n</span><span class=\"mo\" id=\"MathJax-Span-131\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mi\" id=\"MathJax-Span-132\" style=\"font-family: MathJax_Math-italic; padding-left: 0.165em;\">x</span><span class=\"mo\" id=\"MathJax-Span-133\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"mn\" id=\"MathJax-Span-134\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">2</span><span class=\"mo\" id=\"MathJax-Span-135\" style=\"font-family: MathJax_Main; padding-left: 0.219em;\">⋅</span><span class=\"msubsup\" id=\"MathJax-Span-136\" style=\"padding-left: 0.219em;\"><span style=\"display: inline-block; position: relative; width: 1.41em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.195em, 1000.98em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mn\" id=\"MathJax-Span-137\" style=\"font-family: MathJax_Main;\">10</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -4.38em; left: 0.977em;\"><span class=\"texatom\" id=\"MathJax-Span-138\"><span class=\"mrow\" id=\"MathJax-Span-139\"><span class=\"mn\" id=\"MathJax-Span-140\" style=\"font-size: 70.7%; font-family: MathJax_Main;\">5</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.354em; border-left: 0px solid; width: 0px; height: 1.575em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mn>1</mn><mo>≤</mo><mi>n</mi><mo>,</mo><mi>x</mi><mo>≤</mo><mn>2</mn><mo>⋅</mo><msup><mn>10</mn><mrow class=\"MJX-TeXAtom-ORD\"><mn>5</mn></mrow></msup></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-22\">1 \\le n, x \\le 2 \\cdot 10^{5}</script>).</p><p>Additional constraints on the input data:</p><ul> <li> the sum of <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-23-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;n&lt;/mi&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-141\" style=\"width: 0.814em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.598em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.518em, 1000.6em, 2.275em, -999.997em); top: -2.108em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-142\"><span class=\"mi\" id=\"MathJax-Span-143\" style=\"font-family: MathJax_Math-italic;\">n</span></span><span style=\"display: inline-block; width: 0px; height: 2.113em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 0.718em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>n</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-23\">n</script> across all test cases does not exceed <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-24-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;&amp;#x22C5;&lt;/mo&gt;&lt;msup&gt;&lt;mn&gt;10&lt;/mn&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-144\" style=\"width: 3.52em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 2.654em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.139em, 1002.65em, 2.33em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-145\"><span class=\"mn\" id=\"MathJax-Span-146\" style=\"font-family: MathJax_Main;\">2</span><span class=\"mo\" id=\"MathJax-Span-147\" style=\"font-family: MathJax_Main; padding-left: 0.219em;\">⋅</span><span class=\"msubsup\" id=\"MathJax-Span-148\" style=\"padding-left: 0.219em;\"><span style=\"display: inline-block; position: relative; width: 1.41em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.195em, 1000.98em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mn\" id=\"MathJax-Span-149\" style=\"font-family: MathJax_Main;\">10</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -4.38em; left: 0.977em;\"><span class=\"texatom\" id=\"MathJax-Span-150\"><span class=\"mrow\" id=\"MathJax-Span-151\"><span class=\"mn\" id=\"MathJax-Span-152\" style=\"font-size: 70.7%; font-family: MathJax_Main;\">5</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 1.289em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mn>2</mn><mo>⋅</mo><msup><mn>10</mn><mrow class=\"MJX-TeXAtom-ORD\"><mn>5</mn></mrow></msup></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-24\">2 \\cdot 10^{5}</script>; </li><li> the sum of <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-25-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-153\" style=\"width: 0.814em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.598em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.518em, 1000.54em, 2.275em, -999.997em); top: -2.108em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-154\"><span class=\"mi\" id=\"MathJax-Span-155\" style=\"font-family: MathJax_Math-italic;\">x</span></span><span style=\"display: inline-block; width: 0px; height: 2.113em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 0.718em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mi>x</mi></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-25\">x</script> across all test cases does not exceed <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-26-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;&amp;#x22C5;&lt;/mo&gt;&lt;msup&gt;&lt;mn&gt;10&lt;/mn&gt;&lt;mrow class=&quot;MJX-TeXAtom-ORD&quot;&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-156\" style=\"width: 3.52em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 2.654em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.139em, 1002.65em, 2.33em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-157\"><span class=\"mn\" id=\"MathJax-Span-158\" style=\"font-family: MathJax_Main;\">2</span><span class=\"mo\" id=\"MathJax-Span-159\" style=\"font-family: MathJax_Main; padding-left: 0.219em;\">⋅</span><span class=\"msubsup\" id=\"MathJax-Span-160\" style=\"padding-left: 0.219em;\"><span style=\"display: inline-block; position: relative; width: 1.41em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.195em, 1000.98em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mn\" id=\"MathJax-Span-161\" style=\"font-family: MathJax_Main;\">10</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -4.38em; left: 0.977em;\"><span class=\"texatom\" id=\"MathJax-Span-162\"><span class=\"mrow\" id=\"MathJax-Span-163\"><span class=\"mn\" id=\"MathJax-Span-164\" style=\"font-size: 70.7%; font-family: MathJax_Main;\">5</span></span></span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 1.289em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mn>2</mn><mo>⋅</mo><msup><mn>10</mn><mrow class=\"MJX-TeXAtom-ORD\"><mn>5</mn></mrow></msup></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-26\">2 \\cdot 10^{5}</script>. </li></ul>",
  "outputSpecHtml": "<p>For each test case, output a single integer&nbsp;— the answer to the problem modulo <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-27-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;998&lt;/mn&gt;&lt;mspace width=&quot;thinmathspace&quot; /&gt;&lt;mn&gt;244&lt;/mn&gt;&lt;mspace width=&quot;thinmathspace&quot; /&gt;&lt;mn&gt;353&lt;/mn&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-165\" style=\"width: 6.388em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 4.819em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.301em, 1004.76em, 2.33em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-166\"><span class=\"mn\" id=\"MathJax-Span-167\" style=\"font-family: MathJax_Main;\">998</span><span class=\"mspace\" id=\"MathJax-Span-168\" style=\"height: 0em; vertical-align: 0em; width: 0.165em; display: inline-block; overflow: hidden;\"></span><span class=\"mn\" id=\"MathJax-Span-169\" style=\"font-family: MathJax_Main;\">244</span><span class=\"mspace\" id=\"MathJax-Span-170\" style=\"height: 0em; vertical-align: 0em; width: 0.165em; display: inline-block; overflow: hidden;\"></span><span class=\"mn\" id=\"MathJax-Span-171\" style=\"font-family: MathJax_Main;\">353</span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 1.075em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mn>998</mn><mspace width=\"thinmathspace\"></mspace><mn>244</mn><mspace width=\"thinmathspace\"></mspace><mn>353</mn></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-27\">998\\,244\\,353</script>.</p>",
  "noteHtml": "<p>For the first test case, there are exactly <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-28-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-172\" style=\"width: 0.652em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.49em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.356em, 1000.49em, 2.33em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-173\"><span class=\"mn\" id=\"MathJax-Span-174\" style=\"font-family: MathJax_Main;\">7</span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 1.075em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mn>7</mn></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-28\">7</script> suitable sets:</p><p><span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><div class=\"MathJax_Display\" style=\"text-align: center;\"><span class=\"MathJax\" id=\"MathJax-Element-29-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mn&gt;6&lt;/mn&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mn&gt;7&lt;/mn&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;/math&gt;\" role=\"presentation\" style=\"text-align: center; position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-175\" style=\"width: 17.373em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 13.152em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.247em, 1013.1em, 2.6em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-176\"><span class=\"mo\" id=\"MathJax-Span-177\" style=\"font-family: MathJax_Main;\">{</span><span class=\"mn\" id=\"MathJax-Span-178\" style=\"font-family: MathJax_Main;\">1</span><span class=\"mo\" id=\"MathJax-Span-179\" style=\"font-family: MathJax_Main;\">}</span><span class=\"mo\" id=\"MathJax-Span-180\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mo\" id=\"MathJax-Span-181\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">{</span><span class=\"mn\" id=\"MathJax-Span-182\" style=\"font-family: MathJax_Main;\">2</span><span class=\"mo\" id=\"MathJax-Span-183\" style=\"font-family: MathJax_Main;\">}</span><span class=\"mo\" id=\"MathJax-Span-184\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mo\" id=\"MathJax-Span-185\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">{</span><span class=\"mn\" id=\"MathJax-Span-186\" style=\"font-family: MathJax_Main;\">3</span><span class=\"mo\" id=\"MathJax-Span-187\" style=\"font-family: MathJax_Main;\">}</span><span class=\"mo\" id=\"MathJax-Span-188\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mo\" id=\"MathJax-Span-189\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">{</span><span class=\"mn\" id=\"MathJax-Span-190\" style=\"font-family: MathJax_Main;\">4</span><span class=\"mo\" id=\"MathJax-Span-191\" style=\"font-family: MathJax_Main;\">}</span><span class=\"mo\" id=\"MathJax-Span-192\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mo\" id=\"MathJax-Span-193\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">{</span><span class=\"mn\" id=\"MathJax-Span-194\" style=\"font-family: MathJax_Main;\">5</span><span class=\"mo\" id=\"MathJax-Span-195\" style=\"font-family: MathJax_Main;\">}</span><span class=\"mo\" id=\"MathJax-Span-196\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mo\" id=\"MathJax-Span-197\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">{</span><span class=\"mn\" id=\"MathJax-Span-198\" style=\"font-family: MathJax_Main;\">6</span><span class=\"mo\" id=\"MathJax-Span-199\" style=\"font-family: MathJax_Main;\">}</span><span class=\"mo\" id=\"MathJax-Span-200\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mo\" id=\"MathJax-Span-201\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">{</span><span class=\"mn\" id=\"MathJax-Span-202\" style=\"font-family: MathJax_Main;\">7</span><span class=\"mo\" id=\"MathJax-Span-203\" style=\"font-family: MathJax_Main;\">}</span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.425em; border-left: 0px solid; width: 0px; height: 1.432em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mo fence=\"false\" stretchy=\"false\">{</mo><mn>1</mn><mo fence=\"false\" stretchy=\"false\">}</mo><mo>,</mo><mo fence=\"false\" stretchy=\"false\">{</mo><mn>2</mn><mo fence=\"false\" stretchy=\"false\">}</mo><mo>,</mo><mo fence=\"false\" stretchy=\"false\">{</mo><mn>3</mn><mo fence=\"false\" stretchy=\"false\">}</mo><mo>,</mo><mo fence=\"false\" stretchy=\"false\">{</mo><mn>4</mn><mo fence=\"false\" stretchy=\"false\">}</mo><mo>,</mo><mo fence=\"false\" stretchy=\"false\">{</mo><mn>5</mn><mo fence=\"false\" stretchy=\"false\">}</mo><mo>,</mo><mo fence=\"false\" stretchy=\"false\">{</mo><mn>6</mn><mo fence=\"false\" stretchy=\"false\">}</mo><mo>,</mo><mo fence=\"false\" stretchy=\"false\">{</mo><mn>7</mn><mo fence=\"false\" stretchy=\"false\">}</mo></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-29\">\\{1\\}, \\{2\\}, \\{3\\}, \\{4\\}, \\{5\\}, \\{6\\}, \\{7\\}</script></p><p>For the second test case, there are <span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><span class=\"MathJax\" id=\"MathJax-Element-30-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;&gt;&lt;mn&gt;10&lt;/mn&gt;&lt;/math&gt;\" role=\"presentation\" style=\"position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-204\" style=\"width: 1.301em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 0.977em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.356em, 1000.92em, 2.33em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-205\"><span class=\"mn\" id=\"MathJax-Span-206\" style=\"font-family: MathJax_Main;\">10</span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.068em; border-left: 0px solid; width: 0px; height: 1.075em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><mn>10</mn></math></span></span><script type=\"math/tex\" id=\"MathJax-Element-30\">10</script> suitable sets:</p><p><span class=\"MathJax_Preview\" style=\"color: inherit;\"></span><div class=\"MathJax_Display\" style=\"text-align: center;\"><span class=\"MathJax\" id=\"MathJax-Element-31-Frame\" tabindex=\"0\" data-mathml=\"&lt;math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mn&gt;1&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mn&gt;3&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;{&lt;/mo&gt;&lt;mn&gt;4&lt;/mn&gt;&lt;mo&gt;,&lt;/mo&gt;&lt;mn&gt;5&lt;/mn&gt;&lt;mo fence=&quot;false&quot; stretchy=&quot;false&quot;&gt;}&lt;/mo&gt;&lt;/math&gt;\" role=\"presentation\" style=\"text-align: center; position: relative;\"><nobr aria-hidden=\"true\"><span class=\"math\" id=\"MathJax-Span-207\" style=\"width: 37.611em; display: inline-block;\"><span style=\"display: inline-block; position: relative; width: 28.466em; height: 0px; font-size: 132%;\"><span style=\"position: absolute; clip: rect(1.247em, 1028.41em, 2.6em, -999.997em); top: -2.162em; left: 0em;\"><span class=\"mrow\" id=\"MathJax-Span-208\"><span class=\"mo\" id=\"MathJax-Span-209\" style=\"font-family: MathJax_Main;\">{</span><span class=\"mn\" id=\"MathJax-Span-210\" style=\"font-family: MathJax_Main;\">1</span><span class=\"mo\" id=\"MathJax-Span-211\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mn\" id=\"MathJax-Span-212\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">2</span><span class=\"mo\" id=\"MathJax-Span-213\" style=\"font-family: MathJax_Main;\">}</span><span class=\"mo\" id=\"MathJax-Span-214\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mo\" id=\"MathJax-Span-215\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">{</span><span class=\"mn\" id=\"MathJax-Span-216\" style=\"font-family: MathJax_Main;\">1</span><span class=\"mo\" id=\"MathJax-Span-217\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mn\" id=\"MathJax-Span-218\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">3</span><span class=\"mo\" id=\"MathJax-Span-219\" style=\"font-family: MathJax_Main;\">}</span><span class=\"mo\" id=\"MathJax-Span-220\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mo\" id=\"MathJax-Span-221\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">{</span><span class=\"mn\" id=\"MathJax-Span-222\" style=\"font-family: MathJax_Main;\">1</span><span class=\"mo\" id=\"MathJax-Span-223\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mn\" id=\"MathJax-Span-224\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">4</span><span class=\"mo\" id=\"MathJax-Span-225\" style=\"font-family: MathJax_Main;\">}</span><span class=\"mo\" id=\"MathJax-Span-226\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mo\" id=\"MathJax-Span-227\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">{</span><span class=\"mn\" id=\"MathJax-Span-228\" style=\"font-family: MathJax_Main;\">1</span><span class=\"mo\" id=\"MathJax-Span-229\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mn\" id=\"MathJax-Span-230\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">5</span><span class=\"mo\" id=\"MathJax-Span-231\" style=\"font-family: MathJax_Main;\">}</span><span class=\"mo\" id=\"MathJax-Span-232\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mo\" id=\"MathJax-Span-233\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">{</span><span class=\"mn\" id=\"MathJax-Span-234\" style=\"font-family: MathJax_Main;\">2</span><span class=\"mo\" id=\"MathJax-Span-235\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mn\" id=\"MathJax-Span-236\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">3</span><span class=\"mo\" id=\"MathJax-Span-237\" style=\"font-family: MathJax_Main;\">}</span><span class=\"mo\" id=\"MathJax-Span-238\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mo\" id=\"MathJax-Span-239\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">{</span><span class=\"mn\" id=\"MathJax-Span-240\" style=\"font-family: MathJax_Main;\">2</span><span class=\"mo\" id=\"MathJax-Span-241\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mn\" id=\"MathJax-Span-242\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">4</span><span class=\"mo\" id=\"MathJax-Span-243\" style=\"font-family: MathJax_Main;\">}</span><span class=\"mo\" id=\"MathJax-Span-244\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mo\" id=\"MathJax-Span-245\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">{</span><span class=\"mn\" id=\"MathJax-Span-246\" style=\"font-family: MathJax_Main;\">2</span><span class=\"mo\" id=\"MathJax-Span-247\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mn\" id=\"MathJax-Span-248\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">5</span><span class=\"mo\" id=\"MathJax-Span-249\" style=\"font-family: MathJax_Main;\">}</span><span class=\"mo\" id=\"MathJax-Span-250\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mo\" id=\"MathJax-Span-251\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">{</span><span class=\"mn\" id=\"MathJax-Span-252\" style=\"font-family: MathJax_Main;\">3</span><span class=\"mo\" id=\"MathJax-Span-253\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mn\" id=\"MathJax-Span-254\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">4</span><span class=\"mo\" id=\"MathJax-Span-255\" style=\"font-family: MathJax_Main;\">}</span><span class=\"mo\" id=\"MathJax-Span-256\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mo\" id=\"MathJax-Span-257\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">{</span><span class=\"mn\" id=\"MathJax-Span-258\" style=\"font-family: MathJax_Main;\">3</span><span class=\"mo\" id=\"MathJax-Span-259\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mn\" id=\"MathJax-Span-260\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">5</span><span class=\"mo\" id=\"MathJax-Span-261\" style=\"font-family: MathJax_Main;\">}</span><span class=\"mo\" id=\"MathJax-Span-262\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mo\" id=\"MathJax-Span-263\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">{</span><span class=\"mn\" id=\"MathJax-Span-264\" style=\"font-family: MathJax_Main;\">4</span><span class=\"mo\" id=\"MathJax-Span-265\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mn\" id=\"MathJax-Span-266\" style=\"font-family: MathJax_Main; padding-left: 0.165em;\">5</span><span class=\"mo\" id=\"MathJax-Span-267\" style=\"font-family: MathJax_Main;\">}</span></span><span style=\"display: inline-block; width: 0px; height: 2.167em;\"></span></span></span><span style=\"display: inline-block; overflow: hidden; vertical-align: -0.425em; border-left: 0px solid; width: 0px; height: 1.432em;\"></span></span></nobr><span class=\"MJX_Assistive_MathML MJX_Assistive_MathML_Block\" role=\"presentation\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><mo fence=\"false\" stretchy=\"false\">{</mo><mn>1</mn><mo>,</mo><mn>2</mn><mo fence=\"false\" stretchy=\"false\">}</mo><mo>,</mo><mo fence=\"false\" stretchy=\"false\">{</mo><mn>1</mn><mo>,</mo><mn>3</mn><mo fence=\"false\" stretchy=\"false\">}</mo><mo>,</mo><mo fence=\"false\" stretchy=\"false\">{</mo><mn>1</mn><mo>,</mo><mn>4</mn><mo fence=\"false\" stretchy=\"false\">}</mo><mo>,</mo><mo fence=\"false\" stretchy=\"false\">{</mo><mn>1</mn><mo>,</mo><mn>5</mn><mo fence=\"false\" stretchy=\"false\">}</mo><mo>,</mo><mo fence=\"false\" stretchy=\"false\">{</mo><mn>2</mn><mo>,</mo><mn>3</mn><mo fence=\"false\" stretchy=\"false\">}</mo><mo>,</mo><mo fence=\"false\" stretchy=\"false\">{</mo><mn>2</mn><mo>,</mo><mn>4</mn><mo fence=\"false\" stretchy=\"false\">}</mo><mo>,</mo><mo fence=\"false\" stretchy=\"false\">{</mo><mn>2</mn><mo>,</mo><mn>5</mn><mo fence=\"false\" stretchy=\"false\">}</mo><mo>,</mo><mo fence=\"false\" stretchy=\"false\">{</mo><mn>3</mn><mo>,</mo><mn>4</mn><mo fence=\"false\" stretchy=\"false\">}</mo><mo>,</mo><mo fence=\"false\" stretchy=\"false\">{</mo><mn>3</mn><mo>,</mo><mn>5</mn><mo fence=\"false\" stretchy=\"false\">}</mo><mo>,</mo><mo fence=\"false\" stretchy=\"false\">{</mo><mn>4</mn><mo>,</mo><mn>5</mn><mo fence=\"false\" stretchy=\"false\">}</mo></math></span></span></div><script type=\"math/tex; mode=display\" id=\"MathJax-Element-31\">\\{1, 2\\}, \\{1, 3\\}, \\{1, 4\\}, \\{1, 5\\}, \\{2, 3\\}, \\{2, 4\\}, \\{2, 5\\}, \\{3, 4\\}, \\{3, 5\\}, \\{4, 5\\}</script></p>",
  "samples": [
    {
      "input": "51 72 53 1027 314151000 999",
      "output": "7\n10\n34\n605089068\n0"
    }
  ],
  "images": [],
  "url": "https://codeforces.com/contest/2125/problem/E",
  "tutorialHtml": "<div><div class=\"ttypography\"><div class=\"problem-statement\"><div><p>Let's first understand the following: what sets <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-937\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-938\">Q</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-154\">Q</script> can be obtained from some arrays <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-939\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-940\">a</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-155\">a</script> using the operations described in the problem statement.</p><p>To do this, let's take an arbitrary set <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-941\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-942\">Q</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-156\">Q</script> and try to reconstruct any array from it. We know that the initial sum <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-943\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-944\">s</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-157\">s</script> is at least <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-945\"><span class=\"MJXp-mo\" id=\"MJXp-Span-946\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-947\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-948\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-949\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-950\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-951\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-158\">\\max(Q) + 1</script>, because otherwise there would be a number <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-952\"><span class=\"MJXp-mo\" id=\"MJXp-Span-953\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mn\" id=\"MJXp-Span-954\">0</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-159\">\\le 0</script> in the array.</p><p>Let's try to reconstruct some array with a sum exactly equal to <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-955\"><span class=\"MJXp-mo\" id=\"MJXp-Span-956\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-957\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-958\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-959\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-960\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-961\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-160\">\\max(Q) + 1</script>. We will create an empty array <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-962\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-963\">a</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-161\">a</script> and then iterate through the elements of the set <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-964\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-965\">Q</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-162\">Q</script>, adding to <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-966\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-967\">a</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-163\">a</script> the numbers <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-968\"><span class=\"MJXp-mo\" id=\"MJXp-Span-969\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-970\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-971\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-972\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-973\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-974\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-975\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-976\">x</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-164\">\\max(Q) + 1 - x</script>, where <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-977\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-978\">x</span><span class=\"MJXp-mo\" id=\"MJXp-Span-979\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">∈</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-980\">Q</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-165\">x \\in Q</script>. Okay, now let's calculate the sum of all elements in our <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-981\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-982\">a</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-166\">a</script>, and there can be three scenarios:</p><ol> <li> The sum equals the initial <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-983\"><span class=\"MJXp-mo\" id=\"MJXp-Span-984\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-985\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-986\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-987\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-988\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-989\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-167\">\\max(Q) + 1</script>; in this case, nothing needs to be done. </li><li> The sum is less than <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-990\"><span class=\"MJXp-mo\" id=\"MJXp-Span-991\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-992\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-993\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-994\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-995\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-996\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-168\">\\max(Q) + 1</script>; in this case, we need to add several copies of some number from those currently in <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-997\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-998\">a</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-169\">a</script>. </li><li> The sum is greater than <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-999\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1000\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1001\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1002\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1003\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1004\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1005\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-170\">\\max(Q) + 1</script>; in this case, the original set <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1006\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1007\">Q</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-171\">Q</script> cannot be obtained using the operations described in the problem statement. </li></ol><p>For point two, it's easy: we notice that our <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1008\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1009\">a</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-172\">a</script> contains the number <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1010\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1011\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-173\">1</script>, so we can always make the sum of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1012\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1013\">a</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-174\">a</script> equal to <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1014\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1015\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1016\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1017\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1018\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1019\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1020\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-175\">\\max(Q) + 1</script> simply by adding several ones.</p><p>Now let's consider the third point: we were unable to create the array, assuming its sum is <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1021\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1022\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1023\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1024\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1025\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1026\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1027\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-176\">\\max(Q) + 1</script>, but could the initial sum have been greater? Let's try to assume that the initial sum was <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1028\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1029\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1030\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1031\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1032\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1033\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1034\">2</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-177\">\\max(Q) + 2</script>; however, we will again arrive at this third point. Let's try <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1035\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1036\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1037\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1038\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1039\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1040\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1041\">3</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-178\">\\max(Q) + 3</script>, and it won't work either, nor will any subsequent value. Why is that?</p><p>Let's express the sum of our current <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1042\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1043\">a</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-179\">a</script> under the assumption that it is <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1044\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1045\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1046\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1047\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1048\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1049\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1050\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-180\">\\max(Q) + 1</script> in a more mathematical form:</p><p><span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math MJXp-display\" id=\"MJXp-Span-1051\"><span class=\"MJXp-munderover\" id=\"MJXp-Span-1052\"><span class=\"\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1053\" style=\"margin-left: 0.111em; margin-right: 0.167em;\"><span class=\"MJXp-largeop\">∑</span></span></span><span class=\" MJXp-script\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-1054\" style=\"margin-left: 0px;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1055\">y</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1056\">∈</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1057\">Q</span></span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1058\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1059\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1060\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1061\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1062\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1063\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1064\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1065\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1066\">y</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1067\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1068\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1069\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1070\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1071\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1072\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1073\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1074\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1075\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1076\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1077\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1078\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1079\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1080\">Q</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1081\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1082\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1083\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-munderover\" id=\"MJXp-Span-1084\"><span class=\"\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1085\" style=\"margin-left: 0.111em; margin-right: 0.167em;\"><span class=\"MJXp-largeop\">∑</span></span></span><span class=\" MJXp-script\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-1086\" style=\"margin-left: 0px;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1087\">y</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1088\">∈</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1089\">Q</span></span></span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1090\">y</span></span></span><script type=\"math/tex; mode=display\" id=\"MathJax-Element-181\">\\sum_{y \\in Q} (\\max(Q) + 1 - y) = (\\max(Q) + 1) \\cdot |Q| - \\sum_{y \\in Q} y</script></p><p>Now let's write the sum if the assumption was <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1091\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1092\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1093\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1094\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1095\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1096\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1097\">2</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-182\">\\max(Q) + 2</script>:</p><p><span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math MJXp-display\" id=\"MJXp-Span-1098\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1099\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1100\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1101\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1102\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1103\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1104\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1105\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1106\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1107\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1108\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1109\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1110\">Q</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1111\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1112\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1113\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-munderover\" id=\"MJXp-Span-1114\"><span class=\"\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1115\" style=\"margin-left: 0.111em; margin-right: 0.167em;\"><span class=\"MJXp-largeop\">∑</span></span></span><span class=\" MJXp-script\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-1116\" style=\"margin-left: 0px;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1117\">y</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1118\">∈</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1119\">Q</span></span></span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1120\">y</span></span></span><script type=\"math/tex; mode=display\" id=\"MathJax-Element-183\">(\\max(Q) + 2) \\cdot |Q| - \\sum_{y \\in Q} y</script></p><p>Subtract one from the other:</p><p><span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math MJXp-display\" id=\"MJXp-Span-1121\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1122\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1123\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1124\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1125\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1126\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1127\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1128\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1129\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1130\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1131\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1132\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1133\">Q</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1134\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1135\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1136\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-munderover\" id=\"MJXp-Span-1137\"><span class=\"\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1138\" style=\"margin-left: 0.111em; margin-right: 0.167em;\"><span class=\"MJXp-largeop\">∑</span></span></span><span class=\" MJXp-script\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-1139\" style=\"margin-left: 0px;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1140\">y</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1141\">∈</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1142\">Q</span></span></span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1143\">y</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1144\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1145\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1146\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1147\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1148\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1149\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1150\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1151\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1152\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1153\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1154\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1155\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1156\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1157\">Q</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1158\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1159\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1160\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-munderover\" id=\"MJXp-Span-1161\"><span class=\"\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1162\" style=\"margin-left: 0.111em; margin-right: 0.167em;\"><span class=\"MJXp-largeop\">∑</span></span></span><span class=\" MJXp-script\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-1163\" style=\"margin-left: 0px;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1164\">y</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1165\">∈</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1166\">Q</span></span></span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1167\">y</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1168\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1169\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1170\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1171\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1172\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1173\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1174\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1175\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1176\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1177\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1178\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1179\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1180\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1181\">Q</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1182\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1183\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1184\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1185\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1186\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1187\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1188\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1189\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1190\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1191\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1192\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1193\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1194\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1195\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1196\">Q</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1197\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1198\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1199\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1200\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1201\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1202\">Q</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1203\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1204\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span></span></span><script type=\"math/tex; mode=display\" id=\"MathJax-Element-184\">(\\max(Q) + 2) \\cdot |Q| - \\sum_{y \\in Q} y - ((\\max(Q) + 1) \\cdot |Q| - \\sum_{y \\in Q} y) = (\\max(Q) + 2) \\cdot |Q| - (\\max(Q) + 1) \\cdot |Q| = |Q|</script></p><p>It turns out that when we increased our assumption by <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1205\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1206\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-185\">1</script>, the sum increased by the size of the set <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1207\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1208\">Q</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-186\">Q</script>, and since the size of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1209\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1210\">Q</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-187\">Q</script> is always at least one, we will never achieve equality between our assumption and the actual sum.</p><p>From this, we can conclude that for any set <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1211\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1212\">Q</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-188\">Q</script>, a necessary and sufficient condition for it to be a <span class=\"tex-font-style-it\">set of complementary sums</span> is:</p><p><span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math MJXp-display\" id=\"MJXp-Span-1213\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1214\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1215\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1216\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1217\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1218\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1219\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1220\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1221\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1222\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1223\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1224\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1225\">Q</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1226\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1227\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1228\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-munderover\" id=\"MJXp-Span-1229\"><span class=\"\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1230\" style=\"margin-left: 0.111em; margin-right: 0.167em;\"><span class=\"MJXp-largeop\">∑</span></span></span><span class=\" MJXp-script\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-1231\" style=\"margin-left: 0px;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1232\">y</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1233\">∈</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1234\">Q</span></span></span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1235\">y</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1236\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1237\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1238\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1239\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1240\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1241\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1242\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1243\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1244\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex; mode=display\" id=\"MathJax-Element-189\">(\\max(Q) + 1) \\cdot |Q| - \\sum_{y \\in Q} y \\le (\\max(Q) + 1)</script></p><p>or in a slightly different form:</p><p><span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math MJXp-display\" id=\"MJXp-Span-1245\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1246\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1247\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1248\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1249\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1250\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1251\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1252\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1253\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1254\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1255\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1256\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1257\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1258\">Q</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1259\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1260\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1261\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1262\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1263\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1264\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-munderover\" id=\"MJXp-Span-1265\"><span class=\"\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1266\" style=\"margin-left: 0.111em; margin-right: 0.167em;\"><span class=\"MJXp-largeop\">∑</span></span></span><span class=\" MJXp-script\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-1267\" style=\"margin-left: 0px;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1268\">y</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1269\">∈</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1270\">Q</span></span></span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1271\">y</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1272\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1273\">0</span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1274\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1275\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1276\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1277\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1278\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1279\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1280\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1281\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1282\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1283\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1284\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1285\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1286\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1287\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1288\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1289\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1290\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1291\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1292\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1293\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1294\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1295\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1296\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1297\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1298\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1299\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mspace\" id=\"MJXp-Span-1300\" style=\"width: 0.278em; height: 0em;\"></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1301\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1302\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1303\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex; mode=display\" id=\"MathJax-Element-190\">(\\max(Q) + 1) \\cdot (|Q| - 1) - \\sum_{y \\in Q} y \\le 0\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;\\;(1)</script></p><p>Now let's finally solve the problem itself. We would like to count such sets for which the above condition holds, and where <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1304\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-1305\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1306\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1307\">Q</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1308\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1309\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1310\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1311\">n</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-191\">|Q| = n</script> and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1312\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1313\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1314\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1315\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1316\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1317\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1318\">x</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-192\">\\max(Q) \\le x</script>.</p><p>To do this, we start with the set <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1319\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1320\" style=\"margin-left: 0em; margin-right: 0em;\">{</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1321\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1322\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1323\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1324\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1325\" style=\"margin-left: 0em; margin-right: 0.222em;\">.</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1326\" style=\"margin-left: 0em; margin-right: 0.222em;\">.</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1327\" style=\"margin-left: 0em; margin-right: 0.222em;\">.</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1328\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1329\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1330\" style=\"margin-left: 0em; margin-right: 0em;\">}</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-193\">\\{1, 2, ..., n\\}</script>; from it, we can obtain other sets using one simple operation: adding <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1331\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1332\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-194\">1</script> to the suffix of the elements of the set.</p><p>For each such operation, we define <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1333\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1334\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1335\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1336\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1337\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-195\">f(i)</script> as the change in the sum on the left side of condition <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1338\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1339\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1340\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1341\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-196\">(1)</script> if we added <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1342\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1343\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-197\">1</script> to the suffix of length <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1344\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1345\">i</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-198\">i</script>. We can easily calculate all <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1346\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1347\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1348\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1349\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1350\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-199\">f(i)</script>; they are equal to:</p><p><span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math MJXp-display\" id=\"MJXp-Span-1351\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1352\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1353\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1354\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1355\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1356\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1357\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1358\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1359\">2</span></span></span><script type=\"math/tex; mode=display\" id=\"MathJax-Element-200\">f(1) = n - 2</script> <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math MJXp-display\" id=\"MJXp-Span-1360\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1361\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1362\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1363\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1364\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1365\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1366\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1367\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1368\">3</span></span></span><script type=\"math/tex; mode=display\" id=\"MathJax-Element-201\">f(2) = n - 3</script> <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math MJXp-display\" id=\"MJXp-Span-1369\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1370\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1371\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1372\">3</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1373\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1374\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1375\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1376\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1377\">4</span></span></span><script type=\"math/tex; mode=display\" id=\"MathJax-Element-202\">f(3) = n - 4</script> <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math MJXp-display\" id=\"MJXp-Span-1378\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1379\" style=\"margin-left: 0em; margin-right: 0em;\">…</span></span></span><script type=\"math/tex; mode=display\" id=\"MathJax-Element-203\">\\dots</script> <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math MJXp-display\" id=\"MJXp-Span-1380\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1381\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1382\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1383\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1384\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1385\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1386\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1387\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1388\">0</span></span></span><script type=\"math/tex; mode=display\" id=\"MathJax-Element-204\">f(n - 1) = 0</script> <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math MJXp-display\" id=\"MJXp-Span-1389\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1390\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1391\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1392\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1393\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1394\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1395\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1396\">1</span></span></span><script type=\"math/tex; mode=display\" id=\"MathJax-Element-205\">f(n) = -1</script></p><p>Notice that the only operation that decreases the left side of condition <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1397\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1398\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1399\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1400\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-206\">(1)</script> is <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1401\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1402\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1403\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1404\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1405\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-207\">f(n)</script>. This operation adds <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1406\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1407\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-208\">1</script> to all elements of the set <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1408\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1409\">Q</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-209\">Q</script>.</p><p>So, we have the set <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1410\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1411\" style=\"margin-left: 0em; margin-right: 0em;\">{</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1412\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1413\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1414\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1415\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1416\" style=\"margin-left: 0em; margin-right: 0.222em;\">.</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1417\" style=\"margin-left: 0em; margin-right: 0.222em;\">.</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1418\" style=\"margin-left: 0em; margin-right: 0.222em;\">.</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1419\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1420\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1421\" style=\"margin-left: 0em; margin-right: 0em;\">}</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-210\">\\{1, 2, ..., n\\}</script>; it may violate condition <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1422\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1423\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1424\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1425\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-211\">(1)</script>, and the only thing we can do is apply several operations of adding <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1426\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1427\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-212\">1</script> to all elements to satisfy equality in <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1428\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1429\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1430\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1431\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-213\">(1)</script>. Let the number of such operations be <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1432\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1433\">s</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1434\">t</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-214\">st</script>.</p><p>Now let's perform some operations in such a way that this equality is maintained. Suppose we added <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1435\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1436\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-215\">1</script> to the suffix of length <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1437\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1438\">j</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-216\">j</script>; to maintain equality, we need to perform <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1439\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1440\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1441\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1442\">j</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1443\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-217\">f(j)</script> more additions of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1444\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1445\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-218\">1</script> to all of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1446\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1447\">Q</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-219\">Q</script>, while the maximum in <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1448\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1449\">Q</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-220\">Q</script> increases by <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1450\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1451\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1452\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1453\">j</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1454\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1455\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1456\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-221\">f(j) + 1</script>.</p><p>All these considerations lead us to such an implementation: let <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1457\"><span class=\"MJXp-mtext\" id=\"MJXp-Span-1458\">dp</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1459\" style=\"margin-left: 0em; margin-right: 0em;\">[</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1460\">i</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1461\" style=\"margin-left: 0em; margin-right: 0em;\">]</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-222\">\\text{dp}[i]</script> be the number of different <span class=\"tex-font-style-it\">sets of complementary sums</span> such that the maximum in these sets equals <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1462\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1463\">i</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-223\">i</script> and equality in condition <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1464\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1465\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1466\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1467\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-224\">(1)</script> holds; the initial state is <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1468\"><span class=\"MJXp-mtext\" id=\"MJXp-Span-1469\">dp</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1470\" style=\"margin-left: 0em; margin-right: 0em;\">[</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1471\">s</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1472\">t</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1473\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1474\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1475\" style=\"margin-left: 0em; margin-right: 0em;\">]</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1476\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1477\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-225\">\\text{dp}[st + n] = 1</script>.</p><p>We will recalculate this dynamic programming as in the knapsack problem. We can represent the operations of adding to the suffix of length <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1478\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1479\">j</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-226\">j</script> as an item with weight <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1480\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1481\">f</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1482\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1483\">j</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1484\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1485\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1486\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-227\">f(j) + 1</script> that we put into the knapsack:</p><pre class=\"lstlisting\"><code class=\"prettyprint prettyprinted\" style=\"\"><span class=\"kwd\">for</span><span class=\"pln\"> </span><span class=\"pun\">(</span><span class=\"kwd\">int</span><span class=\"pln\"> i </span><span class=\"pun\">=</span><span class=\"pln\"> </span><span class=\"lit\">0</span><span class=\"pun\">;</span><span class=\"pln\"> i </span><span class=\"pun\">&lt;</span><span class=\"pln\"> n </span><span class=\"pun\">-</span><span class=\"pln\"> </span><span class=\"lit\">1</span><span class=\"pun\">;</span><span class=\"pln\"> i</span><span class=\"pun\">++){</span><br><span class=\"pln\">    </span><span class=\"kwd\">for</span><span class=\"pln\"> </span><span class=\"pun\">(</span><span class=\"kwd\">int</span><span class=\"pln\"> j </span><span class=\"pun\">=</span><span class=\"pln\"> </span><span class=\"lit\">0</span><span class=\"pun\">;</span><span class=\"pln\"> j </span><span class=\"pun\">&lt;</span><span class=\"pln\"> x</span><span class=\"pun\">;</span><span class=\"pln\"> j</span><span class=\"pun\">++){</span><br><span class=\"pln\">        </span><span class=\"kwd\">if</span><span class=\"pln\"> </span><span class=\"pun\">(</span><span class=\"pln\">j </span><span class=\"pun\">+</span><span class=\"pln\"> </span><span class=\"pun\">(</span><span class=\"pln\">i </span><span class=\"pun\">+</span><span class=\"pln\"> </span><span class=\"lit\">1</span><span class=\"pun\">)</span><span class=\"pln\"> </span><span class=\"pun\">&lt;=</span><span class=\"pln\"> x</span><span class=\"pun\">){</span><br><span class=\"pln\">            dp</span><span class=\"pun\">[</span><span class=\"pln\">j </span><span class=\"pun\">+</span><span class=\"pln\"> </span><span class=\"pun\">(</span><span class=\"pln\">i </span><span class=\"pun\">+</span><span class=\"pln\"> </span><span class=\"lit\">1</span><span class=\"pun\">)]</span><span class=\"pln\"> </span><span class=\"pun\">=</span><span class=\"pln\"> </span><span class=\"pun\">(</span><span class=\"pln\">dp</span><span class=\"pun\">[</span><span class=\"pln\">j </span><span class=\"pun\">+</span><span class=\"pln\"> </span><span class=\"pun\">(</span><span class=\"pln\">i </span><span class=\"pun\">+</span><span class=\"pln\"> </span><span class=\"lit\">1</span><span class=\"pun\">)]</span><span class=\"pln\"> </span><span class=\"pun\">+</span><span class=\"pln\"> dp</span><span class=\"pun\">[</span><span class=\"pln\">j</span><span class=\"pun\">])</span><span class=\"pln\"> </span><span class=\"pun\">%</span><span class=\"pln\"> MOD</span><span class=\"pun\">;</span><br><span class=\"pln\">        </span><span class=\"pun\">}</span><br><span class=\"pln\">    </span><span class=\"pun\">}</span><br><span class=\"pun\">}</span><br></code></pre><p>Thus, we will count the <span class=\"tex-font-style-it\">sets of complementary sums</span> for which the inequality <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1487\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1488\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1489\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1490\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-228\">(1)</script> holds; all others can be obtained from those counted by performing <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1491\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1492\" style=\"margin-left: 0em; margin-right: 0.111em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1493\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-229\">+1</script> operations on the entire set. Specifically, we need to make one more pass over the dynamic programming, effectively turning it into a prefix sum array:</p><pre class=\"lstlisting\"><code class=\"prettyprint prettyprinted\" style=\"\"><span class=\"kwd\">for</span><span class=\"pln\"> </span><span class=\"pun\">(</span><span class=\"kwd\">int</span><span class=\"pln\"> i </span><span class=\"pun\">=</span><span class=\"pln\"> </span><span class=\"lit\">0</span><span class=\"pun\">;</span><span class=\"pln\"> i </span><span class=\"pun\">&lt;</span><span class=\"pln\"> x</span><span class=\"pun\">;</span><span class=\"pln\"> i</span><span class=\"pun\">++){</span><br><span class=\"pln\">    dp</span><span class=\"pun\">[</span><span class=\"pln\">i </span><span class=\"pun\">+</span><span class=\"pln\"> </span><span class=\"lit\">1</span><span class=\"pun\">]</span><span class=\"pln\"> </span><span class=\"pun\">=</span><span class=\"pln\"> </span><span class=\"pun\">(</span><span class=\"pln\">dp</span><span class=\"pun\">[</span><span class=\"pln\">i </span><span class=\"pun\">+</span><span class=\"pln\"> </span><span class=\"lit\">1</span><span class=\"pun\">]</span><span class=\"pln\"> </span><span class=\"pun\">+</span><span class=\"pln\"> dp</span><span class=\"pun\">[</span><span class=\"pln\">i</span><span class=\"pun\">])</span><span class=\"pln\"> </span><span class=\"pun\">%</span><span class=\"pln\"> MOD</span><span class=\"pun\">;</span><br><span class=\"pun\">}</span><br></code></pre><p>After this, the answer will simply be the sum of the entire array <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1494\"><span class=\"MJXp-mtext\" id=\"MJXp-Span-1495\">dp</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-230\">\\text{dp}</script>.</p><p>There remains one problem: the current solution works in <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1496\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1497\">O</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1498\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1499\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1500\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1501\">x</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1502\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-231\">O(n \\cdot x)</script> and does not fit within the time limits.</p><p>To optimize our solution, let's take a closer look at this inequality <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1503\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1504\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1505\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1506\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-232\">(1)</script>. If the sum of all elements in <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1507\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1508\">Q</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-233\">Q</script> is large, then theoretically <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1509\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1510\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1511\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1512\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1513\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-234\">\\max(Q)</script> is large and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1514\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-1515\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1516\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1517\">Q</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1518\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1519\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-235\">|Q|</script> is also large. What is the maximum possible sum of the elements in <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1520\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1521\">Q</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-236\">Q</script>?</p><p>If we take <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1522\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1523\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1524\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1525\" style=\"margin-left: 0em; margin-right: 0em;\">{</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1526\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1527\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1528\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1529\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1530\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1531\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1532\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1533\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1534\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1535\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1536\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1537\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1538\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1539\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1540\">n</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1541\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1542\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1543\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1544\" style=\"margin-left: 0em; margin-right: 0em;\">…</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1545\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1546\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1547\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1548\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1549\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1550\" style=\"margin-left: 0em; margin-right: 0em;\">}</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-237\">Q = \\{\\max(Q) - n + 1, \\max(Q) - n + 2, \\dots, \\max(Q)\\}</script>, we can easily derive the formula:</p><p><span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math MJXp-display\" id=\"MJXp-Span-1551\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1552\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-munderover\" id=\"MJXp-Span-1553\"><span class=\"\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1554\" style=\"margin-left: 0.111em; margin-right: 0.167em;\"><span class=\"MJXp-largeop\">∑</span></span></span><span class=\" MJXp-script\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-1555\" style=\"margin-left: 0px;\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1556\">y</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1557\">∈</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1558\">Q</span></span></span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1559\">y</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1560\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1561\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1562\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1563\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1564\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1565\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1566\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1567\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1568\">Q</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1569\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1570\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1571\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mfrac\" id=\"MJXp-Span-1572\" style=\"vertical-align: 0.25em;\"><span class=\"MJXp-box\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-1573\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1574\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1575\">Q</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1576\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1577\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1578\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1579\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1580\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1581\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1582\">Q</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1583\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1584\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1585\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1586\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1587\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span><span class=\"MJXp-box\" style=\"margin-top: -0.9em;\"><span class=\"MJXp-denom\"><span><span class=\"MJXp-rule\" style=\"height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;\"></span></span><span><span class=\"MJXp-box\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1588\">2</span></span></span></span></span></span></span></span><script type=\"math/tex; mode=display\" id=\"MathJax-Element-238\">\\max \\sum_{y \\in Q} y = \\max(Q) \\cdot |Q| - \\frac{|Q| \\cdot (|Q| - 1)}{2}</script></p><p>Substituting into condition <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1589\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1590\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1591\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1592\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-239\">(1)</script>:</p><p><span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math MJXp-display\" id=\"MJXp-Span-1593\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1594\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1595\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1596\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1597\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1598\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1599\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1600\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1601\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1602\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1603\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1604\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1605\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1606\">Q</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1607\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1608\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1609\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1610\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1611\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1612\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1613\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1614\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1615\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1616\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1617\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1618\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1619\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1620\">Q</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1621\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1622\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1623\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mfrac\" id=\"MJXp-Span-1624\" style=\"vertical-align: 0.25em;\"><span class=\"MJXp-box\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-1625\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1626\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1627\">Q</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1628\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1629\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1630\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1631\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1632\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1633\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1634\">Q</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1635\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1636\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1637\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1638\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1639\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span><span class=\"MJXp-box\" style=\"margin-top: -0.9em;\"><span class=\"MJXp-denom\"><span><span class=\"MJXp-rule\" style=\"height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;\"></span></span><span><span class=\"MJXp-box\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1640\">2</span></span></span></span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1641\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1642\">0</span></span></span><script type=\"math/tex; mode=display\" id=\"MathJax-Element-240\">(\\max(Q) + 1) \\cdot (|Q| - 1) - \\max(Q) \\cdot |Q| + \\frac{|Q| \\cdot (|Q| - 1)}{2} \\le 0</script></p><p>From here, we can express the relationship:</p><p><span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math MJXp-display\" id=\"MJXp-Span-1643\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1644\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">max</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1645\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1646\">Q</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1647\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1648\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≥</span><span class=\"MJXp-mfrac\" id=\"MJXp-Span-1649\" style=\"vertical-align: 0.25em;\"><span class=\"MJXp-box\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-1650\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1651\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1652\">Q</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1653\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1654\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1655\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1656\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1657\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1658\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1659\">Q</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1660\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1661\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1662\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1663\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1664\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span><span class=\"MJXp-box\" style=\"margin-top: -0.9em;\"><span class=\"MJXp-denom\"><span><span class=\"MJXp-rule\" style=\"height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;\"></span></span><span><span class=\"MJXp-box\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1665\">2</span></span></span></span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1666\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1667\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1668\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1669\">Q</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1670\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1671\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1672\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1673\">1</span></span></span><script type=\"math/tex; mode=display\" id=\"MathJax-Element-241\">\\max(Q) \\ge \\frac{|Q| \\cdot (|Q| - 1)}{2} + |Q| - 1</script></p><p>From this, we see that the maximum in <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1674\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1675\">Q</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-242\">Q</script> depends on the square of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1676\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-1677\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1678\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1679\">Q</span><span class=\"MJXp-mrow\" id=\"MJXp-Span-1680\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1681\" style=\"margin-left: 0.167em; margin-right: 0.167em;\">|</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-243\">|Q|</script>, which means that for large <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1682\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1683\">n</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-244\">n</script>, the answer is always <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1684\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1685\">0</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-245\">0</script>. In other cases, we can compute our dynamic programming in <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1686\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1687\">O</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1688\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1689\">x</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1690\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-msqrt\" id=\"MJXp-Span-1691\"><span class=\"MJXp-surd\"><span style=\"font-size: 134%; margin-top: 0.104em;\">√</span></span><span class=\"MJXp-root\"><span class=\"MJXp-rule\" style=\"border-top: 0.08em solid;\"></span><span class=\"MJXp-box\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1692\">x</span></span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1693\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-246\">O(x \\cdot \\sqrt{x})</script>.</p></div></div></div></div>"
}