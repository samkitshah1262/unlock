{
  "contestId": 2091,
  "index": "G",
  "title": "Gleb and Boating",
  "timeLimit": "3 seconds",
  "memoryLimit": "256 megabytes",
  "rating": 2300,
  "tags": [
    "brute force",
    "constructive algorithms",
    "data structures",
    "dp",
    "graphs",
    "greedy",
    "math",
    "number theory",
    "shortest paths"
  ],
  "statementHtml": "<p>Programmer Gleb frequently visits the IT Campus \"NEIMARK\" to participate in programming training sessions.</p>\n<p>Not only is Gleb a programmer, but he is also a renowned rower, so he covers part of his journey from home to the campus by kayaking along a river. Assume that Gleb starts at point <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1\"><span class=\"MJXp-mn\" id=\"MJXp-Span-2\">0</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-1-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-1\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-2\"><span class=\"mn\" id=\"MathJax-Span-3\" style=\"font-family: MathJax_Main;\">0</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-1\">0</script> and must reach point <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-3\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-4\">s</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-2-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-4\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-5\"><span class=\"mi\" id=\"MathJax-Span-6\" style=\"font-family: MathJax_Math-italic;\">s</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-2\">s</script> (i.e., travel <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-5\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-6\">s</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-3-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-7\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-8\"><span class=\"mi\" id=\"MathJax-Span-9\" style=\"font-family: MathJax_Math-italic;\">s</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-3\">s</script> meters along a straight line). To make the challenge tougher, Gleb has decided not to go outside the segment <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-7\"><span class=\"MJXp-mo\" id=\"MJXp-Span-8\" style=\"margin-left: 0em; margin-right: 0em;\">[</span><span class=\"MJXp-mn\" id=\"MJXp-Span-9\">0</span><span class=\"MJXp-mo\" id=\"MJXp-Span-10\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-11\">s</span><span class=\"MJXp-mo\" id=\"MJXp-Span-12\" style=\"margin-left: 0em; margin-right: 0em;\">]</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-4-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-10\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-11\"><span class=\"mo\" id=\"MathJax-Span-12\" style=\"font-family: MathJax_Main;\">[</span><span class=\"mn\" id=\"MathJax-Span-13\" style=\"font-family: MathJax_Main;\">0</span><span class=\"mo\" id=\"MathJax-Span-14\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mi\" id=\"MathJax-Span-15\" style=\"font-family: MathJax_Math-italic; padding-left: 0.165em;\">s</span><span class=\"mo\" id=\"MathJax-Span-16\" style=\"font-family: MathJax_Main;\">]</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-4\">[0, s]</script>. The dimensions of the kayak can be neglected.</p>\n<p>Gleb is a strong programmer! Initially, his power is <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-13\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-14\">k</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-5-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-17\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-18\"><span class=\"mi\" id=\"MathJax-Span-19\" style=\"font-family: MathJax_Math-italic;\">k</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-5\">k</script>. Gleb's power directly affects the movement of his kayak. If his current power is <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-15\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-16\">x</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-6-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-20\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-21\"><span class=\"mi\" id=\"MathJax-Span-22\" style=\"font-family: MathJax_Math-italic;\">x</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-6\">x</script>, then with one paddle stroke the kayak moves <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-17\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-18\">x</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-7-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-23\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-24\"><span class=\"mi\" id=\"MathJax-Span-25\" style=\"font-family: MathJax_Math-italic;\">x</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-7\">x</script> meters in the current direction. Gleb can turn around and continue moving in the opposite direction, but such a maneuver is quite challenging, and after each turn, his power decreases by <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-19\"><span class=\"MJXp-mn\" id=\"MJXp-Span-20\">1</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-8-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-26\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-27\"><span class=\"mn\" id=\"MathJax-Span-28\" style=\"font-family: MathJax_Main;\">1</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-8\">1</script>. The power can never become <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-21\"><span class=\"MJXp-mn\" id=\"MJXp-Span-22\">0</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-9-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-29\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-30\"><span class=\"mn\" id=\"MathJax-Span-31\" style=\"font-family: MathJax_Main;\">0</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-9\">0</script>&nbsp;— if his current power is <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-23\"><span class=\"MJXp-mn\" id=\"MJXp-Span-24\">1</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-10-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-32\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-33\"><span class=\"mn\" id=\"MathJax-Span-34\" style=\"font-family: MathJax_Main;\">1</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-10\">1</script>, then even after turning it remains <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-25\"><span class=\"MJXp-mn\" id=\"MJXp-Span-26\">1</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-11-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-35\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-36\"><span class=\"mn\" id=\"MathJax-Span-37\" style=\"font-family: MathJax_Main;\">1</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-11\">1</script>. Moreover, Gleb cannot make two turns in a row — after each turn, he must move at least once before making another turn. Similarly, Gleb cannot make a turn immediately after the start&nbsp;— he must first perform a paddle stroke.</p>\n<p>Gleb wants to reach point <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-27\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-28\">s</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-12-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-38\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-39\"><span class=\"mi\" id=\"MathJax-Span-40\" style=\"font-family: MathJax_Math-italic;\">s</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-12\">s</script> from point <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-29\"><span class=\"MJXp-mn\" id=\"MJXp-Span-30\">0</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-13-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-41\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-42\"><span class=\"mn\" id=\"MathJax-Span-43\" style=\"font-family: MathJax_Main;\">0</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-13\">0</script> without leaving the segment <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-31\"><span class=\"MJXp-mo\" id=\"MJXp-Span-32\" style=\"margin-left: 0em; margin-right: 0em;\">[</span><span class=\"MJXp-mn\" id=\"MJXp-Span-33\">0</span><span class=\"MJXp-mo\" id=\"MJXp-Span-34\" style=\"margin-left: 0em; margin-right: 0.222em;\">,</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-35\">s</span><span class=\"MJXp-mo\" id=\"MJXp-Span-36\" style=\"margin-left: 0em; margin-right: 0em;\">]</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-14-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-44\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-45\"><span class=\"mo\" id=\"MathJax-Span-46\" style=\"font-family: MathJax_Main;\">[</span><span class=\"mn\" id=\"MathJax-Span-47\" style=\"font-family: MathJax_Main;\">0</span><span class=\"mo\" id=\"MathJax-Span-48\" style=\"font-family: MathJax_Main;\">,</span><span class=\"mi\" id=\"MathJax-Span-49\" style=\"font-family: MathJax_Math-italic; padding-left: 0.165em;\">s</span><span class=\"mo\" id=\"MathJax-Span-50\" style=\"font-family: MathJax_Main;\">]</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-14\">[0, s]</script> and while preserving as much power as possible. Help him — given the value <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-37\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-38\">s</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-15-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-51\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-52\"><span class=\"mi\" id=\"MathJax-Span-53\" style=\"font-family: MathJax_Math-italic;\">s</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-15\">s</script> and his initial power <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-39\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-40\">k</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-16-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-54\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-55\"><span class=\"mi\" id=\"MathJax-Span-56\" style=\"font-family: MathJax_Math-italic;\">k</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-16\">k</script>, determine the maximum possible power he can have upon reaching point <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-41\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-42\">s</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-17-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-57\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-58\"><span class=\"mi\" id=\"MathJax-Span-59\" style=\"font-family: MathJax_Math-italic;\">s</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-17\">s</script>.</p>",
  "inputSpecHtml": "<p>Each test contains multiple test cases. The first line contains the number of test cases <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-43\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-44\">t</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-18-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-60\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-61\"><span class=\"mi\" id=\"MathJax-Span-62\" style=\"font-family: MathJax_Math-italic;\">t</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-18\">t</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-45\"><span class=\"MJXp-mn\" id=\"MJXp-Span-46\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-47\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-48\">t</span><span class=\"MJXp-mo\" id=\"MJXp-Span-49\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mn\" id=\"MJXp-Span-50\">100</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-19-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-63\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-64\"><span class=\"mn\" id=\"MathJax-Span-65\" style=\"font-family: MathJax_Main;\">1</span><span class=\"mo\" id=\"MathJax-Span-66\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"mi\" id=\"MathJax-Span-67\" style=\"font-family: MathJax_Math-italic; padding-left: 0.273em;\">t</span><span class=\"mo\" id=\"MathJax-Span-68\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"mn\" id=\"MathJax-Span-69\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">100</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-19\">1 \\leq t \\leq 100</script>). The description of the test cases follows.</p><p>A single line of each test case contains two integers <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-51\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-52\">s</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-20-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-70\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-71\"><span class=\"mi\" id=\"MathJax-Span-72\" style=\"font-family: MathJax_Math-italic;\">s</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-20\">s</script> and <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-53\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-54\">k</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-21-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-73\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-74\"><span class=\"mi\" id=\"MathJax-Span-75\" style=\"font-family: MathJax_Math-italic;\">k</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-21\">k</script> (<span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-55\"><span class=\"MJXp-mn\" id=\"MJXp-Span-56\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-57\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-58\">s</span><span class=\"MJXp-mo\" id=\"MJXp-Span-59\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-60\"><span class=\"MJXp-mn\" id=\"MJXp-Span-61\" style=\"margin-right: 0.05em;\">10</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-62\" style=\"vertical-align: 0.5em;\">9</span></span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-22-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-76\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-77\"><span class=\"mn\" id=\"MathJax-Span-78\" style=\"font-family: MathJax_Main;\">1</span><span class=\"mo\" id=\"MathJax-Span-79\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"mi\" id=\"MathJax-Span-80\" style=\"font-family: MathJax_Math-italic; padding-left: 0.273em;\">s</span><span class=\"mo\" id=\"MathJax-Span-81\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"msubsup\" id=\"MathJax-Span-82\" style=\"padding-left: 0.273em;\"><span style=\"display: inline-block; position: relative; width: 1.41em; height: 0px;\"><span style=\"position: absolute; clip: rect(3.195em, 1000.98em, 4.169em, -999.997em); top: -4.002em; left: 0em;\"><span class=\"mn\" id=\"MathJax-Span-83\" style=\"font-family: MathJax_Main;\">10</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span><span style=\"position: absolute; top: -4.38em; left: 0.977em;\"><span class=\"mn\" id=\"MathJax-Span-84\" style=\"font-size: 70.7%; font-family: MathJax_Main;\">9</span><span style=\"display: inline-block; width: 0px; height: 4.007em;\"></span></span></span></span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-22\">1 \\leq s \\leq 10^9</script>, <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-63\"><span class=\"MJXp-mn\" id=\"MJXp-Span-64\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-65\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-66\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-67\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mn\" id=\"MJXp-Span-68\">1000</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-23-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-85\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-86\"><span class=\"mn\" id=\"MathJax-Span-87\" style=\"font-family: MathJax_Main;\">1</span><span class=\"mo\" id=\"MathJax-Span-88\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"mi\" id=\"MathJax-Span-89\" style=\"font-family: MathJax_Math-italic; padding-left: 0.273em;\">k</span><span class=\"mo\" id=\"MathJax-Span-90\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"mn\" id=\"MathJax-Span-91\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">1000</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-23\">1 \\leq k \\leq 1000</script>, <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-69\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-70\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-71\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-72\">s</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-24-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-92\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-93\"><span class=\"mi\" id=\"MathJax-Span-94\" style=\"font-family: MathJax_Math-italic;\">k</span><span class=\"mo\" id=\"MathJax-Span-95\" style=\"font-family: MathJax_Main; padding-left: 0.273em;\">≤</span><span class=\"mi\" id=\"MathJax-Span-96\" style=\"font-family: MathJax_Math-italic; padding-left: 0.273em;\">s</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-24\">k \\leq s</script>).</p><p>It is guaranteed that the sum of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-73\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-74\">k</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-25-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-97\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-98\"><span class=\"mi\" id=\"MathJax-Span-99\" style=\"font-family: MathJax_Math-italic;\">k</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-25\">k</script> over all test cases does not exceed <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-75\"><span class=\"MJXp-mn\" id=\"MJXp-Span-76\">2000</span></span></span><span class=\"MathJax MathJax_Processed\" id=\"MathJax-Element-26-Frame\" tabindex=\"0\" style=\"\"><nobr><span class=\"math\" id=\"MathJax-Span-100\"><span style=\"display: inline-block; position: relative; width: 0em; height: 0px; font-size: 132%;\"><span style=\"position: absolute;\"><span class=\"mrow\" id=\"MathJax-Span-101\"><span class=\"mn\" id=\"MathJax-Span-102\" style=\"font-family: MathJax_Main;\">2000</span></span></span></span></span></nobr></span><script type=\"math/tex\" id=\"MathJax-Element-26\">2000</script>.</p>",
  "outputSpecHtml": "<p>For each test case, output the maximum possible power Gleb can have at the end of his journey.</p>",
  "noteHtml": "<p>One of the variants of Gleb's movement in the first example:</p><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/d294ed4d443f5a3be272b0d3423cf42d131bbc71.png\" style=\"zoom: 75.0%;max-width: 100.0%;max-height: 100.0%;\"> </center>",
  "samples": [
    {
      "input": "89 610 724 2123456 7776 499 610 499 4",
      "output": "4\n1\n2\n775\n1\n4\n2\n2"
    }
  ],
  "images": [
    "images/G_1.png"
  ],
  "url": "https://codeforces.com/contest/2091/problem/G",
  "tutorialHtml": "<div><div class=\"ttypography\"><div class=\"problem-statement\"><div><p>Let's consider a simple solution — we will iterate through Gleb's current strength <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1734\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1735\">t</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-239\">t</script>, from <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1736\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1737\">k</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-240\">k</script> to <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1738\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1739\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-241\">1</script>, and check which positions can be reached using that strength value. For each fixed <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1740\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1741\">t</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-242\">t</script>, the set of positions can be obtained by any search method, for example, breadth-first search. Next, let's assume that Gleb has turned around and we will start a search from all reached positions with strength <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1742\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1743\">t</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1744\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1745\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-243\">t-1</script> and in the opposite direction. For one strength value, such a search works in the worst case in <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1746\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1747\">O</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1748\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1749\">s</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1750\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-244\">O(s)</script>, so the overall complexity of the algorithm will be <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1751\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1752\">O</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1753\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1754\">s</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1755\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1756\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1757\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-245\">O(s \\cdot k)</script> (which, of course, will take too long) and will require <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1758\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1759\">O</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1760\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1761\">s</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1762\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-246\">O(s)</script> memory.</p><p>Now we need to speed up this solution. First, we need to solve the problem for very large values of <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1763\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1764\">s</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-247\">s</script>. It is not difficult to prove that if <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1765\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1766\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1767\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≥</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1768\">3</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-248\">k \\geq 3</script>, then for <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1769\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1770\">s</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1771\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">&gt;</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-1772\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1773\" style=\"margin-right: 0.05em;\">k</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-1774\" style=\"vertical-align: 0.5em;\">2</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-249\">s > k^2</script>, the answer to the problem will be <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1775\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1776\">k</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-250\">k</script> or <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1777\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1778\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1779\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1780\">2</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-251\">k-2</script>. Indeed, let's assume that Gleb with strength <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1781\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1782\">k</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-252\">k</script> has reached the maximum possible position on the segment. Next, he turns around, takes one step back (with strength <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1783\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1784\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1785\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1786\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-253\">k-1</script>). Let's find the position where Gleb will end up if he turns around and moves to the right with strength <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1787\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1788\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1789\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1790\">2</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-254\">k-2</script> until he crosses the boundary <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1791\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1792\">s</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-255\">s</script> (including the assumption that he can swim beyond <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1793\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1794\">s</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-256\">s</script>). Let this position be <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1795\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1796\">s</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1797\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1798\">r</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-257\">s + r</script>, where <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1799\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1800\">0</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1801\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1802\">r</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1803\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">&lt;</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1804\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1805\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1806\">2</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-258\">0 \\leq r < k - 2</script>. Then, Gleb would need to take another <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1807\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1808\">r</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-259\">r</script> steps to the left with strength <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1809\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1810\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1811\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1812\">1</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-260\">k-1</script> before the second turn; in this case, he will end up exactly at point <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1813\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1814\">s</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-261\">s</script> with strength <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1815\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1816\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1817\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1818\">2</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-262\">k-2</script>. For this maneuver, he will need a distance of at most <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1819\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1820\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1821\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1822\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1823\">r</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1824\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1825\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1826\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1827\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1828\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1829\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1830\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1831\">1</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1832\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1833\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">&lt;</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1834\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1835\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">+</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1836\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1837\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1838\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1839\">1</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-1840\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1841\" style=\"margin-left: 0em; margin-right: 0.05em;\">)</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-1842\" style=\"vertical-align: 0.5em;\">2</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1843\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">&lt;</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-1844\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1845\" style=\"margin-right: 0.05em;\">k</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-1846\" style=\"vertical-align: 0.5em;\">2</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-263\">k + (r+1) \\cdot (k-1) < k + (k-1)^2 < k^2</script>.</p><p>Thus, for <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1847\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1848\">s</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1849\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≥</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-1850\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1851\" style=\"margin-right: 0.05em;\">k</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-1852\" style=\"vertical-align: 0.5em;\">2</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-264\">s \\geq k^2</script>, we can obtain either the answer <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1853\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1854\">k</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-265\">k</script> (which can be checked by simple division) or the answer <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1855\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1856\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1857\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1858\">2</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-266\">k-2</script> (we print it if the answer <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1859\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1860\">k</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-267\">k</script> is not possible). It is also easy to see that this statement remains true when starting from any point from <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1861\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1862\">0</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-268\">0</script> to <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1863\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1864\">s</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-269\">s</script>.</p><p>Next, we will assume that <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1865\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1866\">s</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1867\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-1868\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1869\" style=\"margin-right: 0.05em;\">k</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-1870\" style=\"vertical-align: 0.5em;\">2</span></span></span></span><script type=\"math/tex\" id=\"MathJax-Element-270\">s \\leq k^2</script>. Let the answer to the problem be <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1871\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1872\">a</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1873\">n</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1874\">s</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-271\">ans</script>. Then, if in the algorithm described above we stop the iteration upon reaching point <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1875\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1876\">s</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-272\">s</script> for some <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1877\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1878\">t</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-273\">t</script>, the total running time will be <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1879\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1880\">O</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1881\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1882\">s</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1883\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1884\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1885\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1886\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1887\">a</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1888\">n</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1889\">s</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1890\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1891\" style=\"margin-left: 0em; margin-right: 0em;\">)</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-274\">O(s \\cdot (k - ans))</script>. Considering the above, we can assert that <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1892\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1893\">a</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1894\">n</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1895\">s</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1896\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≥</span><span class=\"MJXp-msqrt\" id=\"MJXp-Span-1897\"><span class=\"MJXp-surd\"><span style=\"font-size: 134%; margin-top: 0.104em;\">√</span></span><span class=\"MJXp-root\"><span class=\"MJXp-rule\" style=\"border-top: 0.08em solid;\"></span><span class=\"MJXp-box\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1898\">s</span></span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1899\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1900\">3</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-275\">ans \\geq \\sqrt{s} - 3</script> (due to the even number of turns, the answer <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1901\"><span class=\"MJXp-msqrt\" id=\"MJXp-Span-1902\"><span class=\"MJXp-surd\"><span style=\"font-size: 134%; margin-top: 0.104em;\">√</span></span><span class=\"MJXp-root\"><span class=\"MJXp-rule\" style=\"border-top: 0.08em solid;\"></span><span class=\"MJXp-box\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1903\">s</span></span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1904\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1905\">2</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-276\">\\sqrt{s} - 2</script> may not be suitable). Then the running time of the algorithm does not exceed <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math MJXp-display\" id=\"MJXp-Span-1906\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1907\">T</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1908\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1909\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1910\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1911\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-msqrt\" id=\"MJXp-Span-1912\"><span class=\"MJXp-surd\"><span style=\"font-size: 134%; margin-top: 0.104em;\">√</span></span><span class=\"MJXp-root\"><span class=\"MJXp-rule\" style=\"border-top: 0.08em solid;\"></span><span class=\"MJXp-box\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1913\">s</span></span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1914\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1915\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1916\">s</span></span></span><script type=\"math/tex; mode=display\" id=\"MathJax-Element-277\">T = (k - \\sqrt{s}) \\cdot s</script></p><p>We can rewrite this value as follows: <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math MJXp-display\" id=\"MJXp-Span-1917\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1918\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1919\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1920\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-msqrt\" id=\"MJXp-Span-1921\"><span class=\"MJXp-surd\"><span style=\"font-size: 134%; margin-top: 0.104em;\">√</span></span><span class=\"MJXp-root\"><span class=\"MJXp-rule\" style=\"border-top: 0.08em solid;\"></span><span class=\"MJXp-box\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1922\">s</span></span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1923\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1924\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1925\">s</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1926\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1927\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1928\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1929\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-msqrt\" id=\"MJXp-Span-1930\"><span class=\"MJXp-surd\"><span style=\"font-size: 134%; margin-top: 0.104em;\">√</span></span><span class=\"MJXp-root\"><span class=\"MJXp-rule\" style=\"border-top: 0.08em solid;\"></span><span class=\"MJXp-box\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1931\">s</span></span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1932\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1933\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1934\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-msqrt\" id=\"MJXp-Span-1935\"><span class=\"MJXp-surd\"><span style=\"font-size: 134%; margin-top: 0.104em;\">√</span></span><span class=\"MJXp-root\"><span class=\"MJXp-rule\" style=\"border-top: 0.08em solid;\"></span><span class=\"MJXp-box\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1936\">s</span></span></span></span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-1937\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1938\" style=\"margin-left: 0em; margin-right: 0.05em;\">)</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-1939\" style=\"vertical-align: 0.5em;\">2</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1940\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mfrac\" id=\"MJXp-Span-1941\" style=\"vertical-align: 0.25em;\"><span class=\"MJXp-box\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1942\" style=\"margin-left: 0em; margin-right: 0em;\">(</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1943\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1944\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1945\">k</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1946\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">−</span><span class=\"MJXp-mn\" id=\"MJXp-Span-1947\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1948\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-msqrt\" id=\"MJXp-Span-1949\"><span class=\"MJXp-surd\"><span style=\"font-size: 134%; margin-top: 0.104em;\">√</span></span><span class=\"MJXp-root\"><span class=\"MJXp-rule\" style=\"border-top: 0.08em solid;\"></span><span class=\"MJXp-box\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1950\">s</span></span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1951\" style=\"margin-left: 0em; margin-right: 0em;\">)</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1952\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-msqrt\" id=\"MJXp-Span-1953\"><span class=\"MJXp-surd\"><span style=\"font-size: 134%; margin-top: 0.104em;\">√</span></span><span class=\"MJXp-root\"><span class=\"MJXp-rule\" style=\"border-top: 0.08em solid;\"></span><span class=\"MJXp-box\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1954\">s</span></span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1955\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-msqrt\" id=\"MJXp-Span-1956\"><span class=\"MJXp-surd\"><span style=\"font-size: 134%; margin-top: 0.104em;\">√</span></span><span class=\"MJXp-root\"><span class=\"MJXp-rule\" style=\"border-top: 0.08em solid;\"></span><span class=\"MJXp-box\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1957\">s</span></span></span></span></span><span class=\"MJXp-box\" style=\"margin-top: -0.9em;\"><span class=\"MJXp-denom\"><span><span class=\"MJXp-rule\" style=\"height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;\"></span></span><span><span class=\"MJXp-box\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1958\">2</span></span></span></span></span></span></span></span><script type=\"math/tex; mode=display\" id=\"MathJax-Element-278\">(k - \\sqrt{s}) \\cdot s = (k - \\sqrt{s}) \\cdot (\\sqrt{s})^2 = \\frac{(2 \\cdot k - 2 \\cdot \\sqrt{s}) \\cdot \\sqrt{s} \\cdot \\sqrt{s}}{2}</script></p><p>Next, we note that the sum of the factors in the numerator equals <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math\" id=\"MJXp-Span-1959\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1960\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1961\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1962\">k</span></span></span><script type=\"math/tex\" id=\"MathJax-Element-279\">2 \\cdot k</script>, meaning that the maximum value is achieved when they are equal (see, for example, <a href=\"https://codeforces.com/r/karamata-inequality\">Karamata's inequality</a>). We obtain that: <span class=\"MathJax_Preview\" style=\"color: inherit;\"><span class=\"MJXp-math MJXp-display\" id=\"MJXp-Span-1963\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1964\">T</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1965\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">≤</span><span class=\"MJXp-mfrac\" id=\"MJXp-Span-1966\" style=\"vertical-align: 0.25em;\"><span class=\"MJXp-box\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1967\">1</span></span><span class=\"MJXp-box\" style=\"margin-top: -0.9em;\"><span class=\"MJXp-denom\"><span><span class=\"MJXp-rule\" style=\"height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;\"></span></span><span><span class=\"MJXp-box\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1968\">2</span></span></span></span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1969\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-1970\"><span class=\"MJXp-mrow\" id=\"MJXp-Span-1971\" style=\"margin-right: 0.05em;\"><span class=\"MJXp-mo\" id=\"MJXp-Span-1972\" style=\"margin-left: 0em; margin-right: 0em; vertical-align: -0.5em;\"><span class=\"MJXp-right MJXp-scale5\" style=\"font-size: 3em; margin-left: -0.13em;\">(</span></span><span class=\"MJXp-mfrac\" id=\"MJXp-Span-1973\" style=\"vertical-align: 0.25em;\"><span class=\"MJXp-box\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1974\">2</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1975\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1976\">k</span></span><span class=\"MJXp-box\" style=\"margin-top: -0.9em;\"><span class=\"MJXp-denom\"><span><span class=\"MJXp-rule\" style=\"height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;\"></span></span><span><span class=\"MJXp-box\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1977\">3</span></span></span></span></span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1978\" style=\"margin-left: 0em; margin-right: 0em; vertical-align: -0.5em;\"><span class=\"MJXp-right MJXp-scale5\" style=\"font-size: 3em; margin-left: -0.13em;\">)</span></span></span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-1979\" style=\"vertical-align: 1.2em;\">3</span></span><span class=\"MJXp-mo\" id=\"MJXp-Span-1980\" style=\"margin-left: 0.333em; margin-right: 0.333em;\">=</span><span class=\"MJXp-mfrac\" id=\"MJXp-Span-1981\" style=\"vertical-align: 0.25em;\"><span class=\"MJXp-box\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1982\">4</span><span class=\"MJXp-mo\" id=\"MJXp-Span-1983\" style=\"margin-left: 0.267em; margin-right: 0.267em;\">⋅</span><span class=\"MJXp-msubsup\" id=\"MJXp-Span-1984\"><span class=\"MJXp-mi MJXp-italic\" id=\"MJXp-Span-1985\" style=\"margin-right: 0.05em;\">k</span><span class=\"MJXp-mn MJXp-script\" id=\"MJXp-Span-1986\" style=\"vertical-align: 0.5em;\">3</span></span></span><span class=\"MJXp-box\" style=\"margin-top: -0.9em;\"><span class=\"MJXp-denom\"><span><span class=\"MJXp-rule\" style=\"height: 1em; border-top: none; border-bottom: 1px solid; margin: 0.1em 0px;\"></span></span><span><span class=\"MJXp-box\"><span class=\"MJXp-mn\" id=\"MJXp-Span-1987\">27</span></span></span></span></span></span></span></span><script type=\"math/tex; mode=display\" id=\"MathJax-Element-280\">T \\leq \\frac{1}{2} \\cdot \\left(\\frac{2 \\cdot k}{3}\\right)^3 = \\frac{4 \\cdot k^3}{27}</script></p><p>which is already fast enough to pass all tests.</p><p>In practice, even in the worst case, the specified algorithm requires even fewer operations and comfortably fits within the time limits.</p></div></div></div></div>"
}